(self.webpackChunkquotes_app=self.webpackChunkquotes_app||[]).push([[179],{2011:(ct,be,F)=>{"use strict";F.d(be,{hO:()=>qe,xv:()=>le,Dh:()=>de,GT:()=>ce,cc:()=>he,on:()=>H,pX:()=>J});var w=F(5e3),m=F(127),V=F(5813);ct=F.hmd(ct);const se=["ngOnDestroy"],J=(Ie,We,Ge,Me={})=>new Proxy(Ie,{get:(Ae,Se)=>Ge.runOutsideAngular(()=>{var Je;if(Ie[Se])return(null===(Je=null==Me?void 0:Me.spy)||void 0===Je?void 0:Je.get)&&Me.spy.get(Se,Ie[Se]),Ie[Se];if(se.indexOf(Se)>-1)return()=>{};const Ye=We.toPromise().then(oe=>{const X=oe&&oe[Se];return"function"==typeof X?X.bind(oe):X&&X.then?X.then(ue=>Ge.run(()=>ue)):Ge.run(()=>X)});return new Proxy(()=>{},{get:(oe,X)=>Ye[X],apply:(oe,X,ue)=>Ye.then(we=>{var fe;const Le=we&&we(...ue);return(null===(fe=null==Me?void 0:Me.spy)||void 0===fe?void 0:fe.apply)&&Me.spy.apply(Se,ue,Le),Le})})})}),ce=(Ie,We)=>{We.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Me=>{Object.defineProperty(Ie.prototype,Me,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Me))})})};class ae{constructor(We){return We}}const de=new w.InjectionToken("angularfire2.app.options"),le=new w.InjectionToken("angularfire2.app.name");function H(Ie,We,Ge){const Ae="object"==typeof Ge&&Ge||{};Ae.name=Ae.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Je=m.Z.apps.filter(Ye=>Ye&&Ye.name===Ae.name)[0]||We.runOutsideAngular(()=>m.Z.initializeApp(Ie,Ae));try{JSON.stringify(Ie)!==JSON.stringify(Je.options)&&G("error",`${Je.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ye){}return new ae(Je)}const G=(Ie,...We)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Ie](...We)},Y={provide:ae,useFactory:H,deps:[de,w.NgZone,[new w.Optional,le]]};let qe=(()=>{class Ie{constructor(Ge){m.Z.registerVersion("angularfire",V.q4.full,"core"),m.Z.registerVersion("angularfire",V.q4.full,"app-compat"),m.Z.registerVersion("angular",w.VERSION.full,Ge.toString())}static initializeApp(Ge,Me){return{ngModule:Ie,providers:[{provide:de,useValue:Ge},{provide:le,useValue:Me}]}}}return Ie.\u0275fac=function(Ge){return new(Ge||Ie)(w.\u0275\u0275inject(w.PLATFORM_ID))},Ie.\u0275mod=w.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=w.\u0275\u0275defineInjector({providers:[Y]}),Ie})();function he(Ie,We,Ge,Me,Ae){const[,Se,Je]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===Ie)||[];if(Se)return function _e(Ie,We){try{return Ie.toString()===We.toString()}catch(Ge){return Ie===We}}(Ae,Je)||(re("error",`${We} was already initialized on the ${Ge} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),re("warn",{is:Ae,was:Je})),Se;{const Ye=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Ye,Ae]),Ye}}const xe=!!ct.hot,re=(Ie,...We)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Ie](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ct,be,F)=>{"use strict";F.d(be,{q4:()=>el,iC:()=>cu,HU:()=>nl,vb:()=>Sd,JM:()=>$o});var w=F(5e3),m=F(5867),V=F(5861),se=F(9681),J=F(2090),ce=F(4859),ae=F(1877);const de="@firebase/installations",G="w:0.5.7",Y="FIS_v2",Ie=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(C){return C instanceof J.ZR&&C.code.includes("request-failed")}function Ge({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:ue(C.expiresIn),creationTime:Date.now()}}function Ae(C,A){return Se.apply(this,arguments)}function Se(){return(Se=(0,V.Z)(function*(C,A){const B=(yield A.json()).error;return Ie.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ye(C,{refreshToken:A}){const O=Je(C);return O.append("Authorization",function we(C){return`${Y} ${C}`}(A)),O}function oe(C){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(C){const A=yield C();return A.status>=500&&A.status<600?C():A})).apply(this,arguments)}function ue(C){return Number(C.replace("s","000"))}function fe(C,A){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},{fid:O}){const B=Ge(C),ee=Je(C),ie=A.getImmediate({optional:!0});if(ie){const Tt=yield ie.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const it={method:"POST",headers:ee,body:JSON.stringify({fid:O,authVersion:Y,appId:C.appId,sdkVersion:G})},ut=yield oe(()=>fetch(B,it));if(ut.ok){const Tt=yield ut.json();return{fid:Tt.fid||O,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Me(Tt.authToken)}}throw yield Ae("Create Installation",ut)})).apply(this,arguments)}function pe(C){return new Promise(A=>{setTimeout(A,C)})}const Yt=/^[cdef][\w-]{21}$/;function ft(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Et(C){return function ot(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Yt.test(O)?O:""}catch(C){return""}}function on(C){return`${C.appName}!${C.appId}`}const ln=new Map;function di(C,A){const O=on(C);en(O,A),function jt(C,A){const O=function zr(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=C=>{en(C.data.key,C.data.fid)}),or}();O&&O.postMessage({key:C,fid:A}),function Zi(){0===ln.size&&or&&(or.close(),or=null)}()}(O,A)}function en(C,A){const O=ln.get(C);if(O)for(const B of O)B(A)}let or=null;const gr="firebase-installations-store";let Qi=null;function Yi(){return Qi||(Qi=(0,J.X3)("firebase-installations-database",1,(C,A)=>{0===A&&C.createObjectStore(gr)})),Qi}function mt(C,A){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,V.Z)(function*(C,A){const O=on(C),ee=(yield Yi()).transaction(gr,"readwrite"),ie=ee.objectStore(gr),Ve=yield ie.get(O);return yield ie.put(A,O),yield ee.complete,(!Ve||Ve.fid!==A.fid)&&di(C,A.fid),A})).apply(this,arguments)}function mr(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,V.Z)(function*(C){const A=on(C),B=(yield Yi()).transaction(gr,"readwrite");yield B.objectStore(gr).delete(A),yield B.complete})).apply(this,arguments)}function Zr(C,A){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,V.Z)(function*(C,A){const O=on(C),ee=(yield Yi()).transaction(gr,"readwrite"),ie=ee.objectStore(gr),Ve=yield ie.get(O),it=A(Ve);return void 0===it?yield ie.delete(O):yield ie.put(it,O),yield ee.complete,it&&(!Ve||Ve.fid!==it.fid)&&di(C,it.fid),it})).apply(this,arguments)}function En(C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,V.Z)(function*(C){let A;const O=yield Zr(C.appConfig,B=>{const ee=In(B),ie=Qr(C,ee);return A=ie.registrationPromise,ie.installationEntry});return""===O.fid?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}})).apply(this,arguments)}function In(C){return zt(C||{fid:ft(),registrationStatus:0})}function Qr(C,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ie.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function Wt(C,A){return dt.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:wt(C)}:{installationEntry:A}}function dt(){return(dt=(0,V.Z)(function*(C,A){try{const O=yield fe(C,A);return mt(C.appConfig,O)}catch(O){throw We(O)&&409===O.customData.serverCode?yield mr(C.appConfig):yield mt(C.appConfig,{fid:A.fid,registrationStatus:0}),O}})).apply(this,arguments)}function wt(C){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,V.Z)(function*(C){let A=yield Ji(C.appConfig);for(;1===A.registrationStatus;)yield pe(100),A=yield Ji(C.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield En(C);return B||O}return A})).apply(this,arguments)}function Ji(C){return Zr(C,A=>{if(!A)throw Ie.create("installation-not-found");return zt(A)})}function zt(C){return function Js(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Cr(C,A){return br.apply(this,arguments)}function br(){return(br=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},O){const B=yt(C,O),ee=Ye(C,O),ie=A.getImmediate({optional:!0});if(ie){const Tt=yield ie.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const it={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:G,appId:C.appId}})},ut=yield oe(()=>fetch(B,it));if(ut.ok)return Me(yield ut.json());throw yield Ae("Generate Auth Token",ut)})).apply(this,arguments)}function yt(C,{fid:A}){return`${Ge(C)}/${A}/authTokens:generate`}function Tr(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,V.Z)(function*(C,A=!1){let O;const B=yield Zr(C.appConfig,ie=>{if(!Vt(ie))throw Ie.create("not-registered");const Ve=ie.authToken;if(!A&&W(Ve))return ie;if(1===Ve.requestStatus)return O=rt(C,A),ie;{if(!navigator.onLine)throw Ie.create("app-offline");const it=K(ie);return O=vt(C,it),it}});return O?yield O:B.authToken})).apply(this,arguments)}function rt(C,A){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,V.Z)(function*(C,A){let O=yield at(C.appConfig);for(;1===O.authToken.requestStatus;)yield pe(100),O=yield at(C.appConfig);const B=O.authToken;return 0===B.requestStatus?Tr(C,A):B})).apply(this,arguments)}function at(C){return Zr(C,A=>{if(!Vt(A))throw Ie.create("not-registered");return function Ee(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function vt(C,A){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,V.Z)(function*(C,A){try{const O=yield Cr(C,A),B=Object.assign(Object.assign({},A),{authToken:O});return yield mt(C.appConfig,B),O}catch(O){if(!We(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield mt(C.appConfig,B)}else yield mr(C.appConfig);throw O}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function W(C){return 2===C.requestStatus&&!function $(C){const A=Date.now();return A<C.creationTime||C.creationTime+C.expiresIn<A+36e5}(C)}function K(C){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:A})}function ze(){return(ze=(0,V.Z)(function*(C){const A=C,{installationEntry:O,registrationPromise:B}=yield En(A);return B?B.catch(console.error):Tr(A).catch(console.error),O.fid})).apply(this,arguments)}function Ot(){return(Ot=(0,V.Z)(function*(C,A=!1){const O=C;return yield Ar(O),(yield Tr(O,A)).token})).apply(this,arguments)}function Ar(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,V.Z)(function*(C){const{registrationPromise:A}=yield En(C);A&&(yield A)})).apply(this,arguments)}function tr(C){return Ie.create("missing-app-config-values",{valueName:C})}const Mo="installations",Ue=C=>{const A=C.getProvider("app").getImmediate(),O=function Dt(C){if(!C||!C.options)throw tr("App Configuration");if(!C.name)throw tr("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!C.options[O])throw tr(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},kt=C=>{const A=C.getProvider("app").getImmediate(),O=(0,se._getProvider)(A,Mo).getImmediate();return{getId:()=>function ne(C){return ze.apply(this,arguments)}(O),getToken:ee=>function tt(C){return Ot.apply(this,arguments)}(O,ee)}};(function mn(){(0,se._registerComponent)(new ce.wA(Mo,Ue,"PUBLIC")),(0,se._registerComponent)(new ce.wA("installations-internal",kt,"PRIVATE"))})(),(0,se.registerVersion)(de,"0.5.7"),(0,se.registerVersion)(de,"0.5.7","esm2017");const An="@firebase/remote-config",Vn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class za{constructor(A,O,B,ee){this.client=A,this.storage=O,this.storageCache=B,this.logger=ee}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,ee=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ee}.`),ee}fetch(A){var O=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ee&&O.isCachedDataFresh(A.cacheMaxAgeMillis,B))return ee;A.eTag=ee&&ee.eTag;const ie=yield O.client.fetch(A),Ve=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ve.push(O.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ve),ie})()}}function sa(C=navigator){return C.languages&&C.languages[0]||C.language}class oa{constructor(A,O,B,ee,ie,Ve){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=B,this.projectId=ee,this.apiKey=ie,this.appId=Ve}fetch(A){var O=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ut={sdk_version:O.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:O.appId,language_code:sa()},Tt={method:"POST",headers:it,body:JSON.stringify(ut)},qt=fetch(Ve,Tt),xt=new Promise((hs,bs)=>{A.signal.addEventListener(()=>{const kn=new Error("The operation was aborted.");kn.name="AbortError",bs(kn)})});let nr;try{yield Promise.race([qt,xt]),nr=yield qt}catch(hs){let bs="fetch-client-network";throw"AbortError"===hs.name&&(bs="fetch-timeout"),Vn.create(bs,{originalErrorMessage:hs.message})}let rr=nr.status;const Na=nr.headers.get("ETag")||void 0;let Oa,ds;if(200===nr.status){let hs;try{hs=yield nr.json()}catch(bs){throw Vn.create("fetch-client-parse",{originalErrorMessage:bs.message})}Oa=hs.entries,ds=hs.state}if("INSTANCE_STATE_UNSPECIFIED"===ds?rr=500:"NO_CHANGE"===ds?rr=304:("NO_TEMPLATE"===ds||"EMPTY_CONFIG"===ds)&&(Oa={}),304!==rr&&200!==rr)throw Vn.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:Na,config:Oa}})()}}class Uu{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,V.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:B}){var ee=this;return(0,V.Z)(function*(){yield function Un(C,A){return new Promise((O,B)=>{const ee=Math.max(A-Date.now(),0),ie=setTimeout(O,ee);C.addEventListener(()=>{clearTimeout(ie),B(Vn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const ie=yield ee.client.fetch(A);return yield ee.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Ka(C){if(!(C instanceof J.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ie))throw ie;const Ve={throttleEndTimeMillis:Date.now()+(0,J.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Ve),ee.attemptFetch(A,Ve)}})()}}class aa{constructor(A,O,B,ee,ie){this.app=A,this._client=O,this._storageCache=B,this._storage=ee,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function No(C,A){const O=C.target.error||void 0;return Vn.create(A,{originalErrorMessage:O&&O.message})}const ns="app_namespace_store";class $u{constructor(A,O,B,ee=function Bu(){return new Promise((C,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=B=>{A(No(B,"storage-open"))},O.onsuccess=B=>{C(B.target.result)},O.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ns,{keyPath:"compositeKey"})}}catch(O){A(Vn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=A,this.appName=O,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,ie)=>{const it=B.transaction([ns],"readonly").objectStore(ns),ut=O.createCompositeKey(A);try{const Tt=it.get(ut);Tt.onerror=qt=>{ie(No(qt,"storage-get"))},Tt.onsuccess=qt=>{const xt=qt.target.result;ee(xt?xt.value:void 0)}}catch(Tt){ie(Vn.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(A,O){var B=this;return(0,V.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((ie,Ve)=>{const ut=ee.transaction([ns],"readwrite").objectStore(ns),Tt=B.createCompositeKey(A);try{const qt=ut.put({compositeKey:Tt,value:O});qt.onerror=xt=>{Ve(No(xt,"storage-set"))},qt.onsuccess=()=>{ie()}}catch(qt){Ve(Vn.create("storage-set",{originalErrorMessage:qt&&qt.message}))}})})()}delete(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,ie)=>{const it=B.transaction([ns],"readwrite").objectStore(ns),ut=O.createCompositeKey(A);try{const Tt=it.delete(ut);Tt.onerror=qt=>{ie(No(qt,"storage-delete"))},Tt.onsuccess=()=>{ee()}}catch(Tt){ie(Vn.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Qa{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const O=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),ee=A.storage.getActiveConfig(),ie=yield O;ie&&(A.lastFetchStatus=ie);const Ve=yield B;Ve&&(A.lastSuccessfulFetchTimestampMillis=Ve);const it=yield ee;it&&(A.activeConfig=it)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function no(){return ec.apply(this,arguments)}function ec(){return(ec=(0,V.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}!function jr(){(0,se._registerComponent)(new ce.wA("remote-config",function C(A,{instanceIdentifier:O}){const B=A.getProvider("app").getImmediate(),ee=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,J.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ve,appId:it}=B.options;if(!ie)throw Vn.create("registration-project-id");if(!Ve)throw Vn.create("registration-api-key");if(!it)throw Vn.create("registration-app-id");const ut=new $u(it,B.name,O=O||"firebase"),Tt=new Qa(ut),qt=new ae.Yd(An);qt.logLevel=ae.in.ERROR;const xt=new oa(ee,se.SDK_VERSION,O,ie,Ve,it),nr=new Uu(xt,ut),rr=new za(nr,ut,Tt,qt),Na=new aa(B,rr,Tt,ut,qt);return function Jr(C){const A=(0,J.m9)(C);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(An,"0.3.6"),(0,se.registerVersion)(An,"0.3.6","esm2017")}();const Oo="/firebase-messaging-sw.js",Ii="/firebase-cloud-messaging-push-scope",_r="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",Fs="google.c.a.c_l",Ya="google.c.a.ts",$h="google.c.a.e";var Ls=(()=>{return(C=Ls||(Ls={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ls;var C})();function hi(C){const A=new Uint8Array(C);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ua(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),ee=new Uint8Array(B.length);for(let ie=0;ie<B.length;++ie)ee[ie]=B.charCodeAt(ie);return ee}const la="fcm_token_details_db",Er="fcm_token_object_Store";function Hu(C){return ko.apply(this,arguments)}function ko(){return ko=(0,V.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(la))return null;let A=null;return(yield(0,J.X3)(la,5,function(){var B=(0,V.Z)(function*(ee,ie,Ve,it){var ut;if(ie<2||!ee.objectStoreNames.contains(Er))return;const Tt=it.objectStore(Er),qt=yield Tt.index("fcmSenderId").get(C);if(yield Tt.clear(),qt)if(2===ie){const xt=qt;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;A={token:xt.fcmToken,createTime:null!==(ut=xt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:hi(xt.vapidKey)}}}else if(3===ie){const xt=qt;A={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:hi(xt.auth),p256dh:hi(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:hi(xt.vapidKey)}}}else if(4===ie){const xt=qt;A={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:hi(xt.auth),p256dh:hi(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:hi(xt.vapidKey)}}}});return function(ee,ie,Ve,it){return B.apply(this,arguments)}}())).close(),yield(0,J.Lj)(la),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),Ja(A)?A:null}),ko.apply(this,arguments)}function Ja(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:A}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const fi="firebase-messaging-store";let Es=null;function ca(){return Es||(Es=(0,J.X3)("firebase-messaging-database",1,(C,A)=>{0===A&&C.createObjectStore(fi)})),Es}function yn(C){return T.apply(this,arguments)}function T(){return(T=(0,V.Z)(function*(C){const A=ye(C),B=yield(yield ca()).transaction(fi).objectStore(fi).get(A);if(B)return B;{const ee=yield Hu(C.appConfig.senderId);if(ee)return yield N(C,ee),ee}})).apply(this,arguments)}function N(C,A){return b.apply(this,arguments)}function b(){return(b=(0,V.Z)(function*(C,A){const O=ye(C),ee=(yield ca()).transaction(fi,"readwrite");return yield ee.objectStore(fi).put(A,O),yield ee.complete,A})).apply(this,arguments)}function P(C){return z.apply(this,arguments)}function z(){return(z=(0,V.Z)(function*(C){const A=ye(C),B=(yield ca()).transaction(fi,"readwrite");yield B.objectStore(fi).delete(A),yield B.complete})).apply(this,arguments)}function ye({appConfig:C}){return C.appId}const Ke=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cn(C,A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,V.Z)(function*(C,A){const O=yield Ui(C),B=pt(A),ee={method:"POST",headers:O,body:JSON.stringify(B)};let ie;try{ie=yield(yield fetch(dn(C.appConfig),ee)).json()}catch(Ve){throw Ke.create("token-subscribe-failed",{errorInfo:Ve})}if(ie.error)throw Ke.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Ke.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Ut(C,A){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,V.Z)(function*(C,A){const O=yield Ui(C),B=pt(A.subscriptionOptions),ee={method:"PATCH",headers:O,body:JSON.stringify(B)};let ie;try{ie=yield(yield fetch(`${dn(C.appConfig)}/${A.token}`,ee)).json()}catch(Ve){throw Ke.create("token-update-failed",{errorInfo:Ve})}if(ie.error)throw Ke.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Ke.create("token-update-no-token");return ie.token})).apply(this,arguments)}function On(C,A){return _n.apply(this,arguments)}function _n(){return(_n=(0,V.Z)(function*(C,A){const B={method:"DELETE",headers:yield Ui(C)};try{const ie=yield(yield fetch(`${dn(C.appConfig)}/${A}`,B)).json();if(ie.error)throw Ke.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(ee){throw Ke.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function dn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Ui(C){return pi.apply(this,arguments)}function pi(){return(pi=(0,V.Z)(function*({appConfig:C,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function pt({p256dh:C,auth:A,endpoint:O,vapidKey:B}){const ee={web:{endpoint:O,auth:A,p256dh:C}};return B!==_r&&(ee.web.applicationPubKey=B),ee}const Di=6048e5;function Is(C){return ji.apply(this,arguments)}function ji(){return(ji=(0,V.Z)(function*(C){const A=yield Fo(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:A.endpoint,auth:hi(A.getKey("auth")),p256dh:hi(A.getKey("p256dh"))},B=yield yn(C.firebaseDependencies);if(B){if(ha(B.subscriptionOptions,O))return Date.now()>=B.createTime+Di?da(C,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield On(C.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return Pe(C.firebaseDependencies,O)}return Pe(C.firebaseDependencies,O)})).apply(this,arguments)}function rs(C){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,V.Z)(function*(C){const A=yield yn(C.firebaseDependencies);A&&(yield On(C.firebaseDependencies,A.token),yield P(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function da(C,A){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,V.Z)(function*(C,A){try{const O=yield Ut(C.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield N(C.firebaseDependencies,B),O}catch(O){throw yield rs(C),O}})).apply(this,arguments)}function Pe(C,A){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,V.Z)(function*(C,A){const B={token:yield cn(C,A),createTime:Date.now(),subscriptionOptions:A};return yield N(C,B),B.token})).apply(this,arguments)}function Fo(C,A){return jn.apply(this,arguments)}function jn(){return(jn=(0,V.Z)(function*(C,A){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ua(A)})})).apply(this,arguments)}function ha(C,A){return A.vapidKey===C.vapidKey&&A.endpoint===C.endpoint&&A.auth===C.auth&&A.p256dh===C.p256dh}function fa(C){const A={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ci(C,A){if(!A.notification)return;C.notification={};const O=A.notification.title;O&&(C.notification.title=O);const B=A.notification.body;B&&(C.notification.body=B);const ee=A.notification.image;ee&&(C.notification.image=ee)}(A,C),function qu(C,A){!A.data||(C.data=A.data)}(A,C),function Wu(C,A){if(!A.fcmOptions)return;C.fcmOptions={};const O=A.fcmOptions.link;O&&(C.fcmOptions.link=O);const B=A.fcmOptions.analytics_label;B&&(C.fcmOptions.analyticsLabel=B)}(A,C),A}function zu(C){return"object"==typeof C&&!!C&&ks in C}function tc(C,A){const O=[];for(let B=0;B<C.length;B++)O.push(C.charAt(B)),B<A.length&&O.push(A.charAt(B));return O.join("")}function ro(C){return Ke.create("missing-app-config-values",{valueName:C})}tc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ei{constructor(A,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function pa(C){if(!C||!C.options)throw ro("App Configuration Object");if(!C.name)throw ro("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const B of A)if(!O[B])throw ro(B);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ee,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Hr(C){return io.apply(this,arguments)}function io(){return(io=(0,V.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Oo,{scope:Ii}),C.swRegistration.update().catch(()=>{})}catch(A){throw Ke.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function Us(C,A){return ws.apply(this,arguments)}function ws(){return(ws=(0,V.Z)(function*(C,A){if(!A&&!C.swRegistration&&(yield Hr(C)),A||!C.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");C.swRegistration=A}})).apply(this,arguments)}function _d(C,A){return nc.apply(this,arguments)}function nc(){return(nc=(0,V.Z)(function*(C,A){A?C.vapidKey=A:C.vapidKey||(C.vapidKey=_r)})).apply(this,arguments)}function ic(){return(ic=(0,V.Z)(function*(C,A){if(!navigator)throw Ke.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ke.create("permission-blocked");return yield _d(C,null==A?void 0:A.vapidKey),yield Us(C,null==A?void 0:A.serviceWorkerRegistration),Is(C)})).apply(this,arguments)}function ga(C,A,O){return eu.apply(this,arguments)}function eu(){return(eu=(0,V.Z)(function*(C,A,O){const B=tu(A);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[ks],message_name:O[Fs],message_time:O[Ya],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tu(C){switch(C){case Ls.NOTIFICATION_CLICKED:return"notification_open";case Ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nu(){return(nu=(0,V.Z)(function*(C,A){const O=A.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===Ls.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(fa(O)):C.onMessageHandler.next(fa(O)));const B=O.data;zu(B)&&"1"===B[$h]&&(yield ga(C,O.messageType,B))})).apply(this,arguments)}const Ku="@firebase/messaging",Ed=C=>{const A=new ei(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ma(C,A){return nu.apply(this,arguments)}(A,O)),A},ya=C=>{const A=C.getProvider("messaging").getImmediate();return{getToken:B=>function rc(C,A){return ic.apply(this,arguments)}(A,B)}};function sc(){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,V.Z)(function*(){try{yield(0,J.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zu(){(0,se._registerComponent)(new ce.wA("messaging",Ed,"PUBLIC")),(0,se._registerComponent)(new ce.wA("messaging-internal",ya,"PRIVATE")),(0,se.registerVersion)(Ku,"0.9.11"),(0,se.registerVersion)(Ku,"0.9.11","esm2017")}();const ru="analytics",Kp="firebase_id",_a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ea="https://www.googletagmanager.com/gtag/js",lr=new ae.Yd("@firebase/analytics");function Yu(C){return Promise.all(C.map(A=>A.catch(O=>O)))}function Gh(C,A){const O=document.createElement("script");O.src=`${Ea}?l=${C}&id=${A}`,O.async=!0,document.head.appendChild(O)}function Vo(C,A,O,B,ee,ie){return ac.apply(this,arguments)}function ac(){return(ac=(0,V.Z)(function*(C,A,O,B,ee,ie){const Ve=B[ee];try{if(Ve)yield A[Ve];else{const ut=(yield Yu(O)).find(Tt=>Tt.measurementId===ee);ut&&(yield A[ut.appId])}}catch(it){lr.error(it)}C("config",ee,ie)})).apply(this,arguments)}function su(C,A,O,B,ee){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(C,A,O,B,ee){try{let ie=[];if(ee&&ee.send_to){let Ve=ee.send_to;Array.isArray(Ve)||(Ve=[Ve]);const it=yield Yu(O);for(const ut of Ve){const Tt=it.find(xt=>xt.measurementId===ut),qt=Tt&&A[Tt.appId];if(!qt){ie=[];break}ie.push(qt)}}0===ie.length&&(ie=Object.values(A)),yield Promise.all(ie),C("event",B,ee||{})}catch(ie){lr.error(ie)}})).apply(this,arguments)}function qh(){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Ea))return A;return null}const ti=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ia=new class lc{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function wa(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function cc(C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,V.Z)(function*(C){var A;const{appId:O,apiKey:B}=C,ee={method:"GET",headers:wa(B)},ie=_a.replace("{app-id}",O),Ve=yield fetch(ie,ee);if(200!==Ve.status&&304!==Ve.status){let it="";try{const ut=yield Ve.json();(null===(A=ut.error)||void 0===A?void 0:A.message)&&(it=ut.error.message)}catch(ut){}throw ti.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:it})}return Ve.json()})).apply(this,arguments)}function Wh(C){return bi.apply(this,arguments)}function bi(){return(bi=(0,V.Z)(function*(C,A=Ia,O){const{appId:B,apiKey:ee,measurementId:ie}=C.options;if(!B)throw ti.create("no-app-id");if(!ee){if(ie)return{measurementId:ie,appId:B};throw ti.create("no-api-key")}const Ve=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Da;return setTimeout((0,V.Z)(function*(){it.abort()}),void 0!==O?O:6e4),ou({appId:B,apiKey:ee,measurementId:ie},Ve,it,A)})).apply(this,arguments)}function ou(C,A,O){return ao.apply(this,arguments)}function ao(){return(ao=(0,V.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:O},B,ee=Ia){const{appId:ie,measurementId:Ve}=C;try{yield zh(B,A)}catch(it){if(Ve)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:ie,measurementId:Ve};throw it}try{const it=yield cc(C);return ee.deleteThrottleMetadata(ie),it}catch(it){if(!Dd(it)){if(ee.deleteThrottleMetadata(ie),Ve)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:ie,measurementId:Ve};throw it}const ut=503===Number(it.customData.httpStatus)?(0,J.$s)(O,ee.intervalMillis,30):(0,J.$s)(O,ee.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+ut,backoffCount:O+1};return ee.setThrottleMetadata(ie,Tt),lr.debug(`Calling attemptFetch again in ${ut} millis`),ou(C,Tt,B,ee)}})).apply(this,arguments)}function zh(C,A){return new Promise((O,B)=>{const ee=Math.max(A-Date.now(),0),ie=setTimeout(O,ee);C.addEventListener(()=>{clearTimeout(ie),B(ti.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Dd(C){if(!(C instanceof J.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Da{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function Kh(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,V.Z)(function*(){if(!(0,J.hl)())return lr.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(C){return lr.warn(ti.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ss(){return(ss=(0,V.Z)(function*(C,A,O,B,ee,ie,Ve){var it;const ut=Wh(C);ut.then(rr=>{O[rr.measurementId]=rr.appId,C.options.measurementId&&rr.measurementId!==C.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>lr.error(rr)),A.push(ut);const Tt=Kh().then(rr=>{if(rr)return B.getId()}),[qt,xt]=yield Promise.all([ut,Tt]);qh()||Gh(ie,qt.measurementId),ee("js",new Date);const nr=null!==(it=null==Ve?void 0:Ve.config)&&void 0!==it?it:{};return nr.origin="firebase",nr.update=!0,null!=xt&&(nr[Kp]=xt),ee("config",qt.measurementId,nr),qt.measurementId})).apply(this,arguments)}class au{constructor(A){this.app=A}_delete(){return delete os[this.app.options.appId],Promise.resolve()}}let os={},ba=[];const dc={};let Xu,Ta,jo="dataLayer",bd=!1;function Gn(C,A,O){!function Ds(){const C=[];if((0,J.ru)()&&C.push("This is a browser extension environment."),(0,J.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),O=ti.create("invalid-analytics-context",{errorInfo:A});lr.warn(O.message)}}();const B=C.options.appId;if(!B)throw ti.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ti.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=os[B])throw ti.create("already-exists",{id:B});if(!bd){!function Bi(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(jo);const{wrappedGtag:ie,gtagCore:Ve}=function uc(C,A,O,B,ee){let ie=function(...Ve){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ie=window[ee]),window[ee]=function wd(C,A,O,B){function ie(){return(ie=(0,V.Z)(function*(Ve,it,ut){try{"event"===Ve?yield su(C,A,O,it,ut):"config"===Ve?yield Vo(C,A,O,B,it,ut):C("set",it)}catch(Tt){lr.error(Tt)}})).apply(this,arguments)}return function ee(Ve,it,ut){return ie.apply(this,arguments)}}(ie,C,A,O),{gtagCore:ie,wrappedGtag:window[ee]}}(os,ba,dc,jo,"gtag");Ta=ie,Xu=Ve,bd=!0}return os[B]=function Ca(C,A,O,B,ee,ie,Ve){return ss.apply(this,arguments)}(C,ba,dc,A,Xu,jo,O),new au(C)}function Ct(){return(Ct=(0,V.Z)(function*(C,A,O,B,ee){if(ee&&ee.global)C("event",O,B);else{const ie=yield A;C("event",O,Object.assign(Object.assign({},B),{send_to:ie}))}})).apply(this,arguments)}function Aa(){return $i.apply(this,arguments)}function $i(){return($i=(0,V.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}const $s="@firebase/analytics";!function co(){(0,se._registerComponent)(new ce.wA(ru,(A,{options:O})=>Gn(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new ce.wA("analytics-internal",function C(A){try{const O=A.getProvider(ru).getImmediate();return{logEvent:(B,ee,ie)=>function Ce(C,A,O,B){C=(0,J.m9)(C),function Zh(C,A,O,B,ee){return Ct.apply(this,arguments)}(Ta,os[C.app.options.appId],A,O,B).catch(ee=>lr.error(ee))}(O,B,ee,ie)}}catch(O){throw ti.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)($s,"0.7.7"),(0,se.registerVersion)($s,"0.7.7","esm2017")}();var $t=F(4408),ho=F(7565);const Sa=new class He extends ho.v{}(class qn extends $t.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,O,B):A.flush(this)}});var hc=F(4986),lu=F(8505),dr=F(9468),Hi=F(5363);const el=new w.Version("7.3.0"),fo="__angularfire_symbol__analyticsIsSupportedValue",ls="__angularfire_symbol__analyticsIsSupported",Cs="__angularfire_symbol__remoteConfigIsSupportedValue",Wn="__angularfire_symbol__remoteConfigIsSupported",Ma="__angularfire_symbol__messagingIsSupportedValue",Ir="__angularfire_symbol__messagingIsSupported";function $o(C,A,O){if(A){if(1===A.length)return A[0];const ie=A.filter(Ve=>Ve.app===O);if(1===ie.length)return ie[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[ls]||(globalThis[ls]=Aa().then(C=>globalThis[fo]=C).catch(()=>globalThis[fo]=!1)),globalThis[Ir]||(globalThis[Ir]=sc().then(C=>globalThis[Ma]=C).catch(()=>globalThis[Ma]=!1)),globalThis[Wn]||(globalThis[Wn]=no().then(C=>globalThis[Cs]=C).catch(()=>globalThis[Cs]=!1));const Sd=(C,A)=>{const O=A?[A]:(0,m.C6)(),B=[];return O.forEach(ee=>{ee.container.getProvider(C).instances.forEach(Ve=>{B.includes(Ve)||B.push(Ve)})}),B};function po(){}class xa{constructor(A,O=Sa){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,B){const ee=this.zone;return this.delegate.schedule(function(Ve){ee.runGuarded(()=>{A.apply(this,[Ve])})},O,B)}}class tl{constructor(A){this.zone=A,this.task=null}call(A,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",po,{},po,po)),O.pipe((0,lu.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nl=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new xa(Zone.current)),this.insideAngular=O.run(()=>new xa(Zone.current,hc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(w.\u0275\u0275inject(w.NgZone))},C.\u0275prov=w.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Pn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function cu(C){return Pn(),function cs(C){return function(O){return(O=O.lift(new tl(C.ngZone))).pipe((0,dr.R)(C.outsideAngular),(0,Hi.Q)(C.insideAngular))}}(Pn())(C)}},2090:(ct,be,F)=>{"use strict";F.d(be,{BH:()=>he,LL:()=>ot,ZR:()=>pe,zI:()=>we,US:()=>ae,tV:()=>H,L:()=>le,$s:()=>Js,r3:()=>en,Sg:()=>_e,ne:()=>mt,vZ:()=>Zi,ZB:()=>Y,Lj:()=>Gt,pd:()=>Qi,m9:()=>yt,z$:()=>xe,jU:()=>We,ru:()=>Ge,d:()=>Ae,xb:()=>or,w1:()=>Se,hl:()=>X,uI:()=>re,UG:()=>Ie,b$:()=>Me,G6:()=>oe,Mn:()=>Je,X3:()=>vt,xO:()=>vi,zd:()=>gr,eu:()=>ue});var w=F(5861);const J=function(W){const $=[];let K=0;for(let Ee=0;Ee<W.length;Ee++){let ne=W.charCodeAt(Ee);ne<128?$[K++]=ne:ne<2048?($[K++]=ne>>6|192,$[K++]=63&ne|128):55296==(64512&ne)&&Ee+1<W.length&&56320==(64512&W.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&W.charCodeAt(++Ee)),$[K++]=ne>>18|240,$[K++]=ne>>12&63|128,$[K++]=ne>>6&63|128,$[K++]=63&ne|128):($[K++]=ne>>12|224,$[K++]=ne>>6&63|128,$[K++]=63&ne|128)}return $},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<W.length;ne+=3){const ze=W[ne],tt=ne+1<W.length,Ot=tt?W[ne+1]:0,Ar=ne+2<W.length,Kt=Ar?W[ne+2]:0;let gn=(15&Ot)<<2|Kt>>6,ar=63&Kt;Ar||(ar=64,tt||(gn=64)),Ee.push(K[ze>>2],K[(3&ze)<<4|Ot>>4],K[gn],K[ar])}return Ee.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(J(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let K=0,Ee=0;for(;K<W.length;){const ne=W[K++];if(ne<128)$[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const ze=W[K++];$[Ee++]=String.fromCharCode((31&ne)<<6|63&ze)}else if(ne>239&&ne<365){const Ar=((7&ne)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;$[Ee++]=String.fromCharCode(55296+(Ar>>10)),$[Ee++]=String.fromCharCode(56320+(1023&Ar))}else{const ze=W[K++],tt=W[K++];$[Ee++]=String.fromCharCode((15&ne)<<12|(63&ze)<<6|63&tt)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const K=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<W.length;){const ze=K[W.charAt(ne++)],Ot=ne<W.length?K[W.charAt(ne)]:0;++ne;const Kt=ne<W.length?K[W.charAt(ne)]:64;++ne;const Pt=ne<W.length?K[W.charAt(ne)]:64;if(++ne,null==ze||null==Ot||null==Kt||null==Pt)throw Error();Ee.push(ze<<2|Ot>>4),64!==Kt&&(Ee.push(Ot<<4&240|Kt>>2),64!==Pt&&Ee.push(Kt<<6&192|Pt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},le=function(W){return function(W){const $=J(W);return ae.encodeByteArray($,!0)}(W).replace(/\./g,"")},H=function(W){try{return ae.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function Y(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const K in $)!$.hasOwnProperty(K)||!qe(K)||(W[K]=Y(W[K],$[K]));return W}function qe(W){return"__proto__"!==W}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,K)=>{this.resolve=$,this.reject=K})}wrapCallback($){return(K,Ee)=>{K?this.reject(K):this.resolve(Ee),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(K):$(K,Ee))}}}function _e(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=$||"demo-project",ne=W.iat||0,ze=W.sub||W.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},W);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(tt)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function We(){return"object"==typeof self&&self.self===self}function Ge(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return xe().indexOf("Electron/")>=0}function Se(){const W=xe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Je(){return xe().indexOf("MSAppHost/")>=0}function oe(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function ue(){return new Promise((W,$)=>{try{let K=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),K||self.indexedDB.deleteDatabase(Ee),W(!0)},ne.onupgradeneeded=()=>{K=!1},ne.onerror=()=>{var ze;$((null===(ze=ne.error)||void 0===ze?void 0:ze.message)||"")}}catch(K){$(K)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor($,K,Ee){super(K),this.code=$,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor($,K,Ee){this.service=$,this.serviceName=K,this.errors=Ee}create($,...K){const Ee=K[0]||{},ne=`${this.service}/${$}`,ze=this.errors[$],tt=ze?function Yt(W,$){return W.replace(xn,(K,Ee)=>{const ne=$[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(ze,Ee):"Error";return new pe(ne,`${this.serviceName}: ${tt} (${ne}).`,Ee)}}const xn=/\{\$([^}]+)}/g;function en(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function or(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function Zi(W,$){if(W===$)return!0;const K=Object.keys(W),Ee=Object.keys($);for(const ne of K){if(!Ee.includes(ne))return!1;const ze=W[ne],tt=$[ne];if(Dr(ze)&&Dr(tt)){if(!Zi(ze,tt))return!1}else if(ze!==tt)return!1}for(const ne of Ee)if(!K.includes(ne))return!1;return!0}function Dr(W){return null!==W&&"object"==typeof W}function vi(W){const $=[];for(const[K,Ee]of Object.entries(W))Array.isArray(Ee)?Ee.forEach(ne=>{$.push(encodeURIComponent(K)+"="+encodeURIComponent(ne))}):$.push(encodeURIComponent(K)+"="+encodeURIComponent(Ee));return $.length?"&"+$.join("&"):""}function gr(W){const $={};return W.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,ze]=Ee.split("=");$[decodeURIComponent(ne)]=decodeURIComponent(ze)}}),$}function Qi(W){const $=W.indexOf("?");if(!$)return"";const K=W.indexOf("#",$);return W.substring($,K>0?K:void 0)}function mt(W,$){const K=new Kr(W,$);return K.subscribe.bind(K)}class Kr{constructor($,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{$(this)}).catch(Ee=>{this.error(Ee)})}next($){this.forEachObserver(K=>{K.next($)})}error($){this.forEachObserver(K=>{K.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,K,Ee){let ne;if(void 0===$&&void 0===K&&void 0===Ee)throw new Error("Missing Observer.");ne=function Yn(W,$){if("object"!=typeof W||null===W)return!1;for(const K of $)if(K in W&&"function"==typeof W[K])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:K,complete:Ee},void 0===ne.next&&(ne.next=Zr),void 0===ne.error&&(ne.error=Zr),void 0===ne.complete&&(ne.complete=Zr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(tt){}}),this.observers.push(ne),ze}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,$)}sendOne($,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{K(this.observers[$])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}function Js(W,$=1e3,K=2){const Ee=$*Math.pow(K,W),ne=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ne)}function yt(W){return W&&W._delegate?W._delegate:W}function Tr(W,$){return new Promise((K,Ee)=>{W.onsuccess=ne=>{K(ne.target.result)},W.onerror=ne=>{var ze;Ee(`${$}: ${null===(ze=ne.target.error)||void 0===ze?void 0:ze.message}`)}})}class Lt{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,K){return new rt(this._db.transaction.call(this._db,$,K))}createObjectStore($,K){return new Oe(this._db.createObjectStore($,K))}close(){this._db.close()}}class rt{constructor($){this._transaction=$,this.complete=new Promise((K,Ee)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{Ee(this._transaction.error)},this._transaction.onabort=()=>{Ee(this._transaction.error)}})}objectStore($){return new Oe(this._transaction.objectStore($))}}class Oe{constructor($){this._store=$}index($){return new at(this._store.index($))}createIndex($,K,Ee){return new at(this._store.createIndex($,K,Ee))}get($){return Tr(this._store.get($),"Error reading from IndexedDB")}put($,K){return Tr(this._store.put($,K),"Error writing to IndexedDB")}delete($){return Tr(this._store.delete($),"Error deleting from IndexedDB")}clear(){return Tr(this._store.clear(),"Error clearing IndexedDB object store")}}class at{constructor($){this._index=$}get($){return Tr(this._index.get($),"Error reading from IndexedDB")}}function vt(W,$,K){return new Promise((Ee,ne)=>{try{const ze=indexedDB.open(W,$);ze.onsuccess=tt=>{Ee(new Lt(tt.target.result))},ze.onerror=tt=>{var Ot;ne(`Error opening indexedDB: ${null===(Ot=tt.target.error)||void 0===Ot?void 0:Ot.message}`)},ze.onupgradeneeded=tt=>{K(new Lt(ze.result),tt.oldVersion,tt.newVersion,new rt(ze.transaction))}}catch(ze){ne(`Error opening indexedDB: ${ze.message}`)}})}function Gt(W){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,w.Z)(function*(W){return new Promise(($,K)=>{try{const Ee=indexedDB.deleteDatabase(W);Ee.onsuccess=()=>{$()},Ee.onerror=ne=>{var ze;K(`Error deleting indexedDB database "${W}": ${null===(ze=ne.target.error)||void 0===ze?void 0:ze.message}`)}}catch(Ee){K(`Error deleting indexedDB database "${W}": ${Ee.message}`)}})})).apply(this,arguments)}},526:(ct,be,F)=>{"use strict";var w=F(9808),m=F(5e3);class V extends w.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends V{static makeCurrent(){(0,w.\u0275setRootDomAdapter)(new se)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ce(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==t?null:function de(n){ae=ae||document.createElement("a"),ae.setAttribute("href",n);const e=ae.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,w.\u0275parseCookieValue)(document.cookie,e)}}let ae,J=null;const le=new m.InjectionToken("TRANSITION_ID"),G=[{provide:m.APP_INITIALIZER,useFactory:function H(n,e,t){return()=>{t.get(m.ApplicationInitStatus).donePromise.then(()=>{const r=(0,w.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[le,w.DOCUMENT,m.Injector],multi:!0}];class Y{static init(){(0,m.setTestabilityGetter)(new Y)}addToWindow(e){m.\u0275global.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},m.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),m.\u0275global.frameworkStabilizers||(m.\u0275global.frameworkStabilizers=[]),m.\u0275global.frameworkStabilizers.push(r=>{const o=m.\u0275global.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(I){h=h||I,l--,0==l&&r(h)};o.forEach(function(I){I.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,w.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let qe=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const he=new m.InjectionToken("EventManagerPlugins");let _e=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(he),m.\u0275\u0275inject(m.NgZone))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,w.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let re=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends re{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(We),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(We))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function We(n){(0,w.\u0275getDOM)().remove(n)}const Ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g;function ue(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ue(n,o,t):(o=o.replace(Me,n),t.push(o))}return t}function we(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Le=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new pe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case m.ViewEncapsulation.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new xn(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case m.ViewEncapsulation.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ue(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(_e),m.\u0275\u0275inject(Ie),m.\u0275\u0275inject(m.APP_ID))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class pe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ge[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Ge[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ge[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(m.RendererStyleFlags2.DashCase|m.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&m.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&m.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,we(r)):this.eventManager.addEventListener(e,t,we(r))}}class xn extends pe{constructor(e,t,r,o){super(e),this.component=r;const l=ue(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function oe(n){return"_ngcontent-%COMP%".replace(Me,n)}(o+"-"+r.id),this.hostAttr=function X(n){return"_nghost-%COMP%".replace(Me,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ft extends pe{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ue(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Et=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const on=["alt","control","meta","shift"],di={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let en=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.\u0275getDOM)().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(on.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),h+=I+".")}),h+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(t){let r="",o=function jt(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xt.hasOwnProperty(e)&&(e=Xt[e]))}return di[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),on.forEach(l=>{l!=o&&yi[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const vi=(0,m.createPlatformFactory)(m.platformCore,"browser",[{provide:m.PLATFORM_ID,useValue:w.\u0275PLATFORM_BROWSER_ID},{provide:m.PLATFORM_INITIALIZER,useValue:function or(){se.makeCurrent(),Y.init()},multi:!0},{provide:w.DOCUMENT,useFactory:function Zi(){return(0,m.\u0275setDocument)(document),document},deps:[]}]),gr=[{provide:m.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:m.ErrorHandler,useFactory:function zr(){return new m.ErrorHandler},deps:[]},{provide:he,useClass:Et,multi:!0,deps:[w.DOCUMENT,m.NgZone,m.PLATFORM_ID]},{provide:he,useClass:en,multi:!0,deps:[w.DOCUMENT]},{provide:Le,useClass:Le,deps:[_e,Ie,m.APP_ID]},{provide:m.RendererFactory2,useExisting:Le},{provide:re,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[w.DOCUMENT]},{provide:m.Testability,useClass:m.Testability,deps:[m.NgZone]},{provide:_e,useClass:_e,deps:[he,m.NgZone]},{provide:w.XhrFactory,useClass:qe,deps:[]}];let Qi=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.APP_ID,useValue:t.appId},{provide:le,useExisting:m.APP_ID},G]}}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(n,12))},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:gr,imports:[w.CommonModule,m.ApplicationModule]}),n})();"undefined"!=typeof window&&window;var tt=F(8996),Ot=F(8306);const{isArray:Ar}=Array,{getPrototypeOf:Kt,prototype:Rn,keys:Pt}=Object;function gn(n){if(1===n.length){const e=n[0];if(Ar(e))return{args:e,keys:null};if(function ar(n){return n&&"object"==typeof n&&Kt(n)===Rn}(e)){const t=Pt(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Fi=F(8421),Xi=F(7669),er=F(5403),Dt=F(4004);const{isArray:tr}=Array;function Vr(n){return(0,Dt.U)(e=>function Mo(n,e){return tr(e)?n(...e):n(e)}(n,e))}function Ue(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let mn=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n}),n})(),An=(()=>{class n extends mn{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,features:[m.\u0275\u0275InheritDefinitionFeature]}),n})();const ur=new m.InjectionToken("NgValueAccessor"),an={provide:ur,useExisting:(0,m.forwardRef)(()=>Mt),multi:!0},es=new m.InjectionToken("CompositionEventMode");let Mt=(()=>{class n extends mn{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vn(){const n=(0,w.\u0275getDOM)()?(0,w.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(es,8))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[m.\u0275\u0275ProvidersFeature([an]),m.\u0275\u0275InheritDefinitionFeature]}),n})();function Yr(n){return null==n||0===n.length}const Nn=new m.InjectionToken("NgValidators"),yr=new m.InjectionToken("NgAsyncValidators");function nn(n){return Yr(n.value)?{required:!0}:null}function Ei(n){return null}function Xs(n){return null!=n}function Sr(n){const e=(0,m.\u0275isPromise)(n)?(0,tt.D)(n):n;return(0,m.\u0275isObservable)(e),e}function za(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sa(n,e){return e.map(t=>t(n))}function Un(n){return n.map(e=>function oa(n){return!n.validate}(e)?e:t=>e.validate(t))}function Uu(n){return null!=n?function Ka(n){if(!n)return null;const e=n.filter(Xs);return 0==e.length?null:function(t){return za(sa(t,e))}}(Un(n)):null}function ju(n){return null!=n?function Vi(n){if(!n)return null;const e=n.filter(Xs);return 0==e.length?null:function(t){return function kt(...n){const e=(0,Xi.jO)(n),{args:t,keys:r}=gn(n),o=new Ot.y(l=>{const{length:h}=t;if(!h)return void l.complete();const g=new Array(h);let I=h,S=h;for(let L=0;L<h;L++){let U=!1;(0,Fi.Xf)(t[L]).subscribe((0,er.x)(l,Q=>{U||(U=!0,S--),g[L]=Q},()=>I--,void 0,()=>{(!I||!U)&&(S||l.next(r?Ue(r,g):g),l.complete())}))}});return e?o.pipe(Vr(e)):o}(sa(t,e).map(Sr)).pipe((0,Dt.U)(za))}}(Un(n)):null}function aa(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Za(n){return n?Array.isArray(n)?n:[n]:[]}function eo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Bu(n,e){const t=Za(e);return Za(n).forEach(o=>{eo(t,o)||t.push(o)}),t}function $u(n,e){return Za(e).filter(t=>!eo(n,t))}class Qa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ju(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class jr extends Qa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br extends Qa{get formDirective(){return null}get path(){return null}}class to{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Oo=(()=>{class n extends to{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(jr,2))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&m.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),n})(),Ii=(()=>{class n extends to{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Br,10))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&m.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),n})();function _s(n,e){yn(n,e),e.valueAccessor.writeValue(n.value),function N(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P(n,e)})}(n,e),function z(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function b(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ca(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Es(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yn(n,e){const t=function No(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(aa(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ns(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(aa(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Es(e._rawValidators,o),Es(e._rawAsyncValidators,o)}function P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ui(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Di="VALID",Is="INVALID",ji="PENDING",rs="DISABLED";function da(n){return(Fo(n)?n.validators:n)||null}function Xa(n){return Array.isArray(n)?Uu(n):n||null}function Pe(n,e){return(Fo(e)?e.asyncValidators:n)||null}function Bt(n){return Array.isArray(n)?ju(n):n||null}function Fo(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ha=n=>n instanceof pa;function Ci(n){return(n=>n instanceof tc)(n)?n.value:n.getRawValue()}function qu(n,e){const t=ha(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new m.\u0275RuntimeError(1e3,"");if(!r[e])throw new m.\u0275RuntimeError(1001,"")}function Wu(n,e){ha(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new m.\u0275RuntimeError(1002,"")})}class zu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Xa(this._rawValidators),this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Di}get invalid(){return this.status===Is}get pending(){return this.status==ji}get disabled(){return this.status===rs}get enabled(){return this.status!==rs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Xa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bt(e)}addValidators(e){this.setValidators(Bu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Bu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($u(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($u(e,this._rawAsyncValidators))}hasValidator(e){return eo(this._rawValidators,e)}hasAsyncValidator(e){return eo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ji,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rs,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Di,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Di||this.status===ji)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rs:Di}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ji,this._hasOwnPendingAsyncValidator=!0;const t=Sr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Gu(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=ha(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof ro)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.EventEmitter,this.statusChanges=new m.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?rs:this.errors?Is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ji)?ji:this._anyControlsHaveStatus(Is)?Is:Di}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fo(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tc extends zu{constructor(e=null,t,r){super(da(t),Pe(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fo(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ui(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ui(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pa extends zu{constructor(e,t,r){super(da(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Wu(this,e),Object.keys(e).forEach(r=>{qu(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Ci(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ro extends zu{constructor(e,t,r){super(da(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Wu(this,e),e.forEach((r,o)=>{qu(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Ci(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ei={provide:Br,useExisting:(0,m.forwardRef)(()=>io)},Hr=(()=>Promise.resolve(null))();let io=(()=>{class n extends Br{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.EventEmitter,this.form=new pa({},Uu(t),ju(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hr.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_s(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hr.then(()=>{const r=this._findContainer(t.path),o=new pa({});(function ye(n,e){yn(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hr.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function _n(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Nn,10),m.\u0275\u0275directiveInject(yr,10))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.\u0275\u0275ProvidersFeature([ei]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const eu={provide:jr,useExisting:(0,m.forwardRef)(()=>ma)},tu=(()=>Promise.resolve(null))();let ma=(()=>{class n extends jr{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new tc,this._registered=!1,this.update=new m.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function dn(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===Mt?t=l:function On(n){return Object.getPrototypeOf(n.constructor)===An}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ft(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_s(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;tu.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Vs(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Br,9),m.\u0275\u0275directiveInject(Nn,10),m.\u0275\u0275directiveInject(yr,10),m.\u0275\u0275directiveInject(ur,10),m.\u0275\u0275directiveInject(m.ChangeDetectorRef,8))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m.\u0275\u0275ProvidersFeature([eu]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({}),n})();let ni=(()=>{class n{constructor(){this._validator=Ei}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ei,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,features:[m.\u0275\u0275NgOnChangesFeature]}),n})();const Dn={provide:Nn,useExisting:(0,m.forwardRef)(()=>bi),multi:!0};let bi=(()=>{class n extends ni{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function ti(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>nn}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[m.\u0275\u0275ProvidersFeature([Dn]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const Dd={provide:Nn,useExisting:(0,m.forwardRef)(()=>Da),multi:!0};let Da=(()=>{class n extends ni{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function Zp(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Xr(n){return e=>Yr(e.value)||!function ts(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[m.\u0275\u0275ProvidersFeature([Dd]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const Ca={provide:Nn,useExisting:(0,m.forwardRef)(()=>ss),multi:!0};let ss=(()=>{class n extends ni{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function ia(n){if(!n)return Ei;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Yr(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[m.\u0275\u0275ProvidersFeature([Ca]),m.\u0275\u0275InheritDefinitionFeature]}),n})(),dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[[Zu]]}),n})(),jo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[dc]}),n})();var Td=F(3241),Ds=F(7579);class Gn extends Ds.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Zh=F(4986);function Ct(...n){const e=(0,Xi.yG)(n);return(0,tt.D)(n,e)}var cr=F(5813),Ti=F(8189);function uo(...n){return function Ad(){return(0,Ti.J)(1)}()((0,tt.D)(n,(0,Xi.yG)(n)))}var qr=F(4482);function as(...n){const e=(0,Xi.yG)(n);return(0,qr.e)((t,r)=>{(e?uo(n,t,e):uo(n,t)).subscribe(r)})}function lo(){return(0,qr.e)((n,e)=>{let t,r=!1;n.subscribe((0,er.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function us(n,e,t,r,o){return(l,h)=>{let g=t,I=e,S=0;l.subscribe((0,er.x)(h,L=>{const U=S++;I=g?n(I,L,U):(g=!0,L),r&&h.next(I)},o&&(()=>{g&&h.next(I),h.complete()})))}}function js(n,e){return(0,qr.e)(us(n,e,arguments.length>=2,!0))}var Bo=F(4671);function $i(n,e){return n===e}function Bs(n,e){return(0,qr.e)((t,r)=>{let o=0;t.subscribe((0,er.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var He,hn=F(2011),Qh=(F(4087),F(3942)),Ce=F(5861),$s=F(9681),uu=F(4859),co=F(1877),$t=F(2090),qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ho={},Sa=Sa||{},bt=qn||self;function hc(){}function lu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dr(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var el="closure_uid_"+(1e9*Math.random()>>>0),fo=0;function ls(n,e,t){return n.call.apply(n.bind,arguments)}function Cs(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Wn(n,e,t){return(Wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ls:Cs).apply(null,arguments)}function Ma(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ir(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[o].apply(r,h)}}function Hs(){this.s=this.s,this.o=this.o}var Ai={};Hs.prototype.s=!1,Hs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Hi(n){return Object.prototype.hasOwnProperty.call(n,el)&&n[el]||(n[el]=++fo)}(this);delete Ai[n]}},Hs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},$o=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function po(n){return Array.prototype.concat.apply([],arguments)}function xa(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tl(n){return/^[\s\xa0]*$/.test(n)}var Cn,nl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pn(n,e){return-1!=n.indexOf(e)}function gc(n,e){return n<e?-1:n>e?1:0}e:{var mc=bt.navigator;if(mc){var rl=mc.userAgent;if(rl){Cn=rl;break e}}Cn=""}function cu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function cs(n){const e={};for(const t in n)e[t]=n[t];return e}var Ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function il(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Ra.length;l++)t=Ra[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function C(n){return C[" "](n),n}C[" "]=hc;var Tt,n,O=Pn(Cn,"Opera"),B=Pn(Cn,"Trident")||Pn(Cn,"MSIE"),ee=Pn(Cn,"Edge"),ie=ee||B,Ve=Pn(Cn,"Gecko")&&!(Pn(Cn.toLowerCase(),"webkit")&&!Pn(Cn,"Edge"))&&!(Pn(Cn,"Trident")||Pn(Cn,"MSIE"))&&!Pn(Cn,"Edge"),it=Pn(Cn.toLowerCase(),"webkit")&&!Pn(Cn,"Edge");function ut(){var n=bt.document;return n?n.documentMode:void 0}e:{var qt="",xt=(n=Cn,Ve?/rv:([^\);]+)(\)|;)/.exec(n):ee?/Edge\/([\d\.]+)/.exec(n):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):it?/WebKit\/(\S+)/.exec(n):O?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xt&&(qt=xt?xt[1]:""),B){var nr=ut();if(null!=nr&&nr>parseFloat(qt)){Tt=String(nr);break e}}Tt=qt}var rr={};var hs=bt.document&&B&&(ut()||parseInt(Tt,10))||void 0,bs=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",hc,e),bt.removeEventListener("test",hc,e)}catch(t){}return n}();function kn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function du(n,e){if(kn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ve){e:{try{C(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qp[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&du.Z.h.call(this)}}kn.prototype.h=function(){this.defaultPrevented=!0},Ir(du,kn);var Qp={2:"touch",3:"pen",4:"mouse"};du.prototype.h=function(){du.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pa="closure_listenable_"+(1e6*Math.random()|0),sl=0;function Yp(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++sl,this.ca=this.fa=!1}function Md(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function yc(n){this.src=n,this.g={},this.h=0}function go(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=pc(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Md(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hu(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}yc.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=hu(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Yp(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Yh="closure_lm_"+(1e6*Math.random()|0),Jh={};function Xh(n,e,t,r,o){if(r&&r.once)return Jp(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xh(n,e[l],t,r,o);return null}return t=_c(t),n&&n[Pa]?n.N(e,t,dr(r)?!!r.capture:!!r,o):ol(n,e,t,!1,r,o)}function ol(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=dr(o)?!!o.capture:!!o,g=ka(n);if(g||(n[Yh]=g=new yc(n)),(t=g.add(e,t,r,h,l)).proxy)return t;if(r=function z0(){var e=tf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bs||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(vc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Jp(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jp(n,e[l],t,r,o);return null}return t=_c(t),n&&n[Pa]?n.O(e,t,dr(r)?!!r.capture:!!r,o):ol(n,e,t,!0,r,o)}function Xp(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Xp(n,e[l],t,r,o);else r=dr(r)?!!r.capture:!!r,t=_c(t),n&&n[Pa]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hu(l=n.g[e],t,r,o))&&(Md(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ka(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hu(e,t,r,o)),(t=-1<n?e[n]:null)&&ef(t))}function ef(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Pa])go(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ka(e))?(go(t,n),0==t.h&&(t.src=null,e[Yh]=null)):Md(n)}}}function vc(n){return n in Jh?Jh[n]:Jh[n]="on"+n}function tf(n,e){if(n.ca)n=!0;else{e=new du(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ef(n),n=t.call(r,e)}return n}function ka(n){return(n=n[Yh])instanceof yc?n:null}var nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function _c(n){return"function"==typeof n?n:(n[nf]||(n[nf]=function(e){return n.handleEvent(e)}),n[nf])}function ri(){Hs.call(this),this.i=new yc(this),this.P=this,this.I=null}function wr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new kn(e,n);else if(e instanceof kn)e.target=e.target||n;else{var o=e;il(e=new kn(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=al(h,r,!0,e)&&o}if(o=al(h=e.g=n,r,!0,e)&&o,o=al(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=al(h=e.g=t[l],r,!1,e)&&o}function al(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var g=h.listener,I=h.ia||h.src;h.fa&&go(n.i,h),o=!1!==g.call(I,r)&&o}}return o&&!r.defaultPrevented}Ir(ri,Hs),ri.prototype[Pa]=!0,ri.prototype.removeEventListener=function(n,e,t,r){Xp(this,n,e,t,r)},ri.prototype.M=function(){if(ri.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Md(t[r]);delete n.g[e],n.h--}}this.I=null},ri.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xd=bt.JSON.stringify;function eg(){var n=fu;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ec,Fa=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Cy,n=>n.reset());class Cy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function by(n){bt.setTimeout(()=>{throw n},0)}function sf(n,e){Ec||function Ty(){var n=bt.Promise.resolve(void 0);Ec=function(){n.then(of)}}(),fs||(Ec(),fs=!0),fu.add(n,e)}var fs=!1,fu=new class rf{constructor(){this.h=this.g=null}add(e,t){const r=Fa.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function of(){for(var n;n=eg();){try{n.h.call(n.g)}catch(t){by(t)}var e=Fa;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fs=!1}function Rd(n,e){ri.call(this),this.h=n||1,this.g=e||bt,this.j=Wn(this.kb,this),this.l=Date.now()}function Ic(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function af(n,e,t){if("function"==typeof n)t&&(n=Wn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wn(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function uf(n){n.g=af(()=>{n.g=null,n.i&&(n.i=!1,uf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ir(Rd,ri),(He=Rd.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wr(this,"tick"),this.da&&(Ic(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){Rd.Z.M.call(this),Ic(this),delete this.g};class tg extends Hs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uf(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(n){Hs.call(this),this.h=n,this.g={}}Ir(ul,Hs);var ng=[];function rg(n,e,t,r){Array.isArray(t)||(t&&(ng[0]=t.toString()),t=ng);for(var o=0;o<t.length;o++){var l=Xh(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Ay(n){cu(n.g,function(e,t){this.g.hasOwnProperty(t)&&ef(e)},n),n.g={}}function mo(){this.g=!0}function Ts(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function As(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return xd(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}ul.prototype.M=function(){ul.Z.M.call(this),Ay(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mo.prototype.Aa=function(){this.g=!1},mo.prototype.info=function(){};var Gs={},lf=null;function pu(){return lf=lf||new ri}function cf(n){kn.call(this,Gs.Ma,n)}function Nd(n){const e=pu();wr(e,new cf(e,n))}function df(n,e){kn.call(this,Gs.STAT_EVENT,n),this.stat=e}function Gi(n){const e=pu();wr(e,new df(e,n))}function Od(n,e){kn.call(this,Gs.Na,n),this.size=e}function gu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Gs.Ma="serverreachability",Ir(cf,kn),Gs.STAT_EVENT="statevent",Ir(df,kn),Gs.Na="timingevent",Ir(Od,kn);var ll={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},My={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hf(){}function sg(){}hf.prototype.h=null;var Pd,Dc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cc(){kn.call(this,"d")}function bc(){kn.call(this,"c")}function mu(){}function Ho(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ul(this),this.P=xy,this.W=new Rd(n=ie?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kd}function kd(){this.i=null,this.g="",this.h=!1}Ir(Cc,kn),Ir(bc,kn),Ir(mu,hf),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Pd=new mu;var xy=45e3,zn={},cl={};function Fd(n,e,t){n.K=1,n.v=Mc(ps(e)),n.s=t,n.U=!0,Ld(n,null)}function Ld(n,e){n.F=Date.now(),dl(n),n.A=ps(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),yf(t.h,"t",r),n.C=0,t=n.l.H,n.h=new kd,n.g=Uy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new tg(Wn(n.Ia,n,n.g),n.O)),rg(n.V,n.g,"readystatechange",n.gb),e=n.H?cs(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Nd(1),function K0(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",g=l.split("&"),I=0;I<g.length;I++){var S=g[I].split("=");if(1<S.length){var L=S[0];S=S[1];var U=L.split("_");h=2<=U.length&&"type"==U[1]?h+(L+"=")+S+"&":h+(L+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Vd(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ff(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Tc(n,t),o==cl){4==e&&(n.o=4,Gi(14),r=!1),Ts(n.j,n.m,null,"[Incomplete Response]");break}if(o==zn){n.o=4,Gi(15),Ts(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ts(n.j,n.m,o,null),yu(n,o)}Vd(n)&&o!=cl&&o!=zn&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),mg(e),e.L=!0,Gi(11))):(Ts(n.j,n.m,t,"[Invalid Chunked Response]"),hl(n),Ud(n))}function Tc(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cl:(t=Number(e.substring(t,r)),isNaN(t)?zn:(r+=1)+t>e.length?cl:(e=e.substr(r,t),n.C=r+t,e))}function dl(n){n.Y=Date.now()+n.P,pf(n,n.P)}function pf(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gu(Wn(n.eb,n),e)}function Ac(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function Ud(n){0==n.l.G||n.I||Ly(n.l,n)}function hl(n){Ac(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ic(n.W),Ay(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||d(t.i,n)))if(t.I=n.N,!n.J&&d(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=gu(Wn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Zd(t),fg(t)}gg(t),Gi(18)}if(1>=y(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else Ba(t,11)}else if((n.J||t.g==n)&&Zd(t),!tl(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const L=S[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const U=S[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Q=S[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.K=r=1.5*Q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ge=n.g;if(ge){const Re=ge.g?ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Re){var l=r.i;!l.g&&(Pn(Re,"spdy")||Pn(Re,"quic")||Pn(Re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(p(l,l.h),l.h=null))}if(r.D){const et=ge.g?ge.g.getResponseHeader("X-HTTP-Session-Id"):null;et&&(r.sa=et,Fn(r.F,r.D,et))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=yg(r,r.H?r.la:null,r.W),h.J){_(r.i,h);var g=h,I=r.K;I&&g.setTimeout(I),g.B&&(Ac(g),dl(g)),r.g=h}else X0(r);0<t.l.length&&ja(t)}else"stop"!=S[0]&&"close"!=S[0]||Ba(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Ba(t,7):Oy(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Nd(4)}catch(S){}}function vu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lu(n)||"string"==typeof n)$o(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(lu(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function ii(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(lu(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Go(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Go)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Sc(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ir(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ir(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ir(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=Ho.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==Eu(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const L=Eu(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>L)&&(3!=L||ie||this.g&&(this.h.h||this.g.ga()||Q0(this.g)))){this.I||4!=L||7==e||Nd(8==e||0>=U?3:2),Ac(this);var t=this.g.ba();this.N=t;t:if(Vd(this)){var r=Q0(this.g);n="";var o=r.length,l=4==Eu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hl(this),Ud(this);var h="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function Sy(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,I=this.g;if((g=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tl(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Gi(12),hl(this),Ud(this);break e}Ts(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yu(this,t)}this.U?(ff(this,L,h),ie&&this.i&&3==L&&(rg(this.V,this.W,"tick",this.fb),this.W.start())):(Ts(this.j,this.m,h,null),yu(this,h)),4==L&&hl(this),this.i&&!this.I&&(4==L?Ly(this.l,this):(this.i=!1,dl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),hl(this),Ud(this)}}}catch(L){}},He.fb=function(){if(this.g){var n=Eu(this.g),e=this.g.ga();this.C<e.length&&(Ac(this),ff(this,n,e),this.i&&4!=n&&dl(this))}},He.cancel=function(){this.I=!0,hl(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ig(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nd(3),Gi(17)),hl(this),this.o=2,Ud(this)):pf(this,this.Y-n)},(He=Go.prototype).R=function(){Sc(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return Sc(this),this.g.concat()},He.get=function(n,e){return ir(this.h,n)?this.h[n]:e},He.set=function(n,e){ir(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var La=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mr(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Mr){this.g=void 0!==e?e:n.g,fl(this,n.j),this.s=n.s,jd(this,n.i),_u(this,n.m),this.l=n.l,e=n.h;var t=new Rc;t.i=e.i,e.g&&(t.g=new Go(e.g),t.h=e.h),Bd(this,t),this.o=n.o}else n&&(t=String(n).match(La))?(this.g=!!e,fl(this,t[1]||"",!0),this.s=pl(t[2]||""),jd(this,t[3]||"",!0),_u(this,t[4]),this.l=pl(t[5]||"",!0),Bd(this,t[6]||"",!0),this.o=pl(t[7]||"")):(this.g=!!e,this.h=new Rc(null,this.g))}function ps(n){return new Mr(n)}function fl(n,e,t){n.j=t?pl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jd(n,e,t){n.i=t?pl(e,!0):e}function _u(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Bd(n,e,t){e instanceof Rc?(n.h=e,function vf(n,e){e&&!n.j&&(gi(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(gl(this,r),yf(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=xc(e,$d)),n.h=new Rc(e,n.g))}function Fn(n,e,t){n.h.set(e,t)}function Mc(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mf),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Mr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xc(e,og,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xc(e,og,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(xc(t,"/"==t.charAt(0)?si:ag,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xc(t,Hd)),n.join("")};var og=/[#\/\?@]/g,ag=/[#\?:]/g,si=/[#\?]/g,$d=/[#\?@]/g,Hd=/#/g;function Rc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gi(n){n.g||(n.g=new Go,n.h=0,n.i&&function gf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gl(n,e){gi(n),e=ml(n,e),ir(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ir((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Sc(n)))}function Gd(n,e){return gi(n),e=ml(n,e),ir(n.g.h,e)}function yf(n,e,t){gl(n,e),0<t.length&&(n.i=null,n.g.set(ml(n,e),xa(t)),n.h+=t.length)}function ml(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ug(n){this.l=n||lg,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=Rc.prototype).add=function(n,e){gi(this),this.i=null,n=ml(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){gi(this),this.g.forEach(function(t,r){$o(t,function(o){n.call(e,o,r,this)},this)},this)},He.T=function(){gi(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},He.R=function(n){gi(this);var e=[];if("string"==typeof n)Gd(this,n)&&(e=po(e,this.g.get(ml(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=po(e,n[t])}return e},He.set=function(n,e){return gi(this),this.i=null,Gd(this,n=ml(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var lg=10;function _f(n){return!!n.h||!!n.g&&n.g.size>=n.j}function y(n){return n.h?1:n.g?n.g.size:0}function d(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function p(n,e){n.g?n.g.add(e):n.h=e}function _(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function M(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xa(n.i)}function k(){}function Z(){this.g=new k}function me(n,e,t){const r=t||"";try{vu(n,function(o,l){let h=o;dr(o)&&(h=xd(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function st(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function _t(n){this.l=n.$b||null,this.j=n.ib||!1}function gt(n,e){ri.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ln,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ug.prototype.cancel=function(){if(this.i=M(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},k.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},k.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},Ir(_t,hf),_t.prototype.g=function(){return new gt(this.l,this.j)},_t.prototype.i=function(n){return function(){return n}}({}),Ir(gt,ri);var Ln=0;function gs(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function qo(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Va(n)}function Va(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=gt.prototype).open=function(n,e){if(this.readyState!=Ln)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Va(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qo(this)),this.readyState=Ln},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gs(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qo(this):Va(this),3==this.readyState&&gs(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,qo(this))},He.Ta=function(n){this.g&&(this.response=n,qo(this))},He.ha=function(){this.g&&qo(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nc=bt.JSON.parse;function sr(n){ri.call(this),this.headers=new Go,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cg,this.K=this.L=!1}Ir(sr,ri);var cg="",Ua=/^https?$/i,qd=["POST","PUT"];function If(n){return"content-type"==n.toLowerCase()}function Oc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dg(n),zd(n)}function dg(n){n.D||(n.D=!0,wr(n,"complete"),wr(n,"error"))}function Wd(n){if(n.h&&void 0!==Sa&&(!n.C[1]||4!=Eu(n)||2!=n.ba()))if(n.v&&4==Eu(n))af(n.Fa,0,n);else if(wr(n,"readystatechange"),4==Eu(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(La)[1]||null;if(!o&&bt.self&&bt.self.location){var l=bt.self.location.protocol;o=l.substr(0,l.length-1)}r=!Ua.test(o?o.toLowerCase():"")}t=r}if(t)wr(n,"complete"),wr(n,"success");else{n.m=6;try{var h=2<Eu(n)?n.g.statusText:""}catch(I){h=""}n.j=h+" ["+n.ba()+"]",dg(n)}}finally{zd(n)}}}function zd(n,e){if(n.g){Z0(n);const t=n.g,r=n.C[0]?hc:null;n.g=null,n.C=null,e||wr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Z0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Eu(n){return n.g?n.g.readyState:0}function Q0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Y0(n){let e="";return cu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function Kd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hg(n){this.za=0,this.l=[],this.h=new mo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kd("baseRetryDelayMs",5e3,n),this.$a=Kd("retryDelaySeedMs",1e4,n),this.Ya=Kd("forwardChannelMaxRetries",2,n),this.ra=Kd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ug(n&&n.concurrentRequestLimit),this.Ca=new Z,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Oy(n){if(Py(n),3==n.G){var e=n.V++,t=ps(n.F);Fn(t,"SID",n.J),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),Df(n,t),(e=new Ho(n,n.h,e,void 0)).K=2,e.v=Mc(ps(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Uy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dl(e)}Vy(n)}function fg(n){n.g&&(mg(n),n.g.cancel(),n.g=null)}function Py(n){fg(n),n.u&&(bt.clearTimeout(n.u),n.u=null),Zd(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function pg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ja(n)}function ja(n){_f(n.i)||n.m||(n.m=!0,sf(n.Ha,n),n.C=0)}function ky(n,e){var t;t=e?e.m:n.V++;const r=ps(n.F);Fn(r,"SID",n.J),Fn(r,"RID",t),Fn(r,"AID",n.U),Df(n,r),n.o&&n.s&&wf(r,n.o,n.s),t=new Ho(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Cf(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),p(n.i,t),Fd(t,r,e)}function Df(n,e){n.j&&vu({},function(t,r){Fn(e,r,t)})}function Cf(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Wn(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let g=!0;for(let I=0;I<t;I++){let S=o[I].h;const L=o[I].g;if(S-=l,0>S)l=Math.max(0,o[I].h-100),g=!1;else try{me(L,h,"req"+S+"_")}catch(U){r&&r(L)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function X0(n){n.g||n.u||(n.Y=1,sf(n.Ga,n),n.A=0)}function gg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=gu(Wn(n.Ga,n),bf(n,n.A)),n.A++,0))}function mg(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function Fy(n){n.g=new Ho(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ps(n.oa);Fn(e,"RID","rpc"),Fn(e,"SID",n.J),Fn(e,"CI",n.N?"0":"1"),Fn(e,"AID",n.U),Df(n,e),Fn(e,"TYPE","xmlhttp"),n.o&&n.s&&wf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Mc(ps(e)),t.s=null,t.U=!0,Ld(t,n)}function Zd(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function Ly(n,e){var t=null;if(n.g==e){Zd(n),mg(n),n.g=null;var r=2}else{if(!d(n.i,e))return;t=e.D,_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;wr(r=pu(),new Od(r,t,e,o)),ja(n)}else X0(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function J0(n,e){return!(y(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=gu(Wn(n.Ha,n,e),bf(n,n.C)),n.C++,0)))}(n,e)||2==r&&gg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ba(n,5);break;case 4:Ba(n,10);break;case 3:Ba(n,6);break;default:Ba(n,2)}}function bf(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ba(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Wn(n.jb,n);t||(t=new Mr("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||fl(t,"https"),Mc(t)),function Ze(n,e){const t=new mo;if(bt.Image){const r=new Image;r.onload=Ma(st,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ma(st,t,r,"TestLoadImage: error",!1,e),r.onabort=Ma(st,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ma(st,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gi(2);n.G=0,n.j&&n.j.va(e),Vy(n),Py(n)}function Vy(n){n.G=0,n.I=-1,n.j&&((0!=M(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xa(n.l),n.l.length=0),n.j.ua())}function yg(n,e,t){let r=function Ry(n){return n instanceof Mr?ps(n):new Mr(n,void 0)}(t);if(""!=r.i)e&&jd(r,e+"."+r.i),_u(r,r.m);else{const o=bt.location;r=function yo(n,e,t,r){var o=new Mr(null,void 0);return n&&fl(o,n),e&&jd(o,e),t&&_u(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&cu(n.aa,function(o,l){Fn(r,l,o)}),t=n.sa,(e=n.D)&&t&&Fn(r,e,t),Fn(r,"VER",n.ma),Df(n,r),r}function Uy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sr(t&&n.Ba&&!n.qa?new _t({ib:!0}):n.qa)).L=n.H,e}function vg(){}function yl(){if(B&&!(10<=Number(hs)))throw Error("Environmental error: no available transport.")}function qs(n,e){ri.call(this),this.g=new hg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!tl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qd(this)}function jy(n){Cc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eE(){bc.call(this),this.status=1}function Qd(n){this.g=n}(He=sr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pd.g(),this.C=function wc(n){return n.h||(n.h=n.i())}(this.u?this.u:Pd),this.g.onreadystatechange=Wn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Oc(this,l)}n=t||"";const o=new Go(this.headers);r&&vu(r,function(l,h){o.set(h,l)}),r=function Sd(n){e:{var e=If;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=pc(qd,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Z0(this),0<this.B&&((this.K=function Ef(n){return B&&function Na(){return function A(n){var e=rr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=nl(String(Tt)).split("."),t=nl("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=gc(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||gc(0==o[2].length,0==l[2].length)||gc(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.pa,this)):this.A=af(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Oc(this,l)}},He.pa=function(){void 0!==Sa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,wr(this,"complete"),wr(this,"abort"),zd(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),sr.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?Wd(this):this.cb())},He.cb=function(){Wd(this)},He.ba=function(){try{return 2<Eu(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nc(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=hg.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Ho(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=cs(l),il(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cf(this,o,e),Fn(t=ps(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),Df(this,t),this.o&&l&&wf(t,this.o,l),p(this.i,o),this.Ra&&Fn(t,"TYPE","init"),this.ja?(Fn(t,"$req",e),Fn(t,"SID","null"),o.$=!0,Fd(o,t,null)):Fd(o,t,e),this.G=2}}else 3==this.G&&(n?ky(this,n):0==this.l.length||_f(this.i)||ky(this))},He.Ga=function(){if(this.u=null,Fy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=gu(Wn(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gi(10),fg(this),Fy(this))},He.ab=function(){null!=this.v&&(this.v=null,fg(this),gg(this),Gi(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Gi(2)):(this.h.info("Failed to ping google.com"),Gi(1))},(He=vg.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},yl.prototype.g=function(n,e){return new qs(n,e)},Ir(qs,ri),qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sf(Wn(n.hb,n,e))),Gi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=yg(n,null,n.W),ja(n)},qs.prototype.close=function(){Oy(this.g)},qs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,pg(this.g,e)}else this.v?((e={}).__data__=xd(n),pg(this.g,e)):pg(this.g,n)},qs.prototype.M=function(){this.g.j=null,delete this.j,Oy(this.g),delete this.g,qs.Z.M.call(this)},Ir(jy,Cc),Ir(eE,bc),Ir(Qd,vg),Qd.prototype.xa=function(){wr(this.g,"a")},Qd.prototype.wa=function(n){wr(this.g,new jy(n))},Qd.prototype.va=function(n){wr(this.g,new eE(n))},Qd.prototype.ua=function(){wr(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,ll.NO_ERROR=0,ll.TIMEOUT=8,ll.HTTP_ERROR=6,My.COMPLETE="complete",sg.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",ri.prototype.listen=ri.prototype.N,sr.prototype.listenOnce=sr.prototype.O,sr.prototype.getLastError=sr.prototype.La,sr.prototype.getLastErrorCode=sr.prototype.Da,sr.prototype.getStatus=sr.prototype.ba,sr.prototype.getResponseJson=sr.prototype.Qa,sr.prototype.getResponseText=sr.prototype.ga,sr.prototype.send=sr.prototype.ea;var tE=ho.createWebChannelTransport=function(){return new yl},By=ho.getStatEventTarget=function(){return pu()},_g=ho.ErrorCode=ll,Pb=ho.EventType=My,nE=ho.Event=Gs,rE=ho.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iE=ho.FetchXmlHttpFactory=_t,Eg=ho.WebChannel=sg,DD=ho.XhrIo=sr;const vo="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Pc="9.6.10";const vl=new co.Yd("@firebase/firestore");function $y(){return vl.logLevel}function Be(n,...e){if(vl.logLevel<=co.in.DEBUG){const t=e.map(Hy);vl.debug(`Firestore (${Pc}): ${n}`,...t)}}function xr(n,...e){if(vl.logLevel<=co.in.ERROR){const t=e.map(Hy);vl.error(`Firestore (${Pc}): ${n}`,...t)}}function Tf(n,...e){if(vl.logLevel<=co.in.WARN){const t=e.map(Hy);vl.warn(`Firestore (${Pc}): ${n}`,...t)}}function Hy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function $e(n,e){n||ht()}function nt(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class qy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Iu{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sn,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const S=h;e.enqueueRetryable((0,Ce.Z)(function*(){yield S.promise,yield l(r.currentUser)}))},I=S=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sn)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e("string"==typeof r.accessToken),new Gy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(null===e||"string"==typeof e),new Si(e)}}class Wy{constructor(e,t,r){this.type="FirstParty",this.user=Si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class oE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Wy(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ig{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,Be("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e("string"==typeof t.token),this.p=t.token,new Ig(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class _o{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function wg(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_o.A=-1;class Af{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=wg(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function _l(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Dg(n){return n+"\0"}class Wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Wr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Wr(0,0))}static max(){return new Rt(new Wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function aE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yd{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends Yd{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const AD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends Yd{construct(e,t,r){return new Mi(e,t,r)}static isValidIdentifier(e){return AD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Fe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Fe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[o+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Fe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,o+=2}else"`"===g?(h=!h,o++):"."!==g||h?(r+=g,o++):(l(),o++)}if(l(),h)throw new Fe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mi(t)}static emptyPath(){return new Mi([])}}class Fc{constructor(e){this.fields=e,e.sort(Mi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new oi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new oi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const zy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if($e(!!n),"string"==typeof n){let e=0;const t=zy.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jd(n){return"string"==typeof n?oi.fromBase64String(n):oi.fromUint8Array(n)}function cE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SD(n){const e=n.mapValue.fields.__previous_value__;return cE(e)?SD(e):e}function Cg(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}class Fb{constructor(e,t,r,o,l,h,g,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=I}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}function Xd(n){return null==n}function bg(n){return 0===n&&1/n==-1/0}function wu(n){return"number"==typeof n&&Number.isInteger(n)&&!bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(vn.fromString(e))}static fromName(e){return new Qe(vn.fromString(e).popFirst(5))}static empty(){return new Qe(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new vn(e.slice()))}}const dE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ky={nullValue:"NULL_VALUE"};function Du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cE(n)?4:Tg(n)?9:10:ht()}function Wo(n,e){if(n===e)return!0;const t=Du(n);if(t!==Du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cg(n).isEqual(Cg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Lc(r.timestampValue),h=Lc(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Jd(n.bytesValue).isEqual(Jd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Rr(r.geoPointValue.latitude)===Rr(o.geoPointValue.latitude)&&Rr(r.geoPointValue.longitude)===Rr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Rr(r.integerValue)===Rr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Rr(r.doubleValue),h=Rr(o.doubleValue);return l===h?bg(l)===bg(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return _l(n.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(aE(l)!==aE(h))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===h[g]||!Wo(l[g],h[g])))return!1;return!0}(n,e);default:return ht()}var o}function Vc(n,e){return void 0!==(n.values||[]).find(t=>Wo(t,e))}function Il(n,e){if(n===e)return 0;const t=Du(n),r=Du(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Rr(o.integerValue||o.doubleValue),g=Rr(l.integerValue||l.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return Cu(n.timestampValue,e.timestampValue);case 4:return Cu(Cg(n),Cg(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Jd(o),g=Jd(l);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),g=l.split("/");for(let I=0;I<h.length&&I<g.length;I++){const S=Zt(h[I],g[I]);if(0!==S)return S}return Zt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Zt(Rr(o.latitude),Rr(l.latitude));return 0!==h?h:Zt(Rr(o.longitude),Rr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],g=l.values||[];for(let I=0;I<h.length&&I<g.length;++I){const S=Il(h[I],g[I]);if(S)return S}return Zt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},g=Object.keys(h),I=l.fields||{},S=Object.keys(I);g.sort(),S.sort();for(let L=0;L<g.length&&L<S.length;++L){const U=Zt(g[L],S[L]);if(0!==U)return U;const Q=Il(h[g[L]],I[S[L]]);if(0!==Q)return Q}return Zt(g.length,S.length)}(n.mapValue,e.mapValue);default:throw ht()}}function Cu(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Lc(n),r=Lc(e),o=Zt(t.seconds,r.seconds);return 0!==o?o:Zt(t.nanos,r.nanos)}function Uc(n){return Zy(n)}function Zy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Lc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jd(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Zy(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const g of o)h?h=!1:l+=",",l+=`${g}:${Zy(r.fields[g])}`;return l+"}"}(n.mapValue):ht();var e}function wl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qy(n){return!!n&&"integerValue"in n}function eh(n){return!!n&&"arrayValue"in n}function hE(n){return!!n&&"nullValue"in n}function fE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dl(n){return!!n&&"mapValue"in n}function $a(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$a(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Tg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function jc(n,e){return void 0===n?e:void 0===e||Il(n,e)>0?n:e}function th(n,e){return void 0===n?e:void 0===e||Il(n,e)<0?n:e}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=Mi.emptyPath(),r={},o=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const I=this.getFieldsMap(t);this.applyChanges(I,r,o),r={},o=[],t=g.popLast()}h?r[g.lastSegment()]=$a(h):o.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Dl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Nr($a(this.value))}}function pE(n){const e=[];return kc(n.fields,(t,r)=>{const o=new Mi([t]);if(Dl(r)){const l=pE(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Fc(e)}class Bn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Bn(e,0,Rt.min(),Rt.min(),Nr.empty(),0)}static newFoundDocument(e,t,r){return new Bn(e,1,t,Rt.min(),r,0)}static newNoDocument(e,t){return new Bn(e,2,t,Rt.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Rt.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Mf(n){return n.fields.find(e=>2===e.kind)}function Cl(n){return n.fields.filter(e=>2!==e.kind)}Sf.UNKNOWN_ID=-1;class xf{constructor(e,t){this.fieldPath=e,this.kind=t}}class bl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bl(0,Tl.min())}}function gE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(1e9===r?new Wr(t+1,0):new Wr(t,r));return new Tl(o,Qe.empty(),e)}function mE(n){return new Tl(n.readTime,n.key,-1)}class Tl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Tl(Rt.min(),Qe.empty(),-1)}static max(){return new Tl(Rt.max(),Qe.empty(),-1)}}function yE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class vE{constructor(e,t=null,r=[],o=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=g,this.P=null}}function _E(n,e=null,t=[],r=[],o=null,l=null,h=null){return new vE(n,e,t,r,o,l,h)}function Al(n){const e=nt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Uc(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uc(r)).join(",")),e.P=t}return e.P}function Rf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!wE(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jy(n.startAt,e.startAt)&&Jy(n.endAt,e.endAt)}function qi(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ag(n,e){return n.filters.filter(t=>t instanceof xi&&t.field.isEqual(e))}class xi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Lb(e,t,r):"array-contains"===t?new RD(e,r):"in"===t?new Yy(e,r):"not-in"===t?new IE(e,r):"array-contains-any"===t?new ND(e,r):new xi(e,t,r)}static V(e,t,r){return"in"===t?new Vb(e,r):new EE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Il(t,this.value)):null!==t&&Du(this.value)===Du(t)&&this.v(Il(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Lb extends xi{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class Vb extends xi{constructor(e,t){super(e,"in",t),this.keys=xD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EE extends xi{constructor(e,t){super(e,"not-in",t),this.keys=xD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class RD extends xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eh(t)&&Vc(t.arrayValue,this.value)}}class Yy extends xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vc(this.value.arrayValue,t)}}class IE extends xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vc(this.value.arrayValue,t)}}class ND extends xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}}class Sl{constructor(e,t){this.position=e,this.inclusive=t}}class nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function wE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function DE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Qe.comparator(Qe.fromName(h.referenceValue),t.key):Il(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Jy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wo(n.position[t],e.position[t]))return!1;return!0}class bu{constructor(e,t=null,r=[],o=[],l=null,h="F",g=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=I,this.D=null,this.C=null}}function CE(n,e,t,r,o,l,h,g){return new bu(n,e,t,r,o,l,h,g)}function Bc(n){return new bu(n)}function Nf(n){return!Xd(n.limit)&&"F"===n.limitType}function Sg(n){return!Xd(n.limit)&&"L"===n.limitType}function Eo(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Of(n){for(const e of n.filters)if(e.S())return e.field;return null}function Xy(n){return null!==n.collectionGroup}function rh(n){const e=nt(n);if(null===e.D){e.D=[];const t=Of(e),r=Eo(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new nh(t)),e.D.push(new nh(Mi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new nh(Mi.keyField(),l))}}}return e.D}function zo(n){const e=nt(n);if(!e.C)if("F"===e.limitType)e.C=_E(e.path,e.collectionGroup,rh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of rh(e))t.push(new nh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Sl(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Sl(e.startAt.position,!e.startAt.inclusive):null;e.C=_E(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function ev(n,e,t){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pf(n,e){return Rf(zo(n),zo(e))&&n.limitType===e.limitType}function bE(n){return`${Al(zo(n))}|lt:${n.limitType}`}function tv(n){return`Query(target=${function MD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Uc(r.value)}`;var r}).join(", ")}]`),Xd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Uc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Uc(t)).join(",")),`Target(${e})`}(zo(n))}; limitType=${n.limitType})`}function kf(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const g=DE(o,l,h);return o.inclusive?g<=0:g<0}(t.startAt,rh(t),r)||t.endAt&&!function(o,l,h){const g=DE(o,l,h);return o.inclusive?g>=0:g>0}(t.endAt,rh(t),r)));var t,r}function TE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AE(n){return(e,t)=>{let r=!1;for(const o of rh(n)){const l=Mg(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function Mg(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,l,h){const g=l.data.field(o),I=h.data.field(o);return null!==g&&null!==I?Il(g,I):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}function xg(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(e)?"-0":e}}function SE(n){return{integerValue:""+n}}function Rg(n,e){return wu(e)?SE(e):xg(n,e)}class ih{constructor(){this._=void 0}}function ME(n,e,t){return n instanceof Ml?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof sh?RE(n,e):n instanceof xl?nv(n,e):function(r,o){const l=xE(r,o),h=rv(l)+rv(r.k);return Qy(l)&&Qy(r.k)?SE(h):xg(r.M,h)}(n,e)}function OD(n,e,t){return n instanceof sh?RE(n,e):n instanceof xl?nv(n,e):t}function xE(n,e){return n instanceof $c?Qy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ml extends ih{}class sh extends ih{constructor(e){super(),this.elements=e}}function RE(n,e){const t=iv(e);for(const r of n.elements)t.some(o=>Wo(o,r))||t.push(r);return{arrayValue:{values:t}}}class xl extends ih{constructor(e){super(),this.elements=e}}function nv(n,e){let t=iv(e);for(const r of n.elements)t=t.filter(o=>!Wo(o,r));return{arrayValue:{values:t}}}class $c extends ih{constructor(e,t){super(),this.M=e,this.k=t}}function rv(n){return Rr(n.integerValue||n.doubleValue)}function iv(n){return eh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ws{constructor(e,t){this.field=e,this.transform=t}}class NE{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hc{}function OE(n,e,t){n instanceof oh?function(r,o,l){const h=r.value.clone(),g=kE(r.fieldTransforms,o,l.transformResults);h.setAll(g),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Tu?function(r,o,l){if(!sv(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=kE(r.fieldTransforms,o,l.transformResults),g=o.data;g.setAll(ov(r)),g.setAll(h),o.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ff(n,e,t){var o;n instanceof oh?function(r,o,l){if(!sv(r.precondition,o))return;const h=r.value.clone(),g=Pg(r.fieldTransforms,l,o);h.setAll(g),o.convertToFoundDocument(Og(o),h).setHasLocalMutations()}(n,e,t):n instanceof Tu?function(r,o,l){if(!sv(r.precondition,o))return;const h=Pg(r.fieldTransforms,l,o),g=o.data;g.setAll(ov(r)),g.setAll(h),o.convertToFoundDocument(Og(o),g).setHasLocalMutations()}(n,e,t):sv(n.precondition,o=e)&&o.convertToNoDocument(Rt.min())}function Lf(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=xE(r.transform,o||null);null!=l&&(null==t&&(t=Nr.empty()),t.set(r.field,l))}return t||null}function PE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_l(t,r,(o,l)=>function Ng(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sh&&r instanceof sh||t instanceof xl&&r instanceof xl?_l(t.elements,r.elements,Wo):t instanceof $c&&r instanceof $c?Wo(t.k,r.k):t instanceof Ml&&r instanceof Ml);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Og(n){return n.isFoundDocument()?n.version:Rt.min()}class oh extends Hc{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Tu extends Hc{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function ov(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kE(n,e,t){const r=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,g=e.data.field(l.field);r.set(l.field,OD(h,g,t[o]))}return r}function Pg(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,ME(l,h,e))}return r}class Vf extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class av extends Hc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class FE{constructor(e){this.count=e}}var Kn,un;function LE(n){switch(n){default:return ht();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function VE(n){if(void 0===n)return xr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Kn.OK:return ve.OK;case Kn.CANCELLED:return ve.CANCELLED;case Kn.UNKNOWN:return ve.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return ve.INTERNAL;case Kn.UNAVAILABLE:return ve.UNAVAILABLE;case Kn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Kn.NOT_FOUND:return ve.NOT_FOUND;case Kn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Kn.ABORTED:return ve.ABORTED;case Kn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Kn.DATA_LOSS:return ve.DATA_LOSS;default:return ht()}}(un=Kn||(Kn={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}class Pr{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Ri.RED,this.left=null!=o?o:Ri.EMPTY,this.right=null!=l?l:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ri.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ks(this.data.getIterator())}getIteratorFrom(e){return new Ks(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class Ks{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(n){return n.hasNext()?n.getNext():void 0}const UE=new Pr(Qe.comparator);function Zs(){return UE}const jE=new Pr(Qe.comparator);function Fg(){return jE}function Uf(){return new zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const BE=new Pr(Qe.comparator),PD=new Zn(Qe.comparator);function bn(...n){let e=PD;for(const t of n)e=e.add(t);return e}const uv=new Zn(Zt);function lv(){return uv}class ah{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,t)),new ah(Rt.min(),r,lv(),Zs(),bn())}}class jf{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new jf(oi.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class Lg{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class kD{constructor(e,t){this.targetId=e,this.$=t}}class FD{constructor(e,t,r=oi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Vg{constructor(){this.B=0,this.L=dv(),this.U=oi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=bn(),t=bn(),r=bn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ht()}}),new jf(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=dv()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class LD{constructor(e){this.nt=e,this.st=new Map,this.it=Zs(),this.rt=cv(),this.ot=new Zn(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(qi(l))if(0===r){const h=new Qe(l.path);this.ct(t,h,Bn.newNoDocument(h,Rt.min()))}else $e(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const g=this.wt(h);if(g){if(l.current&&qi(g.target)){const I=new Qe(g.target.path);null!==this.it.get(I)||this.It(h,I)||this.ct(h,I,Bn.newNoDocument(I,e))}l.j&&(t.set(h,l.H()),l.J())}});let r=bn();this.rt.forEach((l,h)=>{let g=!0;h.forEachWhile(I=>{const S=this.wt(I);return!S||2===S.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new ah(e,t,this.ot,this.it,r);return this.it=Zs(),this.rt=cv(),this.ot=new Zn(Zt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Vg,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Zn(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Vg),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function cv(){return new Pr(Qe.comparator)}function dv(){return new Pr(Qe.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},Io={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ub{constructor(e,t){this.databaseId=e,this.N=t}}function Bf(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hv(n,e){return n.N?e.toBase64():e.toUint8Array()}function $E(n,e){return Bf(n,e.toTimestamp())}function ai(n){return $e(!!n),Rt.fromTimestamp(function(e){const t=Lc(e);return new Wr(t.seconds,t.nanos)}(n))}function Ug(n,e){return(t=n,new vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HE(n){const e=vn.fromString(n);return $e(Gc(e)),e}function uh(n,e){return Ug(n.databaseId,e.path)}function wo(n,e){const t=HE(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(GE(t))}function fv(n,e){return Ug(n.databaseId,e)}function jg(n){const e=HE(n);return 4===e.length?vn.emptyPath():GE(e)}function $f(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GE(n){return $e(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qE(n,e,t){return{name:uh(n,e),fields:t.value.mapValue.fields}}function WE(n,e,t){const r=wo(n,e.name),o=ai(e.updateTime),l=new Nr({mapValue:{fields:e.fields}}),h=Bn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Nl(n,e){let t;if(e instanceof oh)t={update:qE(n,e.key,e.value)};else if(e instanceof Vf)t={delete:uh(n,e.key)};else if(e instanceof Tu)t={update:qE(n,e.key,e.data),updateMask:ch(e.fieldMask)};else{if(!(e instanceof av))return ht();t={verify:uh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Ml)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $c)return{fieldPath:l.field.canonicalString(),increment:h.k};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:$E(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ht()),t;var o}function Ol(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Or.updateTime(ai(o.updateTime)):void 0!==o.exists?Or.exists(o.exists):Or.none():Or.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let g=null;"setToServerValue"in h?($e("REQUEST_TIME"===h.setToServerValue),g=new Ml):"appendMissingElements"in h?g=new sh(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new xl(h.removeAllFromArray.values||[]):"increment"in h?g=new $c(l,h.increment):ht();const I=Mi.fromServerFormat(h.fieldPath);return new Ws(I,g)}(n,o)):[];var o;if(e.update){const o=wo(n,e.update.name),l=new Nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Fc((e.updateMask.fieldPaths||[]).map(S=>Mi.fromServerFormat(S)));return new Tu(o,l,h,t,r)}return new oh(o,l,t,r)}if(e.delete){const o=wo(n,e.delete);return new Vf(o,t)}if(e.verify){const o=wo(n,e.verify);return new av(o,t)}return ht()}function lh(n,e){return{documents:[fv(n,e.path)]}}function ZE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=fv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=fv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(I){if(0===I.length)return;const S=I.map(L=>function(U){if("=="===U.op){if(fE(U.value))return{unaryFilter:{field:Do(U.field),op:"IS_NAN"}};if(hE(U.value))return{unaryFilter:{field:Do(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(fE(U.value))return{unaryFilter:{field:Do(U.field),op:"IS_NOT_NAN"}};if(hE(U.value))return{unaryFilter:{field:Do(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(U.field),op:Wi(U.op),value:U.value}}}(L));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(I){if(0!==I.length)return I.map(S=>{return{field:Do((L=S).field),direction:Hf(L.dir)};var L})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.N||Xd(S)?S:{value:S});var S,g,I;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function QE(n){let e=jg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){$e(1===r);const L=t.from[0];L.allDescendants?o=L.collectionId:e=e.child(L.collectionId)}let l=[];t.where&&(l=Ko(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new nh(Au((U=L).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let g=null;t.limit&&(g=function(L){let U;return U="object"==typeof L?L.value:L,Xd(U)?null:U}(t.limit));let I=null;var L;t.startAt&&(I=new Sl((L=t.startAt).values||[],!!L.before));let S=null;return t.endAt&&(S=function(L){return new Sl(L.values||[],!L.before)}(t.endAt)),CE(e,o,h,l,g,"F",I,S)}function Ko(n){return n?void 0!==n.unaryFilter?[gv(n)]:void 0!==n.fieldFilter?[Co(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ko(e)).reduce((e,t)=>e.concat(t)):ht():[]}function Hf(n){return VD[n]}function Wi(n){return Io[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Au(n){return Mi.fromServerFormat(n.fieldPath)}function Co(n){return xi.create(Au(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function gv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Au(n.unaryFilter.field);return xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Au(n.unaryFilter.field);return xi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Au(n.unaryFilter.field);return xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Au(n.unaryFilter.field);return xi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function ch(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gc(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function hr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qc(e)),e=dh(n.get(t),e);return qc(e)}function dh(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function qc(n){return n+"\x01\x01"}function zi(n){const e=n.length;if($e(e>=2),2===e)return $e("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&ht(),n.charAt(h+1)){case"\x01":const g=n.substring(l,h);let I;0===o.length?I=g:(o+=g,I=o,o=""),r.push(I);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ht()}l=h+2}return new vn(r)}const Wc=["userId","batchId"];function Su(n,e){return[n,hr(e)]}function zc(n,e,t){return[n,hr(e),t]}const mv={},yv=["prefixPath","collectionGroup","readTime","documentId"],vv=["prefixPath","collectionGroup","documentId"],_v=["collectionGroup","readTime","prefixPath","documentId"],Ev=["canonicalId","targetId"],Iv=["targetId","path"],wv=["path","targetId"],Dv=["collectionId","parent"],Cv=["indexId","uid"],jD=["uid","sequenceNumber"],YE=["indexId","uid","arrayValue","directionalValue","documentKey"],JE=["indexId","uid","documentKey"],XE=["userId","collectionPath","documentId"],eI=["userId","collectionPath","largestBatchId"],BD=["userId","collectionGroup","largestBatchId"],tI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nI=[...tI,"documentOverlays"],rI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iI=[...rI,"indexConfiguration","indexState","indexEntries"],sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,r)=>{t(e)})}static reject(e){return new De((t,r)=>{r(e)})}static waitFor(e){return new De((t,r)=>{let o=0,l=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++l,h&&l===o&&t()},I=>r(I))}),h=!0,l===o&&t()})}static or(e){let t=De.resolve(!1);for(const r of e)t=t.next(o=>o?De.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Bg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Sn,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Gf(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=$g(r.target.error);this.At.reject(new Gf(e,o))}}static open(e,t,r,o){try{return new Bg(t,e.transaction(o,r))}catch(l){throw new Gf(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $D(t)}}class Qs{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Qs.Vt((0,$t.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Zc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,$t.hl)())return!1;if(Qs.St())return!0;const e=(0,$t.z$)(),t=Qs.Vt(e),r=0<t&&t<10,o=Qs.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Gf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const g=h.target.error;o("VersionError"===g.name?new Fe(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Fe(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Gf(e,g))},l.onupgradeneeded=h=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Ce.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.Nt(e);const I=Bg.open(l.db,e,h?"readonly":"readwrite",r),S=o(I).next(L=>(I.bt(),L)).catch(L=>(I.abort(L),De.reject(L))).toPromise();return S.catch(()=>{}),yield I.Rt,S}catch(I){const S="FirebaseError"!==I.name&&g<3;if(Be("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),l.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bv{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Zc(this.Ft.delete())}}class Gf extends Fe{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kc(n){return"IndexedDbTransactionError"===n.name}class $D{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zc(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Zc(this.store.add(e))}get(e){return Zc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Zc(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Zc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(h,g)=>{l.push(g)}).next(()=>l)}{const o=this.store.getAll(r.range);return new De((l,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new De((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,h,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new De((r,o)=>{t.onerror=l=>{const h=$g(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new De((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void o();const I=new bv(g),S=t(g.primaryKey,g.value,I);if(S instanceof De){const L=S.catch(U=>(I.done(),De.reject(U)));r.push(L)}I.isDone?o():null===I.Lt?g.continue():g.continue(I.Lt)}}).next(()=>De.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zc(n){return new De((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=$g(r.target.error);t(o)}})}let aI=!1;function $g(n){const e=Qs.Vt((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aI||(aI=!0,setTimeout(()=>{throw r},0)),r}}return n}class uI extends oI{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function mi(n,e){const t=nt(n);return Qs.xt(t.Ht,e)}class Zo{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&OE(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ff(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ff(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,(t,r)=>PE(t,r))&&_l(this.baseMutations,e.baseMutations,(t,r)=>PE(t,r))}}class Tv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){$e(e.mutations.length===r.length);let o=BE;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Tv(e,t,r,o)}}class Hg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pl{constructor(e,t,r,o,l=Rt.min(),h=Rt.min(),g=oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Av{constructor(e){this.Jt=e}}function lI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:uh(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Bf(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:kl(e.version)}}var o,l;return r}function qf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qc(n){const e=new Wr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function hh(n,e){const t=(e.baseMutations||[]).map(l=>Ol(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Ol(n.Jt,l)),o=Wr.fromMillis(e.localWriteTimeMs);return new Zo(e.batchId,o,t,r)}function Wf(n){const e=Qc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qc(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var o;return void 0!==n.query.documents?($e(1===(o=n.query).documents.length),r=zo(Bc(jg(o.documents[0])))):r=zo(QE(n.query)),new Pl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,oi.fromBase64String(n.resumeToken))}function cI(n,e){const t=kl(e.snapshotVersion),r=kl(e.lastLimboFreeSnapshotVersion);let o;o=qi(e.target)?lh(n.Jt,e.target):ZE(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function qg(n){const e=QE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ev(e,e.limit,"L"):e}function Sv(n,e){return new Hg(e.largestBatchId,Ol(n.Jt,e.overlayMutation))}function Mv(n,e){const t=e.path.lastSegment();return[n,hr(e.path.popLast()),t]}class dI{getBundleMetadata(e,t){return Wg(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Qc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Wg(e).put({bundleId:(r=t).id,createTime:kl(ai(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return fh(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:qg(o.bundledQuery),readTime:Qc(o.readTime)};var o})}saveNamedQuery(e,t){return fh(e).put({name:(r=t).name,readTime:kl(ai(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Wg(n){return mi(n,"bundles")}function fh(n){return mi(n,"namedQueries")}class Fl{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Fl(e,t.uid||"")}getOverlay(e,t){return zf(e).get(Mv(this.userId,t)).next(r=>r?Sv(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const g=new Hg(t,h);o.push(this.Xt(e,g))}),De.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(hr(h.getCollectionPath())));const l=[];return o.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(zf(e).Qt("collectionPathOverlayIndex",g))}),De.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Uf(),l=hr(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return zf(e).qt("collectionPathOverlayIndex",h).next(g=>{for(const I of g){const S=Sv(this.M,I);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Uf();let h;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zf(e).Wt({index:"collectionGroupOverlayIndex",range:g},(I,S,L)=>{const U=Sv(this.M,S);l.size()<o||U.largestBatchId===h?(l.set(U.getKey(),U),h=U.largestBatchId):L.done()}).next(()=>l)}Xt(e,t){return zf(e).put(function(r,o,l){const[h,g,I]=Mv(o,l.mutation.key);return{userId:o,collectionPath:g,documentId:I,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Nl(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function zf(n){return mi(n,"documentOverlays")}class ph{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Rr(e.integerValue));else if("doubleValue"in e){const r=Rr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),bg(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Jd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Tg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ht()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Kf(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function xv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=Kf(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}ph.fe=new ph;class Rv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=xv(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=xv(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Nv{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class HD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Yc{constructor(){this.De=new Rv,this.Ce=new Nv(this.De),this.xe=new HD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qo{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qo(this.indexId,this.documentKey,this.arrayValue,r)}}function Mu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=GD(n.arrayValue,e.arrayValue),0!==t?t:(t=GD(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function GD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class qD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Mf(e);if(void 0!==t&&!this.Be(t))return!1;const r=Cl(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zg{constructor(){this.qe=new gh}addToCollectionParentIndex(e,t){return this.qe.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getFieldIndex(e,t){return De.resolve(null)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}updateCollectionGroup(e,t,r){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class gh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Zn(vn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Zn(vn.comparator)).toArray()}}const mh=new Uint8Array(0);class hI{constructor(e){this.user=e,this.Ge=new gh,this.Ke=new zs(t=>Al(t),(t,r)=>Rf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:hr(o)};return Kg(e).put(l)}return De.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Dg(t),""],!1,!0);return Kg(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(zi(h.parent))}return r})}addFieldIndex(e,t){const r=Zf(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Zf(e),o=vh(e),l=yh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=yh(e);let o=!0;const l=new Map;return De.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(g=>{o&&(o=!!g),l.set(h,g)})).next(()=>{if(o){let h=bn();return De.forEach(l,(g,I)=>{var S;Be("IndexedDbIndexManager",`Using index ${S=g,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Al(t)}`);const L=function(Nt,pr){const Ht=Mf(pr);if(void 0===Ht)return null;for(const pn of Ag(Nt,Ht.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(I,g),U=function(Nt,pr){const Ht=new Map;for(const pn of Cl(pr))for(const tn of Ag(Nt,pn.fieldPath))switch(tn.op){case"==":case"in":Ht.set(pn.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return Ht.set(pn.fieldPath.canonicalString(),tn.value),Array.from(Ht.values())}return null}(I,g),Q=function(Nt,pr){const Ht=[];let pn=!0;for(const Xl of Cl(pr)){let ra,Wp=!0;for(const ki of Ag(Nt,Xl.fieldPath)){let Lr,wy=!0;switch(ki.op){case"<":case"<=":Lr="nullValue"in(tn=ki.value)?Ky:"booleanValue"in tn?{booleanValue:!1}:"integerValue"in tn||"doubleValue"in tn?{doubleValue:NaN}:"timestampValue"in tn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in tn?{stringValue:""}:"bytesValue"in tn?{bytesValue:""}:"referenceValue"in tn?wl(El.empty(),Qe.empty()):"geoPointValue"in tn?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in tn?{arrayValue:{}}:"mapValue"in tn?{mapValue:{}}:ht();break;case"==":case"in":case">=":Lr=ki.value;break;case">":Lr=ki.value,wy=!1;break;case"!=":case"not-in":Lr=Ky}jc(ra,Lr)===Lr&&(ra=Lr,Wp=wy)}if(null!==Nt.startAt)for(let ki=0;ki<Nt.orderBy.length;++ki)if(Nt.orderBy[ki].field.isEqual(Xl.fieldPath)){const Lr=Nt.startAt.position[ki];jc(ra,Lr)===Lr&&(ra=Lr,Wp=Nt.startAt.inclusive);break}if(void 0===ra)return null;Ht.push(ra),pn&&(pn=Wp)}var tn;return new Sl(Ht,pn)}(I,g),ge=function(Nt,pr){const Ht=[];let pn=!0;for(const Xl of Cl(pr)){let ra,Wp=!0;for(const ki of Ag(Nt,Xl.fieldPath)){let Lr,wy=!0;switch(ki.op){case">=":case">":Lr="nullValue"in(tn=ki.value)?{booleanValue:!1}:"booleanValue"in tn?{doubleValue:NaN}:"integerValue"in tn||"doubleValue"in tn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in tn?{stringValue:""}:"stringValue"in tn?{bytesValue:""}:"bytesValue"in tn?wl(El.empty(),Qe.empty()):"referenceValue"in tn?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in tn?{arrayValue:{}}:"arrayValue"in tn?{mapValue:{}}:"mapValue"in tn?dE:ht(),wy=!1;break;case"==":case"in":case"<=":Lr=ki.value;break;case"<":Lr=ki.value,wy=!1;break;case"!=":case"not-in":Lr=dE}th(ra,Lr)===Lr&&(ra=Lr,Wp=wy)}if(null!==Nt.endAt)for(let ki=0;ki<Nt.orderBy.length;++ki)if(Nt.orderBy[ki].field.isEqual(Xl.fieldPath)){const Lr=Nt.endAt.position[ki];th(ra,Lr)===Lr&&(ra=Lr,Wp=Nt.endAt.inclusive);break}if(void 0===ra)return null;Ht.push(ra),pn&&(pn=Wp)}var tn;return new Sl(Ht,pn)}(I,g),Re=this.je(g,I,Q),et=this.je(g,I,ge),St=this.We(g,I,U),Tn=this.ze(g.indexId,L,Re,!!Q&&Q.inclusive,et,!!ge&&ge.inclusive,St);return De.forEach(Tn,Nt=>r.Kt(Nt,t.limit).next(pr=>{pr.forEach(Ht=>{h=h.add(new Qe(zi(Ht.documentKey)))})}))}).next(()=>h)}return De.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,h,g){const I=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),S=I/(null!=t?t.length:1),L=[];for(let U=0;U<I;++U){const Q=t?this.He(t[U/S]):mh,ge=r?this.Je(e,Q,r[U%S],o):this.Ye(e),Re=l?this.Xe(e,Q,l[U%S],h):this.Ye(e+1);L.push(...this.createRange(ge,Re,g.map(et=>this.Je(e,Q,et,!0))))}return L}Je(e,t,r,o){const l=new Qo(e,Qe.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Qo(e,Qe.empty(),t,r);return o?l.ke():l}Ye(e){return new Qo(e,Qe.empty(),mh,mh)}getFieldIndex(e,t){const r=new qD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const h=l.filter(g=>r.$e(g));return h.sort((g,I)=>I.fields.length-g.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new Yc;for(const o of Cl(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Ne(o.kind);ph.fe.Zt(l,h)}return r.Se()}He(e){const t=new Yc;return ph.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Yc);let l=0;for(const h of Cl(e)){const g=r[l++];for(const I of o)if(this.tn(t,h.fieldPath)&&eh(g))o=this.en(o,h,g);else{const S=I.Ne(h.kind);ph.fe.Zt(g,S)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const g of o){const I=new Yc;I.seed(g.Se()),ph.fe.Zt(h,I.Ne(t.kind)),l.push(I)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof xi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zf(e),o=vh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const h=[];return De.forEach(l,g=>o.get([g.indexId,this.uid]).next(I=>{h.push(function(S,L){const U=L?new bl(L.sequenceNumber,new Tl(Qc(L.readTime),new Qe(zi(L.documentKey)),L.largestBatchId)):bl.empty(),Q=S.fields.map(([ge,Re])=>new xf(Mi.fromServerFormat(ge),Re));return new Sf(S.indexId,S.collectionGroup,Q,U)}(g,I))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Zt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Zf(e),l=vh(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>De.forEach(g,I=>{return l.put({indexId:I.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:kl((Q=r).readTime),documentKey:hr(Q.documentKey.path),largestBatchId:Q.largestBatchId});var Q})))}updateIndexEntries(e,t){const r=new Map;return De.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?De.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),De.forEach(g,I=>this.rn(e,o,I).next(S=>{const L=this.on(l,I);return S.isEqual(L)?De.resolve():this.un(e,l,S,L)}))))})}an(e,t,r){return yh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:hr(t.key.path)})}cn(e,t,r){return yh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,hr(t.key.path)])}rn(e,t,r){const o=yh(e);let l=new Zn(Mu);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,hr(t.path)])},(h,g)=>{l=l.add(new Qo(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}on(e,t){let r=new Zn(Mu);const o=this.Ze(t,e);if(null==o)return r;const l=Mf(t);if(null!=l){const h=e.data.field(l.fieldPath);if(eh(h))for(const g of h.arrayValue.values||[])r=r.add(new Qo(t.indexId,e.key,this.He(g),o))}else r=r.add(new Qo(t.indexId,e.key,mh,o));return r}un(e,t,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,g,I,S,L){const U=h.getIterator(),Q=g.getIterator();let ge=Rl(U),Re=Rl(Q);for(;ge||Re;){let et=!1,St=!1;if(ge&&Re){const Tn=I(ge,Re);Tn<0?St=!0:Tn>0&&(et=!0)}else null!=ge?St=!0:et=!0;et?(S(Re),Re=Rl(Q)):St?(L(ge),ge=Rl(U)):(ge=Rl(U),Re=Rl(Q))}}(r,o,Mu,h=>{l.push(this.an(e,t,h))},h=>{l.push(this.cn(e,t,h))}),De.waitFor(l)}sn(e){let t=1;return vh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,g)=>Mu(h,g)).filter((h,g,I)=>!g||0!==Mu(h,I[g-1]));const o=[];o.push(e);for(const h of r){const g=Mu(h,e),I=Mu(h,t);if(0===g)o[0]=e.ke();else if(g>0&&I<0)o.push(h),o.push(h.ke());else if(I>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return l}}function Kg(n){return mi(n,"collectionParents")}function yh(n){return mi(n,"indexEntries")}function Zf(n){return mi(n,"indexConfiguration")}function vh(n){return mi(n,"indexState")}const Zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ov(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let g=0;const I=r.Wt({range:h},(L,U,Q)=>(g++,Q.delete()));l.push(I.next(()=>{$e(1===g)}));const S=[];for(const L of t.mutations){const U=zc(e,L.key.path,t.batchId);l.push(o.delete(U)),S.push(L.key)}return De.waitFor(l).next(()=>S)}function Qf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class Yf{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){$e(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Yf(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).Wt({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Jc(e),h=Ll(e);return h.add({}).next(g=>{$e("number"==typeof g);const I=new Zo(g,t,r,o),S=function(Q,ge,Re){const et=Re.baseMutations.map(Tn=>Nl(Q.Jt,Tn)),St=Re.mutations.map(Tn=>Nl(Q.Jt,Tn));return{userId:ge,batchId:Re.batchId,localWriteTimeMs:Re.localWriteTime.toMillis(),baseMutations:et,mutations:St}}(this.M,this.userId,I),L=[];let U=new Zn((Q,ge)=>Zt(Q.canonicalString(),ge.canonicalString()));for(const Q of o){const ge=zc(this.userId,Q.key.path,g);U=U.add(Q.key.path.popLast()),L.push(h.put(S)),L.push(l.put(ge,mv))}return U.forEach(Q=>{L.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.hn[g]=I.keys()}),De.waitFor(L).next(()=>I)})}lookupMutationBatch(e,t){return Ll(e).get(t).next(r=>r?($e(r.userId===this.userId),hh(this.M,r)):null)}ln(e,t){return this.hn[t]?De.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ll(e).Wt({index:"userMutationsIndex",range:o},(h,g,I)=>{g.userId===this.userId&&($e(g.batchId>=r),l=hh(this.M,g)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ll(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).qt("userMutationsIndex",t).next(r=>r.map(o=>hh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Su(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Jc(e).Wt({range:o},(h,g,I)=>{const[S,L,U]=h,Q=zi(L);if(S===this.userId&&t.path.isEqual(Q))return Ll(e).get(U).next(ge=>{if(!ge)throw ht();$e(ge.userId===this.userId),l.push(hh(this.M,ge))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zn(Zt);const o=[];return t.forEach(l=>{const h=Su(this.userId,l.path),g=IDBKeyRange.lowerBound(h),I=Jc(e).Wt({range:g},(S,L,U)=>{const[Q,ge,Re]=S,et=zi(ge);Q===this.userId&&l.path.isEqual(et)?r=r.add(Re):U.done()});o.push(I)}),De.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Su(this.userId,r),h=IDBKeyRange.lowerBound(l);let g=new Zn(Zt);return Jc(e).Wt({range:h},(I,S,L)=>{const[U,Q,ge]=I,Re=zi(Q);U===this.userId&&r.isPrefixOf(Re)?Re.length===o&&(g=g.add(ge)):L.done()}).next(()=>this.fn(e,g))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Ll(e).get(l).next(h=>{if(null===h)throw ht();$e(h.userId===this.userId),r.push(hh(this.M,h))}))}),De.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Ov(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),De.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Jc(e).Wt({range:r},(l,h,g)=>{if(l[0]===this.userId){const I=zi(l[1]);o.push(I)}else g.done()}).next(()=>{$e(0===o.length)})})}containsKey(e,t){return Pv(e,this.userId,t)}_n(e){return kv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pv(n,e,t){const r=Su(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Jc(n).Wt({range:l,jt:!0},(g,I,S)=>{const[L,U,Q]=g;L===e&&U===o&&(h=!0),S.done()}).next(()=>h)}function Ll(n){return mi(n,"mutations")}function Jc(n){return mi(n,"documentMutations")}function kv(n){return mi(n,"mutationQueues")}class xu{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new xu(0)}static gn(){return new xu(-1)}}class Qg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new xu(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Rt.fromTimestamp(new Wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vl(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>($e(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Vl(e).Wt((h,g)=>{const I=Wf(g);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(o++,l.push(this.removeTargetData(e,I)))}).next(()=>De.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Vl(e).Wt((r,o)=>{const l=Wf(o);t(l)})}yn(e){return Yg(e).get("targetGlobalKey").next(t=>($e(null!==t),t))}pn(e,t){return Yg(e).put("targetGlobalKey",t)}In(e,t){return Vl(e).put(cI(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Al(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Vl(e).Wt({range:o,index:"queryTargetsIndex"},(h,g,I)=>{const S=Wf(g);Rf(t,S.target)&&(l=S,I.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Ha(e);return t.forEach(h=>{const g=hr(h.path);o.push(l.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,h))}),De.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ha(e);return De.forEach(t,l=>{const h=hr(l.path);return De.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ha(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ha(e);let l=bn();return o.Wt({range:r,jt:!0},(h,g,I)=>{const S=zi(h[1]),L=new Qe(S);l=l.add(L)}).next(()=>l)}containsKey(e,t){const r=hr(t.path),o=IDBKeyRange.bound([r],[Dg(r)],!1,!0);let l=0;return Ha(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,g],I,S)=>{0!==h&&(l++,S.done())}).next(()=>l>0)}Et(e,t){return Vl(e).get(t).next(r=>r?Wf(r):null)}}function Vl(n){return mi(n,"targets")}function Yg(n){return mi(n,"targetGlobal")}function Ha(n){return mi(n,"targetDocuments")}function Ru(n){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ce.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==sI)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),Jf.apply(this,arguments)}function Jg([n,e],[t,r]){const o=Zt(n,t);return 0===o?Zt(e,r):o}class Fv{constructor(e){this.En=e,this.buffer=new Zn(Jg),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jg(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lv{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ce.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Kc(o)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ru(o)}yield t.vn(e)}))}}class jb{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return De.resolve(_o.A);const r=new Fv(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(Zg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zg):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,h,g,I,S;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,h=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,g=Date.now(),this.removeTargets(e,r,t))).next(U=>(l=U,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(S=Date.now(),$y()<=co.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-L}ms\n\tDetermined least recently used ${o} in `+(g-h)+`ms\n\tRemoved ${l} targets in `+(I-g)+`ms\n\tRemoved ${U} documents in `+(S-I)+`ms\nTotal Duration: ${S-L}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:U})))}}class WD{constructor(e,t){this.db=e,this.garbageCollector=new jb(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Xg(e,r)}removeReference(e,t,r){return Xg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xg(e,t)}Mn(e,t){return function(r,o){let l=!1;return kv(r).zt(h=>Pv(r,h,o).next(g=>(g&&(l=!0),De.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(h,g)=>{if(g<=t){const I=this.Mn(e,h).next(S=>{if(!S)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Rt.min()),Ha(e).delete([0,hr(h.path)])))});o.push(I)}}).next(()=>De.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xg(e,t)}kn(e,t){const r=Ha(e);let o,l=_o.A;return r.Wt({index:"documentTargetsIndex"},([h,g],{path:I,sequenceNumber:S})=>{0===h?(l!==_o.A&&t(new Qe(zi(o)),l),l=S,o=I):l=_o.A}).next(()=>{l!==_o.A&&t(new Qe(zi(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xg(n,e){return Ha(n).put((r=n.currentSequenceNumber,{targetId:0,path:hr(e.path),sequenceNumber:r}));var r}class Vv{constructor(){this.changes=new zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?De.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zD{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xc(e).put(r)}removeEntry(e,t,r){return Xc(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],qf(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Bn.newInvalidDocument(t);return Xc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xf(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Bn.newInvalidDocument(t)};return Xc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xf(t))},(o,l)=>{r={document:this.Fn(t,l),size:Qf(l)}}).next(()=>r)}getEntries(e,t){let r=Zs();return this.Bn(e,t,(o,l)=>{const h=this.Fn(o,l);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=Zs(),o=new Pr(Qe.comparator);return this.Bn(e,t,(l,h)=>{const g=this.Fn(l,h);r=r.insert(l,g),o=o.insert(l,Qf(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return De.resolve();let o=new Zn(fI);t.forEach(I=>o=o.add(I));const l=IDBKeyRange.bound(Xf(o.first()),Xf(o.last())),h=o.getIterator();let g=h.getNext();return Xc(e).Wt({index:"documentKeyIndex",range:l},(I,S,L)=>{const U=Qe.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;g&&fI(g,U)<0;)r(g,null),g=h.getNext();g&&g.isEqual(U)&&(r(g,S),g=h.hasNext()?h.getNext():null),g?L.Ut(Xf(g)):L.done()}).next(()=>{for(;g;)r(g,null),g=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),qf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xc(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let g=Zs();for(const I of h){const S=this.Fn(Qe.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);g=g.insert(S.key,S)}return g})}getAllFromCollectionGroup(e,t,r,o){let l=Zs();const h=jv(t,r),g=jv(t,Tl.max());return Xc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(I,S,L)=>{const U=this.Fn(Qe.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(U.key,U),l.size===o&&L.done()}).next(()=>l)}newChangeBuffer(e){return new ui(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Uv(e).get("remoteDocumentGlobalKey").next(t=>($e(!!t),t))}On(e,t){return Uv(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Gg(n,e){let t;if(e.document)t=WE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=Qc(e.noDocument.readTime);t=Bn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=Qe.fromSegments(e.unknownDocument.path),o=Qc(e.unknownDocument.version);t=Bn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Wr(r[0],r[1]);return Rt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return Bn.newInvalidDocument(e)}}class ui extends Vv{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new zs(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Zn((l,h)=>Zt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const g=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,g.readTime)),h.isValidDocument()){const I=lI(this.qn.M,h);o=o.add(l.path.popLast()),r+=Qf(I)-g.size,t.push(this.qn.addEntry(e,l,I))}else if(r-=g.size,this.trackRemovals){const I=lI(this.qn.M,h.convertToNoDocument(Rt.min()));t.push(this.qn.addEntry(e,l,I))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),De.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function Uv(n){return mi(n,"remoteDocumentGlobal")}function Xc(n){return mi(n,"remoteDocumentsV14")}function Xf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jv(n,e){const t=e.documentKey.path.toArray();return[n,qf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fI(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Qe.comparator(n,e)}class pI{constructor(e){this.M=e}kt(e,t,r,o){const l=new Bg("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wc,{unique:!0}),g.createObjectStore("documentMutations"),Bv(e),function(g){g.createObjectStore("remoteDocuments")}(e));let h=De.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),Bv(e)),h=h.next(()=>function(g){const I=g.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",S)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(g,I){return I.store("mutations").qt().next(S=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wc,{unique:!0});const L=I.store("mutations"),U=S.map(Q=>L.put(Q));return De.waitFor(U)})}(e,l))),h=h.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(l))),r<6&&o>=6&&(h=h.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(h=h.next(()=>this.jn(l))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(l))),r<11&&o>=11&&(h=h.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(g){const I=g.createObjectStore("documentOverlays",{keyPath:XE});I.createIndex("collectionPathOverlayIndex",eI,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",BD,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(g){const I=g.createObjectStore("remoteDocumentsV14",{keyPath:yv});I.createIndex("documentKeyIndex",vv),I.createIndex("collectionGroupIndex",_v)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Cv}).createIndex("sequenceNumberIndex",jD,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:YE}).createIndex("documentKeyIndex",JE,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Qf(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>De.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(g=>De.forEach(g,I=>{$e(I.userId===l.userId);const S=hh(this.M,I);return Ov(e,l.userId,S).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((h,g)=>{const I=new vn(h),S=[0,hr(I)];l.push(t.get(S).next(L=>L?De.resolve():t.put({targetId:0,path:hr(I),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>De.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Dv});const r=t.store("collectionParents"),o=new gh,l=h=>{if(o.add(h)){const g=h.lastSegment(),I=h.popLast();return r.put({collectionId:g,parent:hr(I)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,g)=>{const I=new vn(h);return l(I.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,g,I],S)=>{const L=zi(g);return l(L.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=Wf(o),h=cI(this.M,l);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,h)=>{const g=t.store("remoteDocumentsV14"),I=(S=h,S.document?new Qe(vn.fromString(S.document.name).popFirst(5)):S.noDocument?Qe.fromSegments(S.noDocument.path):S.unknownDocument?Qe.fromSegments(S.unknownDocument.path):ht()).path.toArray();var S;const L={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(g.put(L))}).next(()=>De.waitFor(o))}}function Bv(n){n.createObjectStore("targetDocuments",{keyPath:Iv}).createIndex("documentTargetsIndex",wv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ev,{unique:!0}),n.createObjectStore("targetGlobal")}const Ul="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $v{constructor(e,t,r,o,l,h,g,I,S,L,U=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=h,this.document=g,this.Yn=S,this.Xn=L,this.Zn=U,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Q=>Promise.resolve(),!$v.vt())throw new Fe(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WD(this,o),this.cs=t+"main",this.M=new Av(I),this.hs=new Qs(this.cs,this.Zn,new pI(this.M)),this.ls=new Qg(this.referenceDelegate,this.M),this.fs=new zD(this.M),this.ds=new dI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===L&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ve.FAILED_PRECONDITION,Ul);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new _o(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,Ce.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Kc(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return ep(e).get("owner").next(t=>De.resolve(this.bs(t)))}Ps(e){return tp(e).delete(this.clientId)}Vs(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=mi(r,"clientMetadata");return o.qt().next(l=>{const h=e.Ss(l,18e5),g=l.filter(I=>-1===h.indexOf(I));return De.forEach(g,I=>o.delete(I.clientId)).next(()=>g)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?De.resolve(!0):ep(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(ve.FAILED_PRECONDITION,Ul);return!1}}return!(!this.networkEnabled||!this.inForeground)||tp(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new uI(t,_o.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>tp(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Yf.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new hI(e)}getDocumentOverlayCache(e){return Fl.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.Zn)?iI:13===h?rI:12===h?nI:11===h?tI:void ht();var h;let g;return this.hs.runTransaction(e,o,l,I=>(g=new uI(I,this.ts?this.ts.next():_o.A),"readwrite-primary"===t?this.Ts(g).next(S=>!!S||this.Es(g)).next(S=>{if(!S)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Fe(ve.FAILED_PRECONDITION,sI);return r(g)}).next(S=>this.Rs(g).next(()=>S)):this.Fs(g).next(()=>r(g)))).then(I=>(g.raiseOnCommittedEvent(),I))}Fs(e){return ep(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ve.FAILED_PRECONDITION,Ul)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ep(e).put("owner",t)}static vt(){return Qs.vt()}As(e){const t=ep(e);return t.get("owner").next(r=>this.bs(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ep(n){return mi(n,"owner")}function tp(n){return mi(n,"clientMetadata")}function Hv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class gI{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):Xy(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Qe(t)).next(r=>{let o=Fg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=Fg();return this.indexManager.getCollectionParents(e,o).next(h=>De.forEach(h,g=>{const I=(S=t,L=g.child(o),new bu(L,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,L;return this.Ws(e,I,r).next(S=>{S.forEach((L,U)=>{l=l.insert(L,U)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const g of h.mutations){const I=g.key;let S=o.get(I);null==S&&(S=Bn.newInvalidDocument(I),o=o.insert(I,S)),Ff(g,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(I))}}).next(()=>(o.forEach((l,h)=>{kf(t,h)||(o=o.remove(l))}),o))}}class mI{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=bn(),o=bn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new mI(e,t.fromCache,r,o)}}class em{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Rt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const h=this.ti(t,l);return(Nf(t)||Sg(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):($y()<=co.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tv(t)),this.Xs.Ks(e,t,gE(r,-1)).next(g=>(h.forEach(I=>{g=g.insert(I.key,I)}),g)))});var l}ti(e,t){let r=new Zn(AE(e));return t.forEach((o,l)=>{kf(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return $y()<=co.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",tv(t)),this.Xs.Ks(e,t,Tl.min())}}class Gv{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Pr(Zt),this.ii=new zs(l=>Al(l),Rf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new gI(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function bo(n,e,t,r){return new Gv(n,e,t,r)}function yI(n,e){return tm.apply(this,arguments)}function tm(){return tm=(0,Ce.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const h=[],g=[];let I=bn();for(const S of o){h.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}for(const S of l){g.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}return t.ai.qs(r,I).next(S=>({ci:S,removedBatchIds:h,addedBatchIds:g}))})})}),tm.apply(this,arguments)}function Ga(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,g,I,S){const L=I.batch,U=L.keys();let Q=De.resolve();return U.forEach(ge=>{Q=Q.next(()=>S.getEntry(g,ge)).next(Re=>{const et=I.docVersions.get(ge);$e(null!==et),Re.version.compareTo(et)<0&&(L.applyToRemoteDocument(Re,I),Re.isValidDocument()&&(Re.setReadTime(I.commitVersion),S.addEntry(Re)))})}),Q.next(()=>h.$s.removeMutationBatch(g,L))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function To(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Yo(n,e){const t=nt(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const g=[];e.targetChanges.forEach((S,L)=>{const U=o.get(L);if(!U)return;g.push(t.ls.removeMatchingKeys(l,S.removedDocuments,L).next(()=>t.ls.addMatchingKeys(l,S.addedDocuments,L)));let Q=U.withSequenceNumber(l.currentSequenceNumber);var ge,Re,et;e.targetMismatches.has(L)?Q=Q.withResumeToken(oi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(L,Q),Re=Q,et=S,(0===(ge=U).resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0)&&g.push(t.ls.updateTargetData(l,Q))});let I=Zs();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),g.push(qv(l,h,e.documentUpdates).next(S=>{I=S})),!r.isEqual(Rt.min())){const S=t.ls.getLastRemoteSnapshotVersion(l).next(L=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(S)}return De.waitFor(g).next(()=>h.apply(l)).next(()=>t.ai.Gs(l,I)).next(()=>I)}).then(l=>(t.si=o,l))}function qv(n,e,t){let r=bn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Zs();return t.forEach((h,g)=>{const I=o.get(h);g.isNoDocument()&&g.version.isEqual(Rt.min())?(e.removeEntry(h,g.readTime),l=l.insert(h,g)):!I.isValidDocument()||g.version.compareTo(I.version)>0||0===g.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(g),l=l.insert(h,g)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",I.version," Watch version:",g.version)}),l})}function vI(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function _h(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,De.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new Pl(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Eh(n,e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,Ce.Z)(function*(n,e,t){const r=nt(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Kc(h))throw h;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),Wv.apply(this,arguments)}function nm(n,e,t){const r=nt(n);let o=Rt.min(),l=bn();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,I,S){const L=nt(g),U=L.ii.get(S);return void 0!==U?De.resolve(L.si.get(U)):L.ls.getTargetData(I,S)}(r,h,zo(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,g.targetId).next(I=>{l=I})}).next(()=>r.ni.Ks(h,e,t?o:Rt.min(),t?l:bn())).next(g=>(_I(r,TE(e),g),{documents:g,hi:l})))}function rm(n,e){const t=nt(n),r=nt(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function Ih(n,e){const t=nt(n),r=t.ri.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,gE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(_I(t,e,o),o))}function _I(n,e,t){let r=Rt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function zv(){return zv=(0,Ce.Z)(function*(n,e,t,r){const o=nt(n);let l=bn(),h=Zs();for(const S of t){const L=e.li(S.metadata.name);S.document&&(l=l.add(L));const U=e.fi(S);U.setReadTime(e.di(S.metadata.readTime)),h=h.insert(L,U)}const g=o.oi.newChangeBuffer({trackRemovals:!0}),I=yield _h(o,(S=r,zo(Bc(vn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>qv(S,g,h).next(L=>(g.apply(S),L)).next(L=>o.ls.removeMatchingKeysForTargetId(S,I.targetId).next(()=>o.ls.addMatchingKeys(S,l,I.targetId)).next(()=>o.ai.Gs(S,L)).next(()=>L)))}),zv.apply(this,arguments)}function II(n,e){return im.apply(this,arguments)}function im(){return im=(0,Ce.Z)(function*(n,e,t=bn()){const r=yield _h(n,zo(qg(e.bundledQuery))),o=nt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=ai(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(l,e);const g=r.withResumeToken(oi.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(g.targetId,g),o.ls.updateTargetData(l,g).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),im.apply(this,arguments)}class sm{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return De.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ai(r.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:qg(r.bundledQuery),readTime:ai(r.readTime)}),De.resolve();var r}}class KD{constructor(){this.overlays=new Pr(Qe.comparator),this.mi=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),De.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),De.resolve()}getOverlaysForCollection(e,t,r){const o=Uf(),l=t.length+1,h=new Qe(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const I=g.getNext().value,S=I.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&I.largestBatchId>r&&o.set(I.getKey(),I)}return De.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Pr((S,L)=>S-L);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let L=l.get(S.largestBatchId);null===L&&(L=Uf(),l=l.insert(S.largestBatchId,L)),L.set(S.getKey(),S)}}const g=Uf(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((S,L)=>g.set(S,L)),!(g.size()>=o)););return De.resolve(g)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Hg(t,r));let l=this.mi.get(t);void 0===l&&(l=bn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class om{constructor(){this.gi=new Zn(li.yi),this.pi=new Zn(li.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new li(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new li(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Qe(new vn([])),r=new li(t,e),o=new li(t,e+1),l=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),l.push(h.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Qe(new vn([])),r=new li(t,e),o=new li(t,e+1);let l=bn();return this.pi.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new li(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class li{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Qe.comparator(e.key,t.key)||Zt(e.Vi,t.Vi)}static Ii(e,t){return Zt(e.Vi,t.Vi)||Qe.comparator(e.key,t.key)}}class Kv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Zn(li.yi)}checkEmpty(e){return De.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const h=new Zo(l,t,r,o);this.$s.push(h);for(const g of o)this.Si=this.Si.add(new li(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return De.resolve(h)}lookupMutationBatch(e,t){return De.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return De.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return De.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new li(t,0),o=new li(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],h=>{const g=this.Di(h.Vi);l.push(g)}),De.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zn(Zt);return t.forEach(o=>{const l=new li(o,0),h=new li(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,h],g=>{r=r.add(g.Vi)})}),De.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Qe.isDocumentKey(l)||(l=l.child(""));const h=new li(new Qe(l),0);let g=new Zn(Zt);return this.Si.forEachWhile(I=>{const S=I.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(g=g.add(I.Vi)),!0)},h),De.resolve(this.xi(g))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){$e(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return De.forEach(t.mutations,o=>{const l=new li(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new li(t,0),o=this.Si.firstAfterOrEqual(r);return De.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return De.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class am{constructor(e){this.ki=e,this.docs=new Pr(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return De.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Zs();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Bn.newInvalidDocument(o))}),De.resolve(r)}getAllFromCollection(e,t,r){let o=Zs();const l=new Qe(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:g,value:{document:I}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||yE(mE(I),r)<=0||(o=o.insert(I.key,I.mutableCopy()))}return De.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ht()}Mi(e,t){return De.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Zv(this)}getSize(e){return De.resolve(this.size)}}class Zv extends Vv{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),De.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Qv{constructor(e){this.persistence=e,this.Oi=new zs(t=>Al(t),Rf),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new om,this.targetCount=0,this.Bi=xu.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),De.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new xu(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.In(t),De.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),De.waitFor(l).next(()=>o)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return De.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),De.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),De.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),De.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return De.resolve(r)}containsKey(e,t){return De.resolve(this.$i.containsKey(t))}}class Yv{constructor(e,t){this.Li={},this.overlays={},this.ts=new _o(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Qv(this),this.indexManager=new zg,this.fs=new am(r=>this.referenceDelegate.Ui(r)),this.M=new Av(t),this.ds=new sm(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new Kv(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const o=new Jv(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return De.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class Jv extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Qi=new om,this.ji=null}static Wi(e){return new np(e)}get zi(){if(this.ji)return this.ji;throw ht()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),De.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),De.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.zi,r=>{const o=Qe.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,Rt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return De.or([()=>De.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function um(n,e){return`firestore_clients_${n}_${e}`}function lm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rp(n,e){return`firestore_targets_${n}_${e}`}class ip{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Fe(o.error.code,o.error.message))),h?new ip(e,t,o.state,l):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Fe(r.error.code,r.error.message))),l?new wh(e,r.state,o):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=lv();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=wu(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new sp(e,l):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cm{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cm(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=lv()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hm{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Pr(Zt),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=um(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dm),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(um(e.persistenceKey,o));if(l){const h=sp.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rp(this.persistenceKey,e));if(r){const o=wh.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rp(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=_o.A;if(null!=l)try{const g=JSON.parse(l);$e("number"==typeof g),h=g}catch(g){xr("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);o!==_o.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new ip(this.currentUser,e,t,r),l=lm(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=lm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=rp(this.persistenceKey,e),l=new wh(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return sp.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return ip.Ji(new Si(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return wh.Ji(o,t)}wr(e){return cm.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],g=[];return l.forEach(I=>{o.has(I)||h.push(I)}),o.forEach(I=>{l.has(I)||g.push(I)}),this.syncEngine.Or(h,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=lv();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Xv{constructor(){this.Fr=new dm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new dm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wI{Br(e){}shutdown(){}}class e_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class CI{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class bI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);Be("RestConnection","Sending: ",h,r);const g={};return this.uo(g,o,l),this.ao(e,h,g,r).then(I=>(Be("RestConnection","Received: ",I),I),I=>{throw Tf("RestConnection",`${e} failed with error: `,I,"url: ",h,"request:",r),I})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${DI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,h)=>{const g=new DD;g.listenOnce(Pb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case _g.NO_ERROR:const S=g.getResponseJson();Be("Connection","XHR received:",JSON.stringify(S)),l(S);break;case _g.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),h(new Fe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case _g.HTTP_ERROR:const L=g.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',L,"response text:",g.getResponseText()),L>0){const U=g.getResponseJson().error;if(U&&U.status&&U.message){const Q=function(ge){const Re=ge.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(Re)>=0?Re:ve.UNKNOWN}(U.status);h(new Fe(Q,U.message))}else h(new Fe(ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Fe(ve.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(o);g.send(t,"POST",I,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=tE(),h=By(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new iE({})),this.uo(g.initMessageHeaders,t,r),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const I=o.join("");Be("Connection","Creating WebChannel: "+I,g);const S=l.createWebChannel(I,g);let L=!1,U=!1;const Q=new CI({jr:Re=>{U?Be("Connection","Not sending because WebChannel is closed:",Re):(L||(Be("Connection","Opening WebChannel transport."),S.open(),L=!0),Be("Connection","WebChannel sending:",Re),S.send(Re))},Wr:()=>S.close()}),ge=(Re,et,St)=>{Re.listen(et,Tn=>{try{St(Tn)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return ge(S,Eg.EventType.OPEN,()=>{U||Be("Connection","WebChannel transport opened.")}),ge(S,Eg.EventType.CLOSE,()=>{U||(U=!0,Be("Connection","WebChannel transport closed"),Q.eo())}),ge(S,Eg.EventType.ERROR,Re=>{U||(U=!0,Tf("Connection","WebChannel transport errored:",Re),Q.eo(new Fe(ve.UNAVAILABLE,"The operation could not be completed")))}),ge(S,Eg.EventType.MESSAGE,Re=>{var et;if(!U){const St=Re.data[0];$e(!!St);const Tn=St,Nt=Tn.error||(null===(et=Tn[0])||void 0===et?void 0:et.error);if(Nt){Be("Connection","WebChannel received error:",Nt);const pr=Nt.status;let Ht=function(tn){const Xl=Kn[tn];if(void 0!==Xl)return VE(Xl)}(pr),pn=Nt.message;void 0===Ht&&(Ht=ve.INTERNAL,pn="Unknown error status: "+pr+" with message "+Nt.message),U=!0,Q.eo(new Fe(Ht,pn)),S.close()}else Be("Connection","WebChannel received:",St),Q.no(St)}}),ge(h,nE.STAT_EVENT,Re=>{Re.stat===rE.PROXY?Be("Connection","Detected buffering proxy"):Re.stat===rE.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{Q.Zr()},0),Q}}function t_(){return"undefined"!=typeof window?window:null}function op(){return"undefined"!=typeof document?document:null}function Dh(n){return new Ub(n,!0)}class fm{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class n_{constructor(e,t,r,o,l,h,g,I){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=I,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new fm(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ce.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Fe(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,Ce.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TI extends n_{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function zE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:ht(),o=e.targetChange.targetIds||[],l=function(I,S){return I.N?($e(void 0===S||"string"==typeof S),oi.fromBase64String(S||"")):($e(void 0===S||S instanceof Uint8Array),oi.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(I){const S=void 0===I.code?ve.UNKNOWN:VE(I.code);return new Fe(S,I.message||"")}(h);t=new FD(r,o,l,g||null)}else if("documentChange"in e){const r=e.documentChange,o=wo(n,r.document.name),l=ai(r.document.updateTime),h=new Nr({mapValue:{fields:r.document.fields}}),g=Bn.newFoundDocument(o,l,h);t=new Lg(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=wo(n,r.document),l=r.readTime?ai(r.readTime):Rt.min(),h=Bn.newNoDocument(o,l);t=new Lg([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=wo(n,r.document);t=new Lg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ht();{const r=e.filter,l=new FE(r.count||0);t=new kD(r.targetId,l)}}var I;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Rt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?ai(l.readTime):Rt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=$f(this.M),t.addTarget=function(o,l){let h;const g=l.target;return h=qi(g)?{documents:lh(o,g)}:{query:ZE(o,g)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=hv(o,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(h.readTime=Bf(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function pv(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=$f(this.M),t.removeTarget=e,this.Oo(t)}}class r_ extends n_{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function KE(n,e){return n&&n.length>0?($e(void 0!==e),n.map(t=>function(r,o){let l=ai(r.updateTime?r.updateTime:o);return l.isEqual(Rt.min())&&(l=ai(o)),new NE(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.Jo(r,t)}return $e(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=$f(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Nl(this.M,r))};this.Oo(t)}}class i_ extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Fe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(ve.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(ve.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class s_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(xr(t),this.su=!1):Be("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class o_{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(g=>{r.enqueueAndForget((0,Ce.Z)(function*(){var I;Ys(h)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,Ce.Z)(function*(S){const L=nt(S);L.lu.add(4),yield jl(L),L._u.set("Unknown"),L.lu.delete(4),yield ed(L)}),function(S){return I.apply(this,arguments)})(h))}))}),this._u=new s_(r,o)}}function ed(n){return ap.apply(this,arguments)}function ap(){return ap=(0,Ce.Z)(function*(n){if(Ys(n))for(const e of n.fu)yield e(!0)}),ap.apply(this,arguments)}function jl(n){return up.apply(this,arguments)}function up(){return up=(0,Ce.Z)(function*(n){for(const e of n.fu)yield e(!1)}),up.apply(this,arguments)}function Ch(n,e){const t=nt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),u_(t)?a_(t):bh(t).Co()&&lp(t,e))}function td(n,e){const t=nt(n),r=bh(t);t.hu.delete(e),r.Co()&&Bl(t,e),0===t.hu.size&&(r.Co()?r.ko():Ys(t)&&t._u.set("Unknown"))}function lp(n,e){n.wu.Z(e.targetId),bh(n).Qo(e)}function Bl(n,e){n.wu.Z(e),bh(n).jo(e)}function a_(n){n.wu=new LD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),bh(n).start(),n._u.iu()}function u_(n){return Ys(n)&&!bh(n).Do()&&n.hu.size>0}function Ys(n){return 0===nt(n).lu.size}function AI(n){n.wu=void 0}function l_(n){return c_.apply(this,arguments)}function c_(){return c_=(0,Ce.Z)(function*(n){n.hu.forEach((e,t)=>{lp(n,e)})}),c_.apply(this,arguments)}function SI(n,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Ce.Z)(function*(n,e){AI(n),u_(n)?(n._u.uu(e),a_(n)):n._u.set("Unknown")}),pm.apply(this,arguments)}function ZD(n,e,t){return At.apply(this,arguments)}function At(){return At=(0,Ce.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof FD&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(o,l){const h=l.cause;for(const g of l.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,h),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gm(n,r)}else if(e instanceof Lg?n.wu.ut(e):e instanceof kD?n.wu._t(e):n.wu.ht(e),!t.isEqual(Rt.min()))try{const r=yield To(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.yt(l);return h.targetChanges.forEach((g,I)=>{if(g.resumeToken.approximateByteSize()>0){const S=o.hu.get(I);S&&o.hu.set(I,S.withResumeToken(g.resumeToken,l))}}),h.targetMismatches.forEach(g=>{const I=o.hu.get(g);if(!I)return;o.hu.set(g,I.withResumeToken(oi.EMPTY_BYTE_STRING,I.snapshotVersion)),Bl(o,g);const S=new Pl(I.target,g,1,I.sequenceNumber);lp(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield gm(n,r)}var r}),At.apply(this,arguments)}function gm(n,e,t){return d_.apply(this,arguments)}function d_(){return d_=(0,Ce.Z)(function*(n,e,t){if(!Kc(e))throw e;n.lu.add(1),yield jl(n),n._u.set("Offline"),t||(t=()=>To(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield ed(n)}))}),d_.apply(this,arguments)}function MI(n,e){return e().catch(t=>gm(n,t,e))}function qa(n){return h_.apply(this,arguments)}function h_(){return h_=(0,Ce.Z)(function*(n){const e=nt(n),t=$l(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;mm(e);)try{const o=yield vI(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,ym(e,o)}catch(o){yield gm(e,o)}fr(e)&&QD(e)}),h_.apply(this,arguments)}function mm(n){return Ys(n)&&n.cu.length<10}function ym(n,e){n.cu.push(e);const t=$l(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function fr(n){return Ys(n)&&!$l(n).Do()&&n.cu.length>0}function QD(n){$l(n).start()}function xI(n){return vm.apply(this,arguments)}function vm(){return vm=(0,Ce.Z)(function*(n){$l(n).Xo()}),vm.apply(this,arguments)}function YD(n){return _m.apply(this,arguments)}function _m(){return _m=(0,Ce.Z)(function*(n){const e=$l(n);for(const t of n.cu)e.Ho(t.mutations)}),_m.apply(this,arguments)}function RI(n,e,t){return Em.apply(this,arguments)}function Em(){return Em=(0,Ce.Z)(function*(n,e,t){const r=n.cu.shift(),o=Tv.from(r,e,t);yield MI(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield qa(n)}),Em.apply(this,arguments)}function NI(n,e){return f_.apply(this,arguments)}function f_(){return f_=(0,Ce.Z)(function*(n,e){var t;e&&$l(n).zo&&(yield(t=(0,Ce.Z)(function*(r,o){if(LE(l=o.code)&&l!==ve.ABORTED){const h=r.cu.shift();$l(r).No(),yield MI(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield qa(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),fr(n)&&QD(n)}),f_.apply(this,arguments)}function OI(n,e){return p_.apply(this,arguments)}function p_(){return p_=(0,Ce.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Ys(t);t.lu.add(3),yield jl(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ed(t)}),p_.apply(this,arguments)}function nd(n,e){return g_.apply(this,arguments)}function g_(){return g_=(0,Ce.Z)(function*(n,e){const t=nt(n);e?(t.lu.delete(2),yield ed(t)):e||(t.lu.add(2),yield jl(t),t._u.set("Unknown"))}),g_.apply(this,arguments)}function bh(n){return n.mu||(n.mu=function(e,t,r){const o=nt(e);return o.tu(),new TI(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:l_.bind(null,n),Jr:SI.bind(null,n),Ko:ZD.bind(null,n)}),n.fu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.mu.No(),u_(n)?a_(n):n._u.set("Unknown")):(yield n.mu.stop(),AI(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function $l(n){return n.gu||(n.gu=function(e,t,r){const o=nt(e);return o.tu(),new r_(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:xI.bind(null,n),Jr:NI.bind(null,n),Yo:YD.bind(null,n),Jo:RI.bind(null,n)}),n.fu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.gu.No(),yield qa(n)):(yield n.gu.stop(),n.cu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Th{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,g=new Th(e,t,h,o,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Kc(n))return new Fe(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class id{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Fg(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new id;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class m_{constructor(){this.yu=new Pr(Qe.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ht():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ah{constructor(e,t,r,o,l,h,g,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ah(e,t,id.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class cp{constructor(){this.Iu=void 0,this.listeners=[]}}class dp{constructor(){this.queries=new zs(e=>bE(e),Pf),this.onlineState="Unknown",this.Tu=new Set}}function y_(n,e){return v_.apply(this,arguments)}function v_(){return v_=(0,Ce.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new cp),o)try{l.Iu=yield t.onListen(r)}catch(h){const g=rd(h,`Initialization of query '${tv(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&E_(t)}),v_.apply(this,arguments)}function __(n,e){return Im.apply(this,arguments)}function Im(){return Im=(0,Ce.Z)(function*(n,e){const t=nt(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Im.apply(this,arguments)}function PI(n,e){const t=nt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const g of h.listeners)g.Au(o)&&(r=!0);h.Iu=o}}r&&E_(t)}function kI(n,e,t){const r=nt(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function E_(n){n.Tu.forEach(e=>{e.next()})}class wm{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ah(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class JD{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class FI{constructor(e){this.M=e}li(e){return wo(this.M,e)}fi(e){return e.metadata.exists?WE(this.M,e.document,!1):Bn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ai(e)}}class Bb{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XD(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new FI(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const h of o.metadata.queries){const g=(t.get(h)||bn()).add(l);t.set(h,g)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function EI(n,e,t,r){return zv.apply(this,arguments)}(e.localStore,new FI(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield II(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function XD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class eC{constructor(e){this.key=e}}class tC{constructor(e){this.key=e}}class I_{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=bn(),this.mutatedKeys=bn(),this.Lu=AE(e),this.Uu=new id(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new m_,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,g=!1;const I=Nf(this.query)&&o.size===this.query.limit?o.last():null,S=Sg(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((L,U)=>{const Q=o.get(L),ge=kf(this.query,U)?U:null,Re=!!Q&&this.mutatedKeys.has(Q.key),et=!!ge&&(ge.hasLocalMutations||this.mutatedKeys.has(ge.key)&&ge.hasCommittedMutations);let St=!1;Q&&ge?Q.data.isEqual(ge.data)?Re!==et&&(r.track({type:3,doc:ge}),St=!0):this.Qu(Q,ge)||(r.track({type:2,doc:ge}),St=!0,(I&&this.Lu(ge,I)>0||S&&this.Lu(ge,S)<0)&&(g=!0)):!Q&&ge?(r.track({type:0,doc:ge}),St=!0):Q&&!ge&&(r.track({type:1,doc:Q}),St=!0,(I||S)&&(g=!0)),St&&(ge?(h=h.add(ge),l=et?l.add(L):l.delete(L)):(h=h.delete(L),l=l.delete(L)))}),Nf(this.query)||Sg(this.query))for(;h.size>this.query.limit;){const L=Nf(this.query)?h.last():h.first();h=h.delete(L.key),l=l.delete(L.key),r.track({type:1,doc:L})}return{Uu:h,Ku:r,ei:g,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((S,L)=>function(U,Q){const ge=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return ge(U)-ge(Q)}(S.type,L.type)||this.Lu(S.doc,L.doc)),this.ju(r);const h=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,I=g!==this.$u;return this.$u=g,0!==l.length||I?{snapshot:new Ah(this.query,e.Uu,o,l,e.mutatedKeys,0===g,I,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new m_,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=bn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new tC(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new eC(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=bn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ah.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Dm{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nC{constructor(e){this.key=e,this.Xu=!1}}class rC{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new zs(g=>bE(g),Pf),this.ea=new Map,this.na=new Set,this.sa=new Pr(Qe.comparator),this.ia=new Map,this.ra=new om,this.oa={},this.ua=new Map,this.aa=xu.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function LI(n,e){return sd.apply(this,arguments)}function sd(){return sd=(0,Ce.Z)(function*(n,e){const t=yp(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield _h(t.localStore,zo(e));t.isPrimaryClient&&Ch(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield w_(t,e,r,"current"===g)}return o}),sd.apply(this,arguments)}function w_(n,e,t,r){return D_.apply(this,arguments)}function D_(){return D_=(0,Ce.Z)(function*(n,e,t,r){n.ha=(L,U,Q)=>{return(ge=(0,Ce.Z)(function*(Re,et,St,Tn){let Nt=et.view.Gu(St);Nt.ei&&(Nt=yield nm(Re.localStore,et.query,!1).then(({documents:pn})=>et.view.Gu(pn,Nt)));const pr=Tn&&Tn.targetChanges.get(et.targetId),Ht=et.view.applyChanges(Nt,Re.isPrimaryClient,pr);return A_(Re,et.targetId,Ht.zu),Ht.snapshot}),function(Re,et,St,Tn){return ge.apply(this,arguments)})(n,L,U,Q);var ge};const o=yield nm(n.localStore,e,!0),l=new I_(e,o.hi),h=l.Gu(o.documents),g=jf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),I=l.applyChanges(h,n.isPrimaryClient,g);A_(n,t,I.zu);const S=new Dm(e,t,l);return n.ta.set(e,S),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),I.snapshot}),D_.apply(this,arguments)}function iC(n,e){return C_.apply(this,arguments)}function C_(){return C_=(0,Ce.Z)(function*(n,e){const t=nt(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!Pf(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),td(t.remoteStore,r.targetId),ad(t,r.targetId)}).catch(Ru))):(ad(t,r.targetId),yield Eh(t.localStore,r.targetId,!0))}),C_.apply(this,arguments)}function Cm(){return Cm=(0,Ce.Z)(function*(n,e,t){const r=k_(n);try{const o=yield function(l,h){const g=nt(l),I=Wr.now(),S=h.reduce((U,Q)=>U.add(Q.key),bn());let L;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>g.ai.qs(U,S).next(Q=>{L=Q;const ge=[];for(const Re of h){const et=Lf(Re,L.get(Re.key));null!=et&&ge.push(new Tu(Re.key,et,pE(et.value.mapValue),Or.exists(!0)))}return g.$s.addMutationBatch(U,I,ge,h)})).then(U=>(U.applyToLocalDocumentSet(L),{batchId:U.batchId,changes:L}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,g){let I=l.oa[l.currentUser.toKey()];I||(I=new Pr(Zt)),I=I.insert(h,g),l.oa[l.currentUser.toKey()]=I}(r,o.batchId,t),yield Nu(r,o.changes),yield qa(r.remoteStore)}catch(o){const l=rd(o,"Failed to persist write");t.reject(l)}}),Cm.apply(this,arguments)}function VI(n,e){return b_.apply(this,arguments)}function b_(){return b_=(0,Ce.Z)(function*(n,e){const t=nt(n);try{const r=yield Yo(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ia.get(l);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?$e(h.Xu):o.removedDocuments.size>0&&($e(h.Xu),h.Xu=!1))}),yield Nu(t,r,e)}catch(r){yield Ru(r)}}),b_.apply(this,arguments)}function od(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,h)=>{const g=h.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(l,h){const g=nt(l);g.onlineState=h;let I=!1;g.queries.forEach((S,L)=>{for(const U of L.listeners)U.Eu(h)&&(I=!0)}),I&&E_(g)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oC(n,e,t){return bm.apply(this,arguments)}function bm(){return bm=(0,Ce.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let h=new Pr(Qe.comparator);h=h.insert(l,Bn.newNoDocument(l,Rt.min()));const g=bn().add(l),I=new ah(Rt.min(),new Map,new Zn(Zt),h,g);yield VI(r,I),r.sa=r.sa.remove(l),r.ia.delete(e),fp(r)}else yield Eh(r.localStore,e,!1).then(()=>ad(r,e,t)).catch(Ru)}),bm.apply(this,arguments)}function aC(n,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Ce.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const o=yield Ga(t.localStore,e);Sm(t,r,null),T_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nu(t,o)}catch(o){yield Ru(o)}}),Tm.apply(this,arguments)}function uC(n,e,t){return Am.apply(this,arguments)}function Am(){return Am=(0,Ce.Z)(function*(n,e,t){const r=nt(n);try{const o=yield function(l,h){const g=nt(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return g.$s.lookupMutationBatch(I,h).next(L=>($e(null!==L),S=L.keys(),g.$s.removeMutationBatch(I,L))).next(()=>g.$s.performConsistencyCheck(I)).next(()=>g.ai.qs(I,S))})}(r.localStore,e);Sm(r,e,t),T_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nu(r,o)}catch(o){yield Ru(o)}}),Am.apply(this,arguments)}function hp(){return hp=(0,Ce.Z)(function*(n,e){const t=nt(n);Ys(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=nt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.$s.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=rd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),hp.apply(this,arguments)}function T_(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Sm(n,e,t){const r=nt(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function ad(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||UI(n,r)})}function UI(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(td(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),fp(n))}function A_(n,e,t){for(const r of t)r instanceof eC?(n.ra.addReference(r.key,e),cC(n,r)):r instanceof tC?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||UI(n,r.key)):ht()}function cC(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.na.add(r),fp(n))}function fp(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Qe(vn.fromString(e)),r=n.aa.next();n.ia.set(r,new nC(t)),n.sa=n.sa.insert(t,r),Ch(n.remoteStore,new Pl(zo(Bc(t.path)),r,2,_o.A))}}function Nu(n,e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Ce.Z)(function*(n,e,t){const r=nt(n),o=[],l=[],h=[];var g;r.ta.isEmpty()||(r.ta.forEach((g,I)=>{h.push(r.ha(I,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,S.fromCache?"not-current":"current"),o.push(S);const L=mI.Js(I.targetId,S);l.push(L)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(g=(0,Ce.Z)(function*(I,S){const L=nt(I);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>De.forEach(S,Q=>De.forEach(Q.zs,ge=>L.persistence.referenceDelegate.addReference(U,Q.targetId,ge)).next(()=>De.forEach(Q.Hs,ge=>L.persistence.referenceDelegate.removeReference(U,Q.targetId,ge)))))}catch(U){if(!Kc(U))throw U;Be("LocalStore","Failed to update sequence numbers: "+U)}for(const U of S){const Q=U.targetId;if(!U.fromCache){const ge=L.si.get(Q),et=ge.withLastLimboFreeSnapshotVersion(ge.snapshotVersion);L.si=L.si.insert(Q,et)}}}),function(I,S){return g.apply(this,arguments)})(r.localStore,l))}),Mm.apply(this,arguments)}function dC(n,e){return S_.apply(this,arguments)}function S_(){return S_=(0,Ce.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield yI(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(g=>{g.reject(new Fe(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nu(t,r.ci)}var o}),S_.apply(this,arguments)}function hC(n,e){const t=nt(n),r=t.ia.get(e);if(r&&r.Xu)return bn().add(r.key);{let o=bn();const l=t.ea.get(e);if(!l)return o;for(const h of l){const g=t.ta.get(h);o=o.unionWith(g.view.qu)}return o}}function fC(n,e){return M_.apply(this,arguments)}function M_(){return M_=(0,Ce.Z)(function*(n,e){const t=nt(n),r=yield nm(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&A_(t,e.targetId,o.zu),o}),M_.apply(this,arguments)}function pC(n,e){return x_.apply(this,arguments)}function x_(){return x_=(0,Ce.Z)(function*(n,e){const t=nt(n);return Ih(t.localStore,e).then(r=>Nu(t,r))}),x_.apply(this,arguments)}function gC(n,e,t,r){return pp.apply(this,arguments)}function pp(){return pp=(0,Ce.Z)(function*(n,e,t,r){const o=nt(n),l=yield function(h,g){const I=nt(h),S=nt(I.$s);return I.persistence.runTransaction("Lookup mutation documents","readonly",L=>S.ln(L,g).next(U=>U?I.ai.qs(L,U):De.resolve(null)))}(o.localStore,e);var g;null!==l?("pending"===t?yield qa(o.remoteStore):"acknowledged"===t||"rejected"===t?(Sm(o,e,r||null),T_(o,e),g=e,nt(nt(o.localStore).$s).dn(g)):ht(),yield Nu(o,l)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),pp.apply(this,arguments)}function xm(){return xm=(0,Ce.Z)(function*(n,e){const t=nt(n);if(yp(t),k_(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield N_(t,r.toArray());t.ca=!0,yield nd(t.remoteStore,!0);for(const l of o)Ch(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(ad(t,h),Eh(t.localStore,h,!0))),td(t.remoteStore,h)}),yield o,yield N_(t,r),function(l){const h=nt(l);h.ia.forEach((g,I)=>{td(h.remoteStore,I)}),h.ra.bi(),h.ia=new Map,h.sa=new Pr(Qe.comparator)}(t),t.ca=!1,yield nd(t.remoteStore,!1)}}),xm.apply(this,arguments)}function N_(n,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,Ce.Z)(function*(n,e,t){const r=nt(n),o=[],l=[];for(const h of e){let g;const I=r.ea.get(h);if(I&&0!==I.length){g=yield _h(r.localStore,zo(I[0]));for(const S of I){const L=r.ta.get(S),U=yield fC(r,L);U.snapshot&&l.push(U.snapshot)}}else{const S=yield rm(r.localStore,h);g=yield _h(r.localStore,S),yield w_(r,O_(S),h,!1)}o.push(g)}return r.Zu.Ko(l),o}),gp.apply(this,arguments)}function O_(n){return CE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jI(n){const e=nt(n);return nt(nt(e.localStore).persistence).Os()}function mC(n,e,t,r){return mp.apply(this,arguments)}function mp(){return mp=(0,Ce.Z)(function*(n,e,t,r){const o=nt(n);if(o.ca)return void Be("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield Ih(o.localStore,TE(l[0])),g=ah.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nu(o,h,g);break}case"rejected":yield Eh(o.localStore,e,!0),ad(o,e,r);break;default:ht()}}),mp.apply(this,arguments)}function P_(n,e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ce.Z)(function*(n,e,t){const r=yp(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Be("SyncEngine","Adding an already active target "+o);continue}const l=yield rm(r.localStore,o),h=yield _h(r.localStore,l);yield w_(r,O_(l),h.targetId,!1),Ch(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield Eh(r.localStore,o,!1).then(()=>{td(r.remoteStore,o),ad(r,o)}).catch(Ru))}}),Rm.apply(this,arguments)}function yp(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oC.bind(null,e),e.Zu.Ko=PI.bind(null,e.eventManager),e.Zu.la=kI.bind(null,e.eventManager),e}function k_(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,e),e}class Nm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.M=Dh(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return bo(this.persistence,new em,e.initialUser,this.M)}_a(e){return new Yv(np.Wi,this.M)}da(e){return new Xv}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BI extends Nm{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield k_(r.ga.syncEngine),yield qa(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return bo(this.persistence,new em,e.initialUser,this.M)}wa(e){return new Lv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Hv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new $v(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,t_(),op(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Xv}}class $I extends BI{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof hm&&(r.sharedClientState.syncEngine={kr:gC.bind(null,o),Mr:mC.bind(null,o),Or:P_.bind(null,o),Os:jI.bind(null,o),Nr:pC.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,Ce.Z)(function*(h){yield function R_(n,e){return xm.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}da(e){const t=t_();if(!hm.vt(t))throw new Fe(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Om{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>od(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,r.syncEngine),yield nd(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dp}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),r=new bI(e.databaseInfo);return new i_(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=g=>od(this.syncEngine,g,0),h=e_.vt()?new e_:new wI,new o_(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,g,I,S){const L=new rC(r,o,l,h,g,I);return S&&(L.ca=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=nt(t);Be("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield jl(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vp(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HI{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Sn,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new JD(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,Ce.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class $b{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ce.Z)(function*(l,h){const g=nt(l),I=$f(g.M)+"/documents",S={documents:h.map(ge=>uh(g.M,ge))},L=yield g.co("BatchGetDocuments",I,S),U=new Map;L.forEach(ge=>{const Re=function UD(n,e){return"found"in e?function(t,r){$e(!!r.found);const o=wo(t,r.found.name),l=ai(r.found.updateTime),h=new Nr({mapValue:{fields:r.found.fields}});return Bn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){$e(!!r.missing),$e(!!r.readTime);const o=wo(t,r.missing),l=ai(r.readTime);return Bn.newNoDocument(o,l)}(n,e):ht()}(g.M,ge);U.set(Re.key.toString(),Re)});const Q=[];return h.forEach(ge=>{const Re=U.get(ge.toString());$e(!!Re),Q.push(Re)}),Q}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Qe.fromPath(o);e.mutations.push(new av(l,e.precondition(l)))}),yield(r=(0,Ce.Z)(function*(o,l){const h=nt(o),g=$f(h.M)+"/documents",I={writes:l.map(S=>Nl(h.M,S))};yield h.ro("Commit",g,I)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Or.updateTime(t):Or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Fe(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Or.updateTime(t)}return Or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vC{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new fm(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,Ce.Z)(function*(){const t=new $b(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!Xd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!LE(t)}return!1}}class km{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Si.UNAUTHENTICATED,this.clientId=Af.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Ce.Z)(function*(g){Be("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Be("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=rd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function GI(n,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ce.Z)(function*(l){r.isEqual(l)||(yield yI(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Hl.apply(this,arguments)}function Sh(n,e){return F_.apply(this,arguments)}function F_(){return F_=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qI(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>OI(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>OI(e.remoteStore,l)),n.onlineComponents=e}),F_.apply(this,arguments)}function qI(n){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ce.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield GI(n,new Nm)),n.offlineComponents}),Fm.apply(this,arguments)}function Lm(n){return L_.apply(this,arguments)}function L_(){return L_=(0,Ce.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield Sh(n,new Om)),n.onlineComponents}),L_.apply(this,arguments)}function WI(n){return qI(n).then(e=>e.persistence)}function Vm(n){return qI(n).then(e=>e.localStore)}function V_(n){return Lm(n).then(e=>e.remoteStore)}function Um(n){return Lm(n).then(e=>e.syncEngine)}function Ou(n){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Ce.Z)(function*(n){const e=yield Lm(n),t=e.eventManager;return t.onListen=LI.bind(null,e.syncEngine),t.onUnlisten=iC.bind(null,e.syncEngine),t}),Mh.apply(this,arguments)}function U_(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,g,I){const S=new Pm({next:U=>{l.enqueueAndForget(()=>__(o,L));const Q=U.docs.has(h);!Q&&U.fromCache?I.reject(new Fe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&U.fromCache&&g&&"server"===g.source?I.reject(new Fe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new wm(Bc(h.path),S,{includeMetadataChanges:!0,Du:!0});return y_(o,L)}(yield Ou(n),n.asyncQueue,e,t,r)})),r.promise}function KI(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,g,I){const S=new Pm({next:U=>{l.enqueueAndForget(()=>__(o,L)),U.fromCache&&"server"===g.source?I.reject(new Fe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new wm(h,S,{includeMetadataChanges:!0,Du:!0});return y_(o,L)}(yield Ou(n),n.asyncQueue,e,t,r)})),r.promise}const j_=new Map;function Gl(n,e,t){if(!t)throw new Fe(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function B_(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ud(n){if(!Qe.isDocumentKey(n))throw new Fe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wC(n){if(Qe.isDocumentKey(n))throw new Fe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _p(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_p(n);throw new Fe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function DC(n,e){if(e<=0)throw new Fe(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,B_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,e instanceof El?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Fe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(o.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bD;switch(t.type){case"gapi":const r=t.client;return $e(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new oE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=j_.get(e);t&&(Be("ComponentProvider","Removing Datastore"),j_.delete(e),t.terminate())}(this),Promise.resolve()}}class Mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class Jo extends Ni{constructor(e,t,r){super(e,t,Bc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Qe(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function G_(n,e,...t){if(n=(0,$t.m9)(n),Gl("collection","path",e),n instanceof Ep){const r=vn.fromString(e,...t);return wC(r),new Jo(n,null,r)}{if(!(n instanceof Mn||n instanceof Jo))throw new Fe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return wC(r),new Jo(n.firestore,null,r)}}function Ip(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=Af.R()),Gl("doc","path",e),n instanceof Ep){const r=vn.fromString(e,...t);return ud(r),new Mn(n,null,new Qe(r))}{if(!(n instanceof Mn||n instanceof Jo))throw new Fe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return ud(r),new Mn(n.firestore,n instanceof Jo?n.converter:null,new Qe(r))}}function q_(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Mn||n instanceof Jo)&&(e instanceof Mn||e instanceof Jo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function W_(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof Ni&&e instanceof Ni&&n.firestore===e.firestore&&Pf(n._query,e._query)&&n.converter===e.converter}class YI{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new fm(this,"async_queue_retry"),this.Ua=()=>{const t=op();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=op();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=op();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Sn;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Kc(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,xr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=Th.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&ht()}verifyOperationInProgress(){}ja(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function Bm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class JI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends Ep{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new YI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||z_(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||z_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function z_(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Fb(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new km(n._authCredentials,n._appCheckCredentials,n._queue,r)}function K_(n,e,t){const r=new Sn;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield GI(n,t),yield Sh(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===ve.FAILED_PRECONDITION||l.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function Xo(n){if(n._initialized||n._terminated)throw new Fe(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(oi.fromBase64String(e))}catch(t){throw new Fe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ms(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ld{constructor(e){this._methodName=e}}class Hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const SC=/^__.*__$/;class Gm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new oh(e,this.data,t,this.fieldTransforms)}}class Dp{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class qm{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Tp(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(iw(this.Ya)&&SC.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class sw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Dh(e)}uc(e,t,r,o=!1){return new qm({Ya:e,methodName:t,oc:r,path:Mi.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ql(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new sw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rh(n,e,t,r,o,l={}){const h=n.uc(l.merge||l.mergeFields?2:0,e,t,o);e0("Data must be an object, but it was:",h,r);const g=aw(r,h);let I,S;if(l.merge)I=new Fc(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const L=[];for(const U of l.mergeFields){const Q=Km(e,U,t);if(!h.contains(Q))throw new Fe(ve.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);n0(L,Q)||L.push(Q)}I=new Fc(L),S=h.fieldTransforms.filter(U=>I.covers(U.field))}else I=null,S=h.fieldTransforms;return new Gm(new Nr(g),I,S)}class Nh extends ld{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function ow(n,e,t){return new qm({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Y_ extends ld{_toFieldTransform(e){return new Ws(e.path,new Ml)}isEqual(e){return e instanceof Y_}}class Gb extends ld{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ow(this,e,!0),r=this.ac.map(l=>cd(l,t)),o=new sh(r);return new Ws(e.path,o)}isEqual(e){return this===e}}class J_ extends ld{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ow(this,e,!0),r=this.ac.map(l=>cd(l,t)),o=new xl(r);return new Ws(e.path,o)}isEqual(e){return this===e}}class X_ extends ld{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new $c(e.M,Rg(e.M,this.cc));return new Ws(e.path,t)}isEqual(e){return this===e}}function Wm(n,e,t,r){const o=n.uc(1,e,t);e0("Data must be an object, but it was:",o,r);const l=[],h=Nr.empty();kc(r,(I,S)=>{const L=bp(e,I,t);S=(0,$t.m9)(S);const U=o.nc(L);if(S instanceof Nh)l.push(L);else{const Q=cd(S,U);null!=Q&&(l.push(L),h.set(L,Q))}});const g=new Fc(l);return new Dp(h,g,o.fieldTransforms)}function Cp(n,e,t,r,o,l){const h=n.uc(1,e,t),g=[Km(e,r,t)],I=[o];if(l.length%2!=0)throw new Fe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)g.push(Km(e,l[Q])),I.push(l[Q+1]);const S=[],L=Nr.empty();for(let Q=g.length-1;Q>=0;--Q)if(!n0(S,g[Q])){const ge=g[Q];let Re=I[Q];Re=(0,$t.m9)(Re);const et=h.nc(ge);if(Re instanceof Nh)S.push(ge);else{const St=cd(Re,et);null!=St&&(S.push(ge),L.set(ge,St))}}const U=new Fc(S);return new Dp(L,U,h.fieldTransforms)}function zm(n,e,t,r=!1){return cd(t,n.uc(r?4:3,e))}function cd(n,e){if(uw(n=(0,$t.m9)(n)))return e0("Unsupported field value:",e,n),aw(n,e);if(n instanceof ld)return function(t,r){if(!iw(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let g=cd(h,r.sc(l));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rg(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Wr.fromDate(t);return{timestampValue:Bf(r.M,o)}}if(t instanceof Wr){const o=new Wr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bf(r.M,o)}}if(t instanceof Hm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ms)return{bytesValue:hv(r.M,t._byteString)};if(t instanceof Mn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ug(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${_p(t)}`)}(n,e)}function aw(n,e){const t={};return uE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,o)=>{const l=cd(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function uw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wr||n instanceof Hm||n instanceof Ms||n instanceof Mn||n instanceof ld)}function e0(n,e,t){if(!uw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_p(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function Km(n,e,t){if((e=(0,$t.m9)(e))instanceof Pu)return e._internalPath;if("string"==typeof e)return bp(n,e);throw Tp("Field path arguments must be of type string or ",n,!1,void 0,t)}const t0=new RegExp("[~\\*/\\[\\]]");function bp(n,e,t){if(e.search(t0)>=0)throw Tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pu(...e.split("."))._internalPath}catch(r){throw Tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Tp(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${r}`),h&&(I+=` in document ${o}`),I+=")"),new Fe(ve.INVALID_ARGUMENT,g+n+I)}function n0(n,e){return n.some(t=>t.isEqual(e))}class Oh{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class MC extends Oh{data(){return super.data()}}function Ap(n,e){return"string"==typeof e?bp(n,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends Oh{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ph extends ku{data(e={}){return super.data(e)}}class Fu{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ph(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ph(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const g=new Ph(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Wl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,S=-1;return 0!==h.type&&(I=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:ms(h.type),doc:g,oldIndex:I,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ms(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function dd(n,e){return n instanceof ku&&e instanceof ku?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fu&&e instanceof Fu&&n._firestore===e._firestore&&W_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function lw(n){if(Sg(n)&&0===n.explicitOrderBy.length)throw new Fe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}function zl(n,...e){for(const t of e)n=t._apply(n);return n}class Mp extends Sp{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=ql(e.firestore),r=function(o,l,h,g,I,S,L){let U;if(I.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){Qm(L,S);const ge=[];for(const Re of L)ge.push(gw(g,o,Re));U={arrayValue:{values:ge}}}else U=gw(g,o,L)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||Qm(L,S),U=zm(h,"where",L,"in"===S||"not-in"===S);const Q=xi.create(I,S,U);return function(ge,Re){if(Re.S()){const St=Of(ge);if(null!==St&&!St.isEqual(Re.field))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${St.toString()}' and '${Re.field.toString()}'`);const Tn=Eo(ge);null!==Tn&&kh(0,Re.field,Tn)}const et=function(St,Tn){for(const Nt of St.filters)if(Tn.indexOf(Nt.op)>=0)return Nt.op;return null}(ge,function(St){switch(St){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Re.op));if(null!==et)throw new Fe(ve.INVALID_ARGUMENT,et===Re.op?`Invalid query. You cannot use more than one '${Re.op.toString()}' filter.`:`Invalid query. You cannot use '${Re.op.toString()}' filters with '${et.toString()}' filters.`)}(o,Q),Q}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ni(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new bu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class r0 extends Sp{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new nh(o,l);return function(g,I){if(null===Eo(g)){const S=Of(g);null!==S&&kh(0,S,I.field)}}(r,h),h}(e._query,this.hc,this.dc);return new Ni(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new bu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class s0 extends Sp{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ni(e.firestore,e.converter,ev(e._query,this._c,this.wc))}}class Zm extends Sp{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=a0(e,this.type,this.mc,this.gc);return new Ni(e.firestore,e.converter,(o=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xp extends Sp{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=a0(e,this.type,this.mc,this.gc);return new Ni(e.firestore,e.converter,(o=t,new bu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function a0(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof Oh)return function(o,l,h,g,I){if(!g)throw new Fe(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const L of rh(o))if(L.field.isKeyField())S.push(wl(l,g.key));else{const U=g.data.field(L.field);if(cE(U))throw new Fe(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Q=L.field.canonicalString();throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}S.push(U)}return new Sl(S,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=ql(n.firestore);return function(l,h,g,I,S,L){const U=l.explicitOrderBy;if(S.length>U.length)throw new Fe(ve.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ge=0;ge<S.length;ge++){const Re=S[ge];if(U[ge].field.isKeyField()){if("string"!=typeof Re)throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Re}`);if(!Xy(l)&&-1!==Re.indexOf("/"))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Re}' contains a slash.`);const et=l.path.child(vn.fromString(Re));if(!Qe.isDocumentKey(et))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${et}' is not because it contains an odd number of segments.`);const St=new Qe(et);Q.push(wl(h,St))}else{const et=zm(g,I,Re);Q.push(et)}}return new Sl(Q,L)}(n._query,n.firestore._databaseId,o,e,t,r)}}function gw(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Fe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xy(e)&&-1!==t.indexOf("/"))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!Qe.isDocumentKey(r))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(n,new Qe(r))}if(t instanceof Mn)return wl(n,t._key);throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_p(t)}.`)}function Qm(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kh(n,e,t){if(!t.isEqual(e))throw new Fe(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ym{convertValue(e,t="none"){switch(Du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){const r={};return kc(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Hm(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cg(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new Wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);$e(Gc(r));const o=new El(r.get(1),r.get(3)),l=new Qe(r.popFirst(5));return o.isEqual(t)||xr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Jm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class u0 extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}class Xm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ql(e)}set(e,t,r){this._verifyNotCommitted();const o=Lu(e,this._firestore),l=Jm(o.converter,t,r),h=Rh(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Or.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Lu(e,this._firestore);let h;return h="string"==typeof(t=(0,$t.m9)(t))||t instanceof Pu?Cp(this._dataReader,"WriteBatch.update",l._key,t,r,o):Wm(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lu(e,this._firestore);return this._mutations=this._mutations.concat(new Vf(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lu(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Fe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vu extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function Ew(n,e,t){n=rn(n,Mn);const r=rn(n.firestore,Qn),o=Jm(n.converter,e,t);return hd(r,[Rh(ql(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Or.none())])}function Iw(n,e,t,...r){n=rn(n,Mn);const o=rn(n.firestore,Qn),l=ql(o);let h;return h="string"==typeof(e=(0,$t.m9)(e))||e instanceof Pu?Cp(l,"updateDoc",n._key,e,t,r):Wm(l,"updateDoc",n._key,e),hd(o,[h.toMutation(n._key,Or.exists(!0))])}function l0(n,...e){var t,r,o;n=(0,$t.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Bm(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges};if(Bm(e[h])){const U=e[h];e[h]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[h+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[h+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let I,S,L;if(n instanceof Mn)S=rn(n.firestore,Qn),L=Bc(n._key.path),I={next:U=>{e[h]&&e[h](ey(S,n,U))},error:e[h+1],complete:e[h+2]};else{const U=rn(n,Ni);S=rn(U.firestore,Qn),L=U._query;const Q=new Vu(S);I={next:ge=>{e[h]&&e[h](new Fu(S,Q,U,ge))},error:e[h+1],complete:e[h+2]},lw(n._query)}return function(U,Q,ge,Re){const et=new Pm(Re),St=new wm(Q,et,ge);return U.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return y_(yield Ou(U),St)})),()=>{et.pa(),U.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return __(yield Ou(U),St)}))}}(kr(S),L,g,I)}function hd(n,e){return function(t,r){const o=new Sn;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function sC(n,e,t){return Cm.apply(this,arguments)}(yield Um(t),r,o)})),o.promise}(kr(n),e)}function ey(n,e,t){const r=t.docs.get(e._key),o=new Vu(n);return new ku(n,o,e._key,r,new Wl(t.hasPendingWrites,t.fromCache),e.converter)}class kC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ql(e)}get(e){const t=Lu(e,this._firestore),r=new u0(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ht();const l=o[0];if(l.isFoundDocument())return new Oh(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Oh(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const o=Lu(e,this._firestore),l=Jm(o.converter,t,r),h=Rh(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Lu(e,this._firestore);let h;return h="string"==typeof(t=(0,$t.m9)(t))||t instanceof Pu?Cp(this._dataReader,"Transaction.update",l._key,t,r,o):Wm(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Lu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lu(e,this._firestore),r=new Vu(this._firestore);return super.get(e).then(o=>new ku(this._firestore,r,t._key,o._document,new Wl(!1,!1),t.converter))}}function Fh(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BC(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function c0(){if(!function lE(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pc=$s.SDK_VERSION,(0,$s._registerComponent)(new uu.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Qn(o,new Iu(t.getProvider("auth-internal")),new kb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,$s.registerVersion)(vo,"3.4.7",n),(0,$s.registerVersion)(vo,"3.4.7","esm2017")}();class fd{constructor(e){this._delegate=e}static fromBase64String(e){return c0(),new fd(Ms.fromBase64String(e))}static fromUint8Array(e){return BC(),new fd(Ms.fromUint8Array(e))}toBase64(){return c0(),this._delegate.toBase64()}toUint8Array(){return BC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ty(n){return function Sw(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $C{enableIndexedDbPersistence(e,t){return function XI(n,e){Xo(n=rn(n,Qn));const t=kr(n),r=n._freezeSettings(),o=new Om;return K_(t,o,new BI(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TC(n){Xo(n=rn(n,Qn));const e=kr(n),t=n._freezeSettings(),r=new Om;return K_(e,r,new $I(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ew(n){if(n._initialized&&!n._terminated)throw new Fe(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Qs.vt())return Promise.resolve();const o=r+"main";yield Qs.delete(o)}),function(r){return t.apply(this,arguments)})(Hv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ny{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof El||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function H_(n,e,t,r={}){var o;const l=(n=rn(n,Ep))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=Si.MOCK_USER;else{h=(0,$t.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Fe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Si(I)}n._authCredentials=new qy(new Gy(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function nw(n){return function xh(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield WI(n),t=yield V_(n);return e.setNetworkEnabled(!0),function(r){const o=nt(r);return o.lu.delete(0),ed(o)}(t)}))}(kr(n=rn(n,Qn)))}(this._delegate)}disableNetwork(){return function rw(n){return function _C(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield WI(n),t=yield V_(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(o){const l=nt(o);l.lu.add(0),yield jl(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(kr(n=rn(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,B_("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tw(n){return function(e){const t=new Sn;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function lC(n,e){return hp.apply(this,arguments)}(yield Um(e),t)})),t.promise}(kr(n=rn(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function Dw(n,e){return function jm(n,e){const t=new Pm(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Ou(n),o=t,nt(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Ou(n),o=t,void nt(r).Tu.delete(o);var r,o}))}}(kr(n=rn(n,Qn)),Bm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lh(this,G_(this._delegate,e))}catch(t){throw Oi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ao(this,Ip(this._delegate,e))}catch(t){throw Oi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ki(this,function QI(n,e){if(n=rn(n,Ep),Gl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ni(n,null,(t=e,new bu(vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Oi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function FC(n,e){return function IC(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(o=n,Lm(o).then(l=>l.datastore));var o;new vC(n.asyncQueue,r,e,t).run()})),t.promise}(kr(n=rn(n,Qn)),t=>e(new kC(n,t)))}(this._delegate,t=>e(new d0(this,t)))}batch(){return kr(this._delegate),new xw(new Xm(this._delegate,e=>hd(this._delegate,e)))}loadBundle(e){return function AC(n,e){const t=kr(n=rn(n,Qn)),r=new JI;return function Hb(n,e,t,r){const o=function(l,h){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,I=function(I,S){if(I instanceof Uint8Array)return vp(I,S);if(I instanceof ArrayBuffer)return vp(new Uint8Array(I),S);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new HI(I,h);var I}(t,Dh(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function yC(n,e,t){const r=nt(n);var o;(o=(0,Ce.Z)(function*(l,h,g){try{const I=yield h.getMetadata();if(yield function(Q,ge){const Re=nt(Q),et=ai(ge.createTime);return Re.persistence.runTransaction("hasNewerBundle","readonly",St=>Re.ds.getBundleMetadata(St,ge.id)).then(St=>!!St&&St.createTime.compareTo(et)>=0)}(l.localStore,I))return yield h.close(),g._completeWith({taskState:"Success",documentsLoaded:(Q=I).totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}),Promise.resolve(new Set);g._updateProgress(XD(I));const S=new Bb(I,l.localStore,h.M);let L=yield h.fa();for(;L;){const Q=yield S.Nu(L);Q&&g._updateProgress(Q),L=yield h.fa()}const U=yield S.complete();return yield Nu(l,U.Ou,void 0),yield function(Q,ge){const Re=nt(Q);return Re.persistence.runTransaction("Save bundle","readwrite",et=>Re.ds.saveBundleMetadata(et,ge))}(l.localStore,I),g._completeWith(U.progress),Promise.resolve(U.Mu)}catch(I){return Tf("SyncEngine",`Loading bundle failed with ${I}`),g._failWith(I),Promise.resolve(new Set)}var Q}),function(l,h,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield Um(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Z_(n,e){return function ZI(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const o=nt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield Vm(n),e)}))}(kr(n=rn(n,Qn)),e).then(t=>t?new Ni(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ki(this,t):null)}}class Rp extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(new Ms(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ao.forKey(t,this.firestore,null)}}class d0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rp(e)}get(e){const t=pd(e);return this._delegate.get(t).then(r=>new Np(this._firestore,new ku(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=pd(e);return r?(Fh("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=pd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=pd(e);return this._delegate.delete(t),this}}class xw{constructor(e){this._delegate=e}set(e,t,r){const o=pd(e);return r?(Fh("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=pd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=pd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Kl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ph(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xs(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Kl.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Kl(e,new Rp(e),t),o.set(t,l)),l}}Kl.INSTANCES=new WeakMap;class Ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rp(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ao(t,new Mn(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new Ao(t,new Mn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Lh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lh(this.firestore,G_(this._delegate,e))}catch(t){throw Oi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Mn&&q_(this._delegate,e)}set(e,t){t=Fh("DocumentReference.set",t);try{return t?Ew(this._delegate,e,t):Ew(this._delegate,e)}catch(r){throw Oi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Iw(this._delegate,e):Iw(this._delegate,e,t,...r)}catch(o){throw Oi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function ww(n){return hd(rn(n.firestore,Qn),[new Vf(n._key,Or.none())])}(this._delegate)}onSnapshot(...e){const t=Rw(e),r=Nw(e,o=>new Np(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return l0(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mw(n){n=rn(n,Mn);const e=rn(n.firestore,Qn),t=kr(e),r=new Vu(e);return function zI(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const g=yield function(I,S){const L=nt(I);return L.persistence.runTransaction("read document","readonly",U=>L.ai.Bs(U,S))}(o,l);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new Fe(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const I=rd(g,`Failed to get document '${l} from cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield Vm(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ku(e,r,n._key,o,new Wl(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function yw(n){n=rn(n,Mn);const e=rn(n.firestore,Qn);return U_(kr(e),n._key,{source:"server"}).then(t=>ey(e,n,t))}(this._delegate):function NC(n){n=rn(n,Mn);const e=rn(n.firestore,Qn);return U_(kr(e),n._key).then(t=>ey(e,n,t))}(this._delegate),t.then(r=>new Np(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ao(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}function Oi(n,e,t){return n.message=n.message.replace(e,t),n}function Rw(n){for(const e of n)if("object"==typeof e&&!ty(e))return e;return{}}function Nw(n,e){var t,r;let o;return o=ty(n[0])?n[0]:ty(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Np{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ao(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dd(this._delegate,e._delegate)}}class xs extends Np{data(e){const t=this._delegate.data(e);return function sE(n,e){n||ht()}(void 0!==t),t}}class Ki{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rp(e)}where(e,t,r){try{return new Ki(this.firestore,zl(this._delegate,function xC(n,e,t){const r=e,o=Ap("where",n);return new Mp(o,r,t)}(e,t,r)))}catch(o){throw Oi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ki(this.firestore,zl(this._delegate,function cw(n,e="asc"){const t=e,r=Ap("orderBy",n);return new r0(r,t)}(e,t)))}catch(r){throw Oi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ki(this.firestore,zl(this._delegate,function dw(n){return DC("limit",n),new s0("limit",n,"F")}(e)))}catch(t){throw Oi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ki(this.firestore,zl(this._delegate,function hw(n){return DC("limitToLast",n),new s0("limitToLast",n,"L")}(e)))}catch(t){throw Oi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ki(this.firestore,zl(this._delegate,function fw(...n){return new Zm("startAt",n,!0)}(...e)))}catch(t){throw Oi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ki(this.firestore,zl(this._delegate,function pw(...n){return new Zm("startAfter",n,!1)}(...e)))}catch(t){throw Oi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ki(this.firestore,zl(this._delegate,function o0(...n){return new xp("endBefore",n,!1)}(...e)))}catch(t){throw Oi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ki(this.firestore,zl(this._delegate,function RC(...n){return new xp("endAt",n,!0)}(...e)))}catch(t){throw Oi(t,"endAt()","Query.endAt()")}}isEqual(e){return W_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function vw(n){n=rn(n,Ni);const e=rn(n.firestore,Qn),t=kr(e),r=new Vu(e);return function EC(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const g=yield nm(o,l,!0),I=new I_(l,g.hi),S=I.Gu(g.documents),L=I.applyChanges(S,!1);h.resolve(L.snapshot)}catch(g){const I=rd(g,`Failed to execute query '${l} against cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield Vm(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Fu(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function _w(n){n=rn(n,Ni);const e=rn(n.firestore,Qn),t=kr(e),r=new Vu(e);return KI(t,n._query,{source:"server"}).then(o=>new Fu(e,r,n,o))}(this._delegate):function OC(n){n=rn(n,Ni);const e=rn(n.firestore,Qn),t=kr(e),r=new Vu(e);return lw(n._query),KI(t,n._query).then(o=>new Fu(e,r,n,o))}(this._delegate),t.then(r=>new ry(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Rw(e),r=Nw(e,o=>new ry(this.firestore,new Fu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return l0(this._delegate,t,r)}withConverter(e){return new Ki(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}class HC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xs(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ry{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ki(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xs(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HC(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xs(this._firestore,r))})}isEqual(e){return dd(this._delegate,e._delegate)}}class Lh extends Ki{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ao(this.firestore,e):null}doc(e){try{return new Ao(this.firestore,void 0===e?Ip(this._delegate):Ip(this._delegate,e))}catch(t){throw Oi(t,"doc()","CollectionReference.doc()")}}add(e){return function PC(n,e){const t=rn(n.firestore,Qn),r=Ip(n),o=Jm(n.converter,e);return hd(t,[Rh(ql(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ao(this.firestore,t))}isEqual(e){return q_(this._delegate,e._delegate)}withConverter(e){return new Lh(this.firestore,this._delegate.withConverter(e?Kl.getInstance(this.firestore,e):null))}}function pd(n){return rn(n,Mn)}class Op{constructor(...e){this._delegate=new Pu(...e)}static documentId(){return new Op(Mi.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof Pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class gd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bw(){return new Y_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gd(e)}static delete(){const e=function Cw(){return new Nh("deleteField")}();return e._methodName="FieldValue.delete",new gd(e)}static arrayUnion(...e){const t=function Tw(...n){return new Gb("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gd(t)}static arrayRemove(...e){const t=function LC(...n){return new J_("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gd(t)}static increment(e){const t=function VC(n){return new X_("increment",n)}(e);return t._methodName="FieldValue.increment",new gd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ea={Firestore:ny,GeoPoint:Hm,Timestamp:Wr,Blob:fd,Transaction:d0,WriteBatch:xw,DocumentReference:Ao,DocumentSnapshot:Np,Query:Ki,QueryDocumentSnapshot:xs,QuerySnapshot:ry,CollectionReference:Lh,FieldPath:Op,FieldValue:gd,setLogLevel:function Mw(n){!function CD(n){vl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function h0(n){(function GC(n,e){n.INTERNAL.registerComponent(new uu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},ea)))})(n,(e,t)=>new ny(e,t,new $C)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Qh.Z);var qC=F(6451),iy=F(5363);function Pi(n,e){return(0,qr.e)((t,r)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&r.complete();t.subscribe((0,er.x)(r,I=>{null==o||o.unsubscribe();let S=0;const L=l++;(0,Fi.Xf)(n(I,L)).subscribe(o=(0,er.x)(r,U=>r.next(e?e(I,U,L,S++):U),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var Ow=F(6063);class Pw extends Ds.x{constructor(e=1/0,t=1/0,r=Ow.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let g=0;for(let I=1;I<r.length&&r[I]<=h;I+=2)g=I;g&&r.splice(0,g+1)}}}var kw=F(3099);function f0(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,kw.B)({connector:()=>new Pw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const sy=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var g0=F(5698);function oy(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,er.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function So(n=Fw){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe((0,er.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Fw(){return new sy}function Vh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bs((o,l)=>n(o,l,r)):Bo.y,(0,g0.q)(1),t?oy(e):So(()=>new sy))}var ay=F(576);function uy(n,e){return(0,ay.m)(e)?Pi(()=>n,e):Pi(()=>n)}var m0=F(9468);F(5867);const jw=new Map,Bw={activated:!1,tokenObservers:[]},$w={initialized:!1,enabled:!1};function ci(n){return jw.get(n)||Bw}function ta(n,e){jw.set(n,e)}function Fp(){return $w}class YC{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function JC(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fr=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cy(n){if(!ci(n).activated)throw Fr.create("use-before-activation",{appName:n.name})}function Up(n,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const l={method:"POST",body:JSON.stringify(e),headers:r};let h,g;try{h=yield fetch(n,l)}catch(U){throw Fr.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==h.status)throw Fr.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(U){throw Fr.create("fetch-parse-error",{originalErrorMessage:U.message})}const I=g.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const S=1e3*Number(I[1]),L=Date.now();return{token:g.attestationToken,expireTimeMillis:L+S,issuedAtTimeMillis:L}}),Zl.apply(this,arguments)}function nT(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const jp="firebase-app-check-store";let dy=null;function qw(){return dy||(dy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Fr.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(jp,{keyPath:"compositeKey"})}}catch(t){e(Fr.create("storage-open",{originalErrorMessage:t.message}))}}),dy)}function hy(){return hy=(0,Ce.Z)(function*(n,e){const r=(yield qw()).transaction(jp,"readwrite"),l=r.objectStore(jp).put({compositeKey:n,value:e});return new Promise((h,g)=>{l.onsuccess=I=>{h()},r.onerror=I=>{var S;g(Fr.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})}),hy.apply(this,arguments)}const md=new co.Yd("@firebase/app-check");function Yw(n,e){return(0,$t.hl)()?function zw(n,e){return function Zw(n,e){return hy.apply(this,arguments)}(function C0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{md.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Xw(){return Fp().enabled}function eD(){return T0.apply(this,arguments)}function T0(){return T0=(0,Ce.Z)(function*(){const n=Fp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),T0.apply(this,arguments)}const ib={error:"UNKNOWN_ERROR"};function sb(n){return $t.US.encodeString(JSON.stringify(n),!1)}function py(n){return A0.apply(this,arguments)}function A0(){return A0=(0,Ce.Z)(function*(n,e=!1){const t=n.app;cy(t);const r=ci(t);let l,o=r.token;if(!o){const I=yield r.cachedTokenPromise;I&&s(I)&&(o=I)}if(!e&&o&&s(o))return{token:o.token};let g,h=!1;if(Xw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Up(nT(t,yield eD()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),h=!0);const I=yield r.exchangeTokenPromise;return yield Yw(t,I),ta(t,Object.assign(Object.assign({},r),{token:I})),{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0),o=yield r.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?md.warn(I.message):md.error(I),l=I}return o?(g={token:o.token},ta(t,Object.assign(Object.assign({},r),{token:o})),yield Yw(t,o)):g=a(l),h&&i(t,g),g}),A0.apply(this,arguments)}function M0(n,e){const t=ci(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ta(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function tD(n){const{app:e}=n,t=ci(e);let r=t.tokenRefresher;r||(r=function ob(n){const{app:e}=n;return new YC((0,Ce.Z)(function*(){let r;if(r=ci(e).token?yield py(n,!0):yield py(n),r.error)throw r.error}),()=>!0,()=>{const t=ci(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ta(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function i(n,e){const t=ci(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function s(n){return n.expireTimeMillis-Date.now()>0}function a(n){return{token:sb(ib),error:n}}class u{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ci(this.app);for(const t of e)M0(this.app,t.next);return Promise.resolve()}}const gy="app-check-internal";!function N0(){(0,$s._registerComponent)(new uu.wA("app-check",n=>function c(n,e){return new u(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gy).initialize()})),(0,$s._registerComponent)(new uu.wA(gy,n=>function f(n){return{getToken:e=>py(n,e),addTokenListener:e=>function S0(n,e,t,r){const{app:o}=n,l=ci(o),h={next:t,error:r,type:e};if(ta(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&s(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),tD(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>tD(n))}(n,"INTERNAL",e),removeTokenListener:e=>M0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$s.registerVersion)("@firebase/app-check","0.5.5")}();class ub{constructor(){return(0,cr.vb)("app-check")}}"undefined"!=typeof window&&window;var sT=F(127);const oT=new m.InjectionToken("angularfire2.auth.use-emulator"),aT=new m.InjectionToken("angularfire2.auth.settings"),uT=new m.InjectionToken("angularfire2.auth.tenant-id"),lT=new m.InjectionToken("angularfire2.auth.langugage-code"),cT=new m.InjectionToken("angularfire2.auth.use-device-language"),dT=new m.InjectionToken("angularfire.auth.persistence"),hT=(n,e,t,r,o,l,h,g)=>(0,hn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=o,l&&I.useDeviceLanguage(),h)for(const[S,L]of Object.entries(h))I.settings[S]=L;return g&&I.setPersistence(g),I},[t,r,o,l,h,g]);let oD=(()=>{class n{constructor(t,r,o,l,h,g,I,S,L,U,Q,ge){const Re=new Ds.x,et=Ct(void 0).pipe((0,iy.Q)(h.outsideAngular),Pi(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4087)))),(0,Dt.U)(()=>(0,hn.on)(t,l,r)),(0,Dt.U)(St=>hT(St,l,g,S,L,U,I,Q)),f0({bufferSize:1,refCount:!1}));if((0,w.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{et.pipe(Vh()).subscribe();const Tn=et.pipe(Pi(Ht=>Ht.getRedirectResult().then(pn=>pn,()=>null)),cr.iC,f0({bufferSize:1,refCount:!1})),Nt=et.pipe(Pi(Ht=>new Ot.y(pn=>({unsubscribe:l.runOutsideAngular(()=>Ht.onAuthStateChanged(tn=>pn.next(tn),tn=>pn.error(tn),()=>pn.complete()))})))),pr=et.pipe(Pi(Ht=>new Ot.y(pn=>({unsubscribe:l.runOutsideAngular(()=>Ht.onIdTokenChanged(tn=>pn.next(tn),tn=>pn.error(tn),()=>pn.complete()))}))));this.authState=Tn.pipe(uy(Nt),(0,m0.R)(h.outsideAngular),(0,iy.Q)(h.insideAngular)),this.user=Tn.pipe(uy(pr),(0,m0.R)(h.outsideAngular),(0,iy.Q)(h.insideAngular)),this.idToken=this.user.pipe(Pi(Ht=>Ht?(0,tt.D)(Ht.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Pi(Ht=>Ht?(0,tt.D)(Ht.getIdTokenResult()):Ct(null))),this.credential=(0,qC.T)(Tn,Re,this.authState.pipe(Bs(Ht=>!Ht))).pipe((0,Dt.U)(Ht=>(null==Ht?void 0:Ht.user)?Ht:null),(0,m0.R)(h.outsideAngular),(0,iy.Q)(h.insideAngular))}return(0,hn.pX)(this,et,l,{spy:{apply:(St,Tn,Nt)=>{(St.startsWith("signIn")||St.startsWith("createUser"))&&Nt.then(pr=>Re.next(pr))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(hn.Dh),m.\u0275\u0275inject(hn.xv,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(cr.HU),m.\u0275\u0275inject(oT,8),m.\u0275\u0275inject(aT,8),m.\u0275\u0275inject(uT,8),m.\u0275\u0275inject(lT,8),m.\u0275\u0275inject(cT,8),m.\u0275\u0275inject(dT,8),m.\u0275\u0275inject(ub,8))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),OA=(()=>{class n{constructor(){sT.Z.registerVersion("angularfire",cr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[oD]}),n})();function fT(n,e){return function PA(n,e=Zh.z){return new Ot.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function cb(n,e){return fT(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function aD(n,e){return cb(n,e).pipe(as(void 0),lo(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const I=o.find(L=>L.doc.ref.isEqual(h.ref)),S=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(h.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(h.metadata)||!I&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),l}))}function pT(n,e,t){return aD(n,t).pipe(js((r,o)=>function FA(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function LA(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return db(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return db(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return db(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function Aa(n,e=Bo.y){return n=null!=n?n:$i,(0,qr.e)((t,r)=>{let o,l=!0;t.subscribe((0,er.x)(r,h=>{const g=e(h);(l||!n(o,g))&&(l=!1,o=g,r.next(h))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function db(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function gT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mT{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=aD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(as(void 0),lo(),Bs(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(js((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gT(e);return pT(this.query,t,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return cb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),cr.iC)}get(e){return(0,tt.D)(this.query.get(e)).pipe(cr.iC)}add(e){return this.ref.add(e)}doc(e){return new yT(this.ref.doc(e),this.afs)}}class yT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=ET(r,t);return new mT(o,l,this.afs)}snapshotChanges(){return function kA(n,e){return fT(n,e).pipe(as(void 0),lo(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tt.D)(this.ref.get(e)).pipe(cr.iC)}}class VA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Bs(t=>t.length>0),cr.iC):aD(this.query,this.afs.schedulers.outsideAngular).pipe(cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(js((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gT(e);return pT(this.query,t,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return cb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),cr.iC)}get(e){return(0,tt.D)(this.query.get(e)).pipe(cr.iC)}}const vT=new m.InjectionToken("angularfire2.enableFirestorePersistence"),_T=new m.InjectionToken("angularfire2.firestore.persistenceSettings"),UA=new m.InjectionToken("angularfire2.firestore.settings"),jA=new m.InjectionToken("angularfire2.firestore.use-emulator");function ET(n,e=(t=>t)){return{query:e(n),ref:n}}let hb=(()=>{class n{constructor(t,r,o,l,h,g,I,S,L,U,Q,ge,Re,et,St,Tn,Nt){this.schedulers=I;const pr=(0,hn.on)(t,g,r),Ht=L;U&&hT(pr,g,Q,Re,et,St,ge,Tn),[this.firestore,this.persistenceEnabled$]=(0,hn.cc)(`${pr.name}.firestore`,"AngularFirestore",pr.name,()=>{const pn=g.runOutsideAngular(()=>pr.firestore());if(l&&pn.settings(l),Ht&&pn.useEmulator(...Ht),o&&!(0,w.isPlatformServer)(h)){const tn=()=>{try{return(0,tt.D)(pn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Xl){return"undefined"!=typeof console&&console.warn(Xl),Ct(!1)}};return[pn,g.runOutsideAngular(tn)]}return[pn,Ct(!1)]},[l,Ht,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=ET(o,r),g=this.schedulers.ngZone.run(()=>l);return new mT(g,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new VA(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new yT(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(hn.Dh),m.\u0275\u0275inject(hn.xv,8),m.\u0275\u0275inject(vT,8),m.\u0275\u0275inject(UA,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(cr.HU),m.\u0275\u0275inject(_T,8),m.\u0275\u0275inject(jA,8),m.\u0275\u0275inject(oD,8),m.\u0275\u0275inject(oT,8),m.\u0275\u0275inject(aT,8),m.\u0275\u0275inject(uT,8),m.\u0275\u0275inject(lT,8),m.\u0275\u0275inject(cT,8),m.\u0275\u0275inject(dT,8),m.\u0275\u0275inject(ub,8))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BA=(()=>{class n{constructor(){sT.Z.registerVersion("angularfire",cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vT,useValue:!0},{provide:_T,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[hb]}),n})();var $A=F(9672);function IT(n,e,t){n?(0,$A.f)(t,n,e):e()}function uD(n,e){const t=(0,ay.m)(n)?n:()=>n,r=o=>o.error(t());return new Ot.y(e?o=>e.schedule(r,0,o):r)}function wT(n){return new Ot.y(e=>{(0,Fi.Xf)(n()).subscribe(e)})}var my=F(515),DT=F(727);function CT(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,er.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qA extends Ot.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new DT.w0;const t=this.getSubject();e.add(this.source.subscribe((0,er.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=DT.w0.EMPTY)}return e}refCount(){return CT()(this)}}function jh(n){return(0,qr.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,er.x)(t,void 0,void 0,h=>{l=(0,Fi.Xf)(n(h,jh(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ns=F(5577);function O0(n,e){return(0,ay.m)(e)?(0,Ns.z)(n,e,1):(0,Ns.z)(n,1)}function fb(n){return n<=0?()=>my.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe((0,er.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}var na=F(8505);class yd{constructor(e,t){this.id=e,this.url=t}}class pb extends yd{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class P0 extends yd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bT extends yd{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class KA extends yd{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZA extends yd{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QA extends yd{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YA extends yd{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JA extends yd{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XA extends yd{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eS{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tS{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nS{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rS{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const sn="primary";class iS{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yy(n){return new iS(n)}const MT="ngNavigationCancelingError";function gb(n){const e=Error("NavigationCancelingError: "+n);return e[MT]=!0,e}function oS(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],g=n[l];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Yl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!xT(n[o],e[o]))return!1;return!0}function xT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function RT(n){return Array.prototype.concat.apply([],n)}function NT(n){return n.length>0?n[n.length-1]:null}function ys(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Jl(n){return(0,m.\u0275isObservable)(n)?n:(0,m.\u0275isPromise)(n)?(0,tt.D)(Promise.resolve(n)):Ct(n)}const lS={exact:function kT(n,e,t){if(!Hp(n.segments,e.segments)||!lD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!kT(n.children[r],e.children[r],t))return!1;return!0},subset:FT},OT={exact:function cS(n,e){return Yl(n,e)},subset:function dS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xT(n[t],e[t]))},ignored:()=>!0};function PT(n,e,t){return lS[t.paths](n.root,e.root,t.matrixParams)&&OT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function FT(n,e,t){return LT(n,e,e.segments,t)}function LT(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Hp(o,t)||e.hasChildren()||!lD(o,t,r))}if(n.segments.length===t.length){if(!Hp(n.segments,t)||!lD(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!FT(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Hp(n.segments,o)&&lD(n.segments,o,r)&&n.children[sn])&&LT(n.children[sn],e,l,r)}}function lD(n,e,t){return e.every((r,o)=>OT[t](n[o].parameters,r.parameters))}class $p{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yy(this.queryParams)),this._queryParamMap}toString(){return pS.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ys(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cD(this)}}class k0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yy(this.parameters)),this._parameterMap}toString(){return $T(this)}}function Hp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class VT{}class UT{parse(e){const t=new DS(e);return new $p(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${F0(e.root,!0)}`,r=function yS(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${dD(t)}=${dD(o)}`).join("&"):`${dD(t)}=${dD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function gS(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const pS=new UT;function cD(n){return n.segments.map(e=>$T(e)).join("/")}function F0(n,e){if(!n.hasChildren())return cD(n);if(e){const t=n.children[sn]?F0(n.children[sn],!1):"",r=[];return ys(n.children,(o,l)=>{l!==sn&&r.push(`${l}:${F0(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fS(n,e){let t=[];return ys(n.children,(r,o)=>{o===sn&&(t=t.concat(e(r,o)))}),ys(n.children,(r,o)=>{o!==sn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===sn?[F0(n.children[sn],!1)]:[`${o}:${F0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${cD(n)}/${t[0]}`:`${cD(n)}/(${t.join("//")})`}}function jT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dD(n){return jT(n).replace(/%3B/gi,";")}function mb(n){return jT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hD(n){return decodeURIComponent(n)}function BT(n){return hD(n.replace(/\+/g,"%20"))}function $T(n){return`${mb(n.path)}${function mS(n){return Object.keys(n).map(e=>`;${mb(e)}=${mb(n[e])}`).join("")}(n.parameters)}`}const vS=/^[^\/()?;=#]+/;function fD(n){const e=n.match(vS);return e?e[0]:""}const _S=/^[^=?&#]+/,IS=/^[^&#]+/;class DS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new fn(e,t)),r}parseSegment(){const e=fD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new k0(hD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=fD(this.remaining);o&&(r=o,this.capture(r))}e[hD(t)]=hD(r)}parseQueryParam(e){const t=function ES(n){const e=n.match(_S);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function wS(n){const e=n.match(IS);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=BT(t),l=BT(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fD(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=sn);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[sn]:new fn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class HT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return vb(e,this._root).map(t=>t.value)}}function yb(n,e){if(n===e.value)return e;for(const t of e.children){const r=yb(n,t);if(r)return r}return null}function vb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=vb(n,t);if(r.length)return r.unshift(e),r}return[]}class vd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class GT extends HT{constructor(e,t){super(e),this.snapshot=t,_b(this,e)}toString(){return this.snapshot.toString()}}function qT(n,e){const t=function CS(n,e){const h=new pD([],{},{},"",{},sn,e,null,n.root,-1,{});return new zT("",new vd(h,[]))}(n,e),r=new Gn([new k0("",{})]),o=new Gn({}),l=new Gn({}),h=new Gn({}),g=new Gn(""),I=new _y(r,o,h,g,l,sn,e,t.root);return I.snapshot=t.root,new GT(new vd(I,[]),t)}class _y{constructor(e,t,r,o,l,h,g,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>yy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>yy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function bS(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pD{constructor(e,t,r,o,l,h,g,I,S,L,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=L,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zT extends HT{constructor(e,t){super(t),this.url=e,_b(this,t)}toString(){return KT(this._root)}}function _b(n,e){e.value._routerState=n,e.children.forEach(t=>_b(n,t))}function KT(n){const e=n.children.length>0?` { ${n.children.map(KT).join(", ")} } `:"";return`${n.value}${e}`}function Eb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yl(e.params,t.params)||n.params.next(t.params),function aS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ib(n,e){const t=Yl(n.params,e.params)&&function hS(n,e){return Hp(n,e)&&n.every((t,r)=>Yl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ib(n.parent,e.parent))}function L0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function AS(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return L0(n,r,o);return L0(n,r)})}(n,e,t);return new vd(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>L0(n,g)),h}}const r=function SS(n){return new _y(new Gn(n.url),new Gn(n.params),new Gn(n.queryParams),new Gn(n.fragment),new Gn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>L0(n,l));return new vd(r,o)}}function gD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function V0(n){return"object"==typeof n&&null!=n&&n.outlets}function wb(n,e,t,r,o){let l={};if(r&&ys(r,(g,I)=>{l[I]=Array.isArray(g)?g.map(S=>`${S}`):`${g}`}),n===e)return new $p(t,l,o);const h=ZT(n,e,t);return new $p(h,l,o)}function ZT(n,e,t){const r={};return ys(n.children,(o,l)=>{r[l]=o===e?t:ZT(o,e,t)}),new fn(n.segments,r)}class QT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gD(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(V0);if(o&&o!==NT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Db{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function YT(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return mD(n,e,t);const r=function PS(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],g=t[r];if(V0(g))break;const I=`${g}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!XT(I,S,h))return l;r+=2}else{if(!XT(I,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new fn(n.segments.slice(0,r.pathIndex),{});return l.children[sn]=new fn(n.segments.slice(r.pathIndex),n.children),mD(l,0,o)}return r.match&&0===o.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?Cb(n,e,t):r.match?mD(n,0,o):Cb(n,e,t)}function mD(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function OS(n){return V0(n[0])?n[0].outlets:{[sn]:n}}(t),o={};return ys(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=YT(n.children[h],e,l))}),ys(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new fn(n.segments,o)}}function Cb(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(V0(l)){const I=kS(l.outlets);return new fn(r,I)}if(0===o&&gD(t[0])){r.push(new k0(n.segments[e].path,JT(t[0]))),o++;continue}const h=V0(l)?l.outlets[sn]:`${l}`,g=o<t.length-1?t[o+1]:null;h&&g&&gD(g)?(r.push(new k0(h,JT(g))),o+=2):(r.push(new k0(h,{})),o++)}return new fn(r,{})}function kS(n){const e={};return ys(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cb(new fn([],{}),0,t))}),e}function JT(n){const e={};return ys(n,(t,r)=>e[r]=`${t}`),e}function XT(n,e,t){return n==t.path&&Yl(e,t.parameters)}class LS{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Eb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=vy(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),ys(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=vy(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=vy(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=vy(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new rS(l.value.snapshot))}),e.children.length&&this.forwardEvent(new tS(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Eb(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Eb(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function VS(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),I=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=I,h.outlet&&h.outlet.activateWith(o,I),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class bb{constructor(e,t){this.routes=e,this.module=t}}function Bh(n){return"function"==typeof n}function Gp(n){return n instanceof $p}const U0=Symbol("INITIAL_VALUE");function j0(){return Pi(n=>function HA(...n){const e=(0,Xi.yG)(n),t=(0,Xi.jO)(n),{args:r,keys:o}=gn(n);if(0===r.length)return(0,tt.D)([],e);const l=new Ot.y(function GA(n,e,t=Bo.y){return r=>{IT(e,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let I=0;I<o;I++)IT(e,()=>{const S=(0,tt.D)(n[I],e);let L=!1;S.subscribe((0,er.x)(r,U=>{l[I]=U,L||(L=!0,g--),g||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ue(o,h):Bo.y));return t?l.pipe(Vr(t)):l}(n.map(e=>e.pipe((0,g0.q)(1),as(U0)))).pipe(js((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==U0?o:(l===U0&&(r=!0),r||!1!==l&&h!==t.length-1&&!Gp(l)?o:l),e)},U0),Bs(e=>e!==U0),(0,Dt.U)(e=>Gp(e)?e:!0===e),(0,g0.q)(1)))}class GS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new B0,this.attachRef=null}}class B0{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new GS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Tb=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.EventEmitter,this.deactivateEvents=new m.EventEmitter,this.attachEvents=new m.EventEmitter,this.detachEvents=new m.EventEmitter,this.name=l||sn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,I=new qS(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(B0),m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.ComponentFactoryResolver),m.\u0275\u0275injectAttribute("name"),m.\u0275\u0275directiveInject(m.ChangeDetectorRef))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class qS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_y?this.route:e===B0?this.childContexts:this.parent.get(e,t)}}let eA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&m.\u0275\u0275element(0,"router-outlet")},directives:[Tb],encapsulation:2}),n})();function tA(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];WS(r,zS(e,r))}}function WS(n,e){n.children&&tA(n.children,e)}function zS(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ab(n){const e=n.children&&n.children.map(Ab),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=eA),t}function Wa(n){return n.outlet||sn}function nA(n,e){const t=n.filter(r=>Wa(r)===e);return t.push(...n.filter(r=>Wa(r)!==e)),t}const rA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},rA):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||oS)(t,n,e);if(!l)return Object.assign({},rA);const h={};ys(l.posParams,(I,S)=>{h[S]=I.path});const g=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:g,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function vD(n,e,t,r,o="corrected"){if(t.length>0&&function QS(n,e,t){return t.some(r=>_D(n,e,r)&&Wa(r)!==sn)}(n,t,r)){const h=new fn(e,function ZS(n,e,t,r){const o={};o[sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Wa(l)!==sn){const h=new fn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Wa(l)]=h}return o}(n,e,r,new fn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function YS(n,e,t){return t.some(r=>_D(n,e,r))}(n,t,r)){const h=new fn(n.segments,function KS(n,e,t,r,o,l){const h={};for(const g of r)if(_D(n,t,g)&&!o[Wa(g)]){const I=new fn([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[Wa(g)]=I}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new fn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function _D(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iA(n,e,t,r){return!!(Wa(n)===r||r!==sn&&_D(e,t,n))&&("**"===n.path||yD(e,n,t).matched)}function sA(n,e,t){return 0===e.length&&!n.children[t]}class ED{constructor(e){this.segmentGroup=e||null}}class oA{constructor(e){this.urlTree=e}}function $0(n){return uD(new ED(n))}function aA(n){return uD(new oA(n))}function JS(n){return uD(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class tM{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(m.NgModuleRef)}apply(){const e=vD(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,sn).pipe((0,Dt.U)(l=>this.createUrlTree(Sb(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jh(l=>{if(l instanceof oA)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ED?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,sn).pipe((0,Dt.U)(o=>this.createUrlTree(Sb(o),e.queryParams,e.fragment))).pipe(jh(o=>{throw o instanceof ED?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new fn([],{[sn]:e}):e;return new $p(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(l=>new fn([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,tt.D)(o).pipe(O0(l=>{const h=r.children[l],g=nA(t,l);return this.expandSegmentGroup(e,g,h,l).pipe((0,Dt.U)(I=>({segment:I,outlet:l})))}),js((l,h)=>(l[h.outlet]=h.segment,l),{}),function WA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bs((o,l)=>n(o,l,r)):Bo.y,fb(1),t?oy(e):So(()=>new sy))}())}expandSegment(e,t,r,o,l,h){return(0,tt.D)(r).pipe(O0(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,l,h).pipe(jh(S=>{if(S instanceof ED)return Ct(null);throw S}))),Vh(g=>!!g),jh((g,I)=>{if(g instanceof sy||"EmptyError"===g.name)return sA(t,o,l)?Ct(new fn([],{})):$0(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,l,h,g){return iA(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):$0(t):$0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aA(l):this.lineralizeSegments(r,l).pipe((0,Ns.z)(h=>{const g=new fn(h,{});return this.expandSegment(e,g,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:g,consumedSegments:I,remainingSegments:S,positionalParamSegments:L}=yD(t,o,l);if(!g)return $0(t);const U=this.applyRedirectCommands(I,o.redirectTo,L);return o.redirectTo.startsWith("/")?aA(U):this.lineralizeSegments(o,U).pipe((0,Ns.z)(Q=>this.expandSegment(e,t,r,Q.concat(S),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(U=>(r._loadedConfig=U,new fn(o,{})))):Ct(new fn(o,{}));const{matched:h,consumedSegments:g,remainingSegments:I}=yD(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,Ns.z)(L=>{const U=L.module,Q=L.routes,{segmentGroup:ge,slicedSegments:Re}=vD(t,g,I,Q),et=new fn(ge.segments,ge.children);if(0===Re.length&&et.hasChildren())return this.expandChildren(U,Q,et).pipe((0,Dt.U)(pr=>new fn(g,pr)));if(0===Q.length&&0===Re.length)return Ct(new fn(g,{}));const St=Wa(r)===l;return this.expandSegment(U,et,Q,Re,St?sn:l,!0).pipe((0,Dt.U)(Nt=>new fn(g.concat(Nt.segments),Nt.children)))})):$0(t)}getChildConfig(e,t,r){return t.children?Ct(new bb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ns.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(l=>(t._loadedConfig=l,l))):function XS(n){return uD(gb(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Ct(new bb([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return Ct(!0);const l=o.map(h=>{const g=e.get(h);let I;if(function jS(n){return n&&Bh(n.canLoad)}(g))I=g.canLoad(t,r);else{if(!Bh(g))throw new Error("Invalid CanLoad guard");I=g(t,r)}return Jl(I)});return Ct(l).pipe(j0(),(0,na.b)(h=>{if(!Gp(h))return;const g=gb(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,Dt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ct(r);if(o.numberOfChildren>1||!o.children[sn])return JS(e.redirectTo);o=o.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new $p(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ys(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=t[g]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return ys(t.children,(g,I)=>{h[I]=this.createSegmentGroup(e,g,r,o)}),new fn(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Sb(n){const e={};for(const r of Object.keys(n.children)){const l=Sb(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function nM(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class uA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ID{constructor(e,t){this.component=e,this.route=t}}function iM(n,e,t){const r=n._root;return H0(r,e?e._root:null,t,[r.value])}function wD(n,e,t){const r=function oM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function H0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=vy(e);return n.children.forEach(h=>{(function aM(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const I=function uM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Hp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Hp(n.url,e.url)||!Yl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ib(n,e)||!Yl(n.queryParams,e.queryParams);default:return!Ib(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);I?o.canActivateChecks.push(new uA(r)):(l.data=h.data,l._resolvedData=h._resolvedData),H0(n,e,l.component?g?g.children:null:t,r,o),I&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new ID(g.outlet.component,h))}else h&&G0(e,g,o),o.canActivateChecks.push(new uA(r)),H0(n,null,l.component?g?g.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),ys(l,(h,g)=>G0(h,t.getContext(g),o)),o}function G0(n,e,t){const r=vy(n),o=n.value;ys(r,(l,h)=>{G0(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new ID(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class yM{}function lA(n){return new Ot.y(e=>e.error(n))}class _M{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=vD(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,sn);if(null===t)return null;const r=new pD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new vd(r,t),l=new zT(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=WT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],g=nA(e,l),I=this.processSegmentGroup(g,h,l);if(null===I)return null;r.push(...I)}const o=cA(r);return function EM(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return sA(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!iA(e,t,r,o))return null;let l,h=[],g=[];if("**"===e.path){const ge=r.length>0?NT(r).parameters:{};l=new pD(r,ge,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fA(e),Wa(e),e.component,e,dA(t),hA(t)+r.length,pA(e))}else{const ge=yD(t,e,r);if(!ge.matched)return null;h=ge.consumedSegments,g=ge.remainingSegments,l=new pD(h,ge.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fA(e),Wa(e),e.component,e,dA(t),hA(t)+h.length,pA(e))}const I=function IM(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:L}=vD(t,h,g,I.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===L.length&&S.hasChildren()){const ge=this.processChildren(I,S);return null===ge?null:[new vd(l,ge)]}if(0===I.length&&0===L.length)return[new vd(l,[])];const U=Wa(e)===o,Q=this.processSegment(I,S,L,U?sn:o);return null===Q?null:[new vd(l,Q)]}}function wM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cA(n){const e=[],t=new Set;for(const r of n){if(!wM(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=cA(r.children);e.push(new vd(r.value,o))}return e.filter(r=>!t.has(r))}function dA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function fA(n){return n.data||{}}function pA(n){return n.resolve||{}}function gA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Mb(n){return Pi(e=>{const t=n(e);return t?(0,tt.D)(t).pipe((0,Dt.U)(()=>e)):Ct(e)})}class xM extends class MM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xb=new m.InjectionToken("ROUTES");class mA{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new bb(RT(h.injector.get(xb,void 0,m.InjectFlags.Self|m.InjectFlags.Optional)).map(Ab),h)}),jh(l=>{throw t._loader$=void 0,l}));return t._loader$=new qA(o,()=>new Ds.x).pipe(CT()),t._loader$}loadModuleFactory(e){return Jl(e()).pipe((0,Ns.z)(t=>t instanceof m.NgModuleFactory?Ct(t):(0,tt.D)(this.compiler.compileModuleAsync(t))))}}class NM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function OM(n){throw n}function PM(n,e,t){return e.parse("/")}function yA(n,e){return Ct(null)}const kM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Os=(()=>{class n{constructor(t,r,o,l,h,g,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ds.x,this.errorHandler=OM,this.malformedUriErrorHandler=PM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yA,afterPreactivation:yA},this.urlHandlingStrategy=new NM,this.routeReuseStrategy=new xM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(m.NgModuleRef),this.console=h.get(m.\u0275Console);const U=h.get(m.NgZone);this.isNgZoneEnabled=U instanceof m.NgZone&&m.NgZone.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function uS(){return new $p(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mA(h,g,Q=>this.triggerEvent(new TT(Q)),Q=>this.triggerEvent(new AT(Q))),this.routerState=qT(this.currentUrlTree,this.rootComponentType),this.transitions=new Gn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Bs(o=>0!==o.id),(0,Dt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pi(o=>{let l=!1,h=!1;return Ct(o).pipe((0,na.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pi(g=>{const I=this.browserUrlTree.toString(),S=!this.navigated||g.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return vA(g.source)&&(this.browserUrlTree=g.extractedUrl),Ct(g).pipe(Pi(U=>{const Q=this.transitions.getValue();return r.next(new pb(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Q!==this.transitions.getValue()?my.E:Promise.resolve(U)}),function rM(n,e,t,r){return Pi(o=>function eM(n,e,t,r,o){return new tM(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,na.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function DM(n,e,t,r,o){return(0,Ns.z)(l=>function vM(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new _M(n,e,t,r,o,l).recognize();return null===h?lA(new yM):Ct(h)}catch(h){return lA(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Dt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,na.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ge,U)}this.browserUrlTree=U.urlAfterRedirects}const Q=new ZA(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ge,source:Re,restoredState:et,extras:St}=g,Tn=new pb(Q,this.serializeUrl(ge),Re,et);r.next(Tn);const Nt=qT(ge,this.rootComponentType).snapshot;return Ct(Object.assign(Object.assign({},g),{targetSnapshot:Nt,urlAfterRedirects:ge,extras:Object.assign(Object.assign({},St),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),my.E}),Mb(g=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=g;return this.hooks.beforePreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,na.b)(g=>{const I=new QA(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(I)}),(0,Dt.U)(g=>Object.assign(Object.assign({},g),{guards:iM(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function lM(n,e){return(0,Ns.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?Ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function cM(n,e,t,r){return(0,tt.D)(n).pipe((0,Ns.z)(o=>function mM(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Ct(l.map(g=>{const I=wD(g,e,o);let S;if(function HS(n){return n&&Bh(n.canDeactivate)}(I))S=Jl(I.canDeactivate(n,e,t,r));else{if(!Bh(I))throw new Error("Invalid CanDeactivate guard");S=Jl(I(n,e,t,r))}return S.pipe(Vh())})).pipe(j0()):Ct(!0)}(o.component,o.route,t,e,r)),Vh(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Ns.z)(g=>g&&function US(n){return"boolean"==typeof n}(g)?function dM(n,e,t,r){return(0,tt.D)(e).pipe(O0(o=>uo(function fM(n,e){return null!==n&&e&&e(new eS(n)),Ct(!0)}(o.route.parent,r),function hM(n,e){return null!==n&&e&&e(new nS(n)),Ct(!0)}(o.route,r),function gM(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function sM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>wT(()=>Ct(h.guards.map(I=>{const S=wD(I,h.node,t);let L;if(function $S(n){return n&&Bh(n.canActivateChild)}(S))L=Jl(S.canActivateChild(r,n));else{if(!Bh(S))throw new Error("Invalid CanActivateChild guard");L=Jl(S(r,n))}return L.pipe(Vh())})).pipe(j0())));return Ct(l).pipe(j0())}(n,o.path,t),function pM(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const o=r.map(l=>wT(()=>{const h=wD(l,e,t);let g;if(function BS(n){return n&&Bh(n.canActivate)}(h))g=Jl(h.canActivate(e,n));else{if(!Bh(h))throw new Error("Invalid CanActivate guard");g=Jl(h(e,n))}return g.pipe(Vh())}));return Ct(o).pipe(j0())}(n,o.route,t))),Vh(o=>!0!==o,!0))}(r,l,n,e):Ct(g)),(0,Dt.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,na.b)(g=>{if(Gp(g.guardsResult)){const S=gb(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw S.url=g.guardsResult,S}const I=new YA(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(I)}),Bs(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Mb(g=>{if(g.guards.canActivateChecks.length)return Ct(g).pipe((0,na.b)(I=>{const S=new JA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),Pi(I=>{let S=!1;return Ct(I).pipe(function CM(n,e){return(0,Ns.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ct(t);let l=0;return(0,tt.D)(o).pipe(O0(h=>function bM(n,e,t,r){return function TM(n,e,t,r){const o=gA(n);if(0===o.length)return Ct({});const l={};return(0,tt.D)(o).pipe((0,Ns.z)(h=>function AM(n,e,t,r){const o=wD(n,e,r);return Jl(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,na.b)(g=>{l[h]=g}))),fb(1),(0,Ns.z)(()=>gA(l).length===o.length?Ct(l):my.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),WT(n,t).resolve),null)))}(h.route,r,n,e)),(0,na.b)(()=>l++),fb(1),(0,Ns.z)(h=>l===o.length?Ct(t):my.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,na.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,na.b)(I=>{const S=new XA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),Mb(g=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=g;return this.hooks.afterPreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,Dt.U)(g=>{const I=function TS(n,e,t){const r=L0(n,e._root,t?t._root:void 0);return new GT(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:I})}),(0,na.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new LS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,na.b)({next(){l=!0},complete(){l=!0}}),function zA(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),jh(g=>{if(h=!0,function sS(n){return n&&n[MT]}(g)){const I=Gp(g.url);I||(this.navigated=!0,this.restoreHistory(o,!0));const S=new bT(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(S),I?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vA(o.source)};this.scheduleNavigation(L,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const I=new KA(o.id,this.serializeUrl(o.extractedUrl),g);r.next(I);try{o.resolve(this.errorHandler(g))}catch(S){o.reject(S)}}return my.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const I=Object.assign({},h);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(l.state=I)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){tA(t),this.config=t.map(Ab),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:g,preserveFragment:I}=r,S=o||this.routerState.root,L=I?this.currentUrlTree.fragment:h;let U=null;switch(g){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=l||null}return null!==U&&(U=this.removeEmptyProps(U)),function MS(n,e,t,r,o){if(0===t.length)return wb(e.root,e.root,e.root,r,o);const l=function xS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QT(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return ys(l.outlets,(I,S)=>{g[S]="string"==typeof I?I.split("/"):I}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((g,I)=>{0==I&&"."===g||(0==I&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new QT(t,e,r)}(t);if(l.toRoot())return wb(e.root,e.root,new fn([],{}),r,o);const h=function RS(n,e,t){if(n.isAbsolute)return new Db(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Db(l,l===e.root,0)}const r=gD(n.commands[0])?0:1;return function NS(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Db(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),g=h.processChildren?mD(h.segmentGroup,h.index,l.commands):YT(h.segmentGroup,h.index,l.commands);return wb(e.root,h.segmentGroup,g,r,o)}(S,this.currentUrlTree,t,U,null!=L?L:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Gp(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function LM(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},kM):!1===r?Object.assign({},FM):r,Gp(t))return PT(this.currentUrlTree,t,o);const l=this.parseUrl(t);return PT(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new P0(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var g,I;if(this.disposed)return Promise.resolve(!1);let S,L,U;h?(S=h.resolve,L=h.reject,U=h.promise):U=new Promise((Re,et)=>{S=Re,L=et});const Q=++this.navigationId;let ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):ge=0,this.setTransition({id:Q,targetPageId:ge,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:S,reject:L,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(Re=>Promise.reject(Re))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new bT(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){m.\u0275\u0275invalidFactory()},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function vA(n){return"imperative"!==n}let Ey=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Ds.x,this.subscription=t.events.subscribe(l=>{l instanceof P0&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:Iy(this.skipLocationChange),replaceUrl:Iy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Iy(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Os),m.\u0275\u0275directiveInject(_y),m.\u0275\u0275directiveInject(w.LocationStrategy))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&m.\u0275\u0275attribute("target",r.target)("href",r.href,m.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.\u0275\u0275NgOnChangesFeature]}),n})();function Iy(n){return""===n||!!n}class _A{}class EA{preload(e,t){return Ct(null)}}let IA=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new mA(o,r,I=>t.triggerEvent(new TT(I)),I=>t.triggerEvent(new AT(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bs(t=>t instanceof P0),O0(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(m.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,tt.D)(o).pipe((0,Ti.J)(),(0,Dt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ns.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(Os),m.\u0275\u0275inject(m.Compiler),m.\u0275\u0275inject(m.Injector),m.\u0275\u0275inject(_A))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Nb=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof P0&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ST&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ST(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){m.\u0275\u0275invalidFactory()},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const qp=new m.InjectionToken("ROUTER_CONFIGURATION"),wA=new m.InjectionToken("ROUTER_FORROOT_GUARD"),BM=[w.Location,{provide:VT,useClass:UT},{provide:Os,useFactory:function WM(n,e,t,r,o,l,h={},g,I){const S=new Os(null,n,e,t,r,o,RT(l));return g&&(S.urlHandlingStrategy=g),I&&(S.routeReuseStrategy=I),function zM(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,S),h.enableTracing&&S.events.subscribe(L=>{var U,Q;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),S},deps:[VT,B0,w.Location,m.Injector,m.Compiler,xb,qp,[class RM{},new m.Optional],[class SM{},new m.Optional]]},B0,{provide:_y,useFactory:function KM(n){return n.routerState.root},deps:[Os]},IA,EA,class jM{preload(e,t){return t().pipe(jh(()=>Ct(null)))}},{provide:qp,useValue:{enableTracing:!1}}];function $M(){return new m.NgProbeToken("Router",Os)}let DA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[BM,CA(t),{provide:wA,useFactory:qM,deps:[[Os,new m.Optional,new m.SkipSelf]]},{provide:qp,useValue:r||{}},{provide:w.LocationStrategy,useFactory:GM,deps:[w.PlatformLocation,[new m.Inject(w.APP_BASE_HREF),new m.Optional],qp]},{provide:Nb,useFactory:HM,deps:[Os,w.ViewportScroller,qp]},{provide:_A,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:EA},{provide:m.NgProbeToken,multi:!0,useFactory:$M},[Ob,{provide:m.APP_INITIALIZER,multi:!0,useFactory:ZM,deps:[Ob]},{provide:bA,useFactory:QM,deps:[Ob]},{provide:m.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:bA}]]}}static forChild(t){return{ngModule:n,providers:[CA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(wA,8),m.\u0275\u0275inject(Os,8))},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({}),n})();function HM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Nb(n,e,t)}function GM(n,e,t={}){return t.useHash?new w.HashLocationStrategy(n,e):new w.PathLocationStrategy(n,e)}function qM(n){return"guarded"}function CA(n){return[{provide:m.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:xb,multi:!0,useValue:n}]}let Ob=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ds.x}appInitializer(){return this.injector.get(w.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),l=this.injector.get(Os),h=this.injector.get(qp);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(qp),o=this.injector.get(IA),l=this.injector.get(Nb),h=this.injector.get(Os),g=this.injector.get(m.ApplicationRef);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(m.Injector))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function ZM(n){return n.appInitializer.bind(n)}function QM(n){return n.bootstrapListener.bind(n)}const bA=new m.InjectionToken("Router Initializer");let q0=(()=>{class n{constructor(t,r,o){this.afs=t,this.afAuth=r,this.router=o,this.isAuthenticatedSource=new Gn(!1),this.isAuthenticated=this.isAuthenticatedSource.asObservable(),this.afAuth.authState.pipe((0,Dt.U)(l=>this.isAuthenticatedSource.next(null!==l)))}signup(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{var o;return null===(o=r.user)||void 0===o?void 0:o.updateProfile({displayName:t.username})})}login(t,r){return new Promise((o,l)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(h=>o(h)).catch(h=>l(h))})}logout(){return new Promise((t,r)=>{this.afAuth.signOut().then(o=>{t(o),this.router.navigate(["/account"])}).catch(o=>t(o))})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(hb),m.\u0275\u0275inject(oD),m.\u0275\u0275inject(Os))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TA_firebase={apiKey:"AIzaSyBk6h8dtnKrSyWfCvfMbI_xVf7Uhy_NMNc",authDomain:"quotes-app-8441f.firebaseapp.com",databaseURL:"https://quotes-app-8441f-default-rtdb.firebaseio.com",projectId:"quotes-app-8441f",storageBucket:"quotes-app-8441f.appspot.com",messagingSenderId:"577153700535",appId:"1:577153700535:web:6019a81e6b3c7c753a3332",measurementId:"G-GHN65XX4GJ"},JM=["signupForm"],XM=["loginForm"],W0=function(n){return{"is-invalid":n}};let ex=(()=>{class n{constructor(t,r,o){this.flashMessage=t,this.router=r,this.usersService=o,this.isLoginForm=!0,this.user={username:"",email:"",password:""}}ngOnInit(){}onSignup({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.signup(this.user).then(o=>{this.log("Account created successfully!","alert-success"),this.signupForm.reset(),this.isLoginForm=!0}).catch(o=>{this.log(o,"alert-danger")})}onLogin({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.login(this.user.email,this.user.password).then(o=>{this.log("Logged in successfully!","alert-success"),this.router.navigate(["/quote/add"])}).catch(o=>this.log(o.message,"alert-danger"))}log(t,r){this.flashMessage.show(t,{cssClass:r,timeout:5e3})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Td.GQ),m.\u0275\u0275directiveInject(Os),m.\u0275\u0275directiveInject(q0))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-account"]],viewQuery:function(t,r){if(1&t&&(m.\u0275\u0275viewQuery(JM,5),m.\u0275\u0275viewQuery(XM,5)),2&t){let o;m.\u0275\u0275queryRefresh(o=m.\u0275\u0275loadQuery())&&(r.signupForm=o.first),m.\u0275\u0275queryRefresh(o=m.\u0275\u0275loadQuery())&&(r.loginForm=o.first)}},decls:70,vars:31,consts:[[1,"account"],[1,"container"],[1,"row"],[1,"col-10","col-lg-5","col-md-8","text-dark","mx-auto"],[1,"form-side","signup","p-5","gradient",3,"ngClass"],[1,"text-center","pb-3","text-danger"],[3,"ngSubmit"],["signupForm","ngForm"],[1,"form-group"],["type","text","name","username","placeholder","Enter username","required","","minlength","4",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupUsername","ngModel"],[1,"invalid-feedback","text-danger",3,"hidden"],["type","email","name","email","placeholder","Enter email address","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","","minlength","8",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupPassword","ngModel"],[1,"text-center"],["type","submit","value","Signup",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","pt-4"],[1,"toggler","to-login","text-danger",3,"click"],[1,"form-side","login","gradient","p-5",3,"ngClass"],[1,"text-center","text-danger","pb-3"],["loginForm","ngForm"],["type","email","name","email","placeholder","Enter username","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginPassword","ngModel"],["type","submit","value","Login",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","mt-4"],["routerLink","/account",1,"nav-link","text-danger"],[1,"pt-3"],[1,"toggler","to-signup","text-danger",3,"click"]],template:function(t,r){if(1&t){const o=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"strong"),m.\u0275\u0275text(7,"Create Account"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(8,"form",6,7),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(9);return r.onSignup(h)}),m.\u0275\u0275elementStart(10,"div",8),m.\u0275\u0275text(11," Username "),m.\u0275\u0275elementStart(12,"input",9,10),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.username=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"div",11),m.\u0275\u0275text(15," Username required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"div",11),m.\u0275\u0275text(17," Must be at least 5 characters "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(18,"div",8),m.\u0275\u0275text(19," Email Address "),m.\u0275\u0275elementStart(20,"input",12,13),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"div",11),m.\u0275\u0275text(23," Email required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"div",11),m.\u0275\u0275text(25," Enter a valid email address "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(26,"div",8),m.\u0275\u0275text(27," Password "),m.\u0275\u0275elementStart(28,"input",14,15),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(30,"div",11),m.\u0275\u0275text(31," Password required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(32,"div",11),m.\u0275\u0275text(33," Must be at least 8 characters "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(34,"div",16),m.\u0275\u0275element(35,"input",17),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(36,"p",18),m.\u0275\u0275text(37," Have an account? "),m.\u0275\u0275elementStart(38,"strong",19),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(9);return r.isLoginForm=!r.isLoginForm,h.reset()}),m.\u0275\u0275text(39,"Login"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(40,"div",20)(41,"h2",21)(42,"strong"),m.\u0275\u0275text(43,"Login"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(44,"form",6,22),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(45);return r.onLogin(h)}),m.\u0275\u0275elementStart(46,"div",8),m.\u0275\u0275text(47," Email Address "),m.\u0275\u0275elementStart(48,"input",23,24),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(50,"div",11),m.\u0275\u0275text(51," Email required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(52,"div",11),m.\u0275\u0275text(53," Enter a valid emaill address "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(54,"div",8),m.\u0275\u0275text(55," Password "),m.\u0275\u0275elementStart(56,"input",25,26),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(58,"div",11),m.\u0275\u0275text(59," Password required "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(60,"div",16),m.\u0275\u0275element(61,"input",27),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(62,"div",28)(63,"a",29)(64,"strong"),m.\u0275\u0275text(65,"Forgot Password?"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(66,"p",30),m.\u0275\u0275text(67," Don't have an account? "),m.\u0275\u0275elementStart(68,"strong",31),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(45);return r.isLoginForm=!r.isLoginForm,h.reset()}),m.\u0275\u0275text(69,"Signup"),m.\u0275\u0275elementEnd()()()()()()()()}if(2&t){const o=m.\u0275\u0275reference(13),l=m.\u0275\u0275reference(21),h=m.\u0275\u0275reference(29),g=m.\u0275\u0275reference(49),I=m.\u0275\u0275reference(57);m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",r.isLoginForm?"form-side--back":"form-side--front"),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(21,W0,o.errors&&o.touched))("ngModel",r.user.username),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(23,W0,l.errors&&l.touched))("ngModel",r.user.email),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.pattern)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(25,W0,h.errors&&h.touched))("ngModel",r.user.password),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.minlength)),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",r.isLoginForm?"":"form-side--back"),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(27,W0,g.errors&&g.touched))("ngModel",r.user.email),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.pattern)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(29,W0,I.errors&&I.touched))("ngModel",r.user.password),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=I.errors&&I.errors.required))}},directives:[w.NgClass,nu,Ii,io,Mt,bi,Da,Oo,ma,ss,Ey],styles:[".form-side[_ngcontent-%COMP%]{position:absolute;transition:all 10.8s ease;width:100%;height:35rem;top:0;left:0;overflow:hidden;transition:all .8s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-shadow:0 0 40px #92727288;border-radius:5px;margin-top:10%}.form-side--back[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.form-side--front[_ngcontent-%COMP%]{transform:rotateY(0)}.toggler[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent}.toggler[_ngcontent-%COMP%]:hover{text-shadow:0px 5px 5px rgba(136,87,87,.808)}"]}),n})(),AA=(()=>{class n{constructor(t,r){this.afs=t,this.router=r,this.quotesCollection=t.collection("quotes",o=>o.orderBy("createdDate","desc"))}addQuote(t){this.quotesCollection.add(t).then(r=>this.router.navigate(["/"]))}updateQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.update(t)}deleteQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.delete()}getQuotes(){return this.quotes=this.quotesCollection.snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(hb),m.\u0275\u0275inject(Os))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tx(n,e){1&n&&(m.\u0275\u0275elementStart(0,"div",5)(1,"h2",6),m.\u0275\u0275text(2,"Create an account to add, like or dislike a quote"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"a",7),m.\u0275\u0275text(4,"Create Account"),m.\u0275\u0275elementEnd()())}function nx(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"form",8),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(t);const o=m.\u0275\u0275nextContext();return o.onSubmit(o.quote.text)}),m.\u0275\u0275elementStart(1,"h2",9),m.\u0275\u0275text(2,"Create and Publish a Quote"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"div",10)(4,"textarea",11),m.\u0275\u0275listener("ngModelChange",function(o){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext().quote.text=o}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(5,"div",12),m.\u0275\u0275element(6,"input",13),m.\u0275\u0275elementEnd()()}if(2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(4),m.\u0275\u0275property("ngModel",t.quote.text),m.\u0275\u0275advance(2),m.\u0275\u0275property("disabled",t.quote.text.length<25)}}let rx=(()=>{class n{constructor(t,r){this.userService=t,this.quoteService=r,this.quote={text:"",author:{username:"",id:""},published:!1,createdDate:"",likes:[],dislikes:[]}}ngOnInit(){this.userService.afAuth.user.subscribe(t=>this.user=t)}onSubmit(t){this.quote.author={username:this.user.displayName,id:this.user.uid},this.quote.createdDate=Date.now(),this.quoteService.addQuote(this.quote)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(q0),m.\u0275\u0275directiveInject(AA))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-add-quote"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-10","col-lg-6","py-5","mx-auto","quote-form"],["class","text-center mt-4",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"text-center","mt-4"],[1,"text-danger"],["routerLink","/account",1,"btn","btn-outline-danger","my-5"],[3,"ngSubmit"],[1,"text-center","text-danger"],[1,"form-group","py-4"],["type","text","name","text","placeholder","Write your quote here...","minlength","25",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit","value","Create Post",1,"btn","btn-danger",3,"disabled"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),m.\u0275\u0275template(3,tx,5,0,"div",3),m.\u0275\u0275template(4,nx,7,2,"form",4),m.\u0275\u0275elementEnd()()()),2&t&&(m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",!r.user),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user))},directives:[w.NgIf,Ey,nu,Ii,io,Mt,Da,Oo,ma],styles:[".quote-form[_ngcontent-%COMP%]{box-shadow:0 0 40px #92727288;border-radius:4px;margin-top:10%;padding:30px}"]}),n})(),ix=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"profile works!"),m.\u0275\u0275elementEnd())},styles:[""]}),n})(),sx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-quote-detail"]],decls:2,vars:0,template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"quote-detail works!"),m.\u0275\u0275elementEnd())},styles:[""]}),n})();function ox(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",19)(1,"button",20),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(t);const o=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext(2).delete(o)}),m.\u0275\u0275element(2,"i",21),m.\u0275\u0275elementEnd()()}}function ax(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"p")(6,"strong"),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275template(8,ox,3,0,"div",9),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(9,"div",10)(10,"small"),m.\u0275\u0275text(11,"Quoted by: "),m.\u0275\u0275elementStart(12,"strong"),m.\u0275\u0275text(13),m.\u0275\u0275pipe(14,"titlecase"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275element(15,"br"),m.\u0275\u0275elementStart(16,"small"),m.\u0275\u0275text(17),m.\u0275\u0275pipe(18,"date"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),m.\u0275\u0275listener("click",function(){const l=m.\u0275\u0275restoreView(t).$implicit,h=m.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.upvote(l,h.user.uid)}),m.\u0275\u0275element(23,"span",15),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"span",16),m.\u0275\u0275text(25),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(26,"div",13)(27,"button",17),m.\u0275\u0275listener("click",function(){const l=m.\u0275\u0275restoreView(t).$implicit,h=m.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.downvote(l,h.user.uid)}),m.\u0275\u0275element(28,"span",18),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"span",16),m.\u0275\u0275text(30),m.\u0275\u0275elementEnd()()()()()()}if(2&n){const t=e.$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(7),m.\u0275\u0275textInterpolate(t.text),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user&&r.user.uid===t.author.id),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(14,6,t.author.username)),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate1("Date: ",m.\u0275\u0275pipeBind2(18,8,t.createdDate,"medium"),""),m.\u0275\u0275advance(8),m.\u0275\u0275textInterpolate1(" \xa0",null==t.likes?null:t.likes.length," "),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate1("\xa0",null==t.dislikes?null:t.dislikes.length,"")}}function ux(n,e){if(1&n&&(m.\u0275\u0275elementStart(0,"div",2),m.\u0275\u0275template(1,ax,31,11,"div",3),m.\u0275\u0275elementEnd()),2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",t.quotes)}}function lx(n,e){1&n&&(m.\u0275\u0275elementStart(0,"div",2)(1,"div",22)(2,"h2",23),m.\u0275\u0275text(3,"No Quotes, yet"),m.\u0275\u0275elementEnd()()())}const cx=[{path:"",component:(()=>{class n{constructor(t,r){this.quoteService=t,this.userService=r,this.quotes=[]}ngOnInit(){this.quoteService.getQuotes().subscribe(t=>this.quotes=t),this.userService.afAuth.user.subscribe(t=>this.user=t)}upvote(t,r){var o,l,h,g;t.dislikes=null===(o=t.dislikes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.likes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.likes)||void 0===h||h.push(r):t.likes=null===(g=t.likes)||void 0===g?void 0:g.filter(I=>I!==r),this.quoteService.updateQuote(t)}downvote(t,r){var o,l,h,g;t.likes=null===(o=t.likes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.dislikes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.dislikes)||void 0===h||h.push(r):t.dislikes=null===(g=t.dislikes)||void 0===g?void 0:g.filter(I=>I!==r),this.quoteService.updateQuote(t)}delete(t){confirm("Are you sure? ")&&this.quoteService.deleteQuote(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(AA),m.\u0275\u0275directiveInject(q0))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-quotes"]],decls:3,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"card","card-body","my-3"],[1,"card-title"],[1,"row","no-gutters"],[1,"col-11","col-lg-11","m-0","p-0"],["class","col-1 m-0 p-0",4,"ngIf"],[1,"card-footer","mt-2","pl-2"],[1,"card-text","pl-2"],[1,"row","mt-2"],[1,"col-3","col-sm-3"],[1,"btn","vote-btn","btn-sm","btn-outline-info",3,"click"],[1,"fa","fa-arrow-up","vote","upvote"],[1,"votes-count"],[1,"btn","vote-btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-arrow-down","vote","downvote"],[1,"col-1","m-0","p-0"],[1,"btn","delete-quote",3,"click"],[1,"fa","fa-trash","text-right","text-danger"],[1,"col-lg-6","mx-auto"],[1,"text-center","mt-5"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275template(1,ux,2,1,"div",1),m.\u0275\u0275template(2,lx,4,0,"div",1),m.\u0275\u0275elementEnd()),2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.quotes.length>0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0==r.quotes.length))},directives:[w.NgIf,w.NgForOf],pipes:[w.TitleCasePipe,w.DatePipe],styles:[".votes[_ngcontent-%COMP%]{font-size:1.2rem}.vote[_ngcontent-%COMP%]{transform:scaleY(1.7)}.vote[_ngcontent-%COMP%]:hover{transform:scaleY(2);text-shadow:0 0 5px rgb(156,80,80);transition:all .1s ease-in-out}.vote-btn[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 10px #9c5050;transform:scale(1.05)}.votes-count[_ngcontent-%COMP%]{font-size:1.2rem;padding-left:5px}.delete-quote[_ngcontent-%COMP%]{cursor:pointer}.delete-quote[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #9c5050;transform:scale(1.05)}"]}),n})()},{path:"account",component:ex},{path:"quote/detail/:id",component:sx},{path:"quote/add",component:rx},{path:"profile",component:ix}];let dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[[DA.forRoot(cx)],DA]}),n})();function hx(n,e){1&n&&(m.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),m.\u0275\u0275text(3,"Add Quote"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"li",8)(5,"a",10),m.\u0275\u0275text(6,"Account"),m.\u0275\u0275elementEnd()()())}function fx(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),m.\u0275\u0275text(3,"Add Quote"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"li",8)(5,"a",11),m.\u0275\u0275text(6,"Profile"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(7,"button",12),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext().logout()}),m.\u0275\u0275text(8),m.\u0275\u0275pipe(9,"titlecase"),m.\u0275\u0275elementEnd()()}if(2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(8),m.\u0275\u0275textInterpolate1(" Hi ",m.\u0275\u0275pipeBind1(9,1,t.user.displayName),", Logout ")}}let px=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.userService.afAuth.user.subscribe(t=>this.user=t)}logout(){this.userService.logout()}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(q0))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-navbar"]],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-danger","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand","text-white"],["data-toggle","collapse","data-target","#main-nav","type","button",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","main-nav",1,"collapse","navbar-collapse"],["class","navbar-nav ml-auto",4,"ngIf"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","quote/add",1,"nav-link"],["routerLink","/account",1,"nav-link"],["routerLink","/profile",1,"nav-link"],[1,"btn","btn-sm",3,"click"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),m.\u0275\u0275text(3,"QuotesApp"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"button",3),m.\u0275\u0275element(5,"span",4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"div",5),m.\u0275\u0275template(7,hx,7,0,"ul",6),m.\u0275\u0275template(8,fx,10,3,"ul",6),m.\u0275\u0275elementEnd()()()),2&t&&(m.\u0275\u0275advance(7),m.\u0275\u0275property("ngIf",!r.user),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user))},directives:[Ey,w.NgIf],pipes:[w.TitleCasePipe],styles:[""]}),n})(),gx=(()=>{class n{constructor(){this.title="quotes-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&m.\u0275\u0275element(0,"app-navbar")(1,"flash-messages")(2,"router-outlet")},directives:[px,Td.cS,Tb],styles:[""]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n,bootstrap:[gx]}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[q0],imports:[[Qi,jo,Td.qz.forRoot(),dx,hn.hO.initializeApp(TA_firebase,"clientpanel"),BA,OA]]}),n})();(0,m.enableProdMode)(),vi().bootstrapModule(mx).catch(n=>console.error(n))},5867:(ct,be,F)=>{"use strict";F.d(be,{Mq:()=>w.getApp,C6:()=>w.getApps});var w=F(9681);(0,w.registerVersion)("firebase","9.6.10","app")},127:(ct,be,F)=>{"use strict";F.d(be,{Z:()=>w.Z});var w=F(3942);w.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(ct,be,F)=>{"use strict";F.r(be);var w=F(5861),m=F(3942),V=F(2090),se=F(9681),J=F(655),ce=F(1877),ae=F(4859);const _e=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function he(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},re=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ce.Yd("@firebase/auth");function Ge(y,...d){We.logLevel<=ce.in.ERROR&&We.error(`Auth (${se.SDK_VERSION}): ${y}`,...d)}function Me(y,...d){throw Ye(y,...d)}function Ae(y,...d){return Ye(y,...d)}function Se(y,d,p){const _=Object.assign(Object.assign({},xe()),{[d]:p});return new V.LL("auth","Firebase",_).create(d,{appName:y.name})}function Je(y,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&Me(y,"argument-error"),Se(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...d){if("string"!=typeof y){const p=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return re.create(y,...d)}function oe(y,d,...p){if(!y)throw Ye(d,...p)}function X(y){const d="INTERNAL ASSERTION FAILED: "+y;throw Ge(d),new Error(d)}function ue(y,d){y||X(d)}const we=new Map;function fe(y){ue(y instanceof Function,"Expected a class definition");let d=we.get(y);return d?(ue(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,we.set(y,d),d)}function ot(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Yt(){return"http:"===xn()||"https:"===xn()}function xn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(d,p){this.shortDelay=d,this.longDelay=p,ue(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function ft(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Yt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(y,d){ue(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class di{static initialize(d,p,_){this.fetchImpl=d,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yi=new on(3e4,6e4);function en(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function jt(y,d,p,_){return or.apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(y,d,p,_,M={}){return zr(y,M,(0,w.Z)(function*(){let k={},Z={};_&&("GET"===d?Z=_:k={body:JSON.stringify(_)});const me=(0,V.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ze=yield y._getAdditionalHeaders();return Ze["Content-Type"]="application/json",y.languageCode&&(Ze["X-Firebase-Locale"]=y.languageCode),di.fetch()(gr(y,y.config.apiHost,p,me),Object.assign({method:d,headers:Ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function zr(y,d,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,w.Z)(function*(y,d,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Xt),d);try{const M=new Qi(y),k=yield Promise.race([p(),M.promise]);M.clearNetworkTimeout();const Z=yield k.json();if("needConfirmation"in Z)throw Yi(y,"account-exists-with-different-credential",Z);if(k.ok&&!("errorMessage"in Z))return Z;{const me=k.ok?Z.errorMessage:Z.error.message,[Ze,st]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Yi(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ze)throw Yi(y,"email-already-in-use",Z);const _t=_[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Se(y,_t,st);Me(y,_t)}}catch(M){if(M instanceof V.ZR)throw M;Me(y,"network-request-failed")}})).apply(this,arguments)}function Dr(y,d,p,_){return vi.apply(this,arguments)}function vi(){return(vi=(0,w.Z)(function*(y,d,p,_,M={}){const k=yield jt(y,d,p,_,M);return"mfaPendingCredential"in k&&Me(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function gr(y,d,p,_){const M=`${d}${p}?${_}`;return y.config.emulator?ln(y.config,M):`${y.config.apiScheme}://${M}`}class Qi{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(Ae(this.auth,"network-request-failed")),yi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yi(y,d,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const M=Ae(y,d,_);return M.customData._tokenResponse=p,M}function Kr(){return(Kr=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function mr(y,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Zr(y,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function En(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Qr(){return(Qr=(0,w.Z)(function*(y,d=!1){const p=(0,V.m9)(y),_=yield p.getIdToken(d),M=dt(_);oe(M&&M.exp&&M.auth_time&&M.iat,p.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,Z=null==k?void 0:k.sign_in_provider;return{claims:M,token:_,authTime:En(Wt(M.auth_time)),issuedAtTime:En(Wt(M.iat)),expirationTime:En(Wt(M.exp)),signInProvider:Z||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(y){return 1e3*Number(y)}function dt(y){const[d,p,_]=y.split(".");if(void 0===d||void 0===p||void 0===_)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(p);return M?JSON.parse(M):(Ge("Failed to decode base64 JWT payload"),null)}catch(M){return Ge("Caught error parsing JWT payload as JSON",M),null}}function Xn(y,d){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,w.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(_){throw _ instanceof V.ZR&&zt(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Js{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const M=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,w.Z)(function*(){yield p.iteration()}),_)}iteration(){var d=this;return(0,w.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class Cr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(y){return yt.apply(this,arguments)}function yt(){return(yt=(0,w.Z)(function*(y){var d;const p=y.auth,_=yield y.getIdToken(),M=yield Xn(y,Zr(p,{idToken:_}));oe(null==M?void 0:M.users.length,p,"internal-error");const k=M.users[0];y._notifyReloadListener(k);const Z=(null===(d=k.providerUserInfo)||void 0===d?void 0:d.length)?Oe(k.providerUserInfo):[],me=rt(y.providerData,Z),_t=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==me?void 0:me.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new Cr(k.createdAt,k.lastLoginAt),isAnonymous:_t};Object.assign(y,gt)})).apply(this,arguments)}function Lt(){return(Lt=(0,w.Z)(function*(y){const d=(0,V.m9)(y);yield br(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function rt(y,d){return[...y.filter(_=>!d.some(M=>M.providerId===_.providerId)),...d]}function Oe(y){return y.map(d=>{var{providerId:p}=d,_=(0,J._T)(d,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function vt(){return(vt=(0,w.Z)(function*(y,d){const p=yield zr(y,{},(0,w.Z)(function*(){const _=(0,V.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:M,apiKey:k}=y.config,Z=gr(y,M,"/v1/token",`key=${k}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",di.fetch()(Z,{method:"POST",headers:me,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){oe(d.idToken,"internal-error"),oe(void 0!==d.idToken,"internal-error"),oe(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function wt(y){const d=dt(y);return oe(d,"internal-error"),oe(void 0!==d.exp,"internal-error"),oe(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var _=this;return(0,w.Z)(function*(){return oe(!_.accessToken||_.refreshToken,d,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var _=this;return(0,w.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:Z}=yield function at(y,d){return vt.apply(this,arguments)}(d,p);_.updateTokensAndExpiration(M,k,Number(Z))})()}updateTokensAndExpiration(d,p,_){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,p){const{refreshToken:_,accessToken:M,expirationTime:k}=p,Z=new Gt;return _&&(oe("string"==typeof _,"internal-error",{appName:d}),Z.refreshToken=_),M&&(oe("string"==typeof M,"internal-error",{appName:d}),Z.accessToken=M),k&&(oe("number"==typeof k,"internal-error",{appName:d}),Z.expirationTime=k),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return X("not implemented")}}function Vt(y,d){oe("string"==typeof y||void 0===y,"internal-error",{appName:d})}class W{constructor(d){var{uid:p,auth:_,stsTokenManager:M}=d,k=(0,J._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Js(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Cr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,w.Z)(function*(){const _=yield Xn(p,p.stsTokenManager.getToken(p.auth,d));return oe(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(d){return function In(y){return Qr.apply(this,arguments)}(this,d)}reload(){return function Tr(y){return Lt.apply(this,arguments)}(this)}_assign(d){this!==d&&(oe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new W(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var _=this;return(0,w.Z)(function*(){let M=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),M=!0),p&&(yield br(_)),yield _.auth._persistUserIfCurrent(_),M&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,w.Z)(function*(){const p=yield d.getIdToken();return yield Xn(d,function mt(y,d){return Kr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var _,M,k,Z,me,Ze,st,_t;const gt=null!==(_=p.displayName)&&void 0!==_?_:void 0,Ln=null!==(M=p.email)&&void 0!==M?M:void 0,gs=null!==(k=p.phoneNumber)&&void 0!==k?k:void 0,qo=null!==(Z=p.photoURL)&&void 0!==Z?Z:void 0,Va=null!==(me=p.tenantId)&&void 0!==me?me:void 0,Nc=null!==(Ze=p._redirectEventId)&&void 0!==Ze?Ze:void 0,sr=null!==(st=p.createdAt)&&void 0!==st?st:void 0,cg=null!==(_t=p.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Ua,emailVerified:qd,isAnonymous:Ef,providerData:If,stsTokenManager:Oc}=p;oe(Ua&&Oc,d,"internal-error");const dg=Gt.fromJSON(this.name,Oc);oe("string"==typeof Ua,d,"internal-error"),Vt(gt,d.name),Vt(Ln,d.name),oe("boolean"==typeof qd,d,"internal-error"),oe("boolean"==typeof Ef,d,"internal-error"),Vt(gs,d.name),Vt(qo,d.name),Vt(Va,d.name),Vt(Nc,d.name),Vt(sr,d.name),Vt(cg,d.name);const Wd=new W({uid:Ua,auth:d,email:Ln,emailVerified:qd,displayName:gt,isAnonymous:Ef,photoURL:qo,phoneNumber:gs,tenantId:Va,stsTokenManager:dg,createdAt:sr,lastLoginAt:cg});return If&&Array.isArray(If)&&(Wd.providerData=If.map(zd=>Object.assign({},zd))),Nc&&(Wd._redirectEventId=Nc),Wd}static _fromIdTokenResponse(d,p,_=!1){return(0,w.Z)(function*(){const M=new Gt;M.updateFromServerResponse(p);const k=new W({uid:p.localId,auth:d,stsTokenManager:M,isAnonymous:_});return yield br(k),k})()}}const K=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(p,_){var M=this;return(0,w.Z)(function*(){M.storage[p]=_})()}_get(p){var _=this;return(0,w.Z)(function*(){const M=_.storage[p];return void 0===M?null:M})()}_remove(p){var _=this;return(0,w.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function Ee(y,d,p){return`firebase:${y}:${d}:${p}`}class ne{constructor(d,p,_){this.persistence=d,this.auth=p,this.userKey=_;const{config:M,name:k}=this.auth;this.fullUserKey=Ee(this.userKey,M.apiKey,k),this.fullPersistenceKey=Ee("persistence",M.apiKey,k),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,w.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?W._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,w.Z)(function*(){if(p.persistence===d)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,_="authUser"){return(0,w.Z)(function*(){if(!p.length)return new ne(fe(K),d,_);const M=(yield Promise.all(p.map(function(){var st=(0,w.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return st.apply(this,arguments)}}()))).filter(st=>st);let k=M[0]||fe(K);const Z=Ee(_,d.config.apiKey,d.name);let me=null;for(const st of p)try{const _t=yield st._get(Z);if(_t){const gt=W._fromJSON(d,_t);st!==k&&(me=gt),k=st;break}}catch(_t){}const Ze=M.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&Ze.length?(k=Ze[0],me&&(yield k._set(Z,me.toJSON())),yield Promise.all(p.map(function(){var st=(0,w.Z)(function*(_t){if(_t!==k)try{yield _t._remove(Z)}catch(gt){}});return function(_t){return st.apply(this,arguments)}}())),new ne(k,d,_)):new ne(k,d,_)})()}}function ze(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Kt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(tt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Pt(d))return"Blackberry";if(gn(d))return"Webos";if(Ot(d))return"Safari";if((d.includes("chrome/")||Ar(d))&&!d.includes("edge/"))return"Chrome";if(Rn(d))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function tt(y=(0,V.z$)()){return/firefox\//i.test(y)}function Ot(y=(0,V.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ar(y=(0,V.z$)()){return/crios\//i.test(y)}function Kt(y=(0,V.z$)()){return/iemobile/i.test(y)}function Rn(y=(0,V.z$)()){return/android/i.test(y)}function Pt(y=(0,V.z$)()){return/blackberry/i.test(y)}function gn(y=(0,V.z$)()){return/webos/i.test(y)}function ar(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function Dt(y=(0,V.z$)()){return ar(y)||Rn(y)||gn(y)||Pt(y)||/windows phone/i.test(y)||Kt(y)}function Mo(y,d=[]){let p;switch(y){case"Browser":p=ze((0,V.z$)());break;case"Worker":p=`${ze((0,V.z$)())}-${y}`;break;default:p=y}const _=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${_}`}class Vr{constructor(d,p,_){this.app=d,this.heartbeatServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kt(this),this.idTokenSubscription=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(d,p){var _=this;return p&&(this._popupRedirectResolver=fe(p)),this._initializationPromise=this.queue((0,w.Z)(function*(){var M,k;if(!_._deleted&&(_.persistenceManager=yield ne.create(_,d),!_._deleted)){if(null===(M=_._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(Z){}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(k=_.currentUser)||void 0===k?void 0:k.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,w.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p)}})()}initializeCurrentUser(d){var p=this;return(0,w.Z)(function*(){var _;let M=yield p.assertedPersistence.getCurrentUser();if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const k=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,Z=null==M?void 0:M._redirectEventId,me=yield p.tryRedirectSignIn(d);(!k||k===Z)&&(null==me?void 0:me.user)&&(M=me.user)}return M?M._redirectEventId?(oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)):p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var p=this;return(0,w.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(M){yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,w.Z)(function*(){try{yield br(d)}catch(_){if("auth/network-request-failed"!==_.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,w.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,w.Z)(function*(){const _=d?(0,V.m9)(d):null;return _&&oe(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,w.Z)(function*(){if(!p._deleted)return d&&oe(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),p.queue((0,w.Z)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,w.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var p=this;return this.queue((0,w.Z)(function*(){yield p.assertedPersistence.setPersistence(fe(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.LL("auth","Firebase",d())}onAuthStateChanged(d,p,_){return this.registerStateListener(this.authStateSubscription,d,p,_)}onIdTokenChanged(d,p,_){return this.registerStateListener(this.idTokenSubscription,d,p,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var _=this;return(0,w.Z)(function*(){const M=yield _.getOrInitRedirectPersistenceManager(p);return null===d?M.removeCurrentUser():M.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,w.Z)(function*(){if(!p.redirectPersistenceManager){const _=d&&fe(d)||p._popupRedirectResolver;oe(_,p,"argument-error"),p.redirectPersistenceManager=yield ne.create(p,[fe(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,w.Z)(function*(){var _,M;return p._isInitialized&&(yield p.queue((0,w.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===d?p._currentUser:(null===(M=p.redirectUser)||void 0===M?void 0:M._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,w.Z)(function*(){if(d===p.currentUser)return p.queue((0,w.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,_,M){if(this._deleted)return()=>{};const k="function"==typeof p?p:p.next.bind(p),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Z,this,"internal-error"),Z.then(()=>k(this.currentUser)),"function"==typeof p?d.addObserver(p,_,M):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,w.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Mo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,w.Z)(function*(){var p;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const M=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return M&&(_["X-Firebase-Client"]=M),_})()}}function Ue(y){return(0,V.m9)(y)}class kt{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.ne)(p=>this.observer=p)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function An(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function $n(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class an{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return X("not implemented")}_getIdTokenResponse(d){return X("not implemented")}_linkToIdToken(d,p){return X("not implemented")}_getReauthenticationResolver(d){return X("not implemented")}}function Vn(y,d){return es.apply(this,arguments)}function es(){return(es=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:resetPassword",en(y,d))})).apply(this,arguments)}function Mt(y,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ts(y,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:update",en(y,d))})).apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPassword",en(y,d))})).apply(this,arguments)}function vs(y,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:sendOobCode",en(y,d))})).apply(this,arguments)}function Jr(y,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,w.Z)(function*(y,d){return vs(y,d)})).apply(this,arguments)}function xo(y,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,w.Z)(function*(y,d){return vs(y,d)})).apply(this,arguments)}function Xr(y,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,w.Z)(function*(y,d){return vs(y,d)})).apply(this,arguments)}function ia(y,d){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,w.Z)(function*(y,d){return vs(y,d)})).apply(this,arguments)}function Sr(){return(Sr=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",en(y,d))})).apply(this,arguments)}function sa(){return(sa=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",en(y,d))})).apply(this,arguments)}class oa extends an{constructor(d,p,_,M=null){super("password",_),this._email=d,this._password=p,this._tenantId=M}static _fromEmailAndPassword(d,p){return new oa(d,p,"password")}static _fromEmailAndCode(d,p,_=null){return new oa(d,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,w.Z)(function*(){switch(p.signInMethod){case"password":return function yr(y,d){return vr.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Xs(y,d){return Sr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Me(d,"internal-error")}})()}_linkToIdToken(d,p){var _=this;return(0,w.Z)(function*(){switch(_.signInMethod){case"password":return Mt(d,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function za(y,d){return sa.apply(this,arguments)}(d,{idToken:p,email:_._email,oobCode:_._password});default:Me(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Un(y,d){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithIdp",en(y,d))})).apply(this,arguments)}class Vi extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Vi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Me("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:M}=p,k=(0,J._T)(p,["providerId","signInMethod"]);if(!_||!M)return null;const Z=new Vi(_,M);return Z.idToken=k.idToken||void 0,Z.accessToken=k.accessToken||void 0,Z.secret=k.secret,Z.nonce=k.nonce,Z.pendingToken=k.pendingToken||null,Z}_getIdTokenResponse(d){return Un(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Un(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Un(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,V.xO)(p)}return d}}function ju(y,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:sendVerificationCode",en(y,d))})).apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,d))})).apply(this,arguments)}function eo(){return(eo=(0,w.Z)(function*(y,d){const p=yield Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,d));if(p.temporaryProof)throw Yi(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Bu={USER_NOT_FOUND:"user-not-found"};function Qa(){return(Qa=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Bu)})).apply(this,arguments)}class jr extends an{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new jr({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new jr({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function No(y,d){return ns.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Za(y,d){return eo.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function $u(y,d){return Qa.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:_,verificationCode:M}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:_,code:M}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:_,phoneNumber:M,temporaryProof:k}=d;return _||p||M||k?new jr({verificationId:p,verificationCode:_,phoneNumber:M,temporaryProof:k}):null}}class no{constructor(d){var p,_,M,k,Z,me;const Ze=(0,V.zd)((0,V.pd)(d)),st=null!==(p=Ze.apiKey)&&void 0!==p?p:null,_t=null!==(_=Ze.oobCode)&&void 0!==_?_:null,gt=function Br(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ze.mode)&&void 0!==M?M:null);oe(st&&_t&&gt,"argument-error"),this.apiKey=st,this.operation=gt,this.code=_t,this.continueUrl=null!==(k=Ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Z=Ze.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(me=Ze.tenantId)&&void 0!==me?me:null}static parseLink(d){const p=function to(y){const d=(0,V.zd)((0,V.pd)(y)).link,p=d?(0,V.zd)((0,V.pd)(d)).deep_link_id:null,_=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(_?(0,V.zd)((0,V.pd)(_)).link:null)||_||p||d||y}(d);try{return new no(p)}catch(_){return null}}}let Oo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return oa._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const M=no.parseLink(_);return oe(M,"argument-error"),oa._fromEmailAndCode(p,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ii{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class _r extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class wi extends _r{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return oe("providerId"in p&&"signInMethod"in p,"argument-error"),Vi._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return oe(d.idToken||d.accessToken,"argument-error"),Vi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return wi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return wi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:M,pendingToken:k,nonce:Z,providerId:me}=d;if(!_&&!M&&!p&&!k||!me)return null;try{return new wi(me)._credential({idToken:p,accessToken:_,nonce:Z,pendingToken:k})}catch(Ze){return null}}}let ks=(()=>{class y extends _r{constructor(){super("facebook.com")}static credential(p){return Vi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fs=(()=>{class y extends _r{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return Vi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:M}=p;if(!_&&!M)return null;try{return y.credential(_,M)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ya=(()=>{class y extends _r{constructor(){super("github.com")}static credential(p){return Vi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Po extends an{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Un(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Un(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Un(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:M,pendingToken:k}=p;return _&&M&&k&&_===M?new Po(_,k):null}static _create(d,p){return new Po(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hi extends Ii{constructor(d){oe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return hi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return hi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Po.fromJSON(d);return oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:_}=d;if(!p||!_)return null;try{return Po._create(_,p)}catch(M){return null}}}let ua=(()=>{class y extends _r{constructor(){super("twitter.com")}static credential(p,_){return Vi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:M}=p;if(!_||!M)return null;try{return y.credential(_,M)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function la(y,d){return $r.apply(this,arguments)}function $r(){return($r=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signUp",en(y,d))})).apply(this,arguments)}class Er{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,_,M=!1){return(0,w.Z)(function*(){const k=yield W._fromIdTokenResponse(d,_,M),Z=Hu(_);return new Er({user:k,providerId:Z,_tokenResponse:_,operationType:p})})()}static _forOperation(d,p,_){return(0,w.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const M=Hu(_);return new Er({user:d,providerId:M,_tokenResponse:_,operationType:p})})()}}function Hu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ja(){return(Ja=(0,w.Z)(function*(y){var d;const p=Ue(y);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new Er({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield la(p,{returnSecureToken:!0}),M=yield Er._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vs extends V.ZR{constructor(d,p,_,M){var k;super(p.code,p.message),this.operationType=_,this.user=M,Object.setPrototypeOf(this,Vs.prototype),this.customData={appName:d.name,tenantId:null!==(k=d.tenantId)&&void 0!==k?k:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,p,_,M){return new Vs(d,p,_,M)}}function _s(y,d,p,_){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Vs._fromErrorAndOperation(y,k,d,_):k})}function fi(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function ca(){return(ca=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y);yield N(!0,p,d);const{providerUserInfo:_}=yield mr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),M=fi(_||[]);return p.providerData=p.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function yn(y,d){return T.apply(this,arguments)}function T(){return(T=(0,w.Z)(function*(y,d,p=!1){const _=yield Xn(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return Er._forOperation(y,"link",_)})).apply(this,arguments)}function N(y,d,p){return b.apply(this,arguments)}function b(){return(b=(0,w.Z)(function*(y,d,p){yield br(d);const M=!1===y?"provider-already-linked":"no-such-provider";oe(fi(d.providerData).has(p)===y,d.auth,M)})).apply(this,arguments)}function P(y,d){return z.apply(this,arguments)}function z(){return(z=(0,w.Z)(function*(y,d,p=!1){const{auth:_}=y,M="reauthenticate";try{const k=yield Xn(y,_s(_,M,d,y),p);oe(k.idToken,_,"internal-error");const Z=dt(k.idToken);oe(Z,_,"internal-error");const{sub:me}=Z;return oe(y.uid===me,_,"user-mismatch"),Er._forOperation(y,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Me(_,"user-mismatch"),k}})).apply(this,arguments)}function ye(y,d){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,w.Z)(function*(y,d,p=!1){const _="signIn",M=yield _s(y,_,d),k=yield Er._fromIdTokenResponse(y,_,M);return p||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ke(y,d){return cn.apply(this,arguments)}function cn(){return(cn=(0,w.Z)(function*(y,d){return ye(Ue(y),d)})).apply(this,arguments)}function Qt(y,d){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y);return yield N(!1,p,d.providerId),yn(p,d)})).apply(this,arguments)}function Ft(y,d){return On.apply(this,arguments)}function On(){return(On=(0,w.Z)(function*(y,d){return P((0,V.m9)(y),d)})).apply(this,arguments)}function _n(y,d){return dn.apply(this,arguments)}function dn(){return(dn=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithCustomToken",en(y,d))})).apply(this,arguments)}function pi(){return(pi=(0,w.Z)(function*(y,d){const p=Ue(y),_=yield _n(p,{token:d,returnSecureToken:!0}),M=yield Er._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(M.user),M})).apply(this,arguments)}class pt{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Di._fromServerResponse(d,p):Me(d,"internal-error")}}class Di extends pt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Di(p)}}function Is(y,d,p){var _;oe((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),oe(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(oe(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(oe(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function rs(){return(rs=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),M={requestType:"PASSWORD_RESET",email:d};p&&Is(_,M,p),yield xo(_,M)})).apply(this,arguments)}function da(){return(da=(0,w.Z)(function*(y,d,p){yield Vn((0,V.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function Pe(){return(Pe=(0,w.Z)(function*(y,d){yield ts((0,V.m9)(y),{oobCode:d})})).apply(this,arguments)}function Bt(y,d){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y),_=yield Vn(p,{oobCode:d}),M=_.requestType;switch(oe(M,p,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(_.mfaInfo,p,"internal-error");default:oe(_.email,p,"internal-error")}let k=null;return _.mfaInfo&&(k=pt._fromServerResponse(Ue(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function ha(){return(ha=(0,w.Z)(function*(y,d){const{data:p}=yield Bt((0,V.m9)(y),d);return p.email})).apply(this,arguments)}function Ci(){return(Ci=(0,w.Z)(function*(y,d,p){const _=Ue(y),M=yield la(_,{returnSecureToken:!0,email:d,password:p}),k=yield Er._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}function zu(){return(zu=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),M={requestType:"EMAIL_SIGNIN",email:d};oe(p.handleCodeInApp,_,"argument-error"),p&&Is(_,M,p),yield Xr(_,M)})).apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),M=Oo.credentialWithLink(d,p||ot());return oe(M._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ke(_,M)})).apply(this,arguments)}function ei(y,d){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:createAuthUri",en(y,d))})).apply(this,arguments)}function Us(){return(Us=(0,w.Z)(function*(y,d){const _={identifier:d,continueUri:Yt()?ot():"http://localhost"},{signinMethods:M}=yield ei((0,V.m9)(y),_);return M||[]})).apply(this,arguments)}function _d(){return(_d=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&Is(p.auth,M,d);const{email:k}=yield Jr(p.auth,M);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function rc(){return(rc=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&Is(_.auth,k,p);const{email:Z}=yield ia(_.auth,k);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function ic(y,d){return ga.apply(this,arguments)}function ga(){return(ga=(0,w.Z)(function*(y,d){return jt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function tu(){return(tu=(0,w.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const _=(0,V.m9)(y),k={idToken:yield _.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Z=yield Xn(_,ic(_.auth,k));_.displayName=Z.displayName||null,_.photoURL=Z.photoUrl||null;const me=_.providerData.find(({providerId:Ze})=>"password"===Ze);me&&(me.displayName=_.displayName,me.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Ku(y,d,p){return so.apply(this,arguments)}function so(){return(so=(0,w.Z)(function*(y,d,p){const{auth:_}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(k.email=d),p&&(k.password=p);const Z=yield Xn(y,Mt(_,k));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class ya{constructor(d,p,_={}){this.isNewUser=d,this.providerId=p,this.profile=_}}class Zu extends ya{constructor(d,p,_,M){super(d,p,_),this.username=M}}class sc extends ya{constructor(d,p){super(d,"facebook.com",p)}}class Lo extends Zu{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Hh extends ya{constructor(d,p){super(d,"google.com",p)}}class Qu extends Zu{constructor(d,p,_){super(d,"twitter.com",p,_)}}function Gr(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ed(y){var d,p;if(!y)return null;const{providerId:_}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&(null==y?void 0:y.idToken)){const Z=null===(p=null===(d=dt(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Z)return new ya(k,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!_)return null;switch(_){case"facebook.com":return new sc(k,M);case"github.com":return new Lo(k,M);case"google.com":return new Hh(k,M);case"twitter.com":return new Qu(k,M,y.screenName||null);case"custom":case"anonymous":return new ya(k,null);default:return new ya(k,_,M)}}(p)}class is{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new is("enroll",d)}static _fromMfaPendingCredential(d){return new is("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,_;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return is._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return is._fromIdtoken(d.multiFactorSession.idToken)}return null}}class _a{constructor(d,p,_){this.session=d,this.hints=p,this.signInResolver=_}static _fromError(d,p){const _=Ue(d),M=p.customData._serverResponse,k=(M.mfaInfo||[]).map(me=>pt._fromServerResponse(_,me));oe(M.mfaPendingCredential,_,"internal-error");const Z=is._fromMfaPendingCredential(M.mfaPendingCredential);return new _a(Z,k,function(){var me=(0,w.Z)(function*(Ze){const st=yield Ze._process(_,Z);delete M.mfaInfo,delete M.mfaPendingCredential;const _t=Object.assign(Object.assign({},M),{idToken:st.idToken,refreshToken:st.refreshToken});switch(p.operationType){case"signIn":const gt=yield Er._fromIdTokenResponse(_,p.operationType,_t);return yield _._updateCurrentUser(gt.user),gt;case"reauthenticate":return oe(p.user,_,"internal-error"),Er._forOperation(p.user,p.operationType,_t);default:Me(_,"internal-error")}});return function(Ze){return me.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,w.Z)(function*(){return p.signInResolver(d)})()}}function lr(y,d){return jt(y,"POST","/v2/accounts/mfaEnrollment:start",en(y,d))}class Bi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>pt._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new Bi(d)}getSession(){var d=this;return(0,w.Z)(function*(){return is._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var _=this;return(0,w.Z)(function*(){const M=d,k=yield _.getSession(),Z=yield Xn(_.user,M._process(_.user.auth,k,p));return yield _.user._updateTokensIfNecessary(Z),_.user.reload()})()}unenroll(d){var p=this;return(0,w.Z)(function*(){const _="string"==typeof d?d:d.uid,M=yield p.user.getIdToken(),k=yield Xn(p.user,function Gh(y,d){return jt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",en(y,d))}(p.user.auth,{idToken:M,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Z})=>Z!==_),yield p.user._updateTokensIfNecessary(k);try{yield p.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Vo=new WeakMap,su="__sak";class oo{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(su,"1"),this.storage.removeItem(su),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ti=(()=>{class y extends oo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wd(){const y=(0,V.z$)();return Ot(y)||ar(y)}()&&function tr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Dt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const M=this.storage.getItem(_),k=this.localCache[_];M!==k&&p(_,k,M)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((me,Ze,st)=>{this.notifyListeners(me,st)});const M=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(M);if(p.newValue!==me)null!==p.newValue?this.storage.setItem(M,p.newValue):this.storage.removeItem(M);else if(this.localCache[M]===p.newValue&&!_)return}const k=()=>{const me=this.storage.getItem(M);!_&&this.localCache[M]===me||this.notifyListeners(M,me)},Z=this.storage.getItem(M);!function er(){return(0,V.w1)()&&10===document.documentMode}()||Z===p.newValue||p.newValue===p.oldValue?k():setTimeout(k,10)}notifyListeners(p,_){this.localCache[p]=_;const M=this.listeners[p];if(M)for(const k of Array.from(M))k(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var M=()=>super._set,k=this;return(0,w.Z)(function*(){yield M().call(k,p,_),k.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,M=this;return(0,w.Z)(function*(){const k=yield _().call(M,p);return M.localCache[p]=JSON.stringify(k),k})()}_remove(p){var _=()=>super._remove,M=this;return(0,w.Z)(function*(){yield _().call(M,p),delete M.localCache[p]})()}}return y.type="LOCAL",y})(),ni=(()=>{class y extends oo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let Ia=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(k=>k.isListeningto(p));if(_)return _;const M=new y(p);return this.receivers.push(M),M}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,w.Z)(function*(){const M=p,{eventId:k,eventType:Z,data:me}=M.data,Ze=_.handlersMap[Z];if(!(null==Ze?void 0:Ze.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:Z});const st=Array.from(Ze).map(function(){var gt=(0,w.Z)(function*(Ln){return Ln(M.origin,me)});return function(Ln){return gt.apply(this,arguments)}}()),_t=yield function lc(y){return Promise.all(y.map(function(){var d=(0,w.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return d.apply(this,arguments)}}()))}(st);M.ports[0].postMessage({status:"done",eventId:k,eventType:Z,response:_t})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function wa(y="",d=10){let p="";for(let _=0;_<d;_++)p+=Math.floor(10*Math.random());return y+p}class cc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,_=50){var M=this;return(0,w.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Z,me;return new Promise((Ze,st)=>{const _t=wa("",20);k.port1.start();const gt=setTimeout(()=>{st(new Error("unsupported_event"))},_);me={messageChannel:k,onMessage(Ln){const gs=Ln;if(gs.data.eventId===_t)switch(gs.data.status){case"ack":clearTimeout(gt),Z=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ze(gs.data.response);break;default:clearTimeout(gt),clearTimeout(Z),st(new Error("invalid_response"))}}},M.handlers.add(me),k.port1.addEventListener("message",me.onMessage),M.target.postMessage({eventType:d,eventId:_t,data:p},[k.port2])}).finally(()=>{me&&M.removeMessageHandler(me)})})()}}function Dn(){return window}function bi(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function ao(){return(ao=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Da="firebaseLocalStorageDb",Uo="firebaseLocalStorage",Ca="fbase_key";class ss{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function au(y,d){return y.transaction([Uo],d?"readwrite":"readonly").objectStore(Uo)}function ba(){const y=indexedDB.open(Da,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(Uo,{keyPath:Ca})}catch(M){p(M)}}),y.addEventListener("success",(0,w.Z)(function*(){const _=y.result;_.objectStoreNames.contains(Uo)?d(_):(_.close(),yield function os(){const y=indexedDB.deleteDatabase(Da);return new ss(y).toPromise()}(),d(yield ba()))}))})}function dc(y,d,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,w.Z)(function*(y,d,p){const _=au(y,!0).put({[Ca]:d,value:p});return new ss(_).toPromise()})).apply(this,arguments)}function Xu(){return(Xu=(0,w.Z)(function*(y,d){const p=au(y,!1).get(d),_=yield new ss(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Ta(y,d){const p=au(y,!0).delete(d);return new ss(p).toPromise()}const Gn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,w.Z)(function*(){return p.db||(p.db=yield ba()),p.db})()}_withRetries(p){var _=this;return(0,w.Z)(function*(){let M=0;for(;;)try{const k=yield _._openDb();return yield p(k)}catch(k){if(M++>3)throw k;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,w.Z)(function*(){return bi()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,w.Z)(function*(){p.receiver=Ia._getInstance(function Dd(){return bi()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,w.Z)(function*(M,k){return{keyProcessed:(yield p._poll()).includes(k.key)}});return function(M,k){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,w.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,w.Z)(function*(){var _,M;if(p.activeServiceWorker=yield function ou(){return ao.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new cc(p.activeServiceWorker);const k=yield p.sender._send("ping",{},800);!k||(null===(_=k[0])||void 0===_?void 0:_.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,w.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function zh(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ba();return yield dc(p,su,"1"),yield Ta(p,su),!0}catch(p){}return!1})()}_withPendingWrite(p){var _=this;return(0,w.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var M=this;return(0,w.Z)(function*(){return M._withPendingWrite((0,w.Z)(function*(){return yield M._withRetries(k=>dc(k,p,_)),M.localCache[p]=_,M.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,w.Z)(function*(){const M=yield _._withRetries(k=>function Cd(y,d){return Xu.apply(this,arguments)}(k,p));return _.localCache[p]=M,M})()}_remove(p){var _=this;return(0,w.Z)(function*(){return _._withPendingWrite((0,w.Z)(function*(){return yield _._withRetries(M=>Ta(M,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,w.Z)(function*(){const _=yield p._withRetries(Z=>{const me=au(Z,!1).getAll();return new ss(me).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:Z,value:me}of _)k.add(Z),JSON.stringify(p.localCache[Z])!==JSON.stringify(me)&&(p.notifyListeners(Z,me),M.push(Z));for(const Z of Object.keys(p.localCache))p.localCache[Z]&&!k.has(Z)&&(p.notifyListeners(Z,null),M.push(Z));return M})()}notifyListeners(p,_){this.localCache[p]=_;const M=this.listeners[p];if(M)for(const k of Array.from(M))k(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Zh(y,d){return jt(y,"POST","/v2/accounts/mfaSignIn:start",en(y,d))}function Ti(){return(Ti=(0,w.Z)(function*(y){return(yield jt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function uo(y){return new Promise((d,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=d,_.onerror=M=>{const k=Ae("internal-error");k.customData=M,p(k)},_.type="text/javascript",_.charset="UTF-8",function Ad(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(_)})}function qr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const us=1e12;class js{constructor(d){this.auth=d,this.counter=us,this._widgets=new Map}render(d,p){const _=this.counter;return this._widgets.set(_,new Bo(d,this.auth.name,p||{})),this.counter++,_}reset(d){var p;const _=d||us;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(d){var p;return(null===(p=this._widgets.get(d||us))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,w.Z)(function*(){var _;return null===(_=p._widgets.get(d||us))||void 0===_||_.execute(),""})()}}class Bo{constructor(d,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof d?document.getElementById(d):d;oe(M,"argument-error",{appName:p}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Aa(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $i=qr("rcb"),Bs=new on(3e4,6e4);class Dy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(d,p=""){return oe(function Qh(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Dn().grecaptcha):new Promise((_,M)=>{const k=Dn().setTimeout(()=>{M(Ae(d,"network-request-failed"))},Bs.get());Dn()[$i]=()=>{Dn().clearTimeout(k),delete Dn()[$i];const me=Dn().grecaptcha;if(!me)return void M(Ae(d,"internal-error"));const Ze=me.render;me.render=(st,_t)=>{const gt=Ze(st,_t);return this.counter++,gt},this.hostLanguage=p,_(me)},uo(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:$i,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(k),M(Ae(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Dn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ce{load(d){return(0,w.Z)(function*(){return new js(d)})()}clearedOneInstance(){}}const $s="recaptcha",uu={theme:"light",type:"image"};class co{constructor(d,p=Object.assign({},uu),_){this.parameters=p,this.type=$s,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(_),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof d?document.getElementById(d):d;oe(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ce:new Dy,this.validateStartingState()}verify(){var d=this;return(0,w.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(p)||new Promise(k=>{const Z=me=>{!me||(d.tokenChangeListeners.delete(Z),k(me))};d.tokenChangeListeners.add(Z),d.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof d)d(p);else if("string"==typeof d){const _=Dn()[d];"function"==typeof _&&_(p)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,w.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,w.Z)(function*(){oe(Yt()&&!bi(),d.auth,"internal-error"),yield function $t(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function cr(y){return Ti.apply(this,arguments)}(d.auth);oe(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qn{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=jr._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function He(){return(He=(0,w.Z)(function*(y,d,p){const _=Ue(y),M=yield dr(_,d,(0,V.m9)(p));return new qn(M,k=>Ke(_,k))})).apply(this,arguments)}function bt(){return(bt=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);yield N(!1,_,"phone");const M=yield dr(_.auth,d,(0,V.m9)(p));return new qn(M,k=>Qt(_,k))})).apply(this,arguments)}function lu(){return(lu=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),M=yield dr(_.auth,d,(0,V.m9)(p));return new qn(M,k=>Ft(_,k))})).apply(this,arguments)}function dr(y,d,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,w.Z)(function*(y,d,p){var _;const M=yield p.verify();try{let k;if(oe("string"==typeof M,y,"argument-error"),oe(p.type===$s,y,"argument-error"),k="string"==typeof d?{phoneNumber:d}:d,"session"in k){const Z=k.session;if("phoneNumber"in k)return oe("enroll"===Z.type,y,"internal-error"),(yield lr(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{oe("signin"===Z.type,y,"internal-error");const me=(null===(_=k.multiFactorHint)||void 0===_?void 0:_.uid)||k.multiFactorUid;return oe(me,y,"missing-multi-factor-info"),(yield Zh(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield ju(y,{phoneNumber:k.phoneNumber,recaptchaToken:M});return Z}}finally{p._reset()}})).apply(this,arguments)}function fo(){return(fo=(0,w.Z)(function*(y,d){yield yn((0,V.m9)(y),d)})).apply(this,arguments)}let ls=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Ue(p)}verifyPhoneNumber(p,_){return dr(this.auth,p,(0,V.m9)(_))}static credential(p,_){return jr._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:M}=p;return _&&M?jr._fromTokenResponse(_,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Cs(y,d){return d?fe(d):(oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Wn extends an{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Un(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Un(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Un(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Ma(y){return ye(y.auth,new Wn(y),y.bypassAuthState)}function Ir(y){const{auth:d,user:p}=y;return oe(p,d,"internal-error"),P(p,new Wn(y),y.bypassAuthState)}function Hs(y){return fc.apply(this,arguments)}function fc(){return(fc=(0,w.Z)(function*(y){const{auth:d,user:p}=y;return oe(p,d,"internal-error"),yn(p,new Wn(y),y.bypassAuthState)})).apply(this,arguments)}class Ai{constructor(d,p,_,M,k=!1){this.auth=d,this.resolver=_,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,w.Z)(function*(_,M){d.pendingPromise={resolve:_,reject:M};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(k){d.reject(k)}});return function(_,M){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,w.Z)(function*(){const{urlResponse:_,sessionId:M,postBody:k,tenantId:Z,error:me,type:Ze}=d;if(me)return void p.reject(me);const st={auth:p.auth,requestUri:_,sessionId:M,tenantId:Z||void 0,postBody:k||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ze)(st))}catch(_t){p.reject(_t)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ma;case"linkViaPopup":case"linkViaRedirect":return Hs;case"reauthViaPopup":case"reauthViaRedirect":return Ir;default:Me(this.auth,"internal-error")}}resolve(d){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pc=new on(2e3,1e4);function Sd(){return(Sd=(0,w.Z)(function*(y,d,p){const _=Ue(y);Je(y,d,Ii);const M=Cs(_,p);return new Pn(_,"signInViaPopup",d,M).executeNotNull()})).apply(this,arguments)}function xa(){return(xa=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);Je(_.auth,d,Ii);const M=Cs(_.auth,p);return new Pn(_.auth,"reauthViaPopup",d,M,_).executeNotNull()})).apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);Je(_.auth,d,Ii);const M=Cs(_.auth,p);return new Pn(_.auth,"linkViaPopup",d,M,_).executeNotNull()})).apply(this,arguments)}let Pn=(()=>{class y extends Ai{constructor(p,_,M,k,Z){super(p,_,k,Z),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,w.Z)(function*(){const _=yield p.execute();return oe(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,w.Z)(function*(){ue(1===p.filter.length,"Popup operations only handle one event");const _=wa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(M=>{p.reject(M)}),p.resolver._isIframeWebStorageSupported(p.auth,M=>{M||p.reject(Ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,M;this.pollId=(null===(M=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,pc.get())};p()}}return y.currentPopupAction=null,y})();const Cn=new Map;class mc extends Ai{constructor(d,p,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,w.Z)(function*(){let _=Cn.get(p.auth._key());if(!_){try{const k=(yield function rl(y,d){return cu.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;_=()=>Promise.resolve(k)}catch(M){_=()=>Promise.reject(M)}Cn.set(p.auth._key(),_)}return p.bypassAuthState||Cn.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,_=this;return(0,w.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(_,d);if("unknown"!==d.type){if(d.eventId){const M=yield _.auth._redirectUserForId(d.eventId);if(M)return _.user=M,p().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function cu(){return(cu=(0,w.Z)(function*(y,d){const p=A(d),_=C(y);if(!(yield _._isAvailable()))return!1;const M="true"===(yield _._get(p));return yield _._remove(p),M})).apply(this,arguments)}function cs(y,d){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,w.Z)(function*(y,d){return C(y)._set(A(d),"true")})).apply(this,arguments)}function C(y){return fe(y._redirectPersistence)}function A(y){return Ee("pendingRedirect",y.config.apiKey,y.name)}function ee(){return(ee=(0,w.Z)(function*(y,d,p){const _=Ue(y);Je(y,d,Ii);const M=Cs(_,p);return yield cs(M,_),M._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function it(){return(it=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);Je(_.auth,d,Ii);const M=Cs(_.auth,p);yield cs(M,_.auth);const k=yield Oa(_);return M._openRedirect(_.auth,d,"reauthViaRedirect",k)})).apply(this,arguments)}function qt(){return(qt=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);Je(_.auth,d,Ii);const M=Cs(_.auth,p);yield N(!1,_,d.providerId),yield cs(M,_.auth);const k=yield Oa(_);return M._openRedirect(_.auth,d,"linkViaRedirect",k)})).apply(this,arguments)}function nr(){return(nr=(0,w.Z)(function*(y,d){return yield Ue(y)._initializationPromise,rr(y,d,!1)})).apply(this,arguments)}function rr(y,d){return Na.apply(this,arguments)}function Na(){return(Na=(0,w.Z)(function*(y,d,p=!1){const _=Ue(y),M=Cs(_,d),Z=yield new mc(_,M,p).execute();return Z&&!p&&(delete Z.user._redirectEventId,yield _._persistUserIfCurrent(Z.user),yield _._setRedirectUser(null,d)),Z})).apply(this,arguments)}function Oa(y){return ds.apply(this,arguments)}function ds(){return(ds=(0,w.Z)(function*(y){const d=wa(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class bs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(p=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Qp(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var _;if(d.error&&!du(d)){const M=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(Ae(this.auth,M))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const _=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kn(d))}saveEventToCache(d){this.cachedEventUids.add(kn(d)),this.lastProcessedEventTime=Date.now()}}function kn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function du({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Pa(y){return sl.apply(this,arguments)}function sl(){return(sl=(0,w.Z)(function*(y,d={}){return jt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Yp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Md=/^https?/;function go(){return(go=(0,w.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Pa(y);for(const p of d)try{if(hu(p))return}catch(_){}Me(y,"unauthorized-domain")})).apply(this,arguments)}function hu(y){const d=ot(),{protocol:p,hostname:_}=new URL(d);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Z.hostname===_}if(!Md.test(p))return!1;if(Yp.test(y))return _===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(_)}const Yh=new on(3e4,6e4);function Jh(){const y=Dn().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let ol=null;function z0(y){return ol=ol||function Xh(y){return new Promise((d,p)=>{var _,M,k;function Z(){Jh(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Jh(),p(Ae(y,"network-request-failed"))},timeout:Yh.get()})}if(null===(M=null===(_=Dn().gapi)||void 0===_?void 0:_.iframes)||void 0===M?void 0:M.Iframe)d(gapi.iframes.getContext());else{if(!(null===(k=Dn().gapi)||void 0===k?void 0:k.load)){const me=qr("iframefcb");return Dn()[me]=()=>{gapi.load?Z():p(Ae(y,"network-request-failed"))},uo(`https://apis.google.com/js/api.js?onload=${me}`).catch(Ze=>p(Ze))}Z()}}).catch(d=>{throw ol=null,d})}(y),ol}const Jp=new on(5e3,15e3),vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(y){const d=y.config;oe(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?ln(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:y.name,v:se.SDK_VERSION},M=tf.get(y.config.apiHost);M&&(_.eid=M);const k=y._getFrameworks();return k.length&&(_.fw=k.join(",")),`${p}?${(0,V.xO)(_).slice(1)}`}function _c(){return _c=(0,w.Z)(function*(y){const d=yield z0(y),p=Dn().gapi;return oe(p,y,"internal-error"),d.open({where:document.body,url:ka(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vc,dontclear:!0},_=>new Promise(function(){var M=(0,w.Z)(function*(k,Z){yield _.restyle({setHideOnLeave:!1});const me=Ae(y,"network-request-failed"),Ze=Dn().setTimeout(()=>{Z(me)},Jp.get());function st(){Dn().clearTimeout(Ze),k(_)}_.ping(st).then(st,()=>{Z(me)})});return function(k,Z){return M.apply(this,arguments)}}()))}),_c.apply(this,arguments)}const ri={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rf{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Ec(y,d,p,_,M,k){oe(y.config.authDomain,y,"auth-domain-config-required"),oe(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:se.SDK_VERSION,eventId:M};if(d instanceof Ii){d.setDefaultLanguage(y.languageCode),Z.providerId=d.providerId||"",(0,V.xb)(d.getCustomParameters())||(Z.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ze,st]of Object.entries(k||{}))Z[Ze]=st}if(d instanceof _r){const Ze=d.getScopes().filter(st=>""!==st);Ze.length>0&&(Z.scopes=Ze.join(","))}y.tenantId&&(Z.tid=y.tenantId);const me=Z;for(const Ze of Object.keys(me))void 0===me[Ze]&&delete me[Ze];return`${function Ty({config:y}){return y.emulator?ln(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(me).slice(1)}`}const fs="webStorageSupport";class Ic extends class Rd{constructor(d){this.factorId=d}_process(d,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,_);case"signin":return this._finalizeSignIn(d,p.credential);default:return X("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ic(d)}_finalizeEnroll(d,p,_){return function Yu(y,d){return jt(y,"POST","/v2/accounts/mfaEnrollment:finalize",en(y,d))}(d,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function Ct(y,d){return jt(y,"POST","/v2/accounts/mfaSignIn:finalize",en(y,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let af=(()=>{class y{constructor(){}static assertion(p){return Ic._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var uf="@firebase/auth",tg="0.19.11";class ul{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,w.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(_=>{var M;d((null===(M=_)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mo(){return window}function Ts(){return(Ts=(0,w.Z)(function*(y,d,p){var _;const{BuildInfo:M}=mo();ue(d.sessionId,"AuthEvent did not contain a session ID");const k=yield Nd(d.sessionId),Z={};return ar()?Z.ibi=M.packageName:Rn()?Z.apn=M.packageName:Me(y,"operation-not-supported-in-this-environment"),M.displayName&&(Z.appDisplayName=M.displayName),Z.sessionId=k,Ec(y,p,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,Z)})).apply(this,arguments)}function As(){return(As=(0,w.Z)(function*(y){const{BuildInfo:d}=mo(),p={};ar()?p.iosBundleId=d.packageName:Rn()?p.androidPackageName=d.packageName:Me(y,"operation-not-supported-in-this-environment"),yield Pa(y,p)})).apply(this,arguments)}function pu(){return(pu=(0,w.Z)(function*(y,d,p){const{cordova:_}=mo();let M=()=>{};try{yield new Promise((k,Z)=>{let me=null;function Ze(){var gt;k();const Ln=null===(gt=_.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function st(){me||(me=window.setTimeout(()=>{Z(Ae(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&st()}d.addPassiveListener(Ze),document.addEventListener("resume",st,!1),Rn()&&document.addEventListener("visibilitychange",_t,!1),M=()=>{d.removePassiveListener(Ze),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",_t,!1),me&&window.clearTimeout(me)}})}finally{M()}})).apply(this,arguments)}function Nd(y){return df.apply(this,arguments)}function df(){return(df=(0,w.Z)(function*(y){const d=Gi(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gi(y){if(ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}!function rg(y){(0,se._registerComponent)(new ae.wA("auth",(d,{options:p})=>{const _=d.getProvider("app").getImmediate(),M=d.getProvider("heartbeat"),{apiKey:k,authDomain:Z}=_.options;return((me,Ze)=>{oe(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),oe(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:me.name});const st={apiKey:k,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mo(y)},_t=new Vr(me,Ze,st);return function pe(y,d){const p=(null==d?void 0:d.persistence)||[],_=(Array.isArray(p)?p:[p]).map(fe);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(_t,p),_t})(_,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,_)=>{d.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ae.wA("auth-internal",d=>{const p=Ue(d.getProvider("auth").getImmediate());return new ul(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(uf,tg,function ng(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(uf,tg,"esm2017")}("Browser");class gu extends bs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,w.Z)(function*(){yield d.initPromise})()}}function hf(y){return wc.apply(this,arguments)}function wc(){return(wc=(0,w.Z)(function*(y){const d=yield Cc()._get(bc(y));return d&&(yield Cc()._remove(bc(y))),d})).apply(this,arguments)}function Dc(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*d.length);y.push(d.charAt(_))}return y.join("")}function Cc(){return fe(ti)}function bc(y){return Ee("authEvent",y.config.apiKey,y.name)}function Ho(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...p]=y.split("?");return(0,V.zd)(p.join("?"))}function cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Tc(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function pf(y=(0,V.z$)()){return!("file:"!==Tc()&&"ionic:"!==Tc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ii(){try{const y=self.localStorage,d=wa();if(y)return y.setItem(d,"1"),y.removeItem(d),!function yu(y=(0,V.z$)()){return function Ud(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function hl(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch(y){return vu()&&(0,V.hl)()}return!1}function vu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Go(){return(function dl(){return"http:"===Tc()||"https:"===Tc()}()||(0,V.ru)()||pf())&&!function Ac(){return(0,V.b$)()||(0,V.UG)()}()&&ii()&&!vu()}function Sc(){return pf()&&"undefined"!=typeof document}function La(){return(La=(0,w.Z)(function*(){return!!Sc()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},ps=oe,fl="persistence";function _u(y){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,w.Z)(function*(y){yield y._initializationPromise;const d=Mc(),p=Ee(fl,y.config.apiKey,y.name);d&&d.setItem(p,y._getPersistence())})).apply(this,arguments)}function Mc(){var y;try{return(null===(y=function gf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const Ry=oe;class yo{constructor(){this.browserResolver=fe(class fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ni,this._completeRedirectFn=rr}_openPopup(d,p,_,M){var k=this;return(0,w.Z)(function*(){var Z;ue(null===(Z=k.eventManagers[d._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const me=Ec(d,p,_,ot(),M);return function Fa(y,d,p,_=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),Z=Math.max((window.screen.availWidth-_)/2,0).toString();let me="";const Ze=Object.assign(Object.assign({},ri),{width:_.toString(),height:M.toString(),top:k,left:Z}),st=(0,V.z$)().toLowerCase();p&&(me=Ar(st)?"_blank":p),tt(st)&&(d=d||"http://localhost",Ze.scrollbars="yes");const _t=Object.entries(Ze).reduce((Ln,[gs,qo])=>`${Ln}${gs}=${qo},`,"");if(function Xi(y=(0,V.z$)()){var d;return ar(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(st)&&"_self"!==me)return function Cy(y,d){const p=document.createElement("a");p.href=y,p.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(d||"",me),new rf(null);const gt=window.open(d||"",me,_t);oe(gt,y,"popup-blocked");try{gt.focus()}catch(Ln){}return new rf(gt)}(d,me,wa())})()}_openRedirect(d,p,_,M){var k=this;return(0,w.Z)(function*(){return yield k._originValidation(d),function Wh(y){Dn().location.href=y}(Ec(d,p,_,ot(),M)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:M,promise:k}=this.eventManagers[p];return M?Promise.resolve(M):(ue(k,"If manager is not set, promise should be"),k)}const _=this.initAndGetManager(d);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(d){var p=this;return(0,w.Z)(function*(){const _=yield function nf(y){return _c.apply(this,arguments)}(d),M=new bs(d);return _.register("authEvent",k=>(oe(null==k?void 0:k.authEvent,d,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:M},p.iframes[d._key()]=_,M})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(fs,{type:fs},M=>{var k;const Z=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[fs];void 0!==Z&&p(!!Z),Me(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function yc(y){return go.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Dt()||Ot()||ar()}}),this.cordovaResolver=fe(class xy{constructor(){this._redirectPersistence=ni,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rr}_initialize(d){var p=this;return(0,w.Z)(function*(){const _=d._key();let M=p.eventManagers.get(_);return M||(M=new gu(d),p.eventManagers.set(_,M),p.attachCallbackListeners(d,M)),M})()}_openPopup(d){Me(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,_,M){var k=this;return(0,w.Z)(function*(){!function cf(y){var d,p,_,M,k,Z,me,Ze,st,_t;const gt=mo();oe("function"==typeof(null===(d=null==gt?void 0:gt.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(p=null==gt?void 0:gt.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(k=null===(M=null===(_=null==gt?void 0:gt.cordova)||void 0===_?void 0:_.plugins)||void 0===M?void 0:M.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ze=null===(me=null===(Z=null==gt?void 0:gt.cordova)||void 0===Z?void 0:Z.plugins)||void 0===me?void 0:me.browsertab)||void 0===Ze?void 0:Ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(_t=null===(st=null==gt?void 0:gt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Z=yield k._initialize(d);yield Z.initialized(),Z.resetRedirect(),function il(){Cn.clear()}(),yield k._originValidation(d);const me=function ll(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Dc(),postBody:null,tenantId:y.tenantId,error:Ae(y,"no-auth-event")}}(d,_,M);yield function My(y,d){return Cc()._set(bc(y),d)}(d,me);const Ze=yield function Sy(y,d,p){return Ts.apply(this,arguments)}(d,me,p),st=yield function Gs(y){const{cordova:d}=mo();return new Promise(p=>{d.plugins.browsertab.isAvailable(_=>{let M=null;_?d.plugins.browsertab.openUrl(y):M=d.InAppBrowser.open(y,function Fi(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(M)})})}(Ze);return function lf(y,d,p){return pu.apply(this,arguments)}(d,Z,st)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ig(y){return As.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:_,handleOpenURL:M,BuildInfo:k}=mo(),Z=setTimeout((0,w.Z)(function*(){yield hf(d),p.onEvent(cl())}),500),me=function(){var _t=(0,w.Z)(function*(gt){clearTimeout(Z);const Ln=yield hf(d);let gs=null;Ln&&(null==gt?void 0:gt.url)&&(gs=function sg(y,d){var p,_;const M=function mu(y){const d=Ho(y),p=d.link?decodeURIComponent(d.link):void 0,_=Ho(p).link,M=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ho(M).link||M||_||p||y}(d);if(M.includes("/__/auth/callback")){const k=Ho(M),Z=k.firebaseError?function Pd(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(k.firebaseError)):null,me=null===(_=null===(p=null==Z?void 0:Z.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Ze=me?Ae(me):null;return Ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Ln,gt.url)),p.onEvent(gs||cl())});return function(Ln){return _t.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,me);const Ze=M,st=`${k.packageName.toLowerCase()}://`;mo().handleOpenURL=function(){var _t=(0,w.Z)(function*(gt){if(gt.toLowerCase().startsWith(st)&&me({url:gt}),"function"==typeof Ze)try{Ze(gt)}catch(Ln){console.error(Ln)}});return function(gt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ni,this._completeRedirectFn=rr}_initialize(d){var p=this;return(0,w.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,_,M){var k=this;return(0,w.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(d,p,_,M)})()}_openRedirect(d,p,_,M){var k=this;return(0,w.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(d,p,_,M)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Sc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ry(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,w.Z)(function*(){if(d.underlyingResolver)return;const p=yield function ir(){return La.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function pl(y){return y.unwrap()}function mf(y){return ag(y)}function ag(y){const{_tokenResponse:d}=y instanceof V.ZR?y.customData:y;if(!d)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ls.credentialFromResult(y);const p=d.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=Fs;break;case"facebook.com":_=ks;break;case"github.com":_=Ya;break;case"twitter.com":_=ua;break;default:const{oauthIdToken:M,oauthAccessToken:k,oauthTokenSecret:Z,pendingToken:me,nonce:Ze}=d;return k||Z||M||me?me?p.startsWith("saml.")?Po._create(p,me):Vi._fromParams({providerId:p,signInMethod:p,pendingToken:me,idToken:M,accessToken:k}):new wi(p).credential({idToken:M,accessToken:k,rawNonce:Ze}):null}return y instanceof V.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function si(y,d){return d.catch(p=>{throw p instanceof V.ZR&&function og(y,d){var p;const _=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Rc(y,function Ea(y,d){var p;const _=(0,V.m9)(y),M=d;return oe(d.customData.operationType,_,"argument-error"),oe(null===(p=M.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),_a._fromError(_,M)}(y,d));else if(_){const M=ag(d),k=d;M&&(k.credential=M,k.tenantId=_.tenantId||void 0,k.email=_.email||void 0,k.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const M=p.user;return{operationType:p.operationType,credential:mf(p),additionalUserInfo:Gr(p),user:gi.getOrCreate(M)}})}function $d(y,d){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,w.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:_=>si(y,p.confirm(_))}})).apply(this,arguments)}class Rc{constructor(d,p){this.resolver=p,this.auth=function xc(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return si(pl(this.auth),this.resolver.resolveSignIn(d))}}class gi{constructor(d){this._delegate=d,this.multiFactor=function ac(y){const d=(0,V.m9)(y);return Vo.has(d)||Vo.set(d,Bi._fromUser(d)),Vo.get(d)}(d)}static getOrCreate(d){return gi.USER_MAP.has(d)||gi.USER_MAP.set(d,new gi(d)),gi.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,w.Z)(function*(){return si(p.auth,Qt(p._delegate,d))})()}linkWithPhoneNumber(d,p){var _=this;return(0,w.Z)(function*(){return $d(_.auth,function Sa(y,d,p){return bt.apply(this,arguments)}(_._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,w.Z)(function*(){return si(p.auth,function tl(y,d,p){return nl.apply(this,arguments)}(p._delegate,d,yo))})()}linkWithRedirect(d){var p=this;return(0,w.Z)(function*(){return yield _u(Ue(p.auth)),function ut(y,d,p){return function Tt(y,d,p){return qt.apply(this,arguments)}(y,d,p)}(p._delegate,d,yo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,w.Z)(function*(){return si(p.auth,Ft(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return $d(this.auth,function hc(y,d,p){return lu.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return si(this.auth,function po(y,d,p){return xa.apply(this,arguments)}(this._delegate,d,yo))}reauthenticateWithRedirect(d){var p=this;return(0,w.Z)(function*(){return yield _u(Ue(p.auth)),function ie(y,d,p){return function Ve(y,d,p){return it.apply(this,arguments)}(y,d,p)}(p._delegate,d,yo)})()}sendEmailVerification(d){return function ws(y,d){return _d.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,w.Z)(function*(){return yield function Es(y,d){return ca.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function ma(y,d){return Ku((0,V.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function nu(y,d){return Ku((0,V.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function el(y,d){return fo.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function eu(y,d){return tu.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function nc(y,d,p){return rc.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gi.USER_MAP=new WeakMap;const gl=oe;let Gd=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=p.options;gl(M,"invalid-api-key",{appName:p.name}),gl(M,"invalid-api-key",{appName:p.name});const k="undefined"!=typeof window?yo:void 0;this._delegate=_.initialize({options:{persistence:ml(M,p.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(_e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function mn(y,d,p){const _=Ue(y);oe(_._canInitEmulator,_,"emulator-config-failed"),oe(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const M=!!(null==p?void 0:p.disableWarnings),k=An(d),{host:Z,port:me}=function ur(y){const d=An(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(_);if(M){const k=M[1];return{host:k,port:$n(_.substr(k.length+1))}}{const[k,Z]=_.split(":");return{host:k,port:$n(Z)}}}(d);_.config.emulator={url:`${k}//${Z}${null===me?"":`:${me}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Z,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function _i(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function Xa(y,d){return Pe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Bt(this._delegate,p)}confirmPasswordReset(p,_){return function Gu(y,d,p){return da.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var M=this;return(0,w.Z)(function*(){return si(M._delegate,function fa(y,d,p){return Ci.apply(this,arguments)}(M._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function io(y,d){return Us.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function tc(y,d){const p=no.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,w.Z)(function*(){gl(Go(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function xt(y,d){return nr.apply(this,arguments)}(p._delegate,yo);return _?si(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Fd(y,d){Ue(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,_,M){const{next:k,error:Z,complete:me}=yf(p,_,M);return this._delegate.onAuthStateChanged(k,Z,me)}onIdTokenChanged(p,_,M){const{next:k,error:Z,complete:me}=yf(p,_,M);return this._delegate.onIdTokenChanged(k,Z,me)}sendSignInLinkToEmail(p,_){return function Wu(y,d,p){return zu.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function ji(y,d,p){return rs.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,w.Z)(function*(){let M;switch(function jd(y,d){ps(Object.values(Mr).includes(d),y,"invalid-persistence-type"),(0,V.b$)()?ps(d!==Mr.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?ps(d===Mr.NONE,y,"unsupported-persistence-type"):vu()?ps(d===Mr.NONE||d===Mr.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):ps(d===Mr.NONE||ii(),y,"unsupported-persistence-type")}(_._delegate,p),p){case Mr.SESSION:M=ni;break;case Mr.LOCAL:M=(yield fe(Gn)._isAvailable())?Gn:ti;break;case Mr.NONE:M=K;break;default:return Me("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return si(this._delegate,function ko(y){return Ja.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return si(this._delegate,Ke(this._delegate,p))}signInWithCustomToken(p){return si(this._delegate,function Ui(y,d){return pi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return si(this._delegate,function qu(y,d,p){return Ke((0,V.m9)(y),Oo.credential(d,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return si(this._delegate,function pa(y,d,p){return ro.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return $d(this._delegate,function ho(y,d,p){return He.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,w.Z)(function*(){return gl(Go(),_._delegate,"operation-not-supported-in-this-environment"),si(_._delegate,function $o(y,d,p){return Sd.apply(this,arguments)}(_._delegate,p,yo))})()}signInWithRedirect(p){var _=this;return(0,w.Z)(function*(){return gl(Go(),_._delegate,"operation-not-supported-in-this-environment"),yield _u(_._delegate),function O(y,d,p){return function B(y,d,p){return ee.apply(this,arguments)}(y,d,p)}(_._delegate,p,yo)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function jn(y,d){return ha.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mr,y})();function yf(y,d,p){let _=y;"function"!=typeof y&&({next:_,error:d,complete:p}=y);const M=_;return{next:Z=>M(Z&&gi.getOrCreate(Z)),error:d,complete:p}}function ml(y,d){const p=function Fn(y,d){const p=Mc();if(!p)return[];const _=Ee(fl,y,d);switch(p.getItem(_)){case Mr.NONE:return[K];case Mr.LOCAL:return[Gn,ni];case Mr.SESSION:return[ni];default:return[]}}(y,d);if("undefined"!=typeof self&&!p.includes(Gn)&&p.push(Gn),"undefined"!=typeof window)for(const _ of[ti,ni])p.includes(_)||p.push(_);return p.includes(K)||p.push(K),p}class vf{constructor(){this.providerId="phone",this._delegate=new ls(pl(m.Z.auth()))}static credential(d,p){return ls.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}vf.PHONE_SIGN_IN_METHOD=ls.PHONE_SIGN_IN_METHOD,vf.PROVIDER_ID=ls.PROVIDER_ID;const Ny=oe;class ug{constructor(d,p,_=m.Z.app()){var M;Ny(null===(M=_.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new co(d,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _f(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new Gd(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oo,FacebookAuthProvider:ks,GithubAuthProvider:Ya,GoogleAuthProvider:Fs,OAuthProvider:wi,SAMLAuthProvider:hi,PhoneAuthProvider:vf,PhoneMultiFactorGenerator:af,RecaptchaVerifier:ug,TwitterAuthProvider:ua,Auth:Gd,AuthCredential:an,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(m.Z)},4497:(ct,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var F=function(){function w(m,V,se,J){this.id=w.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,m&&(this.text=m),V&&(this.cssClass=V),se&&(this.closeOnClick=se),J&&(this.showCloseBtn=J)}return w.nextId=0,w}();be.FlashMessage=F},2570:function(ct,be,F){"use strict";var w=F(5e3),m=F(5673),V=F(9808);function se(he,_e){1&he&&w.\u0275\u0275element(0,"div",3)}function J(he,_e){if(1&he){var xe=w.\u0275\u0275getCurrentView();w.\u0275\u0275elementStart(0,"button",7),w.\u0275\u0275listener("click",function(){w.\u0275\u0275restoreView(xe);var Ie=w.\u0275\u0275nextContext().$implicit;return w.\u0275\u0275nextContext().close(Ie)}),w.\u0275\u0275elementStart(1,"span",8),w.\u0275\u0275text(2,"\xd7"),w.\u0275\u0275elementEnd()()}}var ce=function(he){return{"alert-dismissible":he}};function ae(he,_e){if(1&he){var xe=w.\u0275\u0275getCurrentView();w.\u0275\u0275elementStart(0,"div",4),w.\u0275\u0275listener("click",function(){var Ge=w.\u0275\u0275restoreView(xe).$implicit;return w.\u0275\u0275nextContext().alertClicked(Ge)}),w.\u0275\u0275template(1,J,3,0,"button",5),w.\u0275\u0275element(2,"div",6),w.\u0275\u0275elementEnd()}if(2&he){var re=_e.$implicit;w.\u0275\u0275classMapInterpolate1("alert flash-message ",re.cssClass,""),w.\u0275\u0275styleProp("cursor",re.closeOnClick?"pointer":"inherit"),w.\u0275\u0275property("ngClass",w.\u0275\u0275pureFunction1(8,ce,re.showCloseBtn)),w.\u0275\u0275advance(1),w.\u0275\u0275property("ngIf",re.showCloseBtn),w.\u0275\u0275advance(1),w.\u0275\u0275property("innerHTML",re.text,w.\u0275\u0275sanitizeHtml)}}var de=this&&this.__decorate||function(he,_e,xe,re){var Ge,Ie=arguments.length,We=Ie<3?_e:null===re?re=Object.getOwnPropertyDescriptor(_e,xe):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(he,_e,xe,re);else for(var Me=he.length-1;Me>=0;Me--)(Ge=he[Me])&&(We=(Ie<3?Ge(We):Ie>3?Ge(_e,xe,We):Ge(_e,xe))||We);return Ie>3&&We&&Object.defineProperty(_e,xe,We),We},le=this&&this.__metadata||function(he,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,_e)};Object.defineProperty(be,"__esModule",{value:!0});var H=F(5e3),G=F(4497),Y=F(5673),qe=function(){function he(_e,xe){this._flashMessagesService=_e,this._cdRef=xe,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return he.prototype.ngOnInit=function(){},he.prototype.show=function(_e,xe){var re=this;void 0===xe&&(xe={});var Ie={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var We in xe)Ie[We]=xe[We];var Ge=new G.FlashMessage(_e,Ie.cssClass,Ie.closeOnClick,Ie.showCloseBtn);Ge.timer=window.setTimeout(function(){re._remove(Ge),re._cdRef.detectChanges()},Ie.timeout),this.messages.push(Ge),this._cdRef.detectChanges()},he.prototype.close=function(_e){clearTimeout(_e.timer),this._remove(_e),this._cdRef.detectChanges()},he.prototype.alertClicked=function(_e){_e.closeOnClick&&this.close(_e)},he.prototype.grayOut=function(_e){void 0===_e&&(_e=!1),this._grayOut=_e},he.prototype._remove=function(_e){this.messages=this.messages.filter(function(xe){return xe.id!==_e.id})},(he=de([le("design:paramtypes",[Y.FlashMessagesService,H.ChangeDetectorRef])],he)).\u0275fac=function(xe){return new(xe||he)(w.\u0275\u0275directiveInject(m.FlashMessagesService),w.\u0275\u0275directiveInject(w.ChangeDetectorRef))},he.\u0275cmp=w.\u0275\u0275defineComponent({type:he,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(xe,re){1&xe&&(w.\u0275\u0275elementStart(0,"div",0),w.\u0275\u0275template(1,se,1,0,"div",1),w.\u0275\u0275template(2,ae,3,10,"div",2),w.\u0275\u0275elementEnd()),2&xe&&(w.\u0275\u0275advance(1),w.\u0275\u0275property("ngIf",re._grayOut&&re.messages.length),w.\u0275\u0275advance(1),w.\u0275\u0275property("ngForOf",re.messages))},directives:[V.NgIf,V.NgForOf,V.NgClass],encapsulation:2}),he}();be.FlashMessagesComponent=qe},5673:function(ct,be,F){"use strict";var w=F(5e3);Object.defineProperty(be,"__esModule",{value:!0}),F(5e3);var se=function(){function J(){}return J.\u0275fac=function(ae){return new(ae||J)},J.\u0275prov=w.\u0275\u0275defineInjectable({token:J,factory:function(ce){return J.\u0275fac(ce)}}),J}();be.FlashMessagesService=se},3241:(ct,be,F)=>{var m=F(2570),V=F(8533);be.qz=V.FlashMessagesModule;var se=F(5673);be.GQ=se.FlashMessagesService,be.cS=m.FlashMessagesComponent},8533:function(ct,be,F){"use strict";var w=F(5e3);F(2570),F(9808),Object.defineProperty(be,"__esModule",{value:!0}),F(5e3);var ce=F(9808),de=(F(2570),F(5673)),le=function(){function H(){}var G;return G=H,H.forRoot=function(){return{ngModule:G,providers:[de.FlashMessagesService]}},H.\u0275fac=function(qe){return new(qe||H)},H.\u0275mod=w.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=w.\u0275\u0275defineInjector({providers:[],imports:[[ce.CommonModule]]}),H}();be.FlashMessagesModule=le},8306:(ct,be,F)=>{"use strict";F.d(be,{y:()=>H});var w=F(2961),m=F(727),V=F(8822),se=F(4671);var ae=F(2416),de=F(576),le=F(2806);let H=(()=>{class he{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const re=new he;return re.source=this,re.operator=xe,re}subscribe(xe,re,Ie){const We=function qe(he){return he&&he instanceof w.Lv||function Y(he){return he&&(0,de.m)(he.next)&&(0,de.m)(he.error)&&(0,de.m)(he.complete)}(he)&&(0,m.Nn)(he)}(xe)?xe:new w.Hp(xe,re,Ie);return(0,le.x)(()=>{const{operator:Ge,source:Me}=this;We.add(Ge?Ge.call(We,Me):Me?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(xe){try{return this._subscribe(xe)}catch(re){xe.error(re)}}forEach(xe,re){return new(re=G(re))((Ie,We)=>{const Ge=new w.Hp({next:Me=>{try{xe(Me)}catch(Ae){We(Ae),Ge.unsubscribe()}},error:We,complete:Ie});this.subscribe(Ge)})}_subscribe(xe){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(xe)}[V.L](){return this}pipe(...xe){return function ce(he){return 0===he.length?se.y:1===he.length?he[0]:function(xe){return he.reduce((re,Ie)=>Ie(re),xe)}}(xe)(this)}toPromise(xe){return new(xe=G(xe))((re,Ie)=>{let We;this.subscribe(Ge=>We=Ge,Ge=>Ie(Ge),()=>re(We))})}}return he.create=_e=>new he(_e),he})();function G(he){var _e;return null!==(_e=null!=he?he:ae.v.Promise)&&void 0!==_e?_e:Promise}},7579:(ct,be,F)=>{"use strict";F.d(be,{x:()=>ae});var w=F(8306),m=F(727);const se=(0,F(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=F(8737),ce=F(2806);let ae=(()=>{class le extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Y=new de(this,this);return Y.operator=G,Y}_throwIfClosed(){if(this.closed)throw new se}next(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(G)}})}error(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Y}=this;for(;Y.length;)Y.shift().error(G)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Y,isStopped:qe,observers:he}=this;return Y||qe?m.Lc:(this.currentObservers=null,he.push(G),new m.w0(()=>{this.currentObservers=null,(0,J.P)(he,G)}))}_checkFinalizedStatuses(G){const{hasError:Y,thrownError:qe,isStopped:he}=this;Y?G.error(qe):he&&G.complete()}asObservable(){const G=new w.y;return G.source=this,G}}return le.create=(H,G)=>new de(H,G),le})();class de extends ae{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Y||Y.call(G,H)}error(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Y||Y.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Y;return null!==(Y=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Y?Y:m.Lc}}},2961:(ct,be,F)=>{"use strict";F.d(be,{Hp:()=>xe,Lv:()=>Y});var w=F(576),m=F(727),V=F(2416),se=F(7849);function J(){}const ce=le("C",void 0,void 0);function le(Me,Ae,Se){return{kind:Me,value:Ae,error:Se}}var H=F(3410),G=F(2806);class Y extends m.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,m.Nn)(Ae)&&Ae.add(this)):this.destination=Ge}static create(Ae,Se,Je){return new xe(Ae,Se,Je)}next(Ae){this.isStopped?We(function de(Me){return le("N",Me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?We(function ae(Me){return le("E",void 0,Me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?We(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function he(Me,Ae){return qe.call(Me,Ae)}class _e{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ae)}catch(Je){re(Je)}}error(Ae){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ae)}catch(Je){re(Je)}else re(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Se){re(Se)}}}class xe extends Y{constructor(Ae,Se,Je){let Ye;if(super(),(0,w.m)(Ae)||!Ae)Ye={next:null!=Ae?Ae:void 0,error:null!=Se?Se:void 0,complete:null!=Je?Je:void 0};else{let oe;this&&V.v.useDeprecatedNextContext?(oe=Object.create(Ae),oe.unsubscribe=()=>this.unsubscribe(),Ye={next:Ae.next&&he(Ae.next,oe),error:Ae.error&&he(Ae.error,oe),complete:Ae.complete&&he(Ae.complete,oe)}):Ye=Ae}this.destination=new _e(Ye)}}function re(Me){V.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Me):(0,se.h)(Me)}function We(Me,Ae){const{onStoppedNotification:Se}=V.v;Se&&H.z.setTimeout(()=>Se(Me,Ae))}const Ge={closed:!0,next:J,error:function Ie(Me){throw Me},complete:J}},727:(ct,be,F)=>{"use strict";F.d(be,{Lc:()=>ce,w0:()=>J,Nn:()=>ae});var w=F(576);const V=(0,F(3888).d)(le=>function(G){le(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Y,qe)=>`${qe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var se=F(8737);class J{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const he of G)he.remove(this);else G.remove(this);const{initialTeardown:Y}=this;if((0,w.m)(Y))try{Y()}catch(he){H=he instanceof V?he.errors:[he]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const he of qe)try{de(he)}catch(_e){H=null!=H?H:[],_e instanceof V?H=[...H,..._e.errors]:H.push(_e)}}if(H)throw new V(H)}}add(H){var G;if(H&&H!==this)if(this.closed)de(H);else{if(H instanceof J){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,se.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,se.P)(G,H),H instanceof J&&H._removeParent(this)}}J.EMPTY=(()=>{const le=new J;return le.closed=!0,le})();const ce=J.EMPTY;function ae(le){return le instanceof J||le&&"closed"in le&&(0,w.m)(le.remove)&&(0,w.m)(le.add)&&(0,w.m)(le.unsubscribe)}function de(le){(0,w.m)(le)?le():le.unsubscribe()}},2416:(ct,be,F)=>{"use strict";F.d(be,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,be,F)=>{"use strict";F.d(be,{E:()=>m});const m=new(F(8306).y)(J=>J.complete())},8996:(ct,be,F)=>{"use strict";F.d(be,{D:()=>Ae});var w=F(8421),m=F(5363),V=F(9468),ce=F(8306),de=F(2202),le=F(576),H=F(9672);function Y(Se,Je){if(!Se)throw new Error("Iterable cannot be null");return new ce.y(Ye=>{(0,H.f)(Ye,Je,()=>{const oe=Se[Symbol.asyncIterator]();(0,H.f)(Ye,Je,()=>{oe.next().then(X=>{X.done?Ye.complete():Ye.next(X.value)})},0,!0)})})}var qe=F(3670),he=F(8239),_e=F(1144),xe=F(6495),re=F(2206),Ie=F(4532),We=F(3260);function Ae(Se,Je){return Je?function Me(Se,Je){if(null!=Se){if((0,qe.c)(Se))return function se(Se,Je){return(0,w.Xf)(Se).pipe((0,V.R)(Je),(0,m.Q)(Je))}(Se,Je);if((0,_e.z)(Se))return function ae(Se,Je){return new ce.y(Ye=>{let oe=0;return Je.schedule(function(){oe===Se.length?Ye.complete():(Ye.next(Se[oe++]),Ye.closed||this.schedule())})})}(Se,Je);if((0,he.t)(Se))return function J(Se,Je){return(0,w.Xf)(Se).pipe((0,V.R)(Je),(0,m.Q)(Je))}(Se,Je);if((0,re.D)(Se))return Y(Se,Je);if((0,xe.T)(Se))return function G(Se,Je){return new ce.y(Ye=>{let oe;return(0,H.f)(Ye,Je,()=>{oe=Se[de.h](),(0,H.f)(Ye,Je,()=>{let X,ue;try{({value:X,done:ue}=oe.next())}catch(we){return void Ye.error(we)}ue?Ye.complete():Ye.next(X)},0,!0)}),()=>(0,le.m)(null==oe?void 0:oe.return)&&oe.return()})}(Se,Je);if((0,We.L)(Se))return function Ge(Se,Je){return Y((0,We.Q)(Se),Je)}(Se,Je)}throw(0,Ie.z)(Se)}(Se,Je):(0,w.Xf)(Se)}},8421:(ct,be,F)=>{"use strict";F.d(be,{Xf:()=>qe});var w=F(655),m=F(1144),V=F(8239),se=F(8306),J=F(3670),ce=F(2206),ae=F(4532),de=F(6495),le=F(3260),H=F(576),G=F(7849),Y=F(8822);function qe(Me){if(Me instanceof se.y)return Me;if(null!=Me){if((0,J.c)(Me))return function he(Me){return new se.y(Ae=>{const Se=Me[Y.L]();if((0,H.m)(Se.subscribe))return Se.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,m.z)(Me))return function _e(Me){return new se.y(Ae=>{for(let Se=0;Se<Me.length&&!Ae.closed;Se++)Ae.next(Me[Se]);Ae.complete()})}(Me);if((0,V.t)(Me))return function xe(Me){return new se.y(Ae=>{Me.then(Se=>{Ae.closed||(Ae.next(Se),Ae.complete())},Se=>Ae.error(Se)).then(null,G.h)})}(Me);if((0,ce.D)(Me))return Ie(Me);if((0,de.T)(Me))return function re(Me){return new se.y(Ae=>{for(const Se of Me)if(Ae.next(Se),Ae.closed)return;Ae.complete()})}(Me);if((0,le.L)(Me))return function We(Me){return Ie((0,le.Q)(Me))}(Me)}throw(0,ae.z)(Me)}function Ie(Me){return new se.y(Ae=>{(function Ge(Me,Ae){var Se,Je,Ye,oe;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Se=(0,w.KL)(Me);!(Je=yield Se.next()).done;)if(Ae.next(Je.value),Ae.closed)return}catch(X){Ye={error:X}}finally{try{Je&&!Je.done&&(oe=Se.return)&&(yield oe.call(Se))}finally{if(Ye)throw Ye.error}}Ae.complete()})})(Me,Ae).catch(Se=>Ae.error(Se))})}},6451:(ct,be,F)=>{"use strict";F.d(be,{T:()=>ce});var w=F(8189),m=F(8421),V=F(515),se=F(7669),J=F(8996);function ce(...ae){const de=(0,se.yG)(ae),le=(0,se._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,m.Xf)(H[0]):(0,w.J)(le)((0,J.D)(H,de)):V.E}},5403:(ct,be,F)=>{"use strict";F.d(be,{x:()=>m});var w=F(2961);function m(se,J,ce,ae,de){return new V(se,J,ce,ae,de)}class V extends w.Lv{constructor(J,ce,ae,de,le,H){super(J),this.onFinalize=le,this.shouldUnsubscribe=H,this._next=ce?function(G){try{ce(G)}catch(Y){J.error(Y)}}:super._next,this._error=de?function(G){try{de(G)}catch(Y){J.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(G){J.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(ct,be,F)=>{"use strict";F.d(be,{U:()=>V});var w=F(4482),m=F(5403);function V(se,J){return(0,w.e)((ce,ae)=>{let de=0;ce.subscribe((0,m.x)(ae,le=>{ae.next(se.call(J,le,de++))}))})}},8189:(ct,be,F)=>{"use strict";F.d(be,{J:()=>V});var w=F(5577),m=F(4671);function V(se=1/0){return(0,w.z)(m.y,se)}},5577:(ct,be,F)=>{"use strict";F.d(be,{z:()=>de});var w=F(4004),m=F(8421),V=F(4482),se=F(9672),J=F(5403),ae=F(576);function de(le,H,G=1/0){return(0,ae.m)(H)?de((Y,qe)=>(0,w.U)((he,_e)=>H(Y,he,qe,_e))((0,m.Xf)(le(Y,qe))),G):("number"==typeof H&&(G=H),(0,V.e)((Y,qe)=>function ce(le,H,G,Y,qe,he,_e,xe){const re=[];let Ie=0,We=0,Ge=!1;const Me=()=>{Ge&&!re.length&&!Ie&&H.complete()},Ae=Je=>Ie<Y?Se(Je):re.push(Je),Se=Je=>{he&&H.next(Je),Ie++;let Ye=!1;(0,m.Xf)(G(Je,We++)).subscribe((0,J.x)(H,oe=>{null==qe||qe(oe),he?Ae(oe):H.next(oe)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Ie--;re.length&&Ie<Y;){const oe=re.shift();_e?(0,se.f)(H,_e,()=>Se(oe)):Se(oe)}Me()}catch(oe){H.error(oe)}}))};return le.subscribe((0,J.x)(H,Ae,()=>{Ge=!0,Me()})),()=>{null==xe||xe()}}(Y,qe,le,G)))}},5363:(ct,be,F)=>{"use strict";F.d(be,{Q:()=>se});var w=F(9672),m=F(4482),V=F(5403);function se(J,ce=0){return(0,m.e)((ae,de)=>{ae.subscribe((0,V.x)(de,le=>(0,w.f)(de,J,()=>de.next(le),ce),()=>(0,w.f)(de,J,()=>de.complete(),ce),le=>(0,w.f)(de,J,()=>de.error(le),ce)))})}},3099:(ct,be,F)=>{"use strict";F.d(be,{B:()=>ce});var w=F(8996),m=F(5698),V=F(7579),se=F(2961),J=F(4482);function ce(de={}){const{connector:le=(()=>new V.x),resetOnError:H=!0,resetOnComplete:G=!0,resetOnRefCountZero:Y=!0}=de;return qe=>{let he=null,_e=null,xe=null,re=0,Ie=!1,We=!1;const Ge=()=>{null==_e||_e.unsubscribe(),_e=null},Me=()=>{Ge(),he=xe=null,Ie=We=!1},Ae=()=>{const Se=he;Me(),null==Se||Se.unsubscribe()};return(0,J.e)((Se,Je)=>{re++,!We&&!Ie&&Ge();const Ye=xe=null!=xe?xe:le();Je.add(()=>{re--,0===re&&!We&&!Ie&&(_e=ae(Ae,Y))}),Ye.subscribe(Je),he||(he=new se.Hp({next:oe=>Ye.next(oe),error:oe=>{We=!0,Ge(),_e=ae(Me,H,oe),Ye.error(oe)},complete:()=>{Ie=!0,Ge(),_e=ae(Me,G),Ye.complete()}}),(0,w.D)(Se).subscribe(he))})(qe)}}function ae(de,le,...H){return!0===le?(de(),null):!1===le?null:le(...H).pipe((0,m.q)(1)).subscribe(()=>de())}},9468:(ct,be,F)=>{"use strict";F.d(be,{R:()=>m});var w=F(4482);function m(V,se=0){return(0,w.e)((J,ce)=>{ce.add(V.schedule(()=>J.subscribe(ce),se))})}},5698:(ct,be,F)=>{"use strict";F.d(be,{q:()=>se});var w=F(515),m=F(4482),V=F(5403);function se(J){return J<=0?()=>w.E:(0,m.e)((ce,ae)=>{let de=0;ce.subscribe((0,V.x)(ae,le=>{++de<=J&&(ae.next(le),J<=de&&ae.complete())}))})}},8505:(ct,be,F)=>{"use strict";F.d(be,{b:()=>J});var w=F(576),m=F(4482),V=F(5403),se=F(4671);function J(ce,ae,de){const le=(0,w.m)(ce)||ae||de?{next:ce,error:ae,complete:de}:ce;return le?(0,m.e)((H,G)=>{var Y;null===(Y=le.subscribe)||void 0===Y||Y.call(le);let qe=!0;H.subscribe((0,V.x)(G,he=>{var _e;null===(_e=le.next)||void 0===_e||_e.call(le,he),G.next(he)},()=>{var he;qe=!1,null===(he=le.complete)||void 0===he||he.call(le),G.complete()},he=>{var _e;qe=!1,null===(_e=le.error)||void 0===_e||_e.call(le,he),G.error(he)},()=>{var he,_e;qe&&(null===(he=le.unsubscribe)||void 0===he||he.call(le)),null===(_e=le.finalize)||void 0===_e||_e.call(le)}))}):se.y}},4408:(ct,be,F)=>{"use strict";F.d(be,{o:()=>J});var w=F(727);class m extends w.w0{constructor(ae,de){super()}schedule(ae,de=0){return this}}const V={setInterval(ce,ae,...de){const{delegate:le}=V;return(null==le?void 0:le.setInterval)?le.setInterval(ce,ae,...de):setInterval(ce,ae,...de)},clearInterval(ce){const{delegate:ae}=V;return((null==ae?void 0:ae.clearInterval)||clearInterval)(ce)},delegate:void 0};var se=F(8737);class J extends m{constructor(ae,de){super(ae,de),this.scheduler=ae,this.work=de,this.pending=!1}schedule(ae,de=0){if(this.closed)return this;this.state=ae;const le=this.id,H=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(H,le,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(H,this.id,de),this}requestAsyncId(ae,de,le=0){return V.setInterval(ae.flush.bind(ae,this),le)}recycleAsyncId(ae,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;V.clearInterval(de)}execute(ae,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ae,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,de){let H,le=!1;try{this.work(ae)}catch(G){le=!0,H=G||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(le,this),null!=ae&&(this.id=this.recycleAsyncId(de,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,be,F)=>{"use strict";F.d(be,{v:()=>V});var w=F(6063);class m{constructor(J,ce=m.now){this.schedulerActionCtor=J,this.now=ce}schedule(J,ce=0,ae){return new this.schedulerActionCtor(this,J).schedule(ae,ce)}}m.now=w.l.now;class V extends m{constructor(J,ce=m.now){super(J,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:ce}=this;if(this._active)return void ce.push(J);let ae;this._active=!0;do{if(ae=J.execute(J.state,J.delay))break}while(J=ce.shift());if(this._active=!1,ae){for(;J=ce.shift();)J.unsubscribe();throw ae}}}},4986:(ct,be,F)=>{"use strict";F.d(be,{z:()=>V});var w=F(4408);const V=new(F(7565).v)(w.o)},6063:(ct,be,F)=>{"use strict";F.d(be,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(ct,be,F)=>{"use strict";F.d(be,{z:()=>w});const w={setTimeout(m,V,...se){const{delegate:J}=w;return(null==J?void 0:J.setTimeout)?J.setTimeout(m,V,...se):setTimeout(m,V,...se)},clearTimeout(m){const{delegate:V}=w;return((null==V?void 0:V.clearTimeout)||clearTimeout)(m)},delegate:void 0}},2202:(ct,be,F)=>{"use strict";F.d(be,{h:()=>m});const m=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,be,F)=>{"use strict";F.d(be,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,be,F)=>{"use strict";F.d(be,{_6:()=>ce,jO:()=>se,yG:()=>J});var w=F(576);function V(ae){return ae[ae.length-1]}function se(ae){return(0,w.m)(V(ae))?ae.pop():void 0}function J(ae){return function m(ae){return ae&&(0,w.m)(ae.schedule)}(V(ae))?ae.pop():void 0}function ce(ae,de){return"number"==typeof V(ae)?ae.pop():de}},8737:(ct,be,F)=>{"use strict";function w(m,V){if(m){const se=m.indexOf(V);0<=se&&m.splice(se,1)}}F.d(be,{P:()=>w})},3888:(ct,be,F)=>{"use strict";function w(m){const se=m(J=>{Error.call(J),J.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}F.d(be,{d:()=>w})},2806:(ct,be,F)=>{"use strict";F.d(be,{x:()=>V,O:()=>se});var w=F(2416);let m=null;function V(J){if(w.v.useDeprecatedSynchronousErrorHandling){const ce=!m;if(ce&&(m={errorThrown:!1,error:null}),J(),ce){const{errorThrown:ae,error:de}=m;if(m=null,ae)throw de}}else J()}function se(J){w.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=J)}},9672:(ct,be,F)=>{"use strict";function w(m,V,se,J=0,ce=!1){const ae=V.schedule(function(){se(),ce?m.add(this.schedule(null,J)):this.unsubscribe()},J);if(m.add(ae),!ce)return ae}F.d(be,{f:()=>w})},4671:(ct,be,F)=>{"use strict";function w(m){return m}F.d(be,{y:()=>w})},1144:(ct,be,F)=>{"use strict";F.d(be,{z:()=>w});const w=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(ct,be,F)=>{"use strict";F.d(be,{D:()=>m});var w=F(576);function m(V){return Symbol.asyncIterator&&(0,w.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(ct,be,F)=>{"use strict";function w(m){return"function"==typeof m}F.d(be,{m:()=>w})},3670:(ct,be,F)=>{"use strict";F.d(be,{c:()=>V});var w=F(8822),m=F(576);function V(se){return(0,m.m)(se[w.L])}},6495:(ct,be,F)=>{"use strict";F.d(be,{T:()=>V});var w=F(2202),m=F(576);function V(se){return(0,m.m)(null==se?void 0:se[w.h])}},8239:(ct,be,F)=>{"use strict";F.d(be,{t:()=>m});var w=F(576);function m(V){return(0,w.m)(null==V?void 0:V.then)}},3260:(ct,be,F)=>{"use strict";F.d(be,{Q:()=>V,L:()=>se});var w=F(655),m=F(576);function V(J){return(0,w.FC)(this,arguments,function*(){const ae=J.getReader();try{for(;;){const{value:de,done:le}=yield(0,w.qq)(ae.read());if(le)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(de)}}finally{ae.releaseLock()}})}function se(J){return(0,m.m)(null==J?void 0:J.getReader)}},4482:(ct,be,F)=>{"use strict";F.d(be,{A:()=>m,e:()=>V});var w=F(576);function m(se){return(0,w.m)(null==se?void 0:se.lift)}function V(se){return J=>{if(m(J))return J.lift(function(ce){try{return se(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ct,be,F)=>{"use strict";F.d(be,{h:()=>V});var w=F(2416),m=F(3410);function V(se){m.z.setTimeout(()=>{const{onUnhandledError:J}=w.v;if(!J)throw se;J(se)})}},4532:(ct,be,F)=>{"use strict";function w(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>w})},655:(ct,be,F)=>{"use strict";function se(X,ue){var we={};for(var fe in X)Object.prototype.hasOwnProperty.call(X,fe)&&ue.indexOf(fe)<0&&(we[fe]=X[fe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(fe=Object.getOwnPropertySymbols(X);Le<fe.length;Le++)ue.indexOf(fe[Le])<0&&Object.prototype.propertyIsEnumerable.call(X,fe[Le])&&(we[fe[Le]]=X[fe[Le]])}return we}function de(X,ue,we,fe){return new(we||(we=Promise))(function(pe,ot){function Yt(Et){try{ft(fe.next(Et))}catch(on){ot(on)}}function xn(Et){try{ft(fe.throw(Et))}catch(on){ot(on)}}function ft(Et){Et.done?pe(Et.value):function Le(pe){return pe instanceof we?pe:new we(function(ot){ot(pe)})}(Et.value).then(Yt,xn)}ft((fe=fe.apply(X,ue||[])).next())})}function re(X){return this instanceof re?(this.v=X,this):new re(X)}function Ie(X,ue,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,fe=we.apply(X,ue||[]),pe=[];return Le={},ot("next"),ot("throw"),ot("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function ot(ln){fe[ln]&&(Le[ln]=function(di){return new Promise(function(Xt,yi){pe.push([ln,di,Xt,yi])>1||Yt(ln,di)})})}function Yt(ln,di){try{!function xn(ln){ln.value instanceof re?Promise.resolve(ln.value.v).then(ft,Et):on(pe[0][2],ln)}(fe[ln](di))}catch(Xt){on(pe[0][3],Xt)}}function ft(ln){Yt("next",ln)}function Et(ln){Yt("throw",ln)}function on(ln,di){ln(di),pe.shift(),pe.length&&Yt(pe[0][0],pe[0][1])}}function Ge(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ue=X[Symbol.asyncIterator];return ue?ue.call(X):(X=function Y(X){var ue="function"==typeof Symbol&&Symbol.iterator,we=ue&&X[ue],fe=0;if(we)return we.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&fe>=X.length&&(X=void 0),{value:X&&X[fe++],done:!X}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),we={},fe("next"),fe("throw"),fe("return"),we[Symbol.asyncIterator]=function(){return this},we);function fe(pe){we[pe]=X[pe]&&function(ot){return new Promise(function(Yt,xn){!function Le(pe,ot,Yt,xn){Promise.resolve(xn).then(function(ft){pe({value:ft,done:Yt})},ot)}(Yt,xn,(ot=X[pe](ot)).done,ot.value)})}}}F.d(be,{_T:()=>se,mG:()=>de,qq:()=>re,FC:()=>Ie,KL:()=>Ge})},9808:(ct,be,F)=>{"use strict";F.r(be),F.d(be,{APP_BASE_HREF:()=>We,AsyncPipe:()=>aa,CommonModule:()=>Po,CurrencyPipe:()=>wi,DATE_PIPE_DEFAULT_TIMEZONE:()=>Bu,DOCUMENT:()=>ae,DatePipe:()=>$u,DecimalPipe:()=>Ii,FormStyle:()=>we,FormatWidth:()=>Le,HashLocationStrategy:()=>Me,I18nPluralPipe:()=>jr,I18nSelectPipe:()=>Br,JsonPipe:()=>to,KeyValuePipe:()=>ec,LOCATION_INITIALIZED:()=>H,Location:()=>Ae,LocationStrategy:()=>re,LowerCasePipe:()=>No,NgClass:()=>ts,NgComponentOutlet:()=>Nn,NgForOf:()=>vr,NgForOfContext:()=>yr,NgIf:()=>Jr,NgIfContext:()=>nn,NgLocaleLocalization:()=>es,NgLocalization:()=>an,NgPlural:()=>Xs,NgPluralCase:()=>Sr,NgStyle:()=>za,NgSwitch:()=>Xr,NgSwitchCase:()=>Ur,NgSwitchDefault:()=>ia,NgTemplateOutlet:()=>sa,NumberFormatStyle:()=>X,NumberSymbol:()=>pe,PathLocationStrategy:()=>Ge,PercentPipe:()=>_r,PlatformLocation:()=>de,Plural:()=>ue,SlicePipe:()=>Ya,TitleCasePipe:()=>Za,TranslationWidth:()=>fe,UpperCasePipe:()=>eo,VERSION:()=>Ja,ViewportScroller:()=>Vs,WeekDay:()=>ot,XhrFactory:()=>yn,formatCurrency:()=>Vr,formatDate:()=>Xn,formatNumber:()=>kt,formatPercent:()=>Ue,getCurrencySymbol:()=>Zr,getLocaleCurrencyCode:()=>Dr,getLocaleCurrencyName:()=>Zi,getLocaleCurrencySymbol:()=>zr,getLocaleDateFormat:()=>Xt,getLocaleDateTimeFormat:()=>en,getLocaleDayNames:()=>ft,getLocaleDayPeriods:()=>xn,getLocaleDirection:()=>Kr,getLocaleEraNames:()=>on,getLocaleExtraDayPeriodRules:()=>Yi,getLocaleExtraDayPeriods:()=>mt,getLocaleFirstDayOfWeek:()=>ln,getLocaleId:()=>Yt,getLocaleMonthNames:()=>Et,getLocaleNumberFormat:()=>or,getLocaleNumberSymbol:()=>jt,getLocalePluralCase:()=>gr,getLocaleTimeFormat:()=>yi,getLocaleWeekEndRange:()=>di,getNumberOfCurrencyDigits:()=>En,isPlatformBrowser:()=>$r,isPlatformServer:()=>Er,isPlatformWorkerApp:()=>Hu,isPlatformWorkerUi:()=>ko,registerLocaleData:()=>Mt,\u0275BrowserPlatformLocation:()=>G,\u0275DomAdapter:()=>ce,\u0275NullViewportScroller:()=>ca,\u0275PLATFORM_BROWSER_ID:()=>Ls,\u0275PLATFORM_SERVER_ID:()=>hi,\u0275PLATFORM_WORKER_APP_ID:()=>ua,\u0275PLATFORM_WORKER_UI_ID:()=>la,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>Yr,\u0275setRootDomAdapter:()=>J});var w=F(5e3);let m=null;function V(){return m}function J(T){m||(m=T)}class ce{}const ae=new w.InjectionToken("DocumentToken");let de=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function le(){return(0,w.\u0275\u0275inject)(G)}()},providedIn:"platform"}),T})();const H=new w.InjectionToken("Location Initialized");let G=(()=>{class T extends de{constructor(b){super(),this._doc=b,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",b,!1),()=>P.removeEventListener("popstate",b)}onHashChange(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",b,!1),()=>P.removeEventListener("hashchange",b)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(b){this.location.pathname=b}pushState(b,P,z){Y()?this._history.pushState(b,P,z):this.location.hash=z}replaceState(b,P,z){Y()?this._history.replaceState(b,P,z):this.location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(ae))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function qe(){return new G((0,w.\u0275\u0275inject)(ae))}()},providedIn:"platform"}),T})();function Y(){return!!window.history.pushState}function he(T,N){if(0==T.length)return N;if(0==N.length)return T;let b=0;return T.endsWith("/")&&b++,N.startsWith("/")&&b++,2==b?T+N.substring(1):1==b?T+N:T+"/"+N}function _e(T){const N=T.match(/#|\?|$/),b=N&&N.index||T.length;return T.slice(0,b-("/"===T[b-1]?1:0))+T.slice(b)}function xe(T){return T&&"?"!==T[0]?"?"+T:T}let re=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function Ie(T){const N=(0,w.\u0275\u0275inject)(ae).location;return new Ge((0,w.\u0275\u0275inject)(de),N&&N.origin||"")}()},providedIn:"root"}),T})();const We=new w.InjectionToken("appBaseHref");let Ge=(()=>{class T extends re{constructor(b,P){if(super(),this._platformLocation=b,this._removeListenerFns=[],null==P&&(P=this._platformLocation.getBaseHrefFromDOM()),null==P)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=P}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return he(this._baseHref,b)}path(b=!1){const P=this._platformLocation.pathname+xe(this._platformLocation.search),z=this._platformLocation.hash;return z&&b?`${P}${z}`:P}pushState(b,P,z,ye){const Ne=this.prepareExternalUrl(z+xe(ye));this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,z,ye){const Ne=this.prepareExternalUrl(z+xe(ye));this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformLocation).historyGo)||void 0===z||z.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(de),w.\u0275\u0275inject(We,8))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Me=(()=>{class T extends re{constructor(b,P){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(b){const P=he(this._baseHref,b);return P.length>0?"#"+P:P}pushState(b,P,z,ye){let Ne=this.prepareExternalUrl(z+xe(ye));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,z,ye){let Ne=this.prepareExternalUrl(z+xe(ye));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformLocation).historyGo)||void 0===z||z.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(de),w.\u0275\u0275inject(We,8))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Ae=(()=>{class T{constructor(b,P){this._subject=new w.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=b;const z=this._platformStrategy.getBaseHref();this._platformLocation=P,this._baseHref=_e(Ye(z)),this._platformStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}path(b=!1){return this.normalize(this._platformStrategy.path(b))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(b,P=""){return this.path()==this.normalize(b+xe(P))}normalize(b){return T.stripTrailingSlash(function Je(T,N){return T&&N.startsWith(T)?N.substring(T.length):N}(this._baseHref,Ye(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._platformStrategy.prepareExternalUrl(b)}go(b,P="",z=null){this._platformStrategy.pushState(z,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),z)}replaceState(b,P="",z=null){this._platformStrategy.replaceState(z,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformStrategy).historyGo)||void 0===z||z.call(P,b)}onUrlChange(b){this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}))}_notifyUrlChangeListeners(b="",P){this._urlChangeListeners.forEach(z=>z(b,P))}subscribe(b,P,z){return this._subject.subscribe({next:b,error:P,complete:z})}}return T.normalizeQueryParams=xe,T.joinWithSlash=he,T.stripTrailingSlash=_e,T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(re),w.\u0275\u0275inject(de))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function Se(){return new Ae((0,w.\u0275\u0275inject)(re),(0,w.\u0275\u0275inject)(de))}()},providedIn:"root"}),T})();function Ye(T){return T.replace(/\/index.html$/,"")}const oe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),we=(()=>((we=we||{})[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),Le=(()=>((Le=Le||{})[Le.Short=0]="Short",Le[Le.Medium=1]="Medium",Le[Le.Long=2]="Long",Le[Le.Full=3]="Full",Le))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))(),ot=(()=>((ot=ot||{})[ot.Sunday=0]="Sunday",ot[ot.Monday=1]="Monday",ot[ot.Tuesday=2]="Tuesday",ot[ot.Wednesday=3]="Wednesday",ot[ot.Thursday=4]="Thursday",ot[ot.Friday=5]="Friday",ot[ot.Saturday=6]="Saturday",ot))();function Yt(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.LocaleId]}function xn(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ye=mr([P[w.\u0275LocaleDataIndex.DayPeriodsFormat],P[w.\u0275LocaleDataIndex.DayPeriodsStandalone]],N);return mr(ye,b)}function ft(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ye=mr([P[w.\u0275LocaleDataIndex.DaysFormat],P[w.\u0275LocaleDataIndex.DaysStandalone]],N);return mr(ye,b)}function Et(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ye=mr([P[w.\u0275LocaleDataIndex.MonthsFormat],P[w.\u0275LocaleDataIndex.MonthsStandalone]],N);return mr(ye,b)}function on(T,N){return mr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Eras],N)}function ln(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.FirstDayOfWeek]}function di(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.WeekendRange]}function Xt(T,N){return mr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.DateFormat],N)}function yi(T,N){return mr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.TimeFormat],N)}function en(T,N){return mr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.DateTimeFormat],N)}function jt(T,N){const b=(0,w.\u0275findLocaleData)(T),P=b[w.\u0275LocaleDataIndex.NumberSymbols][N];if(void 0===P){if(N===pe.CurrencyDecimal)return b[w.\u0275LocaleDataIndex.NumberSymbols][pe.Decimal];if(N===pe.CurrencyGroup)return b[w.\u0275LocaleDataIndex.NumberSymbols][pe.Group]}return P}function or(T,N){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.NumberFormats][N]}function zr(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.CurrencySymbol]||null}function Zi(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.CurrencyName]||null}function Dr(T){return(0,w.\u0275getLocaleCurrencyCode)(T)}const gr=w.\u0275getLocalePluralCase;function Qi(T){if(!T[w.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[w.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yi(T){const N=(0,w.\u0275findLocaleData)(T);return Qi(N),(N[w.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Yn(P):[Yn(P[0]),Yn(P[1])])}function mt(T,N,b){const P=(0,w.\u0275findLocaleData)(T);Qi(P);const ye=mr([P[w.\u0275LocaleDataIndex.ExtraData][0],P[w.\u0275LocaleDataIndex.ExtraData][1]],N)||[];return mr(ye,b)||[]}function Kr(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Directionality]}function mr(T,N){for(let b=N;b>-1;b--)if(void 0!==T[b])return T[b];throw new Error("Locale data API: locale data undefined")}function Yn(T){const[N,b]=T.split(":");return{hours:+N,minutes:+b}}function Zr(T,N,b="en"){const P=function vi(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Currencies]}(b)[T]||oe[T]||[],z=P[1];return"narrow"===N&&"string"==typeof z?z:P[0]||T}function En(T){let N;const b=oe[T];return b&&(N=b[2]),"number"==typeof N?N:2}const Jn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,In={},Qr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),dt=(()=>((dt=dt||{})[dt.FullYear=0]="FullYear",dt[dt.Month=1]="Month",dt[dt.Date=2]="Date",dt[dt.Hours=3]="Hours",dt[dt.Minutes=4]="Minutes",dt[dt.Seconds=5]="Seconds",dt[dt.FractionalSeconds=6]="FractionalSeconds",dt[dt.Day=7]="Day",dt))(),wt=(()=>((wt=wt||{})[wt.DayPeriods=0]="DayPeriods",wt[wt.Days=1]="Days",wt[wt.Months=2]="Months",wt[wt.Eras=3]="Eras",wt))();function Xn(T,N,b,P){let z=function Ot(T){if(Kt(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[z,ye=1,Ne=1]=T.split("-").map(Ke=>+Ke);return Ji(z,ye-1,Ne)}const b=parseFloat(T);if(!isNaN(T-b))return new Date(b);let P;if(P=T.match(Jn))return function Ar(T){const N=new Date(0);let b=0,P=0;const z=T[8]?N.setUTCFullYear:N.setFullYear,ye=T[8]?N.setUTCHours:N.setHours;T[9]&&(b=Number(T[9]+T[10]),P=Number(T[9]+T[11])),z.call(N,Number(T[1]),Number(T[2])-1,Number(T[3]));const Ne=Number(T[4]||0)-b,Ke=Number(T[5]||0)-P,cn=Number(T[6]||0),Qt=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return ye.call(N,Ne,Ke,cn,Qt),N}(P)}const N=new Date(T);if(!Kt(N))throw new Error(`Unable to convert "${T}" into a date`);return N}(T);N=zt(b,N)||N;let Ke,Ne=[];for(;N;){if(Ke=Qr.exec(N),!Ke){Ne.push(N);break}{Ne=Ne.concat(Ke.slice(1));const Ut=Ne.pop();if(!Ut)break;N=Ut}}let cn=z.getTimezoneOffset();P&&(cn=ne(P,cn),z=function tt(T,N,b){const P=b?-1:1,z=T.getTimezoneOffset();return function ze(T,N){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+N),T}(T,P*(ne(N,z)-z))}(z,P,!0));let Qt="";return Ne.forEach(Ut=>{const Ft=function Ee(T){if(K[T])return K[T];let N;switch(T){case"G":case"GG":case"GGG":N=Lt(wt.Eras,fe.Abbreviated);break;case"GGGG":N=Lt(wt.Eras,fe.Wide);break;case"GGGGG":N=Lt(wt.Eras,fe.Narrow);break;case"y":N=yt(dt.FullYear,1,0,!1,!0);break;case"yy":N=yt(dt.FullYear,2,0,!0,!0);break;case"yyy":N=yt(dt.FullYear,3,0,!1,!0);break;case"yyyy":N=yt(dt.FullYear,4,0,!1,!0);break;case"Y":N=$(1);break;case"YY":N=$(2,!0);break;case"YYY":N=$(3);break;case"YYYY":N=$(4);break;case"M":case"L":N=yt(dt.Month,1,1);break;case"MM":case"LL":N=yt(dt.Month,2,1);break;case"MMM":N=Lt(wt.Months,fe.Abbreviated);break;case"MMMM":N=Lt(wt.Months,fe.Wide);break;case"MMMMM":N=Lt(wt.Months,fe.Narrow);break;case"LLL":N=Lt(wt.Months,fe.Abbreviated,we.Standalone);break;case"LLLL":N=Lt(wt.Months,fe.Wide,we.Standalone);break;case"LLLLL":N=Lt(wt.Months,fe.Narrow,we.Standalone);break;case"w":N=W(1);break;case"ww":N=W(2);break;case"W":N=W(1,!0);break;case"d":N=yt(dt.Date,1);break;case"dd":N=yt(dt.Date,2);break;case"c":case"cc":N=yt(dt.Day,1);break;case"ccc":N=Lt(wt.Days,fe.Abbreviated,we.Standalone);break;case"cccc":N=Lt(wt.Days,fe.Wide,we.Standalone);break;case"ccccc":N=Lt(wt.Days,fe.Narrow,we.Standalone);break;case"cccccc":N=Lt(wt.Days,fe.Short,we.Standalone);break;case"E":case"EE":case"EEE":N=Lt(wt.Days,fe.Abbreviated);break;case"EEEE":N=Lt(wt.Days,fe.Wide);break;case"EEEEE":N=Lt(wt.Days,fe.Narrow);break;case"EEEEEE":N=Lt(wt.Days,fe.Short);break;case"a":case"aa":case"aaa":N=Lt(wt.DayPeriods,fe.Abbreviated);break;case"aaaa":N=Lt(wt.DayPeriods,fe.Wide);break;case"aaaaa":N=Lt(wt.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":N=Lt(wt.DayPeriods,fe.Abbreviated,we.Standalone,!0);break;case"bbbb":N=Lt(wt.DayPeriods,fe.Wide,we.Standalone,!0);break;case"bbbbb":N=Lt(wt.DayPeriods,fe.Narrow,we.Standalone,!0);break;case"B":case"BB":case"BBB":N=Lt(wt.DayPeriods,fe.Abbreviated,we.Format,!0);break;case"BBBB":N=Lt(wt.DayPeriods,fe.Wide,we.Format,!0);break;case"BBBBB":N=Lt(wt.DayPeriods,fe.Narrow,we.Format,!0);break;case"h":N=yt(dt.Hours,1,-12);break;case"hh":N=yt(dt.Hours,2,-12);break;case"H":N=yt(dt.Hours,1);break;case"HH":N=yt(dt.Hours,2);break;case"m":N=yt(dt.Minutes,1);break;case"mm":N=yt(dt.Minutes,2);break;case"s":N=yt(dt.Seconds,1);break;case"ss":N=yt(dt.Seconds,2);break;case"S":N=yt(dt.FractionalSeconds,1);break;case"SS":N=yt(dt.FractionalSeconds,2);break;case"SSS":N=yt(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":N=Oe(Wt.Short);break;case"ZZZZZ":N=Oe(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":N=Oe(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":N=Oe(Wt.Long);break;default:return null}return K[T]=N,N}(Ut);Qt+=Ft?Ft(z,b,cn):"''"===Ut?"'":Ut.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qt}function Ji(T,N,b){const P=new Date(0);return P.setFullYear(T,N,b),P.setHours(0,0,0),P}function zt(T,N){const b=Yt(T);if(In[b]=In[b]||{},In[b][N])return In[b][N];let P="";switch(N){case"shortDate":P=Xt(T,Le.Short);break;case"mediumDate":P=Xt(T,Le.Medium);break;case"longDate":P=Xt(T,Le.Long);break;case"fullDate":P=Xt(T,Le.Full);break;case"shortTime":P=yi(T,Le.Short);break;case"mediumTime":P=yi(T,Le.Medium);break;case"longTime":P=yi(T,Le.Long);break;case"fullTime":P=yi(T,Le.Full);break;case"short":const z=zt(T,"shortTime"),ye=zt(T,"shortDate");P=Js(en(T,Le.Short),[z,ye]);break;case"medium":const Ne=zt(T,"mediumTime"),Ke=zt(T,"mediumDate");P=Js(en(T,Le.Medium),[Ne,Ke]);break;case"long":const cn=zt(T,"longTime"),Qt=zt(T,"longDate");P=Js(en(T,Le.Long),[cn,Qt]);break;case"full":const Ut=zt(T,"fullTime"),Ft=zt(T,"fullDate");P=Js(en(T,Le.Full),[Ut,Ft])}return P&&(In[b][N]=P),P}function Js(T,N){return N&&(T=T.replace(/\{([^}]+)}/g,function(b,P){return null!=N&&P in N?N[P]:b})),T}function Cr(T,N,b="-",P,z){let ye="";(T<0||z&&T<=0)&&(z?T=1-T:(T=-T,ye=b));let Ne=String(T);for(;Ne.length<N;)Ne="0"+Ne;return P&&(Ne=Ne.substr(Ne.length-N)),ye+Ne}function yt(T,N,b=0,P=!1,z=!1){return function(ye,Ne){let Ke=function Tr(T,N){switch(T){case dt.FullYear:return N.getFullYear();case dt.Month:return N.getMonth();case dt.Date:return N.getDate();case dt.Hours:return N.getHours();case dt.Minutes:return N.getMinutes();case dt.Seconds:return N.getSeconds();case dt.FractionalSeconds:return N.getMilliseconds();case dt.Day:return N.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,ye);if((b>0||Ke>-b)&&(Ke+=b),T===dt.Hours)0===Ke&&-12===b&&(Ke=12);else if(T===dt.FractionalSeconds)return function br(T,N){return Cr(T,3).substr(0,N)}(Ke,N);const cn=jt(Ne,pe.MinusSign);return Cr(Ke,N,cn,P,z)}}function Lt(T,N,b=we.Format,P=!1){return function(z,ye){return function rt(T,N,b,P,z,ye){switch(b){case wt.Months:return Et(N,z,P)[T.getMonth()];case wt.Days:return ft(N,z,P)[T.getDay()];case wt.DayPeriods:const Ne=T.getHours(),Ke=T.getMinutes();if(ye){const Qt=Yi(N),Ut=mt(N,z,P),Ft=Qt.findIndex(On=>{if(Array.isArray(On)){const[_n,dn]=On,Ui=Ne>=_n.hours&&Ke>=_n.minutes,pi=Ne<dn.hours||Ne===dn.hours&&Ke<dn.minutes;if(_n.hours<dn.hours){if(Ui&&pi)return!0}else if(Ui||pi)return!0}else if(On.hours===Ne&&On.minutes===Ke)return!0;return!1});if(-1!==Ft)return Ut[Ft]}return xn(N,z,P)[Ne<12?0:1];case wt.Eras:return on(N,P)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(z,ye,T,N,b,P)}}function Oe(T){return function(N,b,P){const z=-1*P,ye=jt(b,pe.MinusSign),Ne=z>0?Math.floor(z/60):Math.ceil(z/60);switch(T){case Wt.Short:return(z>=0?"+":"")+Cr(Ne,2,ye)+Cr(Math.abs(z%60),2,ye);case Wt.ShortGMT:return"GMT"+(z>=0?"+":"")+Cr(Ne,1,ye);case Wt.Long:return"GMT"+(z>=0?"+":"")+Cr(Ne,2,ye)+":"+Cr(Math.abs(z%60),2,ye);case Wt.Extended:return 0===P?"Z":(z>=0?"+":"")+Cr(Ne,2,ye)+":"+Cr(Math.abs(z%60),2,ye);default:throw new Error(`Unknown zone width "${T}"`)}}}function Vt(T){return Ji(T.getFullYear(),T.getMonth(),T.getDate()+(4-T.getDay()))}function W(T,N=!1){return function(b,P){let z;if(N){const ye=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,Ne=b.getDate();z=1+Math.floor((Ne+ye)/7)}else{const ye=Vt(b),Ne=function Gt(T){const N=Ji(T,0,1).getDay();return Ji(T,0,1+(N<=4?4:11)-N)}(ye.getFullYear()),Ke=ye.getTime()-Ne.getTime();z=1+Math.round(Ke/6048e5)}return Cr(z,T,jt(P,pe.MinusSign))}}function $(T,N=!1){return function(b,P){return Cr(Vt(b).getFullYear(),T,jt(P,pe.MinusSign),N)}}const K={};function ne(T,N){T=T.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(b)?N:b}function Kt(T){return T instanceof Date&&!isNaN(T.valueOf())}const Rn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Mo(T,N,b,P,z,ye,Ne=!1){let Ke="",cn=!1;if(isFinite(T)){let Qt=function ur(T){let P,z,ye,Ne,Ke,N=Math.abs(T)+"",b=0;for((z=N.indexOf("."))>-1&&(N=N.replace(".","")),(ye=N.search(/e/i))>0?(z<0&&(z=ye),z+=+N.slice(ye+1),N=N.substring(0,ye)):z<0&&(z=N.length),ye=0;"0"===N.charAt(ye);ye++);if(ye===(Ke=N.length))P=[0],z=1;else{for(Ke--;"0"===N.charAt(Ke);)Ke--;for(z-=ye,P=[],Ne=0;ye<=Ke;ye++,Ne++)P[Ne]=Number(N.charAt(ye))}return z>22&&(P=P.splice(0,21),b=z-1,z=1),{digits:P,exponent:b,integerLen:z}}(T);Ne&&(Qt=function An(T){if(0===T.digits[0])return T;const N=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===N?T.digits.push(0,0):1===N&&T.digits.push(0),T.integerLen+=2),T}(Qt));let Ut=N.minInt,Ft=N.minFrac,On=N.maxFrac;if(ye){const Di=ye.match(Rn);if(null===Di)throw new Error(`${ye} is not a valid digit info`);const Is=Di[1],ji=Di[3],rs=Di[5];null!=Is&&(Ut=_i(Is)),null!=ji&&(Ft=_i(ji)),null!=rs?On=_i(rs):null!=ji&&Ft>On&&(On=Ft)}!function $n(T,N,b){if(N>b)throw new Error(`The minimum number of digits after fraction (${N}) is higher than the maximum (${b}).`);let P=T.digits,z=P.length-T.integerLen;const ye=Math.min(Math.max(N,z),b);let Ne=ye+T.integerLen,Ke=P[Ne];if(Ne>0){P.splice(Math.max(T.integerLen,Ne));for(let Ft=Ne;Ft<P.length;Ft++)P[Ft]=0}else{z=Math.max(0,z),T.integerLen=1,P.length=Math.max(1,Ne=ye+1),P[0]=0;for(let Ft=1;Ft<Ne;Ft++)P[Ft]=0}if(Ke>=5)if(Ne-1<0){for(let Ft=0;Ft>Ne;Ft--)P.unshift(0),T.integerLen++;P.unshift(1),T.integerLen++}else P[Ne-1]++;for(;z<Math.max(0,ye);z++)P.push(0);let cn=0!==ye;const Qt=N+T.integerLen,Ut=P.reduceRight(function(Ft,On,_n,dn){return dn[_n]=(On+=Ft)<10?On:On-10,cn&&(0===dn[_n]&&_n>=Qt?dn.pop():cn=!1),On>=10?1:0},0);Ut&&(P.unshift(Ut),T.integerLen++)}(Qt,Ft,On);let _n=Qt.digits,dn=Qt.integerLen;const Ui=Qt.exponent;let pi=[];for(cn=_n.every(Di=>!Di);dn<Ut;dn++)_n.unshift(0);for(;dn<0;dn++)_n.unshift(0);dn>0?pi=_n.splice(dn,_n.length):(pi=_n,_n=[0]);const pt=[];for(_n.length>=N.lgSize&&pt.unshift(_n.splice(-N.lgSize,_n.length).join(""));_n.length>N.gSize;)pt.unshift(_n.splice(-N.gSize,_n.length).join(""));_n.length&&pt.unshift(_n.join("")),Ke=pt.join(jt(b,P)),pi.length&&(Ke+=jt(b,z)+pi.join("")),Ui&&(Ke+=jt(b,pe.Exponential)+"+"+Ui)}else Ke=jt(b,pe.Infinity);return Ke=T<0&&!cn?N.negPre+Ke+N.negSuf:N.posPre+Ke+N.posSuf,Ke}function Vr(T,N,b,P,z){const Ne=mn(or(N,X.Currency),jt(N,pe.MinusSign));return Ne.minFrac=En(P),Ne.maxFrac=Ne.minFrac,Mo(T,Ne,N,pe.CurrencyGroup,pe.CurrencyDecimal,z).replace("\xa4",b).replace("\xa4","").trim()}function Ue(T,N,b){return Mo(T,mn(or(N,X.Percent),jt(N,pe.MinusSign)),N,pe.Group,pe.Decimal,b,!0).replace(new RegExp("%","g"),jt(N,pe.PercentSign))}function kt(T,N,b){return Mo(T,mn(or(N,X.Decimal),jt(N,pe.MinusSign)),N,pe.Group,pe.Decimal,b)}function mn(T,N="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=T.split(";"),z=P[0],ye=P[1],Ne=-1!==z.indexOf(".")?z.split("."):[z.substring(0,z.lastIndexOf("0")+1),z.substring(z.lastIndexOf("0")+1)],Ke=Ne[0],cn=Ne[1]||"";b.posPre=Ke.substr(0,Ke.indexOf("#"));for(let Ut=0;Ut<cn.length;Ut++){const Ft=cn.charAt(Ut);"0"===Ft?b.minFrac=b.maxFrac=Ut+1:"#"===Ft?b.maxFrac=Ut+1:b.posSuf+=Ft}const Qt=Ke.split(",");if(b.gSize=Qt[1]?Qt[1].length:0,b.lgSize=Qt[2]||Qt[1]?(Qt[2]||Qt[1]).length:0,ye){const Ut=z.length-b.posPre.length-b.posSuf.length,Ft=ye.indexOf("#");b.negPre=ye.substr(0,Ft).replace(/'/g,""),b.negSuf=ye.substr(Ft+Ut).replace(/'/g,"")}else b.negPre=N+b.posPre,b.negSuf=b.posSuf;return b}function _i(T){const N=parseInt(T);if(isNaN(N))throw new Error("Invalid integer literal when parsing "+T);return N}let an=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(b){let P=null;return b?P=new b:(z=w.\u0275\u0275inject(w.LOCALE_ID),P=new es(z)),P;var z},providedIn:"root"}),T})();function Vn(T,N,b,P){let z=`=${T}`;if(N.indexOf(z)>-1||(z=b.getPluralCategory(T,P),N.indexOf(z)>-1))return z;if(N.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${T}"`)}let es=(()=>{class T extends an{constructor(b){super(),this.locale=b}getPluralCategory(b,P){switch(gr(P||this.locale)(b)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(w.LOCALE_ID))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();function Mt(T,N,b){return(0,w.\u0275registerLocaleData)(T,N,b)}function Yr(T,N){N=encodeURIComponent(N);for(const b of T.split(";")){const P=b.indexOf("="),[z,ye]=-1==P?[b,""]:[b.slice(0,P),b.slice(P+1)];if(z.trim()===N)return decodeURIComponent(ye)}return null}let ts=(()=>{class T{constructor(b,P,z,ye){this._iterableDiffers=b,this._keyValueDiffers=P,this._ngEl=z,this._renderer=ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,w.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,w.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),b.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!0)):Object.keys(b).forEach(P=>this._toggleClass(P,!!b[P])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!1)):Object.keys(b).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(b,P){(b=b.trim())&&b.split(/\s+/g).forEach(z=>{P?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.IterableDiffers),w.\u0275\u0275directiveInject(w.KeyValueDiffers),w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.Renderer2))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),T})(),Nn=(()=>{class T{constructor(b){this._viewContainerRef=b,this._componentRef=null,this._moduleRef=null}ngOnChanges(b){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const P=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(b.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Ne=P.get(w.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Ne.injector)}else this._moduleRef=null;const ye=(this._moduleRef?this._moduleRef.componentFactoryResolver:P.get(w.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(ye,this._viewContainerRef.length,P,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[w.\u0275\u0275NgOnChangesFeature]}),T})();class yr{constructor(N,b,P,z){this.$implicit=N,this.ngForOf=b,this.index=P,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class T{constructor(b,P,z){this._viewContainer=b,this._template=P,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const P=this._viewContainer;b.forEachOperation((z,ye,Ne)=>{if(null==z.previousIndex)P.createEmbeddedView(this._template,new yr(z.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)P.remove(null===ye?void 0:ye);else if(null!==ye){const Ke=P.get(ye);P.move(Ke,Ne),vs(Ke,z)}});for(let z=0,ye=P.length;z<ye;z++){const Ke=P.get(z).context;Ke.index=z,Ke.count=ye,Ke.ngForOf=this._ngForOf}b.forEachIdentityChange(z=>{vs(P.get(z.currentIndex),z)})}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(w.IterableDiffers))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),T})();function vs(T,N){T.context.$implicit=N.item}let Jr=(()=>{class T{constructor(b,P){this._viewContainer=b,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){xo("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){xo("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),T})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function xo(T,N){if(N&&!N.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,w.\u0275stringify)(N)}'.`)}class Ro{constructor(N,b){this._viewContainerRef=N,this._templateRef=b,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(N){N&&!this._created?this.create():!N&&this._created&&this.destroy()}}let Xr=(()=>{class T{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(b){this._ngSwitch=b,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(b){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(b)}_matchCase(b){const P=b==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(b){if(this._defaultViews&&b!==this._defaultUsed){this._defaultUsed=b;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(b)}}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),T})(),Ur=(()=>{class T{constructor(b,P,z){this.ngSwitch=z,z._addCase(),this._view=new Ro(b,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(Xr,9))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),T})(),ia=(()=>{class T{constructor(b,P,z){z._addDefault(new Ro(b,P))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(Xr,9))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchDefault",""]]}),T})(),Xs=(()=>{class T{constructor(b){this._localization=b,this._caseViews={}}set ngPlural(b){this._switchValue=b,this._updateView()}addCase(b,P){this._caseViews[b]=P}_updateView(){this._clearViews();const b=Object.keys(this._caseViews),P=Vn(this._switchValue,b,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(b){b&&(this._activeView=b,this._activeView.create())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(an))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),T})(),Sr=(()=>{class T{constructor(b,P,z,ye){this.value=b;const Ne=!isNaN(Number(b));ye.addCase(Ne?`=${b}`:b,new Ro(z,P))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275injectAttribute("ngPluralCase"),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(Xs,1))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngPluralCase",""]]}),T})(),za=(()=>{class T{constructor(b,P,z){this._ngEl=b,this._differs=P,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(b){this._ngStyle=b,!this._differ&&b&&(this._differ=this._differs.find(b).create())}ngDoCheck(){if(this._differ){const b=this._differ.diff(this._ngStyle);b&&this._applyChanges(b)}}_setStyle(b,P){const[z,ye]=b.split(".");null!=(P=null!=P&&ye?`${P}${ye}`:P)?this._renderer.setStyle(this._ngEl.nativeElement,z,P):this._renderer.removeStyle(this._ngEl.nativeElement,z)}_applyChanges(b){b.forEachRemovedItem(P=>this._setStyle(P.key,null)),b.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),b.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.KeyValueDiffers),w.\u0275\u0275directiveInject(w.Renderer2))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),T})(),sa=(()=>{class T{constructor(b){this._viewContainerRef=b,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(b){if(b.ngTemplateOutlet){const P=this._viewContainerRef;this._viewRef&&P.remove(P.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?P.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&b.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[w.\u0275\u0275NgOnChangesFeature]}),T})();function Un(T,N){return new w.\u0275RuntimeError(2100,"")}class Ka{createSubscription(N,b){return N.subscribe({next:b,error:P=>{throw P}})}dispose(N){N.unsubscribe()}onDestroy(N){N.unsubscribe()}}class Uu{createSubscription(N,b){return N.then(b,P=>{throw P})}dispose(N){}onDestroy(N){}}const Vi=new Uu,ju=new Ka;let aa=(()=>{class T{constructor(b){this._ref=b,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(b){return this._obj?b!==this._obj?(this._dispose(),this.transform(b)):this._latestValue:(b&&this._subscribe(b),this._latestValue)}_subscribe(b){this._obj=b,this._strategy=this._selectStrategy(b),this._subscription=this._strategy.createSubscription(b,P=>this._updateLatestValue(b,P))}_selectStrategy(b){if((0,w.\u0275isPromise)(b))return Vi;if((0,w.\u0275isSubscribable)(b))return ju;throw Un()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(b,P){b===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ChangeDetectorRef,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"async",type:T,pure:!1}),T})(),No=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Un();return b.toLowerCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"lowercase",type:T,pure:!0}),T})();const ns=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Za=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Un();return b.replace(ns,P=>P[0].toUpperCase()+P.substr(1).toLowerCase())}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"titlecase",type:T,pure:!0}),T})(),eo=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Un();return b.toUpperCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"uppercase",type:T,pure:!0}),T})();const Bu=new w.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let $u=(()=>{class T{constructor(b,P){this.locale=b,this.defaultTimezone=P}transform(b,P="mediumDate",z,ye){var Ne;if(null==b||""===b||b!=b)return null;try{return Xn(b,P,ye||this.locale,null!==(Ne=null!=z?z:this.defaultTimezone)&&void 0!==Ne?Ne:void 0)}catch(Ke){throw Un()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16),w.\u0275\u0275directiveInject(Bu,24))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"date",type:T,pure:!0}),T})();const Qa=/#/g;let jr=(()=>{class T{constructor(b){this._localization=b}transform(b,P,z){if(null==b)return"";if("object"!=typeof P||null===P)throw Un();return P[Vn(b,Object.keys(P),this._localization,z)].replace(Qa,b.toString())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(an,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"i18nPlural",type:T,pure:!0}),T})(),Br=(()=>{class T{transform(b,P){if(null==b)return"";if("object"!=typeof P||"string"!=typeof b)throw Un();return P.hasOwnProperty(b)?P[b]:P.hasOwnProperty("other")?P.other:""}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"i18nSelect",type:T,pure:!0}),T})(),to=(()=>{class T{transform(b){return JSON.stringify(b,null,2)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"json",type:T,pure:!1}),T})(),ec=(()=>{class T{constructor(b){this.differs=b,this.keyValues=[],this.compareFn=Oo}transform(b,P=Oo){if(!b||!(b instanceof Map)&&"object"!=typeof b)return null;this.differ||(this.differ=this.differs.find(b).create());const z=this.differ.diff(b),ye=P!==this.compareFn;return z&&(this.keyValues=[],z.forEachItem(Ne=>{this.keyValues.push(function no(T,N){return{key:T,value:N}}(Ne.key,Ne.currentValue))})),(z||ye)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.KeyValueDiffers,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"keyvalue",type:T,pure:!1}),T})();function Oo(T,N){const b=T.key,P=N.key;if(b===P)return 0;if(void 0===b)return 1;if(void 0===P)return-1;if(null===b)return 1;if(null===P)return-1;if("string"==typeof b&&"string"==typeof P)return b<P?-1:1;if("number"==typeof b&&"number"==typeof P)return b-P;if("boolean"==typeof b&&"boolean"==typeof P)return b<P?-1:1;const z=String(b),ye=String(P);return z==ye?0:z<ye?-1:1}let Ii=(()=>{class T{constructor(b){this._locale=b}transform(b,P,z){if(!ks(b))return null;z=z||this._locale;try{return kt(Fs(b),z,P)}catch(ye){throw Un()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"number",type:T,pure:!0}),T})(),_r=(()=>{class T{constructor(b){this._locale=b}transform(b,P,z){if(!ks(b))return null;z=z||this._locale;try{return Ue(Fs(b),z,P)}catch(ye){throw Un()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"percent",type:T,pure:!0}),T})(),wi=(()=>{class T{constructor(b,P="USD"){this._locale=b,this._defaultCurrencyCode=P}transform(b,P=this._defaultCurrencyCode,z="symbol",ye,Ne){if(!ks(b))return null;Ne=Ne||this._locale,"boolean"==typeof z&&(z=z?"symbol":"code");let Ke=P||this._defaultCurrencyCode;"code"!==z&&(Ke="symbol"===z||"symbol-narrow"===z?Zr(Ke,"symbol"===z?"wide":"narrow",Ne):z);try{return Vr(Fs(b),Ne,Ke,P,ye)}catch(cn){throw Un()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16),w.\u0275\u0275directiveInject(w.DEFAULT_CURRENCY_CODE,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"currency",type:T,pure:!0}),T})();function ks(T){return!(null==T||""===T||T!=T)}function Fs(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}let Ya=(()=>{class T{transform(b,P,z){if(null==b)return null;if(!this.supports(b))throw Un();return b.slice(P,z)}supports(b){return"string"==typeof b||Array.isArray(b)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"slice",type:T,pure:!1}),T})(),Po=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=w.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=w.\u0275\u0275defineInjector({}),T})();const Ls="browser",hi="server",ua="browserWorkerApp",la="browserWorkerUi";function $r(T){return T===Ls}function Er(T){return T===hi}function Hu(T){return T===ua}function ko(T){return T===la}const Ja=new w.Version("13.2.7");let Vs=(()=>{class T{}return T.\u0275prov=(0,w.\u0275\u0275defineInjectable)({token:T,providedIn:"root",factory:()=>new _s((0,w.\u0275\u0275inject)(ae),window)}),T})();class _s{constructor(N,b){this.document=N,this.window=b,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const b=function Es(T,N){const b=T.getElementById(N)||T.getElementsByName(N)[0];if(b)return b;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const P=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let z=P.currentNode;for(;z;){const ye=z.shadowRoot;if(ye){const Ne=ye.getElementById(N)||ye.querySelector(`[name="${N}"]`);if(Ne)return Ne}z=P.nextNode()}}return null}(this.document,N);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=N)}}scrollToElement(N){const b=N.getBoundingClientRect(),P=b.left+this.window.pageXOffset,z=b.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo(P-ye[0],z-ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch(N){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(N){return!1}}}function fi(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class ca{setOffset(N){}getScrollPosition(){return[0,0]}scrollToPosition(N){}scrollToAnchor(N){}setHistoryScrollRestoration(N){}}class yn{}},5e3:(ct,be,F)=>{"use strict";F.r(be),F.d(be,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Dy,APP_BOOTSTRAP_LISTENER:()=>d0,APP_ID:()=>ty,APP_INITIALIZER:()=>c0,ApplicationInitStatus:()=>fd,ApplicationModule:()=>eD,ApplicationRef:()=>_0,Attribute:()=>Bs,COMPILER_OPTIONS:()=>ry,CUSTOM_ELEMENTS_SCHEMA:()=>$d,ChangeDetectionStrategy:()=>Jn,ChangeDetectorRef:()=>$w,Compiler:()=>HC,CompilerFactory:()=>Lh,Component:()=>LC,ComponentFactory:()=>vp,ComponentFactoryResolver:()=>km,ComponentRef:()=>Om,ContentChild:()=>uu,ContentChildren:()=>$s,DEFAULT_CURRENCY_CODE:()=>Rw,DebugElement:()=>Lp,DebugEventListener:()=>ZC,DebugNode:()=>ly,DefaultIterableDiffer:()=>D0,Directive:()=>Tw,ElementRef:()=>Sh,EmbeddedViewRef:()=>E0,ErrorHandler:()=>si,EventEmitter:()=>Xo,Host:()=>du,HostBinding:()=>Aw,HostListener:()=>UC,INJECTOR:()=>Hc,Inject:()=>ds,InjectFlags:()=>mt,Injectable:()=>De,InjectionToken:()=>hn,Injector:()=>Ks,Input:()=>qb,IterableDiffers:()=>fy,KeyValueDiffers:()=>md,LOCALE_ID:()=>Oi,MissingTranslationStrategy:()=>xs,ModuleWithComponentFactories:()=>Ki,NO_ERRORS_SCHEMA:()=>Hd,NgModule:()=>jC,NgModuleFactory:()=>B_,NgModuleRef:()=>Gl,NgProbeToken:()=>m0,NgZone:()=>ea,Optional:()=>hs,Output:()=>Wb,PACKAGE_ROOT_URL:()=>xw,PLATFORM_ID:()=>Mw,PLATFORM_INITIALIZER:()=>Rp,Pipe:()=>VC,PlatformRef:()=>kp,Query:()=>Ce,QueryList:()=>Q_,ReflectiveInjector:()=>Fl,ReflectiveKey:()=>Zo,Renderer2:()=>Lm,RendererFactory2:()=>Fm,RendererStyleFlags2:()=>me,ResolvedReflectiveFactory:()=>kl,Sanitizer:()=>Vm,SecurityContext:()=>zn,Self:()=>bs,SimpleChange:()=>wi,SkipSelf:()=>kn,TRANSLATIONS:()=>Nw,TRANSLATIONS_FORMAT:()=>Np,TemplateRef:()=>Ms,Testability:()=>f0,TestabilityRegistry:()=>p0,Type:()=>Sa,VERSION:()=>Um,Version:()=>V_,ViewChild:()=>$t,ViewChildren:()=>co,ViewContainerRef:()=>Dp,ViewEncapsulation:()=>Wt,ViewRef:()=>Fp,asNativeElements:()=>QC,assertPlatform:()=>Lw,createNgModuleRef:()=>Ep,createPlatform:()=>y0,createPlatformFactory:()=>Pp,defineInjectable:()=>yi,destroyPlatform:()=>zb,enableProdMode:()=>Jb,forwardRef:()=>G,getDebugNode:()=>Zl,getModuleFactory:()=>Xb,getNgModuleById:()=>jw,getPlatform:()=>v0,inject:()=>qt,isDevMode:()=>Yb,platformCore:()=>Xw,resolveForwardRef:()=>Y,setTestabilityGetter:()=>g0,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>uy,\u0275APP_ID_RANDOM_PROVIDER:()=>$C,\u0275ChangeDetectorStatus:()=>In,\u0275ComponentFactory:()=>vp,\u0275Console:()=>Kl,\u0275DEFAULT_LOCALE_ID:()=>qa,\u0275INJECTOR_SCOPE:()=>Ff,\u0275LifecycleHooksFeature:()=>Ug,\u0275LocaleDataIndex:()=>At,\u0275NG_COMP_DEF:()=>Tr,\u0275NG_DIR_DEF:()=>Lt,\u0275NG_ELEMENT_ID:()=>vt,\u0275NG_INJ_DEF:()=>gr,\u0275NG_MOD_DEF:()=>Oe,\u0275NG_PIPE_DEF:()=>rt,\u0275NG_PROV_DEF:()=>vi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Ou,\u0275NO_CHANGE:()=>$e,\u0275NgModuleFactory:()=>Mn,\u0275NoopNgZone:()=>kw,\u0275ReflectionCapabilities:()=>Cn,\u0275Render3ComponentFactory:()=>jm,\u0275Render3ComponentRef:()=>ZI,\u0275Render3NgModuleRef:()=>H_,\u0275RuntimeError:()=>_e,\u0275ViewRef:()=>xh,\u0275_sanitizeHtml:()=>Ho,\u0275_sanitizeUrl:()=>Ts,\u0275allowSanitizationBypassAndThrow:()=>fu,\u0275bypassSanitizationTrustHtml:()=>Rd,\u0275bypassSanitizationTrustResourceUrl:()=>tg,\u0275bypassSanitizationTrustScript:()=>af,\u0275bypassSanitizationTrustStyle:()=>Ic,\u0275bypassSanitizationTrustUrl:()=>uf,\u0275clearResolutionOfComponentResourcesQueue:()=>ol,\u0275compileComponent:()=>Lu,\u0275compileDirective:()=>Vu,\u0275compileNgModule:()=>dw,\u0275compileNgModuleDefs:()=>hw,\u0275compileNgModuleFactory:()=>Fw,\u0275compilePipe:()=>Cw,\u0275createInjector:()=>Tu,\u0275defaultIterableDiffers:()=>Yw,\u0275defaultKeyValueDiffers:()=>nb,\u0275detectChanges:()=>NE,\u0275devModeEqual:()=>KE,\u0275findLocaleData:()=>l_,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>cw,\u0275getDebugNode:()=>Zl,\u0275getDebugNodeR2:()=>XC,\u0275getDirectives:()=>BE,\u0275getHostElement:()=>uv,\u0275getInjectableDef:()=>jt,\u0275getLContext:()=>ii,\u0275getLocaleCurrencyCode:()=>c_,\u0275getLocalePluralCase:()=>SI,\u0275getSanitizationBypassType:()=>of,\u0275global:()=>zt,\u0275injectChangeDetectorRef:()=>ci,\u0275isBoundToModule:()=>ay,\u0275isDefaultChangeDetectionStrategy:()=>Qr,\u0275isListLikeIterable:()=>lh,\u0275isObservable:()=>Zf,\u0275isPromise:()=>Kg,\u0275isSubscribable:()=>yh,\u0275ivyEnabled:()=>T0,\u0275makeDecorator:()=>js,\u0275markDirty:()=>Or,\u0275noSideEffects:()=>En,\u0275patchComponentDefWithScope:()=>Qm,\u0275publishDefaultGlobalUtils:()=>VD,\u0275publishGlobalUtil:()=>Io,\u0275registerLocaleData:()=>AI,\u0275registerNgModuleType:()=>rn,\u0275renderComponent:()=>Bf,\u0275resetCompiledComponents:()=>RC,\u0275resetJitOptions:()=>zl,\u0275resolveComponentResources:()=>yc,\u0275setClassMetadata:()=>j_,\u0275setCurrentInjector:()=>Ve,\u0275setDocument:()=>fi,\u0275setLocaleId:()=>vm,\u0275store:()=>JE,\u0275stringify:()=>de,\u0275transitiveScopesFor:()=>kh,\u0275unregisterLocaleData:()=>ZD,\u0275unwrapSafeValue:()=>fs,\u0275whenRendered:()=>HE,\u0275\u0275CopyDefinitionFeature:()=>zE,\u0275\u0275FactoryTarget:()=>qn,\u0275\u0275InheritDefinitionFeature:()=>wo,\u0275\u0275NgOnChangesFeature:()=>ks,\u0275\u0275ProvidersFeature:()=>$I,\u0275\u0275advance:()=>sE,\u0275\u0275attribute:()=>gv,\u0275\u0275attributeInterpolate1:()=>mv,\u0275\u0275attributeInterpolate2:()=>yv,\u0275\u0275attributeInterpolate3:()=>vv,\u0275\u0275attributeInterpolate4:()=>_v,\u0275\u0275attributeInterpolate5:()=>Ev,\u0275\u0275attributeInterpolate6:()=>Iv,\u0275\u0275attributeInterpolate7:()=>wv,\u0275\u0275attributeInterpolate8:()=>Dv,\u0275\u0275attributeInterpolateV:()=>Cv,\u0275\u0275classMap:()=>tm,\u0275\u0275classMapInterpolate1:()=>ip,\u0275\u0275classMapInterpolate2:()=>wh,\u0275\u0275classMapInterpolate3:()=>sp,\u0275\u0275classMapInterpolate4:()=>cm,\u0275\u0275classMapInterpolate5:()=>dm,\u0275\u0275classMapInterpolate6:()=>hm,\u0275\u0275classMapInterpolate7:()=>Xv,\u0275\u0275classMapInterpolate8:()=>wI,\u0275\u0275classMapInterpolateV:()=>e_,\u0275\u0275classProp:()=>Gv,\u0275\u0275contentQuery:()=>n0,\u0275\u0275defineComponent:()=>Vt,\u0275\u0275defineDirective:()=>Ot,\u0275\u0275defineInjectable:()=>Xt,\u0275\u0275defineInjector:()=>en,\u0275\u0275defineNgModule:()=>ne,\u0275\u0275definePipe:()=>Ar,\u0275\u0275directiveInject:()=>Kf,\u0275\u0275disableBindings:()=>Xa,\u0275\u0275element:()=>Mu,\u0275\u0275elementContainer:()=>mh,\u0275\u0275elementContainerEnd:()=>gh,\u0275\u0275elementContainerStart:()=>zg,\u0275\u0275elementEnd:()=>Qo,\u0275\u0275elementStart:()=>Yc,\u0275\u0275enableBindings:()=>da,\u0275\u0275getCurrentView:()=>hI,\u0275\u0275getInheritedFactory:()=>Ad,\u0275\u0275hostProperty:()=>td,\u0275\u0275i18n:()=>xm,\u0275\u0275i18nApply:()=>O_,\u0275\u0275i18nAttributes:()=>N_,\u0275\u0275i18nEnd:()=>R_,\u0275\u0275i18nExp:()=>gp,\u0275\u0275i18nPostprocess:()=>jI,\u0275\u0275i18nStart:()=>pp,\u0275\u0275inject:()=>ut,\u0275\u0275injectAttribute:()=>qr,\u0275\u0275invalidFactory:()=>xv,\u0275\u0275invalidFactoryDep:()=>Tt,\u0275\u0275listener:()=>vh,\u0275\u0275loadQuery:()=>Oh,\u0275\u0275namespaceHTML:()=>zp,\u0275\u0275namespaceMathML:()=>Id,\u0275\u0275namespaceSVG:()=>oc,\u0275\u0275nextContext:()=>Pv,\u0275\u0275ngDeclareClassMetadata:()=>ib,\u0275\u0275ngDeclareComponent:()=>sb,\u0275\u0275ngDeclareDirective:()=>rb,\u0275\u0275ngDeclareFactory:()=>py,\u0275\u0275ngDeclareInjectable:()=>S0,\u0275\u0275ngDeclareInjector:()=>M0,\u0275\u0275ngDeclareNgModule:()=>tD,\u0275\u0275ngDeclarePipe:()=>ob,\u0275\u0275pipe:()=>XI,\u0275\u0275pipeBind1:()=>K_,\u0275\u0275pipeBind2:()=>ew,\u0275\u0275pipeBind3:()=>tw,\u0275\u0275pipeBind4:()=>nw,\u0275\u0275pipeBindV:()=>rw,\u0275\u0275projection:()=>kv,\u0275\u0275projectionDef:()=>Jc,\u0275\u0275property:()=>Rv,\u0275\u0275propertyInterpolate:()=>xu,\u0275\u0275propertyInterpolate1:()=>Qg,\u0275\u0275propertyInterpolate2:()=>Vl,\u0275\u0275propertyInterpolate3:()=>Yg,\u0275\u0275propertyInterpolate4:()=>Ha,\u0275\u0275propertyInterpolate5:()=>Ru,\u0275\u0275propertyInterpolate6:()=>Jf,\u0275\u0275propertyInterpolate7:()=>Jg,\u0275\u0275propertyInterpolate8:()=>Fv,\u0275\u0275propertyInterpolateV:()=>Lv,\u0275\u0275pureFunction0:()=>Ni,\u0275\u0275pureFunction1:()=>Jo,\u0275\u0275pureFunction2:()=>G_,\u0275\u0275pureFunction3:()=>QI,\u0275\u0275pureFunction4:()=>Ip,\u0275\u0275pureFunction5:()=>q_,\u0275\u0275pureFunction6:()=>W_,\u0275\u0275pureFunction7:()=>YI,\u0275\u0275pureFunction8:()=>Bm,\u0275\u0275pureFunctionV:()=>JI,\u0275\u0275queryRefresh:()=>bp,\u0275\u0275reference:()=>XE,\u0275\u0275resolveBody:()=>y,\u0275\u0275resolveDocument:()=>_f,\u0275\u0275resolveWindow:()=>lg,\u0275\u0275restoreView:()=>Fo,\u0275\u0275sanitizeHtml:()=>cl,\u0275\u0275sanitizeResourceUrl:()=>Vd,\u0275\u0275sanitizeScript:()=>ff,\u0275\u0275sanitizeStyle:()=>Fd,\u0275\u0275sanitizeUrl:()=>Ld,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Ac,\u0275\u0275setComponentScope:()=>W,\u0275\u0275setNgModuleScope:()=>ze,\u0275\u0275styleMap:()=>bo,\u0275\u0275styleMapInterpolate1:()=>DI,\u0275\u0275styleMapInterpolate2:()=>CI,\u0275\u0275styleMapInterpolate3:()=>bI,\u0275\u0275styleMapInterpolate4:()=>t_,\u0275\u0275styleMapInterpolate5:()=>op,\u0275\u0275styleMapInterpolate6:()=>Dh,\u0275\u0275styleMapInterpolate7:()=>fm,\u0275\u0275styleMapInterpolate8:()=>n_,\u0275\u0275styleMapInterpolateV:()=>TI,\u0275\u0275styleProp:()=>em,\u0275\u0275stylePropInterpolate1:()=>r_,\u0275\u0275stylePropInterpolate2:()=>i_,\u0275\u0275stylePropInterpolate3:()=>s_,\u0275\u0275stylePropInterpolate4:()=>o_,\u0275\u0275stylePropInterpolate5:()=>ed,\u0275\u0275stylePropInterpolate6:()=>ap,\u0275\u0275stylePropInterpolate7:()=>jl,\u0275\u0275stylePropInterpolate8:()=>up,\u0275\u0275stylePropInterpolateV:()=>Ch,\u0275\u0275syntheticHostListener:()=>Zg,\u0275\u0275syntheticHostProperty:()=>lp,\u0275\u0275template:()=>YE,\u0275\u0275templateRefExtractor:()=>Fu,\u0275\u0275text:()=>li,\u0275\u0275textInterpolate:()=>Kv,\u0275\u0275textInterpolate1:()=>am,\u0275\u0275textInterpolate2:()=>Zv,\u0275\u0275textInterpolate3:()=>Qv,\u0275\u0275textInterpolate4:()=>Yv,\u0275\u0275textInterpolate5:()=>Jv,\u0275\u0275textInterpolate6:()=>np,\u0275\u0275textInterpolate7:()=>um,\u0275\u0275textInterpolate8:()=>lm,\u0275\u0275textInterpolateV:()=>rp,\u0275\u0275trustConstantHtml:()=>Tc,\u0275\u0275trustConstantResourceUrl:()=>dl,\u0275\u0275viewQuery:()=>Tp});var w=F(7579),m=F(727),V=F(8306),se=F(6451),J=F(3099);function ce(i){for(let s in i)if(i[s]===ce)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=ce({__forward_ref__:ce});function G(i){return i.__forward_ref__=G,i.toString=function(){return de(this())},i}function Y(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===G}class _e extends Error{constructor(s,a){super(function xe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function re(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():re(i)}function Ae(i,s){const a=s?` in ${s}`:"";throw new _e(-201,`No provider for ${Ie(i)} found${a}`)}function Et(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const yi=Xt;function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function jt(i){return or(i,vi)||or(i,Qi)}function or(i,s){return i.hasOwnProperty(s)?i[s]:null}function Dr(i){return i&&(i.hasOwnProperty(gr)||i.hasOwnProperty(Yi))?i[gr]:null}const vi=ce({\u0275prov:ce}),gr=ce({\u0275inj:ce}),Qi=ce({ngInjectableDef:ce}),Yi=ce({ngInjectorDef:ce});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Kr;function Yn(i){const s=Kr;return Kr=i,s}function Zr(i,s,a){const u=jt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&mt.Optional?null:void 0!==s?s:void Ae(de(i),"Injector")}function En(i){return{toString:i}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),In=(()=>((In=In||{})[In.CheckOnce=0]="CheckOnce",In[In.Checked=1]="Checked",In[In.CheckAlways=2]="CheckAlways",In[In.Detached=3]="Detached",In[In.Errored=4]="Errored",In[In.Destroyed=5]="Destroyed",In))();function Qr(i){return null==i||i===Jn.Default}var Wt=(()=>{return(i=Wt||(Wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Wt;var i})();const dt="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,Xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=dt||"undefined"!=typeof global&&global||wt||Xn,br={},yt=[],Tr=ce({\u0275cmp:ce}),Lt=ce({\u0275dir:ce}),rt=ce({\u0275pipe:ce}),Oe=ce({\u0275mod:ce}),at=ce({\u0275fac:ce}),vt=ce({__NG_ELEMENT_ID__:ce});let Gt=0;function Vt(i){return En(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||yt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Wt.Emulated,id:"c",styles:i.styles||yt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,v=i.pipes;return u.id+=Gt++,u.inputs=tt(i.inputs,a),u.outputs=tt(i.outputs),f&&f.forEach(E=>E(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map($):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(K):null,u})}function W(i,s,a){const u=i.\u0275cmp;u.directiveDefs=()=>s.map($),u.pipeDefs=()=>a.map(K)}function $(i){return Kt(i)||Rn(i)}function K(i){return Pt(i)}const Ee={};function ne(i){return En(()=>{const s={type:i.type,bootstrap:i.bootstrap||yt,declarations:i.declarations||yt,imports:i.imports||yt,exports:i.exports||yt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ee[i.id]=i.type),s})}function ze(i,s){return En(()=>{const a=gn(i,!0);a.declarations=s.declarations||yt,a.imports=s.imports||yt,a.exports=s.exports||yt})}function tt(i,s){if(null==i)return br;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=u,s&&(s[c]=f)}return a}const Ot=Vt;function Ar(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Kt(i){return i[Tr]||null}function Rn(i){return i[Lt]||null}function Pt(i){return i[rt]||null}function gn(i,s){const a=i[Oe]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function Xr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ur(i){return Array.isArray(i)&&!0===i[1]}function ia(i){return 0!=(8&i.flags)}function Ei(i){return 2==(2&i.flags)}function Xs(i){return 1==(1&i.flags)}function Sr(i){return null!==i.template}function za(i){return 0!=(512&i[2])}function _r(i,s){return i.hasOwnProperty(at)?i[at]:null}class wi{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ks(){return Fs}function Fs(i){return i.type.prototype.ngOnChanges&&(i.setInput=$h),Ya}function Ya(){const i=Ls(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===br)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function $h(i,s,a,u){const c=Ls(i)||function hi(i,s){return i[Po]=s}(i,{previous:br,current:null}),f=c.current||(c.current={}),v=c.previous,E=this.declaredInputs[a],D=v[E];f[E]=new wi(D&&D.currentValue,s,v===br),i[u]=s}ks.ngInherit=!0;const Po="__ngSimpleChanges__";function Ls(i){return i[Po]||null}let ua=null;const la=i=>{ua=i},$r=function(i,s,a){null!=ua&&ua(i,s,a)},ko="math";let _s;function fi(i){_s=i}function Es(){return void 0!==_s?_s:"undefined"!=typeof document?document:void 0}function yn(i){return!!i.listen}const T={createRenderer:(i,s)=>Es()};function b(i){for(;Array.isArray(i);)i=i[0];return i}function ye(i,s){return b(s[i])}function Ne(i,s){return b(s[i.index])}function cn(i,s){return i.data[s]}function Qt(i,s){return i[s]}function Ut(i,s){const a=s[i];return Xr(a)?a:a[0]}function Ft(i){return 4==(4&i[2])}function On(i){return 128==(128&i[2])}function dn(i,s){return null==s?null:i[s]}function Ui(i){i[18]=0}function pi(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const pt={lFrame:ya(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gu(){return pt.bindingsEnabled}function da(){pt.bindingsEnabled=!0}function Xa(){pt.bindingsEnabled=!1}function Pe(){return pt.lFrame.lView}function Bt(){return pt.lFrame.tView}function Fo(i){return pt.lFrame.contextLView=i,i[8]}function jn(){let i=ha();for(;null!==i&&64===i.type;)i=i.parent;return i}function ha(){return pt.lFrame.currentTNode}function fa(){const i=pt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Ci(i,s){const a=pt.lFrame;a.currentTNode=i,a.isParent=s}function qu(){return pt.lFrame.isParent}function Wu(){pt.lFrame.isParent=!1}function pa(){return pt.isInCheckNoChangesMode}function ro(i){pt.isInCheckNoChangesMode=i}function ei(){const i=pt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Hr(){return pt.lFrame.bindingIndex}function io(i){return pt.lFrame.bindingIndex=i}function Us(){return pt.lFrame.bindingIndex++}function ws(i){const s=pt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function nc(i){pt.lFrame.inI18n=i}function rc(i,s){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ga(s)}function ga(i){pt.lFrame.currentDirectiveIndex=i}function eu(i){const s=pt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function tu(){return pt.lFrame.currentQueryIndex}function ma(i){pt.lFrame.currentQueryIndex=i}function nu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ku(i,s,a){if(a&mt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&mt.Host||(c=nu(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const u=pt.lFrame=Ed();return u.currentTNode=s,u.lView=i,!0}function so(i){const s=Ed(),a=i[1];pt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ed(){const i=pt.lFrame,s=null===i?null:i.child;return null===s?ya(i):s}function ya(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Zu(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const sc=Zu;function Lo(){const i=Zu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Gr(){return pt.lFrame.selectedIndex}function va(i){pt.lFrame.selectedIndex=i}function Hn(){const i=pt.lFrame;return cn(i.tView,i.selectedIndex)}function oc(){pt.lFrame.currentNamespace="svg"}function Id(){pt.lFrame.currentNamespace=ko}function zp(){!function ru(){pt.lFrame.currentNamespace=null}()}function is(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:R}=f;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function _a(i,s,a){Yu(i,s,3,a)}function Ea(i,s,a,u){(3&i[2])===a&&Yu(i,s,a,u)}function lr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Yu(i,s,a,u){const f=null!=u?u:-1,v=s.length-1;let E=0;for(let D=void 0!==u?65535&i[18]:0;D<v;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=u&&E>=u)break}else s[D]<0&&(i[18]+=65536),(E<f||-1==f)&&(Gh(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function Gh(i,s,a,u){const c=a[u]<0,f=a[u+1],E=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,$r(4,E,f);try{f.call(E)}finally{$r(5,E,f)}}}else{$r(4,E,f);try{f.call(E)}finally{$r(5,E,f)}}}class Vo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ju(i,s,a){const u=yn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const v=a[c++],E=a[c++],D=a[c++];u?i.setAttribute(s,E,D,v):s.setAttributeNS(v,E,D)}else{const v=f,E=a[++c];lc(v)?u&&i.setProperty(s,v,E):u?i.setAttribute(s,v,E):s.setAttribute(v,E),c++}}return c}function ni(i){return 3===i||4===i||6===i}function lc(i){return 64===i.charCodeAt(0)}function Ia(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||wa(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function wa(i,s,a,u,c){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==c&&(i[f+1]=c));if(u===i[f+1])return void(i[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==c&&i.splice(f++,0,c)}function cc(i){return-1!==i}function Dn(i){return 32767&i}function bi(i,s){let a=function Wh(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let ou=!0;function ao(i){const s=ou;return ou=i,s}let Kh=0;function Ca(i,s){const a=au(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,ss(u.data,i),ss(s,null),ss(u.blueprint,null));const c=os(i,s),f=i.injectorIndex;if(cc(c)){const v=Dn(c),E=bi(c,s),D=E[1].data;for(let x=0;x<8;x++)s[f+x]=E[v+x]|D[v+x]}return s[f+8]=c,f}function ss(i,s){i.push(0,0,0,0,0,0,0,0,s)}function au(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function os(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const f=c[1],v=f.type;if(u=2===v?f.declTNode:1===v?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function ba(i,s,a){!function Uo(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(u=a[vt]),null==u&&(u=a[vt]=Kh++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function jo(i,s,a){if(a&mt.Optional)return i;Ae(s,"NodeInjector")}function Cd(i,s,a,u){if(a&mt.Optional&&void 0===u&&(u=null),0==(a&(mt.Self|mt.Host))){const c=i[9],f=Yn(void 0);try{return c?c.get(s,u,a&mt.Optional):Zr(s,u,a&mt.Optional)}finally{Yn(f)}}return jo(u,s,a)}function Xu(i,s,a,u=mt.Default,c){if(null!==i){const f=function Zh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof s?s>=0?255&s:bd:s}(a);if("function"==typeof f){if(!Ku(s,i,u))return u&mt.Host?jo(c,a,u):Cd(s,a,u,c);try{const v=f(u);if(null!=v||u&mt.Optional)return v;Ae(a)}finally{sc()}}else if("number"==typeof f){let v=null,E=au(i,s),D=-1,x=u&mt.Host?s[16][6]:null;for((-1===E||u&mt.SkipSelf)&&(D=-1===E?os(i,s):s[E+8],-1!==D&&cr(u,!1)?(v=s[1],E=Dn(D),s=bi(D,s)):E=-1);-1!==E;){const R=s[1];if(Ct(f,E,R.data)){const j=Td(E,s,a,v,u,x);if(j!==Ta)return j}D=s[E+8],-1!==D&&cr(u,s[1].data[E+8]===x)&&Ct(f,E,s)?(v=R,E=Dn(D),s=bi(D,s)):E=-1}}}return Cd(s,a,u,c)}const Ta={};function bd(){return new Ti(jn(),Pe())}function Td(i,s,a,u,c,f){const v=s[1],E=v.data[i+8],R=Ds(E,v,a,null==u?Ei(E)&&ou:u!=v&&0!=(3&E.type),c&mt.Host&&f===E);return null!==R?Gn(s,v,R,E):Ta}function Ds(i,s,a,u,c){const f=i.providerIndexes,v=s.data,E=1048575&f,D=i.directiveStart,R=f>>20,q=c?E+R:i.directiveEnd;for(let te=u?E:E+R;te<q;te++){const Te=v[te];if(te<D&&a===Te||te>=D&&Te.type===a)return te}if(c){const te=v[D];if(te&&Sr(te)&&te.type===a)return D}return null}function Gn(i,s,a,u){let c=i[a];const f=s.data;if(function ac(i){return i instanceof Vo}(c)){const v=c;v.resolving&&function We(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new _e(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(f[a]));const E=ao(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Yn(v.injectImpl):null;Ku(i,u,mt.Default);try{c=i[a]=v.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function iu(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(u){const v=Fs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==D&&Yn(D),ao(E),v.resolving=!1,sc()}}return c}function Ct(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function cr(i,s){return!(i&mt.Self||i&mt.Host&&s)}class Ti{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Xu(this._tNode,this._lView,s,u,a)}}function Ad(i){return En(()=>{const s=i.prototype.constructor,a=s[at]||uo(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const f=c[at]||uo(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function uo(i){return qe(i)?()=>{const s=uo(Y(i));return s&&s()}:_r(i)}function qr(i){return function dc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const f=a[c];if(ni(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(jn(),i)}const as="__annotations__",lo="__parameters__",us="__prop__metadata__";function js(i,s,a,u,c){return En(()=>{const f=Bo(s);function v(...E){if(this instanceof v)return f.call(this,...E),this;const D=new v(...E);return function(R){return c&&c(R,...E),(R.hasOwnProperty(as)?R[as]:Object.defineProperty(R,as,{value:[]})[as]).push(D),u&&u(R),R}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=i,v.annotationCls=v,v})}function Bo(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}function Aa(i,s,a){return En(()=>{const u=Bo(s);function c(...f){if(this instanceof c)return u.apply(this,f),this;const v=new c(...f);return E.annotation=v,E;function E(D,x,R){const j=D.hasOwnProperty(lo)?D[lo]:Object.defineProperty(D,lo,{value:[]})[lo];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(v),D}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function $i(i,s,a,u){return En(()=>{const c=Bo(s);function f(...v){if(this instanceof f)return c.apply(this,v),this;const E=new f(...v);return function D(x,R){const j=x.constructor,q=j.hasOwnProperty(us)?j[us]:Object.defineProperty(j,us,{value:{}})[us];q[R]=q.hasOwnProperty(R)&&q[R]||[],q[R].unshift(E),u&&u(x,R,...v)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}const Bs=Aa("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>qr(i)}));class hn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dy=new hn("AnalyzeForEntryComponents");class Ce{}const $s=$i("ContentChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},s),Ce),uu=$i("ContentChild",(i,s={})=>Object.assign({selector:i,first:!0,isViewQuery:!1,descendants:!0},s),Ce),co=$i("ViewChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},s),Ce),$t=$i("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),Ce);var qn=(()=>((qn=qn||{})[qn.Directive=0]="Directive",qn[qn.Component=1]="Component",qn[qn.Injectable=2]="Injectable",qn[qn.Pipe=3]="Pipe",qn[qn.NgModule=4]="NgModule",qn))();function He(i){const s=zt.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Sa=Function;function bt(i){return"function"==typeof i}function dr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),dr(u,s)):s!==i&&s.push(u)}return s}function Hi(i,s){i.forEach(a=>Array.isArray(a)?Hi(a,s):s(a))}function el(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function fo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ls(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function Ai(i,s,a){let u=$o(i,s);return u>=0?i[1|u]=a:(u=~u,function Ma(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function pc(i,s){const a=$o(i,s);if(a>=0)return i[1|a]}function $o(i,s){return function po(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const f=u+(c-u>>1),v=i[f<<a];if(s===v)return f<<a;v>s?c=f:u=f+1}return~(c<<a)}(i,s,1)}const xa=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,tl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,nl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Pn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Cn{constructor(s){this._reflect=s||zt.Reflect}isReflectionEnabled(){return!0}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let u;u=ls(void 0===s?a.length:s.length);for(let c=0;c<u.length;c++)u[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(u[c]=u[c].concat(a[c]));return u}_ownParameters(s,a){if(function gc(i){return xa.test(i)||Pn.test(i)||tl.test(i)&&!nl.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const E="function"==typeof c?c():c,D=E.map(R=>R&&R.type),x=E.map(R=>R&&mc(R.decorators));return this._zipTypesAndAnnotations(D,x)}const f=s.hasOwnProperty(lo)&&s[lo],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return v||f?this._zipTypesAndAnnotations(v,f):ls(s.length)}parameters(s){if(!bt(s))return[];const a=rl(s);let u=this._ownParameters(s,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let u=s.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return s.decorators&&s.decorators!==a.decorators?mc(s.decorators):s.hasOwnProperty(as)?s[as]:null}annotations(s){if(!bt(s))return[];const a=rl(s),u=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let u=s.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const u=s.propDecorators,c={};return Object.keys(u).forEach(f=>{c[f]=mc(u[f])}),c}return s.hasOwnProperty(us)?s[us]:null}propMetadata(s){if(!bt(s))return{};const a=rl(s),u={};if(a!==Object){const f=this.propMetadata(a);Object.keys(f).forEach(v=>{u[v]=f[v]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(f=>{const v=[];u.hasOwnProperty(f)&&v.push(...u[f]),v.push(...c[f]),u[f]=v}),u}ownPropMetadata(s){return bt(s)&&this._ownPropMetadata(s,rl(s))||{}}hasLifecycleHook(s,a){return s instanceof Sa&&a in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${de(s)}`}resourceUri(s){return`./${de(s)}`}resolveIdentifier(s,a,u,c){return c}resolveEnum(s,a){return s[a]}}function mc(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function rl(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const cs={},Ra="__NG_DI_FLAG__",il="ngTempTokenPath",A=/\n/gm,B="__source",ee=ce({provide:String,useValue:ce});let ie;function Ve(i){const s=ie;return ie=i,s}function it(i,s=mt.Default){if(void 0===ie)throw new _e(203,"");return null===ie?Zr(i,void 0,s):ie.get(i,s&mt.Optional?null:void 0,s)}function ut(i,s=mt.Default){return(function mr(){return Kr}()||it)(Y(i),s)}function Tt(i){throw new Error("invalid")}const qt=ut;function xt(i){const s=[];for(let a=0;a<i.length;a++){const u=Y(i[a]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,"");let c,f=mt.Default;for(let v=0;v<u.length;v++){const E=u[v],D=rr(E);"number"==typeof D?-1===D?c=E.token:f|=D:c=E}s.push(ut(c,f))}else s.push(ut(u))}return s}function nr(i,s){return i[Ra]=s,i.prototype[Ra]=s,i}function rr(i){return i[Ra]}const ds=nr(Aa("Inject",i=>({token:i})),-1),hs=nr(Aa("Optional"),8),bs=nr(Aa("Self"),2),kn=nr(Aa("SkipSelf"),4),du=nr(Aa("Host"),1);let Qp=null;function Pa(){return Qp=Qp||new Cn}function sl(i){return Yp(Pa().parameters(i))}function Yp(i){return i.map(s=>function Md(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const u=i[a];if(void 0===u)continue;const c=Object.getPrototypeOf(u);if(u instanceof hs||"Optional"===c.ngMetadataName)s.optional=!0;else if(u instanceof kn||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(u instanceof bs||"Self"===c.ngMetadataName)s.self=!0;else if(u instanceof du||"Host"===c.ngMetadataName)s.host=!0;else if(u instanceof ds)s.token=u.token;else if(u instanceof Bs){if(void 0===u.attributeName)throw new Error("Attribute name must be defined.");s.attribute=u.attributeName}else s.token=u}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function yc(i){const s=[],a=new Map;function u(c){let f=a.get(c);if(!f){const v=i(c);a.set(c,f=v.then(Xp))}return f}return go.forEach((c,f)=>{const v=[];c.templateUrl&&v.push(u(c.templateUrl).then(j=>{c.template=j}));const E=c.styleUrls,D=c.styles||(c.styles=[]),x=c.styles.length;E&&E.forEach((j,q)=>{D.push(""),v.push(u(j).then(te=>{D[x+q]=te,E.splice(E.indexOf(j),1),0==E.length&&(c.styleUrls=void 0)}))});const R=Promise.all(v).then(()=>function ef(i){hu.delete(i)}(f));s.push(R)}),ol(),Promise.all(s).then(()=>{})}let go=new Map;const hu=new Set;function Xh(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function ol(){const i=go;return go=new Map,i}function Xp(i){return"string"==typeof i?i:i.text()}let vc,wr;function tf(){if(void 0===vc&&(vc=null,zt.trustedTypes))try{vc=zt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vc}function ka(i){var s;return(null===(s=tf())||void 0===s?void 0:s.createHTML(i))||i}function al(){if(void 0===wr&&(wr=null,zt.trustedTypes))try{wr=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return wr}function xd(i){var s;return(null===(s=al())||void 0===s?void 0:s.createHTML(i))||i}function eg(i){var s;return(null===(s=al())||void 0===s?void 0:s.createScript(i))||i}function rf(i){var s;return(null===(s=al())||void 0===s?void 0:s.createScriptURL(i))||i}class Fa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cy extends Fa{getTypeName(){return"HTML"}}class by extends Fa{getTypeName(){return"Style"}}class sf extends Fa{getTypeName(){return"Script"}}class Ec extends Fa{getTypeName(){return"URL"}}class Ty extends Fa{getTypeName(){return"ResourceURL"}}function fs(i){return i instanceof Fa?i.changingThisBreaksApplicationSecurity:i}function fu(i,s){const a=of(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function of(i){return i instanceof Fa&&i.getTypeName()||null}function Rd(i){return new Cy(i)}function Ic(i){return new by(i)}function af(i){return new sf(i)}function uf(i){return new Ec(i)}function tg(i){return new Ty(i)}function ul(i){const s=new rg(i);return function Ay(){try{return!!(new window.DOMParser).parseFromString(ka(""),"text/html")}catch(i){return!1}}()?new ng(s):s}class ng{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ka(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class rg{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ka(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ka(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const v=a.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const mo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ts(i){return(i=String(i)).match(mo)||i.match(Sy)?i:"unsafe:"+i}function ig(i){return(i=String(i)).split(",").map(s=>Ts(s.trim())).join(", ")}function As(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Gs(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const lf=As("area,br,col,hr,img,wbr"),pu=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cf=As("rp,rt"),Od=Gs(lf,Gs(pu,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gs(cf,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gs(cf,pu)),gu=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ll=As("srcset"),wc=Gs(gu,ll,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sg=As("script,style,template");class Dc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Od.hasOwnProperty(a))return this.sanitizedSomething=!0,!sg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let c=0;c<u.length;c++){const f=u.item(c),v=f.name,E=v.toLowerCase();if(!wc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=f.value;gu[E]&&(D=Ts(D)),ll[E]&&(D=ig(D)),this.buf.push(" ",v,'="',Pd(D),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Od.hasOwnProperty(a)&&!lf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Pd(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Cc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bc=/([^\#-~ |!])/g;function Pd(i){return i.replace(/&/g,"&amp;").replace(Cc,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(bc,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mu;function Ho(i,s){let a=null;try{mu=mu||ul(i);let u=s?String(s):"";a=mu.getInertBodyElement(u);let c=5,f=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=f,f=a.innerHTML,a=mu.getInertBodyElement(u)}while(u!==f);return ka((new Dc).sanitizeChildren(kd(a)||a))}finally{if(a){const u=kd(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function kd(i){return"content"in i&&function xy(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function cl(i){const s=yu();return s?xd(s.sanitize(zn.HTML,i)||""):fu(i,"HTML")?xd(fs(i)):Ho(Es(),re(i))}function Fd(i){const s=yu();return s?s.sanitize(zn.STYLE,i)||"":fu(i,"Style")?fs(i):re(i)}function Ld(i){const s=yu();return s?s.sanitize(zn.URL,i)||"":fu(i,"URL")?fs(i):Ts(re(i))}function Vd(i){const s=yu();if(s)return rf(s.sanitize(zn.RESOURCE_URL,i)||"");if(fu(i,"ResourceURL"))return rf(fs(i));throw new _e(904,"")}function ff(i){const s=yu();if(s)return eg(s.sanitize(zn.SCRIPT,i)||"");if(fu(i,"Script"))return eg(fs(i));throw new _e(905,"")}function Tc(i){return ka(i[0])}function dl(i){return function _c(i){var s;return(null===(s=tf())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function Ac(i,s,a){return function pf(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Vd:Ld}(s,a)(i)}function yu(){const i=Pe();return i&&i[12]}function ii(i){let s=La(i);if(s){if(Array.isArray(s)){const a=s;let u,c,f;if(function Mr(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(u=_u(a,i),-1==u)throw new Error("The provided component was not found in the application");c=i}else if(function ps(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(u=function Bd(i,s){let a=i[1].firstChild;for(;a;){const c=a.directiveEnd;for(let f=a.directiveStart;f<c;f++)if(i[f]===s)return a.index;a=jd(a)}return-1}(a,i),-1==u)throw new Error("The provided directive was not found in the application");f=Fn(u,a,!1)}else if(u=fl(a,i),-1==u)return null;const v=b(a[u]),E=La(v),D=E&&!Array.isArray(E)?E:vu(a,u,v);if(c&&void 0===D.component&&(D.component=c,ir(D.component,D)),f&&void 0===D.directives){D.directives=f;for(let x=0;x<f.length;x++)ir(f[x],D)}ir(D.native,D),s=D}}else{const a=i;let u=a;for(;u=u.parentNode;){const c=La(u);if(c){let f;if(f=Array.isArray(c)?c:c.lView,!f)return null;const v=fl(f,a);if(v>=0){const E=b(f[v]),D=vu(f,v,E);ir(E,D),s=D;break}}}}return s||null}function vu(i,s,a){return{lView:i,nodeIndex:s,native:a,component:void 0,directives:void 0,localRefs:void 0}}function Go(i){let a,s=La(i);if(Array.isArray(s)){const u=_u(s,i);a=Ut(u,s);const c=vu(s,u,a[0]);c.component=i,ir(i,c),ir(c.native,c)}else a=Ut(s.nodeIndex,s.lView);return a}const Sc="__ngContext__";function ir(i,s){i[Sc]=s}function La(i){return i[Sc]||null}function gf(i){const s=La(i);return s?Array.isArray(s)?s:s.lView:null}function fl(i,s){const a=i[1];for(let u=20;u<a.bindingStartIndex;u++)if(b(i[u])===s)return u;return-1}function jd(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function _u(i,s){const a=i[1].components;if(a)for(let u=0;u<a.length;u++){const c=a[u];if(Ut(c,i)[8]===s)return c}else if(Ut(20,i)[8]===s)return 20;return-1}function Fn(i,s,a){const u=s[1].data[i];let c=u.directiveStart;return 0==c?yt:(!a&&2&u.flags&&c++,s.slice(c,u.directiveEnd))}const yo="ngOriginalError";function mf(i){return i[yo]}function ag(i,...s){i.error(...s)}class si{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function og(i){return i&&i.ngErrorLogger||ag}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&mf(s);for(;a&&mf(a);)a=mf(a);return a||null}}const $d={name:"custom-elements"},Hd={name:"no-errors-schema"},Rc=/^>|^->|<!--|-->|--!>|<!-$/g,gi=/(<|>)/;const ug=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function lg(i){return i.ownerDocument.defaultView}function _f(i){return i.ownerDocument}function y(i){return i.ownerDocument.body}function p(i){return i instanceof Function?i():i}var me=(()=>((me=me||{})[me.Important=1]="Important",me[me.DashCase=2]="DashCase",me))();let Ze;function st(i,s){return Ze(i,s)}function Ln(i){const s=i[3];return Ur(s)?s[3]:s}function qo(i){return function gs(i){let s=Xr(i)?i:gf(i);for(;s&&!(512&s[2]);)s=Ln(s);return s}(i)[8]}function Va(i){return sr(i[13])}function Nc(i){return sr(i[4])}function sr(i){for(;null!==i&&!Ur(i);)i=i[4];return i}function Ua(i,s,a,u,c){if(null!=u){let f,v=!1;Ur(u)?f=u:Xr(u)&&(v=!0,u=u[0]);const E=b(u);0===i&&null!==a?null==c?J0(s,a,E):ja(s,a,E,c||null,!0):1===i&&null!==a?ja(s,a,E,c||null,!0):2===i?Uy(s,E,v):3===i&&s.destroyNode(E),null!=f&&function eE(i,s,a,u,c){const f=a[7];f!==b(a)&&Ua(s,i,u,f,c);for(let E=10;E<a.length;E++){const D=a[E];yl(D[1],D,i,s,u,f)}}(s,i,f,a,c)}}function qd(i,s){return yn(i)?i.createText(s):i.createTextNode(s)}function Ef(i,s,a){yn(i)?i.setValue(s,a):s.textContent=a}function If(i,s){return i.createComment(function Gd(i){return i.replace(Rc,s=>s.replace(gi,"\u200b$1\u200b"))}(s))}function Oc(i,s,a){if(yn(i))return i.createElement(s,a);{const u=null!==a?function Vs(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===ko?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Y0(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,pi(c,-1)),a.splice(u,1)}function wf(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&Y0(c,u),s>0&&(i[a-1][4]=u[4]);const f=fo(i,10+s);!function dg(i,s){yl(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const v=f[19];null!==v&&v.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Kd(i,s){if(!(256&s[2])){const a=s[11];yn(a)&&a.destroyNode&&yl(i,s,a,3,null,null),function Z0(i){let s=i[13];if(!s)return hg(i[1],i);for(;s;){let a=null;if(Xr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Xr(s)&&hg(s[1],s),s=s[3];null===s&&(s=i),Xr(s)&&hg(s[1],s),a=s&&s[4]}s=a}}(s)}}function hg(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function fg(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Vo)){const f=a[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=c[f[v]],D=f[v+1];$r(4,E,D);try{D.call(E)}finally{$r(5,E,D)}}else{$r(4,c,f);try{f.call(c)}finally{$r(5,c,f)}}}}}(i,s),function Oy(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const v=a[f+1],E="function"==typeof v?v(s):b(s[v]),D=u[c=a[f+2]],x=a[f+3];"boolean"==typeof x?E.removeEventListener(a[f],D,x):x>=0?u[c=x]():u[c=-x].unsubscribe(),f+=2}else{const v=u[c=a[f+1]];a[f].call(v)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&yn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ur(s[3])){a!==s[3]&&Y0(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function Py(i,s,a){return pg(i,s.parent,a)}function pg(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Wt.None||c===Wt.Emulated)return null}return Ne(u,a)}function ja(i,s,a,u,c){yn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function J0(i,s,a){yn(i)?i.appendChild(s,a):s.appendChild(a)}function ky(i,s,a,u,c){null!==u?ja(i,s,a,u,c):J0(i,s,a)}function Cf(i,s){return yn(i)?i.parentNode(s):s.parentNode}function gg(i,s,a){return Fy(i,s,a)}function mg(i,s,a){return 40&i.type?Ne(i,a):null}let Zd,Fy=mg;function Ly(i,s){Fy=i,Zd=s}function bf(i,s,a,u){const c=Py(i,u,s),f=s[11],E=gg(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let D=0;D<a.length;D++)ky(f,c,a[D],E,!1);else ky(f,c,a,E,!1);void 0!==Zd&&Zd(f,u,s,a,c)}function Ba(i,s){if(null!==s){const a=s.type;if(3&a)return Ne(s,i);if(4&a)return yg(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Ba(i,u);{const c=i[s.index];return Ur(c)?yg(-1,c):b(c)}}if(32&a)return st(s,i)()||b(i[s.index]);{const u=Vy(i,s);return null!==u?Array.isArray(u)?u[0]:Ba(Ln(i[16]),u):Ba(i,s.next)}}return null}function Vy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function yg(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Ba(u,c)}return s[7]}function Uy(i,s,a){const u=Cf(i,s);u&&function Df(i,s,a,u){yn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}function vg(i,s,a,u,c,f,v){for(;null!=a;){const E=u[a.index],D=a.type;if(v&&0===s&&(E&&ir(b(E),u),a.flags|=4),64!=(64&a.flags))if(8&D)vg(i,s,a.child,u,c,f,!1),Ua(s,i,c,E,f);else if(32&D){const x=st(a,u);let R;for(;R=x();)Ua(s,i,c,R,f);Ua(s,i,c,E,f)}else 16&D?jy(i,s,u,a,c,f):Ua(s,i,c,E,f);a=v?a.projectionNext:a.next}}function yl(i,s,a,u,c,f){vg(a,u,i.firstChild,s,c,f,!1)}function jy(i,s,a,u,c,f){const v=a[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)Ua(s,i,c,D[x],f);else vg(i,s,D,v[3],c,f,!0)}function tE(i,s,a){yn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function By(i,s,a){yn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function _g(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===u||i.charCodeAt(c+f)<=32)return c}a=c+1}}const nE="ng-template";function rE(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==_g(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function iE(i){return 4===i.type&&i.value!==nE}function Eg(i,s,a){return s===(4!==i.type||a?i.value:nE)}function DD(i,s,a){let u=4;const c=i.attrs||[],f=function $y(i){for(let s=0;s<i.length;s++)if(ni(i[s]))return s;return i.length}(c);let v=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!Eg(i,D,a)||""===D&&1===s.length){if(vo(u))return!1;v=!0}}else{const x=8&u?D:s[++E];if(8&u&&null!==i.attrs){if(!rE(i.attrs,x,a)){if(vo(u))return!1;v=!0}continue}const j=Si(8&u?"class":D,c,iE(i),a);if(-1===j){if(vo(u))return!1;v=!0;continue}if(""!==x){let q;q=j>f?"":c[j+1].toLowerCase();const te=8&u?q:null;if(te&&-1!==_g(te,x,0)||2&u&&x!==q){if(vo(u))return!1;v=!0}}}}else{if(!v&&!vo(u)&&!vo(D))return!1;if(v&&vo(D))continue;v=!1,u=D|1&u}}return vo(u)||v}function vo(i){return 0==(1&i)}function Si(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let f=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=f?1:2}return-1}return function CD(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Pc(i,s,a=!1){for(let u=0;u<s.length;u++)if(DD(i,s[u],a))return!0;return!1}function Be(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function xr(i,s){return i?":not("+s.trim()+")":s}function Tf(i){let s=i[0],a=1,u=2,c="",f=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&u){const E=i[++a];c+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!vo(v)&&(s+=xr(f,c),c=""),u=v,f=f||!vo(u);a++}return""!==c&&(s+=xr(f,c)),s}const $e={};function sE(i){nt(Bt(),Pe(),Gr()+i,pa())}function nt(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&_a(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Ea(s,f,0,a)}va(a)}function Fe(i,s){return i<<17|s<<2}function Sn(i){return i>>17&32767}function qy(i){return 2|i}function Iu(i){return(131068&i)>>2}function Wy(i,s){return-131069&i|s<<2}function Ig(i){return 1|i}const wl=(()=>Promise.resolve(null))();function eh(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],f=a[u+1];if(-1!==f){const v=i.data[f];ma(c),v.contentQueries(2,s[f],f)}}}function Dl(i,s,a,u,c,f,v,E,D,x){const R=s.blueprint.slice();return R[0]=c,R[2]=140|u,Ui(R),R[3]=R[15]=i,R[8]=a,R[10]=v||i&&i[10],R[11]=E||i&&i[11],R[12]=D||i&&i[12]||null,R[9]=x||i&&i[9]||null,R[6]=f,R[16]=2==s.type?i[16]:R,R}function $a(i,s,a,u,c){let f=i.data[s];if(null===f)f=Tg(i,s,a,u,c),function _d(){return pt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=c;const v=fa();f.injectorIndex=null===v?-1:v.injectorIndex}return Ci(f,!0),f}function Tg(i,s,a,u,c){const f=ha(),v=qu(),D=i.data[s]=function _E(i,s,a,u,c,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=D),null!==f&&(v?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}function jc(i,s,a,u){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function th(i,s,a){so(s);try{const u=i.viewQuery;null!==u&&Ml(1,u,a);const c=i.template;null!==c&&Bn(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&eh(i,s),i.staticViewQueries&&Ml(2,i.viewQuery,a);const f=i.components;null!==f&&function fE(i,s){for(let a=0;a<s.length;a++)TE(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Lo()}}function Nr(i,s,a,u){const c=s[2];if(256==(256&c))return;so(s);const f=pa();try{Ui(s),io(i.bindingStartIndex),null!==a&&Bn(i,s,a,2,u);const v=3==(3&c);if(!f)if(v){const x=i.preOrderCheckHooks;null!==x&&_a(s,x,null)}else{const x=i.preOrderHooks;null!==x&&Ea(s,x,0,null),lr(s,0)}if(function bE(i){for(let s=Va(i);null!==s;s=Nc(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],f=c[3];0==(1024&c[2])&&pi(f,1),c[2]|=1024}}}(s),function Pf(i){for(let s=Va(i);null!==s;s=Nc(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];On(u)&&Nr(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&eh(i,s),!f)if(v){const x=i.contentCheckHooks;null!==x&&_a(s,x)}else{const x=i.contentHooks;null!==x&&Ea(s,x,1),lr(s,1)}!function Qy(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)va(~c);else{const f=c,v=a[++u],E=a[++u];rc(v,f),E(2,s[f])}}}finally{va(-1)}}(i,s);const E=i.components;null!==E&&function hE(i,s){for(let a=0;a<s.length;a++)tv(i,s[a])}(s,E);const D=i.viewQuery;if(null!==D&&Ml(2,D,u),!f)if(v){const x=i.viewCheckHooks;null!==x&&_a(s,x)}else{const x=i.viewHooks;null!==x&&Ea(s,x,2),lr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,pi(s[3],-1))}finally{Lo()}}function pE(i,s,a,u){const c=s[10],f=!pa(),v=Ft(s);try{f&&!v&&c.begin&&c.begin(),v&&th(i,s,u),Nr(i,s,a,u)}finally{f&&!v&&c.end&&c.end()}}function Bn(i,s,a,u,c){const f=Gr(),v=2&u;try{va(-1),v&&s.length>20&&nt(i,s,20,pa()),$r(v?2:0,c),a(u,c)}finally{va(f),$r(v?3:1,c)}}function Sf(i,s,a){if(ia(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const v=i.data[f];v.contentQueries&&v.contentQueries(1,a[f],f)}}}function Mf(i,s,a){!Gu()||(function Sl(i,s,a,u){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ca(a,s),ir(u,s);const v=a.initialInputs;for(let E=c;E<f;E++){const D=i.data[E],x=Sr(D);x&&Sg(s,a,D);const R=Gn(s,i,E,a);ir(R,s),null!==v&&Xy(0,E-c,R,D,0,v),x&&(Ut(a.index,s)[8]=R)}}(i,s,a,Ne(a,s)),128==(128&a.flags)&&function nh(i,s,a){const u=a.directiveStart,c=a.directiveEnd,v=a.index,E=function ic(){return pt.lFrame.currentDirectiveIndex}();try{va(v);for(let D=u;D<c;D++){const x=i.data[D],R=s[D];ga(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wE(x,R)}}finally{va(-1),ga(E)}}(i,s,a))}function Cl(i,s,a=Ne){const u=s.localNames;if(null!==u){let c=s.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],E=-1===v?a(s,i):i[v];i[c++]=E}}}function xf(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=bl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function bl(i,s,a,u,c,f,v,E,D,x){const R=20+u,j=R+c,q=function gE(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:$e);return a}(R,j),te="function"==typeof x?x():x;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:E,declTNode:s,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:te,incompleteFirstPass:!1}}function yE(i,s,a){if(yn(i))return i.selectRootElement(s,a===Wt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}function vE(i,s,a,u){const c=xl(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&nv(i).push(u,c.length-1))}function Al(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function qi(i,s,a,u,c,f,v,E){const D=Ne(s,a);let R,x=s.inputs;!E&&null!=x&&(R=x[u])?(iv(i,a,R,u,c),Ei(s)&&function Ag(i,s){const a=Ut(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Rf(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=v?v(c,s.value||"",u):c,yn(f)?f.setProperty(D,u,c):lc(u)||(D.setProperty?D.setProperty(u,c):D[u]=c))}function Yy(i,s,a,u){let c=!1;if(Gu()){const f=function DE(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const v=u[f];Pc(a,v.selectors,!1)&&(c||(c=[]),ba(Ca(a,s),i,v.type),Sr(v)?(Jy(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===u?null:{"":-1};if(null!==f){c=!0,Bc(a,i.data.length,f.length);for(let R=0;R<f.length;R++){const j=f[R];j.providersResolver&&j.providersResolver(j)}let E=!1,D=!1,x=jc(i,s,f.length,null);for(let R=0;R<f.length;R++){const j=f[R];a.mergedAttrs=Ia(a.mergedAttrs,j.hostAttrs),Nf(i,a,s,x,j),CE(x,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const q=j.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),x++}!function MD(i,s){const u=s.directiveEnd,c=i.data,f=s.attrs,v=[];let E=null,D=null;for(let x=s.directiveStart;x<u;x++){const R=c[x],j=R.inputs,q=null===f||iE(s)?null:rh(j,f);v.push(q),E=Al(j,x,E),D=Al(R.outputs,x,D)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=E,s.outputs=D}(i,a)}v&&function bu(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new _e(-301,!1);u.push(s[c],f)}}}(a,u,v)}return a.mergedAttrs=Ia(a.mergedAttrs,a.attrs),c}function IE(i,s,a,u,c,f){const v=f.hostBindings;if(v){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const D=~s.index;(function ND(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(u,c,v)}}function wE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Jy(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function CE(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Sr(s)&&(a[""]=i)}}function Bc(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Nf(i,s,a,u,c){i.data[u]=c;const f=c.factory||(c.factory=_r(c.type)),v=new Vo(f,Sr(c),null);i.blueprint[u]=v,a[u]=v,IE(i,s,0,u,jc(i,a,c.hostVars,$e),c)}function Sg(i,s,a){const u=Ne(s,i),c=xf(a),f=i[10],v=Mg(i,Dl(i,c,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=v}function Eo(i,s,a,u,c,f){const v=Ne(i,s);Of(s[11],v,f,i.value,a,u,c)}function Of(i,s,a,u,c,f,v){if(null==f)yn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const E=null==v?re(f):v(f,u||"",c);yn(i)?i.setAttribute(s,c,E,a):a?s.setAttributeNS(a,c,E):s.setAttribute(c,E)}}function Xy(i,s,a,u,c,f){const v=f[s];if(null!==v){const E=u.setInput;for(let D=0;D<v.length;){const x=v[D++],R=v[D++],j=v[D++];null!==E?u.setInput(a,j,x,R):a[R]=j}}}function rh(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function ev(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function tv(i,s){const a=Ut(s,i);if(On(a)){const u=a[1];80&a[2]?Nr(u,a,u.template,a[8]):a[5]>0&&kf(a)}}function kf(i){for(let u=Va(i);null!==u;u=Nc(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const v=f[1];Nr(v,f,v.template,f[8])}else f[5]>0&&kf(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=Ut(a[u],i);On(c)&&c[5]>0&&kf(c)}}function TE(i,s){const a=Ut(s,i),u=a[1];(function AE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),th(u,a,a[8])}function Mg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function xg(i){for(;i;){i[2]|=64;const s=Ln(i);if(za(i)&&!s)return i;i=s}return null}function Rg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=gf(a),c=u[1];pE(c,u,c.template,a)}}function ih(i,s,a){const u=s[10];u.begin&&u.begin();try{Nr(i,s,i.template,a)}catch(c){throw rv(s,c),c}finally{u.end&&u.end()}}function ME(i){Rg(i[8])}function Ml(i,s,a){ma(0),s(i,a)}const RE=wl;function xl(i){return i[7]||(i[7]=[])}function nv(i){return i.cleanup||(i.cleanup=[])}function $c(i,s,a){return(null===i||Sr(i))&&(a=function P(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function rv(i,s){const a=i[9],u=a?a.get(si,null):null;u&&u.handleError(s)}function iv(i,s,a,u,c){for(let f=0;f<a.length;){const v=a[f++],E=a[f++],D=s[v],x=i.data[v];null!==x.setInput?x.setInput(D,c,u,E):D[E]=c}}function Ws(i,s,a){const u=ye(s,i);Ef(i[11],u,a)}function Ng(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?f=E:1==f?c=le(c,E):2==f&&(u=le(u,E+": "+s[++v]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}function NE(i){const s=Go(i);ih(s[1],s,i)}function Or(i){!function SE(i,s){if(0===i.flags&&i.clean==wl){let u;i.flags|=s,i.clean=new Promise(c=>u=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,Rg(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=wl,u(null)})}}(xg(Go(i))[8],1)}const Hc=new hn("INJECTOR",-1);class OE{get(s,a=cs){if(a===cs){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const Ff=new hn("Set Injector scope."),Lf={},PE={};let Og;function oh(){return void 0===Og&&(Og=new OE),Og}function Tu(i,s=null,a=null,u){const c=ov(i,s,a,u);return c._resolveInjectorDefTypes(),c}function ov(i,s=null,a=null,u){return new kE(i,a,s||oh(),u)}class kE{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Hi(a,E=>this.processProvider(E,s,a)),Hi([s],E=>this.processInjectorType(E,[],f)),this.records.set(Hc,Kn(void 0,this));const v=this.records.get(Ff);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=cs,u=mt.Default){this.assertNotDestroyed();const c=Ve(this),f=Yn(void 0);try{if(!(u&mt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function Zn(i){return"function"==typeof i||"object"==typeof i&&i instanceof hn}(s)&&jt(s);E=D&&this.injectableDefInScope(D)?Kn(Pg(s),Lf):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&mt.Self?oh():this.parent).get(s,a=u&mt.Optional&&a===cs?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[il]=v[il]||[]).unshift(de(s)),c)throw v;return function Na(i,s,a,u){const c=i[il];throw s[B]&&c.unshift(s[B]),i.message=function Oa(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=de(s);if(Array.isArray(s))c=s.map(de).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):de(E)))}c=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(A,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[il]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Yn(f),Ve(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(de(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processInjectorType(s,a,u){if(!(s=Y(s)))return!1;let c=Dr(s);const f=null==c&&s.ngModule||void 0,v=void 0===f?s:f,E=-1!==u.indexOf(v);if(void 0!==f&&(c=Dr(f)),null==c)return!1;if(null!=c.imports&&!E){let R;u.push(v);try{Hi(c.imports,j=>{this.processInjectorType(j,a,u)&&(void 0===R&&(R=[]),R.push(j))})}finally{}if(void 0!==R)for(let j=0;j<R.length;j++){const{ngModule:q,providers:te}=R[j];Hi(te,Te=>this.processProvider(Te,q,te||yt))}}this.injectorDefTypes.add(v);const D=_r(v)||(()=>new v);this.records.set(v,Kn(D,Lf));const x=c.providers;if(null!=x&&!E){const R=s;Hi(x,j=>this.processProvider(j,R,x))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let c=zs(s=Y(s))?s:Y(s&&s.provide);const f=function av(i,s,a){return un(i)?Kn(void 0,i.useValue):Kn(FE(i),Lf)}(s);if(zs(s)||!0!==s.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=Kn(void 0,Lf,!0),v.factory=()=>xt(v.multi),this.records.set(c,v)),c=s,v.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===Lf&&(a.value=PE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ri(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Pg(i){const s=jt(i),a=null!==s?s.factory:_r(i);if(null!==a)return a;if(i instanceof hn)throw new _e(204,!1);if(i instanceof Function)return function Vf(i){const s=i.length;if(s>0)throw ls(s,"?"),new _e(204,!1);const a=function zr(i){const s=i&&(i[vi]||i[Qi]);if(s){const a=function Zi(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new _e(204,!1)}function FE(i,s,a){let u;if(zs(i)){const c=Y(i);return _r(c)||Pg(c)}if(un(i))u=()=>Y(i.useValue);else if(function VE(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...xt(i.deps||[]));else if(function LE(i){return!(!i||!i.useExisting)}(i))u=()=>ut(Y(i.useExisting));else{const c=Y(i&&(i.useClass||i.provide));if(!function kg(i){return!!i.deps}(i))return _r(c)||Pg(c);u=()=>new c(...xt(i.deps))}return u}function Kn(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function un(i){return null!==i&&"object"==typeof i&&ee in i}function zs(i){return"function"==typeof i}let Ks=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return Tu({name:""},u,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return Tu({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=cs,i.NULL=new OE,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>ut(Hc)}),i.__NG_ELEMENT_ID__=-1,i})();function Rl(i){Vg(i);const s=ii(i);return null===s?null:(void 0===s.component&&(s.component=function Mc(i,s){const a=s[1].data[i];return 2&a.flags?s[a.directiveStart]:null}(s.nodeIndex,s.lView)),s.component)}function UE(i){Vg(i);const s=ii(i);return null===s?null:s.lView[8]}function Zs(i){const s=ii(i);if(null===s)return null;let u,a=s.lView;for(;2===a[1].type&&(u=Ln(a));)a=u;return 512&a[2]?null:a[8]}function jE(i){return[...qo(i).components]}function Fg(i){const s=ii(i);return null===s?Ks.NULL:new Ti(s.lView[1].data[s.nodeIndex],s.lView)}function BE(i){if(i instanceof Text)return[];const s=ii(i);if(null===s)return[];const a=s.lView,u=a[1],c=s.nodeIndex;return(null==u?void 0:u.data[c])?(void 0===s.directives&&(s.directives=Fn(c,a,!1)),null===s.directives?[]:[...s.directives]):[]}function PD(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=Kt(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Jn.OnPush:Jn.Default};const u=Rn(s);return u?{inputs:u.inputs,outputs:u.outputs}:null}function uv(i){return ii(i).native}function ah(i){Vg(i);const s=ii(i);if(null===s)return[];const a=s.lView,c=a[7],f=a[1].cleanup,v=[];if(f&&c)for(let E=0;E<f.length;){const D=f[E++],x=f[E++];if("string"==typeof D){const R=D,j=b(a[x]),q=c[f[E++]],te=f[E++],Te="boolean"==typeof te||te>=0?"dom":"output",je="boolean"==typeof te&&te;i==j&&v.push({element:i,name:R,callback:q,useCapture:je,type:Te})}}return v.sort(jf),v}function jf(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function Lg(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function Vg(i){if("undefined"!=typeof Element&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}function LD(i){Or(i),jE(i).forEach(s=>NE(s))}let dv=!1;function VD(){dv||(dv=!0,Io("\u0275setProfiler",la),Io("getDirectiveMetadata",PD),Io("getComponent",Rl),Io("getContext",UE),Io("getListeners",ah),Io("getOwningComponent",Zs),Io("getHostElement",uv),Io("getInjector",Fg),Io("getRootComponents",jE),Io("getDirectives",BE),Io("applyChanges",LD))}function Io(i,s){if("undefined"==typeof COMPILED||!COMPILED){const a=zt;if(a){let u=a.ng;u||(u=a.ng={}),u[i]=s}}}function Bf(i,s={}){const a=s.rendererFactory||T,u=s.sanitizer||null,c=Kt(i);c.type!=i&&(c.type=i);const f=c.selectors[0][0],E=yE(a.createRenderer(null,null),s.host||f,c.encapsulation),D=c.onPush?576:528,x=ai(s.scheduler,s.playerHandler),R=a.createRenderer(E,c),j=bl(0,null,null,1,0,null,null,null,null,null),q=Dl(null,j,x,D,null,null,a,R,null,s.injector||null);let te;so(q);try{a.begin&&a.begin(),te=$E(hv(E,c,q,a,R,u),c,q,x,s.hostFeatures||null),th(j,q,null),Nr(j,q,null,null)}finally{Lo(),a.end&&a.end()}return te}function hv(i,s,a,u,c,f){const v=a[1];a[20]=i;const D=$a(v,20,2,"#host",null),x=D.mergedAttrs=s.hostAttrs;null!==x&&(Ng(D,x,!0),null!==i&&(Ju(c,i,x),null!==D.classes&&By(c,i,D.classes),null!==D.styles&&tE(c,i,D.styles)));const R=u.createRenderer(i,s),j=Dl(a,xf(s),null,s.onPush?64:16,a[20],D,u,R,f||null,null);return v.firstCreatePass&&(ba(Ca(D,a),v,s.type),Jy(v,D),Bc(D,a.length,1)),Mg(a,j),a[20]=j}function $E(i,s,a,u,c){const f=a[1],v=function RD(i,s,a){const u=jn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Nf(i,u,s,jc(i,s,1,null),a));const c=Gn(s,i,u.directiveStart,u);ir(c,s);const f=Ne(u,s);return f&&ir(f,s),c}(f,a,s);if(u.components.push(v),i[8]=v,c&&c.forEach(D=>D(v,s)),s.contentQueries){const D=jn();s.contentQueries(1,v,D.directiveStart)}const E=jn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(va(E.index),IE(a[1],E,0,E.directiveStart,E.directiveEnd,s),wE(s,v)),v}function ai(i,s){return{components:[],scheduler:i||ug,clean:RE,playerHandler:s||null,flags:0}}function Ug(i,s){is(gf(i)[1],jn())}function HE(i){return qo(i).clean}function uh(i){return Object.getPrototypeOf(i.prototype).constructor}function wo(i){let s=uh(i.type),a=!0;const u=[i];for(;s;){let c;if(Sr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new _e(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const v=i;v.inputs=jg(i.inputs),v.declaredInputs=jg(i.declaredInputs),v.outputs=jg(i.outputs);const E=c.hostBindings;E&&qE(i,E);const D=c.viewQuery,x=c.contentQueries;if(D&&$f(i,D),x&&GE(i,x),ae(i.inputs,c.inputs),ae(i.declaredInputs,c.declaredInputs),ae(i.outputs,c.outputs),Sr(c)&&c.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(i),E===wo&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fv(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Ia(c.hostAttrs,a=Ia(a,c.hostAttrs))}}(u)}function jg(i){return i===br?{}:i===yt?[]:i}function $f(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function GE(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,f)=>{s(u,c,f),a(u,c,f)}:s}function qE(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}const WE=["providersResolver"],UD=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function zE(i){let a,s=uh(i.type);a=Sr(i)?s.\u0275cmp:s.\u0275dir;const u=i;for(const c of WE)u[c]=a[c];if(Sr(a))for(const c of UD)u[c]=a[c]}let Nl=null;function Ol(){if(!Nl){const i=zt.Symbol;if(i&&i.iterator)Nl=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Nl=u)}}}return Nl}function KE(i,s){const a=lh(i),u=lh(s);return a&&u?function ZE(i,s,a){const u=i[Ol()](),c=s[Ol()]();for(;;){const f=u.next(),v=c.next();if(f.done&&v.done)return!0;if(f.done||v.done||!a(f.value,v.value))return!1}}(i,s,KE):!(a||!i||"object"!=typeof i&&"function"!=typeof i||u||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function lh(i){return!!pv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ol()in i)}function pv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ko(i,s,a){return i[s]=a}function Hf(i,s){return i[s]}function Wi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Do(i,s,a,u){const c=Wi(i,s,a);return Wi(i,s+1,u)||c}function Au(i,s,a,u,c){const f=Do(i,s,a,u);return Wi(i,s+2,c)||f}function Co(i,s,a,u,c,f){const v=Do(i,s,a,u);return Do(i,s+2,c,f)||v}function gv(i,s,a,u){const c=Pe();return Wi(c,Us(),s)&&(Bt(),Eo(Hn(),c,i,s,a,u)),gv}function ch(i,s){let a=!1,u=Hr();for(let f=1;f<s.length;f+=2)a=Wi(i,u++,s[f])||a;if(io(u),!a)return $e;let c=s[0];for(let f=1;f<s.length;f+=2)c+=re(s[f])+s[f+1];return c}function Gc(i,s,a,u){return Wi(i,Us(),a)?s+re(a)+u:$e}function hr(i,s,a,u,c,f){const E=Do(i,Hr(),a,c);return ws(2),E?s+re(a)+u+re(c)+f:$e}function dh(i,s,a,u,c,f,v,E){const x=Au(i,Hr(),a,c,v);return ws(3),x?s+re(a)+u+re(c)+f+re(v)+E:$e}function qc(i,s,a,u,c,f,v,E,D,x){const j=Co(i,Hr(),a,c,v,D);return ws(4),j?s+re(a)+u+re(c)+f+re(v)+E+re(D)+x:$e}function zi(i,s,a,u,c,f,v,E,D,x,R,j){const q=Hr();let te=Co(i,q,a,c,v,D);return te=Wi(i,q+4,R)||te,ws(5),te?s+re(a)+u+re(c)+f+re(v)+E+re(D)+x+re(R)+j:$e}function Wc(i,s,a,u,c,f,v,E,D,x,R,j,q,te){const Te=Hr();let je=Co(i,Te,a,c,v,D);return je=Do(i,Te+4,R,q)||je,ws(6),je?s+re(a)+u+re(c)+f+re(v)+E+re(D)+x+re(R)+j+re(q)+te:$e}function Su(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je){const Xe=Hr();let lt=Co(i,Xe,a,c,v,D);return lt=Au(i,Xe+4,R,q,Te)||lt,ws(7),lt?s+re(a)+u+re(c)+f+re(v)+E+re(D)+x+re(R)+j+re(q)+te+re(Te)+je:$e}function zc(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt){const ke=Hr();let It=Co(i,ke,a,c,v,D);return It=Co(i,ke+4,R,q,Te,Xe)||It,ws(8),It?s+re(a)+u+re(c)+f+re(v)+E+re(D)+x+re(R)+j+re(q)+te+re(Te)+je+re(Xe)+lt:$e}function mv(i,s,a,u,c,f){const v=Pe(),E=Gc(v,s,a,u);return E!==$e&&Eo(Hn(),v,i,E,c,f),mv}function yv(i,s,a,u,c,f,v,E){const D=Pe(),x=hr(D,s,a,u,c,f);return x!==$e&&Eo(Hn(),D,i,x,v,E),yv}function vv(i,s,a,u,c,f,v,E,D,x){const R=Pe(),j=dh(R,s,a,u,c,f,v,E);return j!==$e&&Eo(Hn(),R,i,j,D,x),vv}function _v(i,s,a,u,c,f,v,E,D,x,R,j){const q=Pe(),te=qc(q,s,a,u,c,f,v,E,D,x);return te!==$e&&Eo(Hn(),q,i,te,R,j),_v}function Ev(i,s,a,u,c,f,v,E,D,x,R,j,q,te){const Te=Pe(),je=zi(Te,s,a,u,c,f,v,E,D,x,R,j);return je!==$e&&Eo(Hn(),Te,i,je,q,te),Ev}function Iv(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je){const Xe=Pe(),lt=Wc(Xe,s,a,u,c,f,v,E,D,x,R,j,q,te);return lt!==$e&&Eo(Hn(),Xe,i,lt,Te,je),Iv}function wv(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt){const ke=Pe(),It=Su(ke,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je);return It!==$e&&Eo(Hn(),ke,i,It,Xe,lt),wv}function Dv(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt,ke,It){const Jt=Pe(),wn=zc(Jt,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt);return wn!==$e&&Eo(Hn(),Jt,i,wn,ke,It),Dv}function Cv(i,s,a,u){const c=Pe(),f=ch(c,s);return f!==$e&&Eo(Hn(),c,i,f,a,u),Cv}function YE(i,s,a,u,c,f,v,E){const D=Pe(),x=Bt(),R=i+20,j=x.firstCreatePass?function jD(i,s,a,u,c,f,v,E,D){const x=s.consts,R=$a(s,i,4,v||null,dn(x,E));Yy(s,a,R,dn(x,D)),is(s,R);const j=R.tViews=bl(2,R,u,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,R),j.queries=s.queries.embeddedTView(R)),R}(R,x,D,s,a,u,c,f,v):x.data[R];Ci(j,!1);const q=D[11].createComment("");bf(x,D,q,j),ir(q,D),Mg(D,D[R]=ev(q,D,q,j)),Xs(j)&&Mf(x,D,j),null!=v&&Cl(D,j,E)}function JE(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}function XE(i){return Qt(function tc(){return pt.lFrame.contextLView}(),20+i)}const eI={\u0275\u0275defineInjectable:Xt,\u0275\u0275defineInjector:en,\u0275\u0275inject:ut,\u0275\u0275invalidFactoryDep:Tt,resolveForwardRef:Y};const tI=ce({provide:String,useValue:ce});function nI(i){return void 0!==i.useClass}function iI(i){return void 0!==i.useFactory}const De=js("Injectable",void 0,void 0,void 0,(i,s)=>function BD(i,s){let a=null,u=null;i.hasOwnProperty(vi)||Object.defineProperty(i,vi,{get:()=>(null===a&&(a=He().compileInjectable(eI,`ng:///${i.name}/\u0275prov.js`,function oI(i,s){const a=s||{providedIn:null},u={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(nI(a)||iI(a))&&void 0!==a.deps&&(u.deps=Yp(a.deps)),nI(a)?u.useClass=a.useClass:function rI(i){return tI in i}(a)?u.useValue=a.useValue:iI(a)?u.useFactory=a.useFactory:function sI(i){return void 0!==i.useExisting}(a)&&(u.useExisting=a.useExisting),u}(i,s))),a)}),i.hasOwnProperty(at)||Object.defineProperty(i,at,{get:()=>{if(null===u){const c=He();u=c.compileFactory(eI,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:sl(i),target:c.FactoryTarget.Injectable})}return u},configurable:!0})}(i,s));function Qs(i){return i.length>1?" ("+function Bg(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(u=>de(u.token)).join(" -> ")+")":""}function bv(i,s,a,u){const c=[s],f=a(c),v=u?function xc(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,u=Error(a);return u[yo]=s,u}(f,u):Error(f);return v.addKey=Gf,v.keys=c,v.injectors=[i],v.constructResolvingMessage=a,v[yo]=u,v}function Gf(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function $g(i,s){const a=[];for(let u=0,c=s.length;u<c;u++){const f=s[u];a.push(f&&0!=f.length?f.map(de).join(" "):"?")}return Error("Cannot resolve all parameters for '"+de(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+de(i)+"' is decorated with Injectable.")}function mi(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class Zo{constructor(s,a){if(this.token=s,this.id=a,!s)throw new Error("Token must be defined!");this.displayName=de(this.token)}static get(s){return Hg.get(Y(s))}static get numberOfKeys(){return Hg.numberOfKeys}}class Tv{constructor(){this._allKeys=new Map}get(s){if(s instanceof Zo)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new Zo(s,Zo.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const Hg=new Tv;class Pl{constructor(s){this.reflectionCapabilities=s}updateCapabilities(s){this.reflectionCapabilities=s}factory(s){return this.reflectionCapabilities.factory(s)}parameters(s){return this.reflectionCapabilities.parameters(s)}annotations(s){return this.reflectionCapabilities.annotations(s)}propMetadata(s){return this.reflectionCapabilities.propMetadata(s)}hasLifecycleHook(s,a){return this.reflectionCapabilities.hasLifecycleHook(s,a)}getter(s){return this.reflectionCapabilities.getter(s)}setter(s){return this.reflectionCapabilities.setter(s)}method(s){return this.reflectionCapabilities.method(s)}importUri(s){return this.reflectionCapabilities.importUri(s)}resourceUri(s){return this.reflectionCapabilities.resourceUri(s)}resolveIdentifier(s,a,u,c){return this.reflectionCapabilities.resolveIdentifier(s,a,u,c)}resolveEnum(s,a){return this.reflectionCapabilities.resolveEnum(s,a)}}const Av=new Pl(new Cn);class Gg{constructor(s,a,u){this.key=s,this.optional=a,this.visibility=u}static fromKey(s){return new Gg(s,!1,null)}}const lI=[];class qf{constructor(s,a,u){this.key=s,this.resolvedFactories=a,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class kl{constructor(s,a){this.factory=s,this.dependencies=a}}function Qc(i){let s,a;if(i.useClass){const u=Y(i.useClass);s=Av.factory(u),a=Mv(u)}else i.useExisting?(s=u=>u,a=[Gg.fromKey(Zo.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function Sv(i,s){if(s){const a=s.map(u=>[u]);return s.map(u=>dI(i,u,a))}return Mv(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=lI);return new kl(s,a)}function hh(i){return new qf(Zo.get(i.provide),[Qc(i)],i.multi||!1)}function Wf(i){const u=function cI(i,s){for(let a=0;a<i.length;a++){const u=i[a],c=s.get(u.key.id);if(c){if(u.multiProvider!==c.multiProvider)throw mi(c,u);if(u.multiProvider)for(let f=0;f<u.resolvedFactories.length;f++)c.resolvedFactories.push(u.resolvedFactories[f]);else s.set(u.key.id,u)}else{let f;f=u.multiProvider?new qf(u.key,u.resolvedFactories.slice(),u.multiProvider):u,s.set(u.key.id,f)}}return s}(qg(i,[]).map(hh),new Map);return Array.from(u.values())}function qg(i,s){return i.forEach(a=>{if(a instanceof Sa)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function aI(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);qg(a,s)}}),s}function Mv(i){const s=Av.parameters(i);if(!s)return[];if(s.some(a=>null==a))throw $g(i,s);return s.map(a=>dI(i,a,s))}function dI(i,s,a){let u=null,c=!1;if(!Array.isArray(s))return Wg(s instanceof ds?s.token:s,c,null);let f=null;for(let v=0;v<s.length;++v){const E=s[v];E instanceof Sa?u=E:E instanceof ds?u=E.token:E instanceof hs?c=!0:E instanceof bs||E instanceof kn?f=E:E instanceof hn&&(u=E)}if(u=Y(u),null!=u)return Wg(u,c,f);throw $g(i,a)}function Wg(i,s,a){return new Gg(Zo.get(i),s,a)}const fh={};class Fl{static resolve(s){return Wf(s)}static resolveAndCreate(s,a){const u=Fl.resolve(s);return Fl.fromResolvedProviders(u,a)}static fromResolvedProviders(s,a){return new zf(s,a)}}let zf=(()=>{class i{constructor(a,u){this._constructionCounter=0,this._providers=a,this.parent=u||null;const c=a.length;this.keyIds=[],this.objs=[];for(let f=0;f<c;f++)this.keyIds[f]=a[f].key.id,this.objs[f]=fh}get(a,u=cs){return this._getByKey(Zo.get(a),null,u)}resolveAndCreateChild(a){const u=Fl.resolve(a);return this.createChildFromResolved(u)}createChildFromResolved(a){const u=new i(a);return u.parent=this,u}resolveAndInstantiate(a){return this.instantiateResolved(Fl.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function uI(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function $D(i,s){return bv(i,s,function(a){return`Cannot instantiate cyclic dependency!${Qs(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const u=[];for(let c=0;c<a.resolvedFactories.length;++c)u[c]=this._instantiate(a,a.resolvedFactories[c]);return u}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,u){const c=u.factory;let f,v;try{f=u.dependencies.map(E=>this._getByReflectiveDependency(E))}catch(E){throw E.addKey&&E.addKey(this,a.key),E}try{v=c(...f)}catch(E){throw function Zc(i,s,a,u){return bv(i,u,function(c){const f=de(c[0].token);return`${s.message}: Error during instantiation of ${f}!${Qs(c)}.`},s)}(this,E,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:cs)}_getByKey(a,u,c){return a===i.INJECTOR_KEY?this:u instanceof bs?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,u)}_getObjByKeyId(a){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===a)return this.objs[u]===fh&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return fh}_throwOrNull(a,u){if(u!==cs)return u;throw function Kc(i,s){return bv(i,s,function(a){return`No provider for ${de(a[0].token)}!${Qs(a)}`})}(this,a)}_getByKeySelf(a,u){const c=this._getObjByKeyId(a.id);return c!==fh?c:this._throwOrNull(a,u)}_getByKeyDefault(a,u,c){let f;for(f=c instanceof kn?this.parent:this;f instanceof i;){const v=f,E=v._getObjByKeyId(a.id);if(E!==fh)return E;f=v.parent}return null!==f?f.get(a.token,u):this._throwOrNull(a,u)}get displayName(){return`ReflectiveInjector(providers: [${function ph(i,s){const a=[];for(let u=0;u<i._providers.length;++u)a[u]=s(i.getProviderAtIndex(u));return a}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=Zo.get(Ks),i})();function Kf(i,s=mt.Default){const a=Pe();return null===a?ut(i,s):Xu(jn(),a,Y(i),s)}function xv(){throw new Error("invalid")}function Rv(i,s,a){const u=Pe();return Wi(u,Us(),s)&&qi(Bt(),Hn(),u,i,s,u[11],a,!1),Rv}function Nv(i,s,a,u,c){const v=c?"class":"style";iv(i,a,s.inputs[v],v,u)}function Yc(i,s,a,u){const c=Pe(),f=Bt(),v=20+i,E=c[11],D=c[v]=Oc(E,s,function Kp(){return pt.lFrame.currentNamespace}()),x=f.firstCreatePass?function HD(i,s,a,u,c,f,v){const E=s.consts,x=$a(s,i,2,c,dn(E,f));return Yy(s,a,x,dn(E,v)),null!==x.attrs&&Ng(x,x.attrs,!1),null!==x.mergedAttrs&&Ng(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(v,f,c,0,s,a,u):f.data[v];Ci(x,!0);const R=x.mergedAttrs;null!==R&&Ju(E,D,R);const j=x.classes;null!==j&&By(E,D,j);const q=x.styles;return null!==q&&tE(E,D,q),64!=(64&x.flags)&&bf(f,c,D,x),0===function Is(){return pt.lFrame.elementDepthCount}()&&ir(D,c),function ji(){pt.lFrame.elementDepthCount++}(),Xs(x)&&(Mf(f,c,x),Sf(f,x,c)),null!==u&&Cl(c,x),Yc}function Qo(){let i=jn();qu()?Wu():(i=i.parent,Ci(i,!1));const s=i;!function rs(){pt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(is(a,i),ia(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function uc(i){return 0!=(16&i.flags)}(s)&&Nv(a,s,Pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function qh(i){return 0!=(32&i.flags)}(s)&&Nv(a,s,Pe(),s.stylesWithoutHost,!1),Qo}function Mu(i,s,a,u){return Yc(i,s,a,u),Qo(),Mu}function zg(i,s,a){const u=Pe(),c=Bt(),f=i+20,v=c.firstCreatePass?function qD(i,s,a,u,c){const f=s.consts,v=dn(f,u),E=$a(s,i,8,"ng-container",v);return null!==v&&Ng(E,v,!0),Yy(s,a,E,dn(f,c)),null!==s.queries&&s.queries.elementStart(s,E),E}(f,c,u,s,a):c.data[f];Ci(v,!0);const E=u[f]=u[11].createComment("");return bf(c,u,E,v),ir(E,u),Xs(v)&&(Mf(c,u,v),Sf(c,v,u)),null!=a&&Cl(u,v),zg}function gh(){let i=jn();const s=Bt();return qu()?Wu():(i=i.parent,Ci(i,!1)),s.firstCreatePass&&(is(s,i),ia(i)&&s.queries.elementEnd(i)),gh}function mh(i,s,a){return zg(i,s,a),gh(),mh}function hI(){return Pe()}function Kg(i){return!!i&&"function"==typeof i.then}function yh(i){return!!i&&"function"==typeof i.subscribe}const Zf=yh;function vh(i,s,a,u){const c=Pe(),f=Bt(),v=jn();return Ov(f,c,c[11],v,i,s,!!a,u),vh}function Zg(i,s){const a=jn(),u=Pe(),c=Bt();return Ov(c,u,$c(eu(c.data),a,u),a,i,s,!1),Zg}function Ov(i,s,a,u,c,f,v,E){const D=Xs(u),R=i.firstCreatePass&&nv(i),j=s[8],q=xl(s);let te=!0;if(3&u.type||E){const Xe=Ne(u,s),lt=E?E(Xe):Xe,ke=q.length,It=E?Jt=>E(b(Jt[u.index])):u.index;if(yn(a)){let Jt=null;if(!E&&D&&(Jt=function Ss(i,s,a,u){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const v=c[f];if(v===a&&c[f+1]===u){const E=s[7],D=c[f+2];return E.length>D?E[D]:null}"string"==typeof v&&(f+=2)}return null}(i,s,c,u.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=f,Jt.__ngLastListenerFn__=f,te=!1;else{f=Yf(u,s,j,f,!1);const wn=a.listen(lt,c,f);q.push(f,wn),R&&R.push(c,It,ke,ke+1)}}else f=Yf(u,s,j,f,!0),lt.addEventListener(c,f,v),q.push(f),R&&R.push(c,It,ke,v)}else f=Yf(u,s,j,f,!1);const Te=u.outputs;let je;if(te&&null!==Te&&(je=Te[c])){const Xe=je.length;if(Xe)for(let lt=0;lt<Xe;lt+=2){const Rs=s[je[lt]][je[lt+1]].subscribe(f),Ql=q.length;q.push(f,Rs),R&&R.push(c,u.index,Ql,-(Ql+1))}}}function Qf(i,s,a,u){try{return $r(6,s,a),!1!==a(u)}catch(c){return rv(i,c),!1}finally{$r(7,s,a)}}function Yf(i,s,a,u,c){return function f(v){if(v===Function)return u;const E=2&i.flags?Ut(i.index,s):s;0==(32&s[2])&&xg(E);let D=Qf(s,a,u,v),x=f.__ngNextListenerFn__;for(;x;)D=Qf(s,a,x,v)&&D,x=x.__ngNextListenerFn__;return c&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Pv(i=1){return function Hh(i){return(pt.lFrame.contextLView=function Qu(i,s){for(;i>0;)s=s[15],i--;return s}(i,pt.lFrame.contextLView))[8]}(i)}function Ll(i,s){let a=null;const u=function vl(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===u?Pc(i,f,!0):Be(u,f))return c}else a=c}return a}function Jc(i){const s=Pe()[16][6];if(!s.projection){const u=s.projection=ls(i?i.length:1,null),c=u.slice();let f=s.child;for(;null!==f;){const v=i?Ll(f,i):0;null!==v&&(c[v]?c[v].projectionNext=f:u[v]=f,c[v]=f),f=f.next}}}function kv(i,s=0,a){const u=Pe(),c=Bt(),f=$a(c,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Wu(),64!=(64&f.flags)&&function qs(i,s,a){jy(s[11],0,s,a,Py(i,a,s),gg(a.parent||s[6],a,s))}(c,u,f)}function xu(i,s,a){return Qg(i,"",s,"",a),xu}function Qg(i,s,a,u,c){const f=Pe(),v=Gc(f,s,a,u);return v!==$e&&qi(Bt(),Hn(),f,i,v,f[11],c,!1),Qg}function Vl(i,s,a,u,c,f,v){const E=Pe(),D=hr(E,s,a,u,c,f);return D!==$e&&qi(Bt(),Hn(),E,i,D,E[11],v,!1),Vl}function Yg(i,s,a,u,c,f,v,E,D){const x=Pe(),R=dh(x,s,a,u,c,f,v,E);return R!==$e&&qi(Bt(),Hn(),x,i,R,x[11],D,!1),Yg}function Ha(i,s,a,u,c,f,v,E,D,x,R){const j=Pe(),q=qc(j,s,a,u,c,f,v,E,D,x);return q!==$e&&qi(Bt(),Hn(),j,i,q,j[11],R,!1),Ha}function Ru(i,s,a,u,c,f,v,E,D,x,R,j,q){const te=Pe(),Te=zi(te,s,a,u,c,f,v,E,D,x,R,j);return Te!==$e&&qi(Bt(),Hn(),te,i,Te,te[11],q,!1),Ru}function Jf(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te){const je=Pe(),Xe=Wc(je,s,a,u,c,f,v,E,D,x,R,j,q,te);return Xe!==$e&&qi(Bt(),Hn(),je,i,Xe,je[11],Te,!1),Jf}function Jg(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe){const lt=Pe(),ke=Su(lt,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je);return ke!==$e&&qi(Bt(),Hn(),lt,i,ke,lt[11],Xe,!1),Jg}function Fv(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt,ke){const It=Pe(),Jt=zc(It,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt);return Jt!==$e&&qi(Bt(),Hn(),It,i,Jt,It[11],ke,!1),Fv}function Lv(i,s,a){const u=Pe(),c=ch(u,s);return c!==$e&&qi(Bt(),Hn(),u,i,c,u[11],a,!1),Lv}function Vv(i,s,a,u,c){const f=i[a+1],v=null===s;let E=u?Sn(f):Iu(f),D=!1;for(;0!==E&&(!1===D||v);){const R=i[E+1];zD(i[E],s)&&(D=!0,i[E+1]=u?Ig(R):qy(R)),E=u?Sn(R):Iu(R)}D&&(i[a+1]=u?qy(f):Ig(f))}function zD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&$o(i,s)>=0}const ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uv(i){return i.substring(ui.key,ui.keyEnd)}function Xc(i){return i.substring(ui.value,ui.valueEnd)}function jv(i,s){const a=ui.textEnd;return a===s?-1:(s=ui.keyEnd=function $v(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,ui.key=s,a),Ul(i,s,a))}function pI(i,s){const a=ui.textEnd;let u=ui.key=Ul(i,s,a);return a===u?-1:(u=ui.keyEnd=function ep(i,s,a){let u;for(;s<a&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,a),u=tp(i,u,a),u=ui.value=Ul(i,u,a),u=ui.valueEnd=function Hv(i,s,a){let u=-1,c=-1,f=-1,v=s,E=v;for(;v<a;){const D=i.charCodeAt(v++);if(59===D)return E;34===D||39===D?E=v=gI(i,D,v,a):s===v-4&&85===f&&82===c&&76===u&&40===D?E=v=gI(i,41,v,a):D>32&&(E=v),f=c,c=u,u=-33&D}return E}(i,u,a),tp(i,u,a))}function Bv(i){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=i.length}function Ul(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function tp(i,s,a,u){return(s=Ul(i,s,a))<a&&s++,s}function gI(i,s,a,u){let c=-1,f=a;for(;f<u;){const v=i.charCodeAt(f++);if(v==s&&92!==c)return f;c=92==v&&92===c?0:v}throw new Error}function em(i,s,a){return To(i,s,a,!1),em}function Gv(i,s){return To(i,s,null,!0),Gv}function bo(i){Yo(EI,yI,i,!1)}function yI(i,s){for(let a=function fI(i){return Bv(i),pI(i,Ul(i,0,ui.textEnd))}(s);a>=0;a=pI(s,a))EI(i,Uv(s),Xc(s))}function tm(i){Yo(Ai,Ga,i,!0)}function Ga(i,s){for(let a=function Xf(i){return Bv(i),jv(i,Ul(i,0,ui.textEnd))}(s);a>=0;a=jv(s,a))Ai(i,Uv(s),!0)}function To(i,s,a,u){const c=Pe(),f=Bt(),v=ws(2);f.firstUpdatePass&&vI(f,i,v,u),s!==$e&&Wi(c,v,s)&&II(f,f.data[Gr()],c,c[11],i,c[v+1]=function KD(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(fs(i)))),i}(s,a),u,v)}function Yo(i,s,a,u){const c=Bt(),f=ws(2);c.firstUpdatePass&&vI(c,null,f,u);const v=Pe();if(a!==$e&&Wi(v,f,a)){const E=c.data[Gr()];if(om(E,u)&&!qv(c,f)){let D=u?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=le(D,a||"")),Nv(c,E,v,a,u)}else!function zv(i,s,a,u,c,f,v,E){c===$e&&(c=yt);let D=0,x=0,R=0<c.length?c[0]:null,j=0<f.length?f[0]:null;for(;null!==R||null!==j;){const q=D<c.length?c[D+1]:void 0,te=x<f.length?f[x+1]:void 0;let je,Te=null;R===j?(D+=2,x+=2,q!==te&&(Te=j,je=te)):null===j||null!==R&&R<j?(D+=2,Te=R):(x+=2,Te=j,je=te),null!==Te&&II(i,s,a,u,Te,je,v,E),R=D<c.length?c[D]:null,j=x<f.length?f[x]:null}}(c,E,v,v[11],v[f+1],v[f+1]=function _I(i,s,a){if(null==a||""===a)return yt;const u=[],c=fs(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(u,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(u,f,c[f]);else"string"==typeof c&&s(u,c);return u}(i,s,a),u,f)}}function qv(i,s){return s>=i.expandoStartIndex}function vI(i,s,a,u){const c=i.data;if(null===c[a+1]){const f=c[Gr()],v=qv(i,a);om(f,u)&&null===s&&!v&&(s=!1),s=function _h(i,s,a,u){const c=eu(i);let f=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=Ih(a=rm(null,i,s,a,u),s.attrs,u),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=rm(c,i,s,a,u),null===f){let D=function Eh(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Iu(u))return i[Sn(u)]}(i,s,u);void 0!==D&&Array.isArray(D)&&(D=rm(null,i,s,D[1],u),D=Ih(D,s.attrs,u),function Wv(i,s,a,u){i[Sn(a?s.classBindings:s.styleBindings)]=u}(i,s,u,D))}else f=function nm(i,s,a){let u;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)u=Ih(u,i[f].hostAttrs,a);return Ih(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,u),function WD(i,s,a,u,c,f){let v=f?s.classBindings:s.styleBindings,E=Sn(v),D=Iu(v);i[u]=a;let R,x=!1;if(Array.isArray(a)){const j=a;R=j[1],(null===R||$o(j,R)>0)&&(x=!0)}else R=a;if(c)if(0!==D){const q=Sn(i[E+1]);i[u+1]=Fe(q,E),0!==q&&(i[q+1]=Wy(i[q+1],u)),i[E+1]=function bD(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Fe(E,0),0!==E&&(i[E+1]=Wy(i[E+1],u)),E=u;else i[u+1]=Fe(D,0),0===E?E=u:i[D+1]=Wy(i[D+1],u),D=u;x&&(i[u+1]=qy(i[u+1])),Vv(i,R,u,!0),Vv(i,R,u,!1),function Xg(i,s,a,u,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&$o(f,s)>=0&&(a[u+1]=Ig(a[u+1]))}(s,R,i,u,f),v=Fe(E,D),f?s.classBindings=v:s.styleBindings=v}(c,f,s,a,v,u)}}function rm(i,s,a,u,c){let f=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(f=s[E],u=Ih(u,f.hostAttrs,c),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function Ih(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?c=v:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ai(i,v,!!a||s[++f]))}return void 0===i?null:i}function EI(i,s,a){Ai(i,s,fs(a))}function II(i,s,a,u,c,f,v,E){if(!(3&s.type))return;const D=i.data,x=D[E+1];sm(function oE(i){return 1==(1&i)}(x)?im(D,s,a,c,Iu(x),v):void 0)||(sm(f)||function Gy(i){return 2==(2&i)}(x)&&(f=im(D,null,a,c,E,v)),function Qd(i,s,a,u,c){const f=yn(i);if(s)c?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:me.DashCase;if(null==c)f?i.removeStyle(a,u,v):a.style.removeProperty(u);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),v|=me.Important),f?i.setStyle(a,u,c,v):a.style.setProperty(u,c,E?"important":"")}}}(u,v,ye(Gr(),a),c,f))}function im(i,s,a,u,c,f){const v=null===s;let E;for(;c>0;){const D=i[c],x=Array.isArray(D),R=x?D[1]:D,j=null===R;let q=a[c+1];q===$e&&(q=j?yt:void 0);let te=j?pc(q,u):R===u?q:void 0;if(x&&!sm(te)&&(te=pc(D,u)),sm(te)&&(E=te,v))return E;const Te=i[c+1];c=v?Sn(Te):Iu(Te)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(E=pc(D,u))}return E}function sm(i){return void 0!==i}function om(i,s){return 0!=(i.flags&(s?16:32))}function li(i,s=""){const a=Pe(),u=Bt(),c=i+20,f=u.firstCreatePass?$a(u,c,1,s,null):u.data[c],v=a[c]=qd(a[11],s);bf(u,a,v,f),Ci(f,!1)}function Kv(i){return am("",i,""),Kv}function am(i,s,a){const u=Pe(),c=Gc(u,i,s,a);return c!==$e&&Ws(u,Gr(),c),am}function Zv(i,s,a,u,c){const f=Pe(),v=hr(f,i,s,a,u,c);return v!==$e&&Ws(f,Gr(),v),Zv}function Qv(i,s,a,u,c,f,v){const E=Pe(),D=dh(E,i,s,a,u,c,f,v);return D!==$e&&Ws(E,Gr(),D),Qv}function Yv(i,s,a,u,c,f,v,E,D){const x=Pe(),R=qc(x,i,s,a,u,c,f,v,E,D);return R!==$e&&Ws(x,Gr(),R),Yv}function Jv(i,s,a,u,c,f,v,E,D,x,R){const j=Pe(),q=zi(j,i,s,a,u,c,f,v,E,D,x,R);return q!==$e&&Ws(j,Gr(),q),Jv}function np(i,s,a,u,c,f,v,E,D,x,R,j,q){const te=Pe(),Te=Wc(te,i,s,a,u,c,f,v,E,D,x,R,j,q);return Te!==$e&&Ws(te,Gr(),Te),np}function um(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te){const je=Pe(),Xe=Su(je,i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te);return Xe!==$e&&Ws(je,Gr(),Xe),um}function lm(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe){const lt=Pe(),ke=zc(lt,i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe);return ke!==$e&&Ws(lt,Gr(),ke),lm}function rp(i){const s=Pe(),a=ch(s,i);return a!==$e&&Ws(s,Gr(),a),rp}function ip(i,s,a){Yo(Ai,Ga,Gc(Pe(),i,s,a),!0)}function wh(i,s,a,u,c){Yo(Ai,Ga,hr(Pe(),i,s,a,u,c),!0)}function sp(i,s,a,u,c,f,v){Yo(Ai,Ga,dh(Pe(),i,s,a,u,c,f,v),!0)}function cm(i,s,a,u,c,f,v,E,D){Yo(Ai,Ga,qc(Pe(),i,s,a,u,c,f,v,E,D),!0)}function dm(i,s,a,u,c,f,v,E,D,x,R){Yo(Ai,Ga,zi(Pe(),i,s,a,u,c,f,v,E,D,x,R),!0)}function hm(i,s,a,u,c,f,v,E,D,x,R,j,q){Yo(Ai,Ga,Wc(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q),!0)}function Xv(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te){Yo(Ai,Ga,Su(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te),!0)}function wI(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe){Yo(Ai,Ga,zc(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe),!0)}function e_(i){Yo(Ai,Ga,ch(Pe(),i),!0)}function DI(i,s,a){bo(Gc(Pe(),i,s,a))}function CI(i,s,a,u,c){bo(hr(Pe(),i,s,a,u,c))}function bI(i,s,a,u,c,f,v){bo(dh(Pe(),i,s,a,u,c,f,v))}function t_(i,s,a,u,c,f,v,E,D){bo(qc(Pe(),i,s,a,u,c,f,v,E,D))}function op(i,s,a,u,c,f,v,E,D,x,R){bo(zi(Pe(),i,s,a,u,c,f,v,E,D,x,R))}function Dh(i,s,a,u,c,f,v,E,D,x,R,j,q){bo(Wc(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q))}function fm(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te){bo(Su(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te))}function n_(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe){bo(zc(Pe(),i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe))}function TI(i){bo(ch(Pe(),i))}function r_(i,s,a,u,c){return To(i,Gc(Pe(),s,a,u),c,!1),r_}function i_(i,s,a,u,c,f,v){return To(i,hr(Pe(),s,a,u,c,f),v,!1),i_}function s_(i,s,a,u,c,f,v,E,D){return To(i,dh(Pe(),s,a,u,c,f,v,E),D,!1),s_}function o_(i,s,a,u,c,f,v,E,D,x,R){return To(i,qc(Pe(),s,a,u,c,f,v,E,D,x),R,!1),o_}function ed(i,s,a,u,c,f,v,E,D,x,R,j,q){return To(i,zi(Pe(),s,a,u,c,f,v,E,D,x,R,j),q,!1),ed}function ap(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te){return To(i,Wc(Pe(),s,a,u,c,f,v,E,D,x,R,j,q,te),Te,!1),ap}function jl(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe){return To(i,Su(Pe(),s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je),Xe,!1),jl}function up(i,s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt,ke){return To(i,zc(Pe(),s,a,u,c,f,v,E,D,x,R,j,q,te,Te,je,Xe,lt),ke,!1),up}function Ch(i,s,a){return To(i,ch(Pe(),s),a,!1),Ch}function td(i,s,a){const u=Pe();return Wi(u,Us(),s)&&qi(Bt(),Hn(),u,i,s,u[11],a,!0),td}function lp(i,s,a){const u=Pe();if(Wi(u,Us(),s)){const f=Bt(),v=Hn();qi(f,v,u,i,s,$c(eu(f.data),v,u),a,!0)}return lp}const Bl=void 0;var u_=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function a_(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Ys={};function AI(i,s,a){"string"!=typeof s&&(a=s,s=i[At.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Ys[s]=i,a&&(Ys[s][At.ExtraData]=a)}function l_(i){const s=function gm(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=pm(s);if(a)return a;const u=s.split("-")[0];if(a=pm(u),a)return a;if("en"===u)return u_;throw new Error(`Missing locale data for the locale "${i}".`)}function c_(i){return l_(i)[At.CurrencyCode]||null}function SI(i){return l_(i)[At.PluralCase]}function pm(i){return i in Ys||(Ys[i]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[i]),Ys[i]}function ZD(){Ys={}}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const d_=["zero","one","two","few","many"],qa="en-US",mm={marker:"element"},ym={marker:"ICU"};var fr=(()=>((fr=fr||{})[fr.SHIFT=2]="SHIFT",fr[fr.APPEND_EAGERLY=1]="APPEND_EAGERLY",fr[fr.COMMENT=2]="COMMENT",fr))();let xI=qa;function vm(i){(function ft(i,s){null==i&&Et(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(xI=i.toLowerCase().replace(/_/g,"-"))}function _m(i,s,a){const u=s.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?mg(i,0,a):b(a[c])}function RI(i,s,a,u,c){const f=s.insertBeforeIndex;if(Array.isArray(f)){let v=u,E=null;if(3&s.type||(E=v,v=c),null!==v&&0==(2&s.flags))for(let D=1;D<f.length;D++)ja(i,v,a[f[D]],E,!1)}}function Em(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];NI(u)||f_(u,s)&&null===OI(u)&&p_(u,s.index)}}function NI(i){return!(64&i.type)}function f_(i,s){return NI(s)||i.index>s.index}function OI(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function p_(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Ly(_m,RI),i.insertBeforeIndex=s)}function nd(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function $l(i,s,a){const u=Tg(i,a,64,null,null);return Em(s,u),u}function Th(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function rd(i){return i>>>17}function id(i){return(131070&i)>>>1}let cp=0,dp=0;function Im(i,s,a,u){const c=a[11];let v,f=null;for(let E=0;E<s.length;E++){const D=s[E];if("string"==typeof D){const x=s[++E];null===a[x]&&(a[x]=qd(c,D))}else if("number"==typeof D)switch(1&D){case 0:const x=rd(D);let R,j;if(null===f&&(f=x,v=Cf(c,u)),x===f?(R=u,j=v):(R=null,j=b(a[x])),null!==j){const je=id(D);ja(c,j,a[je],R,!1);const lt=nd(i,je);if(null!==lt&&"object"==typeof lt){const ke=Th(lt,a);null!==ke&&Im(i,lt.create[ke],a,a[lt.anchorIdx])}}break;case 1:const te=s[++E],Te=s[++E];Of(c,ye(D>>>1,a),null,null,te,Te,null)}else switch(D){case ym:const x=s[++E],R=s[++E];null===a[R]&&ir(a[R]=If(c,x),a);break;case mm:const j=s[++E],q=s[++E];null===a[q]&&ir(a[q]=Oc(c,j,null),a)}}}function PI(i,s,a,u,c){for(let f=0;f<a.length;f++){const v=a[f],E=a[++f];if(v&c){let D="";for(let x=f+1;x<=f+E;x++){const R=a[x];if("string"==typeof R)D+=R;else if("number"==typeof R)if(R<0)D+=re(s[u-R]);else{const j=R>>>2;switch(3&R){case 1:const q=a[++x],te=a[++x],Te=i.data[j];"string"==typeof Te?Of(s[11],s[j],null,Te,q,D,te):qi(i,Te,s,q,D,s[11],te,!1);break;case 0:const je=s[j];null!==je&&Ef(s[11],je,D);break;case 2:E_(i,nd(i,j),s,D);break;case 3:kI(i,nd(i,j),u,s)}}}}else{const D=a[f+1];if(D>0&&3==(3&D)){const R=nd(i,D>>>2);s[R.currentCaseLViewIndex]<0&&kI(i,R,u,s)}}f+=E}}function kI(i,s,a,u){let c=u[s.currentCaseLViewIndex];if(null!==c){let f=cp;c<0&&(c=u[s.currentCaseLViewIndex]=~c,f=-1),PI(i,u,s.update[c],a,f)}}function E_(i,s,a,u){const c=function JD(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function MI(i,s){const a=SI(s)(parseInt(i,10)),u=d_[a];return void 0!==u?u:"other"}(s,function YD(){return xI}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(Th(s,a)!==c&&(wm(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const v=a[s.anchorIdx];v&&Im(i,s.create[c],a,v)}}function wm(i,s,a){let u=Th(s,a);if(null!==u){const c=s.remove[u];for(let f=0;f<c.length;f++){const v=c[f];if(v>0){const E=ye(v,a);null!==E&&Uy(a[11],E)}else wm(i,nd(i,~v),a)}}}function FI(){const i=[];let a,u,s=-1;function f(E,D){s=0;const x=Th(E,D);u=null!==x?E.remove[x]:yt}function v(){if(s<u.length){const E=u[s++];return E>0?a[E]:(i.push(s,u),f(a[1].data[~E],a),v())}return 0===i.length?null:(u=i.pop(),s=i.pop(),v())}return function c(E,D){for(a=D;i.length;)i.pop();return f(E.value,D),v}}const Dm=/\ufffd(\d+):?\d*\ufffd/gi,nC=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,rC=/\ufffd(\d+)\ufffd/,LI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,w_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,D_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,iC=/\uE500/g;function Cm(i,s,a,u,c,f,v){const E=jc(i,u,1,null);let D=E<<fr.SHIFT,x=fa();s===x&&(x=null),null===x&&(D|=fr.APPEND_EAGERLY),v&&(D|=fr.COMMENT,function _t(i){void 0===Ze&&(Ze=i())}(FI)),c.push(D,null===f?"":f);const R=Tg(i,E,v?32:1,null===f?"":f,null);Em(a,R);const j=R.index;return Ci(R,!1),null!==x&&s!==x&&function bh(i,s){let a=i.insertBeforeIndex;null===a?(Ly(_m,RI),a=i.insertBeforeIndex=[null,s]):(function X(i,s,a){i!=s&&Et(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(x,j),R}function VI(i,s,a,u,c,f,v){const E=v.match(Dm),D=Cm(i,s,a,f,u,E?null:v,!1);E&&od(c,v,D.index,null,0,null)}function od(i,s,a,u,c,f){const v=i.length,E=v+1;i.push(null,null);const D=v+2,x=s.split(Dm);let R=0;for(let j=0;j<x.length;j++){const q=x[j];if(1&j){const te=c+parseInt(q,10);i.push(-1-te),R|=bm(te)}else""!==q&&i.push(q)}return i.push(a<<2|(u?1:0)),u&&i.push(u,f),i[v]=R,i[E]=i.length-D,R}function oC(i){let s=0;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u&&u<0&&s++}return s}function bm(i){return 1<<Math.min(i,31)}function Tm(i){let s,f,a="",u=0,c=!1;for(;null!==(s=w_.exec(i));)c?s[0]===`\ufffd/*${f}\ufffd`&&(u=s.index,c=!1):(a+=i.substring(u,s.index+s[0].length),f=s[1],c=!0);return a+=i.substr(u),a}function Am(i,s,a,u,c,f){let v=0;const E={type:c.type,currentCaseLViewIndex:jc(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function A_(i,s,a){i.push(bm(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,f),function g_(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,f,E);const D=c.values;for(let x=0;x<D.length;x++){const R=D[x],j=[];for(let q=0;q<R.length;q++){const te=R[q];if("string"!=typeof te){const Te=j.push(te)-1;R[q]=`\x3c!--\ufffd${Te}\ufffd--\x3e`}}v=T_(i,E,s,a,u,c.cases[x],R.join(""),j)|v}v&&function cC(i,s,a){i.push(s,1,a<<2|3)}(a,v,f)}function lC(i){const s=[],a=[];let u=1,c=0;const f=hp(i=i.replace(LI,function(v,E,D){return u="select"===D?0:1,c=parseInt(E.substr(1),10),""}));for(let v=0;v<f.length;){let E=f[v++].trim();1===u&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&s.push(E);const D=hp(f[v++]);s.length>a.length&&a.push(D)}return{type:u,mainBinding:c,cases:s,values:a}}function hp(i){if(!i)return[];let s=0;const a=[],u=[],c=/[{}]/g;let f;for(c.lastIndex=0;f=c.exec(i);){const E=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const D=i.substring(s,E);LI.test(D)?u.push(lC(D)):u.push(D),s=E+1}}else{if(0==a.length){const D=i.substring(s,E);u.push(D),s=E+1}a.push("{")}}const v=i.substring(s);return u.push(v),u}function T_(i,s,a,u,c,f,v,E){const D=[],x=[],R=[];s.cases.push(f),s.create.push(D),s.remove.push(x),s.update.push(R);const q=ul(Es()).getInertBodyElement(v),te=kd(q)||q;return te?Sm(i,s,a,u,D,x,R,te,c,E,0):0}function Sm(i,s,a,u,c,f,v,E,D,x,R){let j=0,q=E.firstChild;for(;q;){const te=jc(i,a,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const Te=q,je=Te.tagName.toLowerCase();if(Od.hasOwnProperty(je)){fp(c,mm,je,D,te),i.data[te]=je;const It=Te.attributes;for(let Jt=0;Jt<It.length;Jt++){const wn=It.item(Jt),Rs=wn.name.toLowerCase();wn.value.match(Dm)?wc.hasOwnProperty(Rs)&&od(v,wn.value,te,wn.name,0,gu[Rs]?Ts:ll[Rs]?ig:null):Nu(c,te,wn)}j=Sm(i,s,a,u,c,f,v,q,te,x,R+1)|j,ad(f,te,R)}break;case Node.TEXT_NODE:const Xe=q.textContent||"",lt=Xe.match(Dm);fp(c,null,lt?"":Xe,D,te),ad(f,te,R),lt&&(j=od(v,Xe,te,null,0,null)|j);break;case Node.COMMENT_NODE:const ke=rC.exec(q.textContent||"");if(ke){const Jt=x[parseInt(ke[1],10)];fp(c,ym,"",D,te),Am(i,a,u,D,Jt,te),UI(f,te,R)}}q=q.nextSibling}return j}function ad(i,s,a){0===a&&i.push(s)}function UI(i,s,a){0===a&&(i.push(~s),i.push(s))}function fp(i,s,a,u,c){null!==s&&i.push(s),i.push(a,c,function Ah(i,s,a){return i|s<<17|a<<1}(0,u,c))}function Nu(i,s,a){i.push(s<<1|1,a.name,a.value)}const dC=/\[(\ufffd.+?\ufffd?)\]/,S_=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,hC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,fC=/{([A-Z0-9_]+)}/g,M_=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,pC=/\/\*/,x_=/\d+\:(\d+)/;function pp(i,s,a=-1){const u=Bt(),c=Pe(),f=20+i,v=dn(u.consts,s),E=fa();u.firstCreatePass&&function sC(i,s,a,u,c,f){const v=fa(),E=[],D=[],x=[[]];c=function uC(i,s){if(function aC(i){return-1===i}(s))return Tm(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Tm(i.substring(a,u))}}(c,f);const R=function C_(i){return i.replace(iC," ")}(c).split(D_);for(let j=0;j<R.length;j++){let q=R[j];if(0==(1&j)){const te=hp(q);for(let Te=0;Te<te.length;Te++){let je=te[Te];if(0==(1&Te)){const Xe=je;""!==Xe&&VI(i,v,x[0],E,D,a,Xe)}else{const Xe=je;if("object"!=typeof Xe)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Am(i,a,D,s,Xe,Cm(i,v,x[0],a,E,"",!0).index)}}}else{const te=47===q.charCodeAt(0),je=(q.charCodeAt(te?1:0),20+Number.parseInt(q.substring(te?2:1)));if(te)x.shift(),Ci(fa(),!1);else{const Xe=$l(i,x[0],je);x.unshift([]),Ci(Xe,!0)}}}i.data[u]={create:E,update:D}}(u,null===E?0:E.index,c,f,v,a);const D=u.data[f],R=pg(u,E===c[6]?null:E,c);(function __(i,s,a,u){const c=i[11];for(let f=0;f<s.length;f++){const v=s[f++],E=s[f],D=(v&fr.COMMENT)===fr.COMMENT,x=(v&fr.APPEND_EAGERLY)===fr.APPEND_EAGERLY,R=v>>>fr.SHIFT;let j=i[R];null===j&&(j=i[R]=D?c.createComment(E):qd(c,E)),x&&null!==a&&ja(c,a,j,u,!1)}})(c,D.create,R,E&&8&E.type?c[E.index]:null),nc(!0)}function R_(){nc(!1)}function xm(i,s,a){pp(i,s,a),R_()}function N_(i,s){const a=Bt();!function b_(i,s,a){const c=jn().index,f=[];if(i.firstCreatePass&&null===i.data[s]){for(let v=0;v<a.length;v+=2){const E=a[v],D=a[v+1];if(""!==D){if(nC.test(D))throw new Error(`ICU expressions are not supported in attributes. Message: "${D}".`);od(f,D,c,E,oC(f),null)}}i.data[s]=f}}(a,i+20,dn(a.consts,s))}function gp(i){return function y_(i){i&&(cp|=1<<Math.min(dp,31)),dp++}(Wi(Pe(),Us(),i)),gp}function O_(i){!function v_(i,s,a){if(dp>0){const u=i.data[a];PI(i,s,Array.isArray(u)?u:u.update,Hr()-dp-1,cp)}cp=0,dp=0}(Bt(),Pe(),i+20)}function jI(i,s={}){return function gC(i,s={}){let a=i;if(dC.test(i)){const u={},c=[0];a=a.replace(S_,(f,v,E)=>{const D=v||E,x=u[D]||[];if(x.length||(D.split("|").forEach(je=>{const Xe=je.match(x_),lt=Xe?parseInt(Xe[1],10):0,ke=pC.test(je);x.push([lt,ke,je])}),u[D]=x),!x.length)throw new Error(`i18n postprocess: unmatched placeholder - ${D}`);const R=c[c.length-1];let j=0;for(let je=0;je<x.length;je++)if(x[je][0]===R){j=je;break}const[q,te,Te]=x[j];return te?c.pop():R!==q&&c.push(q),x.splice(j,1),Te})}return Object.keys(s).length&&(a=a.replace(hC,(u,c,f,v,E,D)=>s.hasOwnProperty(f)?`${c}${s[f]}${D}`:u),a=a.replace(fC,(u,c)=>s.hasOwnProperty(c)?s[c]:u),a=a.replace(M_,(u,c)=>{if(s.hasOwnProperty(c)){const f=s[c];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${c}`);return f.shift()}return u})),a}(i,s)}function mp(i,s,a,u,c){if(i=Y(i),Array.isArray(i))for(let f=0;f<i.length;f++)mp(i[f],s,a,u,c);else{const f=Bt(),v=Pe();let E=zs(i)?i:Y(i.provide),D=FE(i);const x=jn(),R=1048575&x.providerIndexes,j=x.directiveStart,q=x.providerIndexes>>20;if(zs(i)||!i.multi){const te=new Vo(D,c,Kf),Te=yp(E,s,c?R:R+q,j);-1===Te?(ba(Ca(x,v),f,E),P_(f,i,s.length),s.push(E),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(te),v.push(te)):(a[Te]=te,v[Te]=te)}else{const te=yp(E,s,R+q,j),Te=yp(E,s,R,R+q),je=te>=0&&a[te],Xe=Te>=0&&a[Te];if(c&&!Xe||!c&&!je){ba(Ca(x,v),f,E);const lt=function BI(i,s,a,u,c){const f=new Vo(i,a,Kf);return f.multi=[],f.index=s,f.componentProviders=0,Rm(f,c,u&&!a),f}(c?yC:k_,a.length,c,u,D);!c&&Xe&&(a[Te].providerFactory=lt),P_(f,i,s.length,0),s.push(E),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(lt),v.push(lt)}else P_(f,i,te>-1?te:Te,Rm(a[c?Te:te],D,!c&&u));!c&&u&&Xe&&a[Te].componentProviders++}}}function P_(i,s,a,u){const c=zs(s),f=function Pr(i){return!!i.useClass}(s);if(c||f){const D=(f?Y(s.useClass):s).prototype.ngOnDestroy;if(D){const x=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const R=x.indexOf(a);-1===R?x.push(a,[u,D]):x[R+1].push(u,D)}else x.push(a,D)}}}function Rm(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function yp(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function k_(i,s,a,u){return Nm(this.multi,[])}function yC(i,s,a,u){const c=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Gn(a,a[1],this.providerFactory.index,u);f=E.slice(0,v),Nm(c,f);for(let D=v;D<E.length;D++)f.push(E[D])}else f=[],Nm(c,f);return f}function Nm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function $I(i,s=[]){return a=>{a.providersResolver=(u,c)=>function mC(i,s,a){const u=Bt();if(u.firstCreatePass){const c=Sr(i);mp(a,u.data,u.blueprint,c,!0),mp(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Om{}class vp{}class vC{resolveComponentFactory(s){throw function Pm(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let km=(()=>{class i{}return i.NULL=new vC,i})();function GI(){return Hl(jn(),Pe())}function Hl(i,s){return new Sh(Ne(i,s))}let Sh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=GI,i})();function F_(i){return i instanceof Sh?i.nativeElement:i}class Fm{}let Lm=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function WI(){const i=Pe(),a=Ut(jn().index,i);return function L_(i){return i[11]}(Xr(a)?a:i)}(),i})(),Vm=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class V_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Um=new V_("13.2.7"),Ou={};function Mh(i,s,a,u,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(b(f)),Ur(f))for(let E=10;E<f.length;E++){const D=f[E],x=D[1].firstChild;null!==x&&Mh(D[1],D,x,u)}const v=a.type;if(8&v)Mh(i,s,a.child,u);else if(32&v){const E=st(a,s);let D;for(;D=E();)u.push(D)}else if(16&v){const E=Vy(s,a);if(Array.isArray(E))u.push(...E);else{const D=Ln(s[16]);Mh(D[1],D,E,u,!0)}}a=c?a.projectionNext:a.next}return u}class xh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Mh(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ur(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(wf(s,u),fo(a,u))}this._attachedToViewContainer=!1}Kd(this._lView[1],this._lView)}onDestroy(s){vE(this._lView[1],this._lView,null,s)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ih(this._lView[1],this._lView,this.context)}checkNoChanges(){!function OD(i,s,a){ro(!0);try{ih(i,s,a)}finally{ro(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new _e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zd(i,s){yl(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new _e(902,"");this._appRef=s}}class _C extends xh{constructor(s){super(s),this._view=s}detectChanges(){ME(this._view)}checkNoChanges(){!function xE(i){ro(!0);try{ME(i)}finally{ro(!1)}}(this._view)}get context(){return null}}class zI extends km{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Kt(s);return new jm(a,this.ngModule)}}function U_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class jm extends vp{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Hy(i){return i.map(Tf).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return U_(this.componentDef.inputs)}get outputs(){return U_(this.componentDef.outputs)}create(s,a,u,c){const f=(c=c||this.ngModule)?function KI(i,s){return{get:(a,u,c)=>{const f=i.get(a,Ou,c);return f!==Ou||u===Ou?f:s.get(a,u,c)}}}(s,c.injector):s,v=f.get(Fm,T),E=f.get(Vm,null),D=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",R=u?yE(D,u,this.componentDef.encapsulation):Oc(v.createRenderer(null,this.componentDef),x,function EC(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?ko:null}(x)),j=this.componentDef.onPush?576:528,q=ai(),te=bl(0,null,null,1,0,null,null,null,null,null),Te=Dl(null,te,q,j,null,null,v,D,E,f);let je,Xe;so(Te);try{const lt=hv(R,this.componentDef,Te,v,D);if(R)if(u)Ju(D,R,["ng-version",Um.full]);else{const{attrs:ke,classes:It}=function ht(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++u]):8===c&&a.push(f);else{if(!vo(c))break;c=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&Ju(D,R,ke),It&&It.length>0&&By(D,R,It.join(" "))}if(Xe=cn(te,20),void 0!==a){const ke=Xe.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const Jt=a[It];ke.push(null!=Jt?Array.from(Jt):null)}}je=$E(lt,this.componentDef,Te,q,[Ug]),th(te,Te,null)}finally{Lo()}return new ZI(this.componentType,je,Hl(Xe,Te),Te,Xe)}}class ZI extends Om{constructor(s,a,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new _C(c),this.componentType=s}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function j_(i,s,a,u){return En(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==u&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?Object.assign(Object.assign({},c.propDecorators),u):u)})}class Gl{}class B_{}const ud=new Map;function rn(i){const s=new Set;!function a(u){const c=gn(u,!0),f=c.id;if(null!==f){(function _p(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)})(f,ud.get(f),u),ud.set(f,u)}const v=p(c.imports);for(const E of v)s.has(E)||(s.add(E),a(E))}(i)}function $_(i){return ud.get(i)||Ee[i]}function Ep(i,s){return new H_(i,null!=s?s:null)}class H_ extends Gl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zI(this);const u=gn(s);this._bootstrapComponents=p(u.bootstrap),this._r3Injector=ov(s,a,[{provide:Gl,useValue:this},{provide:km,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ks.THROW_IF_NOT_FOUND,u=mt.Default){return s===Ks||s===Gl||s===Hc?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Mn extends B_{constructor(s){super(),this.moduleType=s,null!==gn(s)&&rn(s)}create(s){return new H_(this.moduleType,s)}}function Ni(i,s,a){const u=ei()+i,c=Pe();return c[u]===$e?Ko(c,u,a?s.call(a):s()):Hf(c,u)}function Jo(i,s,a,u){return Qn(Pe(),ei(),i,s,a,u)}function G_(i,s,a,u,c){return CC(Pe(),ei(),i,s,a,u,c)}function QI(i,s,a,u,c,f){return bC(Pe(),ei(),i,s,a,u,c,f)}function Ip(i,s,a,u,c,f,v){return kr(Pe(),ei(),i,s,a,u,c,f,v)}function q_(i,s,a,u,c,f,v,E){const D=ei()+i,x=Pe(),R=Co(x,D,a,u,c,f);return Wi(x,D+4,v)||R?Ko(x,D+5,E?s.call(E,a,u,c,f,v):s(a,u,c,f,v)):Hf(x,D+5)}function W_(i,s,a,u,c,f,v,E,D){const x=ei()+i,R=Pe(),j=Co(R,x,a,u,c,f);return Do(R,x+4,v,E)||j?Ko(R,x+6,D?s.call(D,a,u,c,f,v,E):s(a,u,c,f,v,E)):Hf(R,x+6)}function YI(i,s,a,u,c,f,v,E,D,x){const R=ei()+i,j=Pe();let q=Co(j,R,a,u,c,f);return Au(j,R+4,v,E,D)||q?Ko(j,R+7,x?s.call(x,a,u,c,f,v,E,D):s(a,u,c,f,v,E,D)):Hf(j,R+7)}function Bm(i,s,a,u,c,f,v,E,D,x,R){const j=ei()+i,q=Pe(),te=Co(q,j,a,u,c,f);return Co(q,j+4,v,E,D,x)||te?Ko(q,j+8,R?s.call(R,a,u,c,f,v,E,D,x):s(a,u,c,f,v,E,D,x)):Hf(q,j+8)}function JI(i,s,a,u){return z_(Pe(),ei(),i,s,a,u)}function wp(i,s){const a=i[s];return a===$e?void 0:a}function Qn(i,s,a,u,c,f){const v=s+a;return Wi(i,v,c)?Ko(i,v+1,f?u.call(f,c):u(c)):wp(i,v+1)}function CC(i,s,a,u,c,f,v){const E=s+a;return Do(i,E,c,f)?Ko(i,E+2,v?u.call(v,c,f):u(c,f)):wp(i,E+2)}function bC(i,s,a,u,c,f,v,E){const D=s+a;return Au(i,D,c,f,v)?Ko(i,D+3,E?u.call(E,c,f,v):u(c,f,v)):wp(i,D+3)}function kr(i,s,a,u,c,f,v,E,D){const x=s+a;return Co(i,x,c,f,v,E)?Ko(i,x+4,D?u.call(D,c,f,v,E):u(c,f,v,E)):wp(i,x+4)}function z_(i,s,a,u,c,f){let v=s+a,E=!1;for(let D=0;D<c.length;D++)Wi(i,v++,c[D])&&(E=!0);return E?Ko(i,v,u.apply(f,c)):wp(i,v)}function XI(i,s){const a=Bt();let u;const c=i+20;a.firstCreatePass?(u=function TC(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const f=u.factory||(u.factory=_r(u.type)),v=Yn(Kf);try{const E=ao(!1),D=f();return ao(E),JE(a,Pe(),c,D),D}finally{Yn(v)}}function K_(i,s,a){const u=i+20,c=Pe(),f=Qt(c,u);return $m(c,u)?Qn(c,ei(),s,f.transform,a,f):f.transform(a)}function ew(i,s,a,u){const c=i+20,f=Pe(),v=Qt(f,c);return $m(f,c)?CC(f,ei(),s,v.transform,a,u,v):v.transform(a,u)}function tw(i,s,a,u,c){const f=i+20,v=Pe(),E=Qt(v,f);return $m(v,f)?bC(v,ei(),s,E.transform,a,u,c,E):E.transform(a,u,c)}function nw(i,s,a,u,c,f){const v=i+20,E=Pe(),D=Qt(E,v);return $m(E,v)?kr(E,ei(),s,D.transform,a,u,c,f,D):D.transform(a,u,c,f)}function rw(i,s,a){const u=i+20,c=Pe(),f=Qt(c,u);return $m(c,u)?z_(c,ei(),s,f.transform,a,f):f.transform.apply(f,a)}function $m(i,s){return i[1].data[s].pure}function Z_(i){return s=>{setTimeout(i,void 0,s)}}const Xo=class AC extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,f,v;let E=s,D=a||(()=>null),x=u;if(s&&"object"==typeof s){const j=s;E=null===(c=j.next)||void 0===c?void 0:c.bind(j),D=null===(f=j.error)||void 0===f?void 0:f.bind(j),x=null===(v=j.complete)||void 0===v?void 0:v.bind(j)}this.__isAsync&&(D=Z_(D),E&&(E=Z_(E)),x&&(x=Z_(x)));const R=super.subscribe({next:E,error:D,complete:x});return s instanceof m.w0&&s.add(R),R}};function Pu(){return this._results[Ol()]()}class Q_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ol(),u=Q_.prototype;u[a]||(u[a]=Pu)}get changes(){return this._changes||(this._changes=new Xo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=dr(s);(this._changesDetected=!function lu(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],f=s[u];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ms=(()=>{class i{}return i.__NG_ELEMENT_ID__=SC,i})();const ld=Ms,Hm=class extends ld{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Dl(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),th(a,u,s),new xh(u)}};function SC(){return Gm(jn(),Pe())}function Gm(i,s){return 4&i.type?new Hm(s,i,Hl(i,s)):null}let Dp=(()=>{class i{}return i.__NG_ELEMENT_ID__=iw,i})();function iw(){return Nh(jn(),Pe())}const qm=Dp,sw=class extends qm{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const s=os(this._hostTNode,this._hostLView);if(cc(s)){const a=bi(s,this._hostLView),u=Dn(s);return new Ti(a[1].data[u+8],a)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ql(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,f){const v=s&&!bt(s);let E;if(v)E=a;else{const j=a||{};E=j.index,u=j.injector,c=j.projectableNodes,f=j.ngModuleRef}const D=v?s:new jm(Kt(s)),x=u||this.parentInjector;if(!f&&null==D.ngModule){const q=(v?x:this.parentInjector).get(Gl,null);q&&(f=q)}const R=D.create(x,c,void 0,f);return this.insert(R.hostView,E),R}insert(s,a){const u=s._lView,c=u[1];if(function _n(i){return Ur(i[3])}(u)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const j=u[3],q=new sw(j,j[6],j[3]);q.detach(q.indexOf(s))}}const f=this._adjustIndex(a),v=this._lContainer;!function Eu(i,s,a,u){const c=10+u,f=a.length;u>0&&(a[c-1][4]=s),u<f-10?(s[4]=a[c],el(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Q0(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=128}(c,u,v,f);const E=yg(f,v),D=u[11],x=Cf(D,v[7]);return null!==x&&function Wd(i,s,a,u,c,f){u[0]=c,u[6]=s,yl(i,u,a,1,c,f)}(c,v[6],D,u,x,E),s.attachToViewContainerRef(),el(Rh(v),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ql(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=wf(this._lContainer,a);u&&(fo(Rh(this._lContainer),a),Kd(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=wf(this._lContainer,a);return u&&null!=fo(Rh(this._lContainer),a)?new xh(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function ql(i){return i[8]}function Rh(i){return i[8]||(i[8]=[])}function Nh(i,s){let a;const u=s[i.index];if(Ur(u))a=u;else{let c;if(8&i.type)c=b(u);else{const f=s[11];c=f.createComment("");const v=Ne(i,s);ja(f,Cf(f,v),c,function X0(i,s){return yn(i)?i.nextSibling(s):s.nextSibling}(f,v),!1)}s[i.index]=a=ev(u,s,c,i),Mg(s,a)}return new sw(a,i,s)}class J_{constructor(s){this.queryList=s,this.matches=null}clone(){return new J_(this.queryList)}setDirty(){this.queryList.setDirty()}}class X_{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<u;f++){const v=a.getByIndex(f);c.push(this.queries[v.indexInDeclarationView].clone())}return new X_(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ph(s,a).matches&&this.queries[a].setDirty()}}class Wm{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Cp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,c);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new Cp(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class zm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new zm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(s,a,cd(a,f)),this.matchTNodeWithReadOption(s,a,Ds(a,s,f,!1,!1))}else u===Ms?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ds(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Sh||c===Dp||c===Ms&&4&a.type)this.addMatch(a.index,-2);else{const f=Ds(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function cd(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function uw(i,s,a,u){return-1===a?function aw(i,s){return 11&i.type?Hl(i,s):4&i.type?Gm(i,s):null}(s,i):-2===a?function e0(i,s,a){return a===Sh?Hl(s,i):a===Ms?Gm(s,i):a===Dp?Nh(s,i):void 0}(i,s,u):Gn(i,i[1],a,s)}function Km(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const f=i.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const x=v[D];E.push(x<0?null:uw(s,f[x],v[D+1],a.metadata.read))}c.matches=E}return c.matches}function t0(i,s,a,u){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const v=Km(i,s,c,a);for(let E=0;E<f.length;E+=2){const D=f[E];if(D>0)u.push(v[E/2]);else{const x=f[E+1],R=s[-D];for(let j=10;j<R.length;j++){const q=R[j];q[17]===q[3]&&t0(q[1],q,x,u)}if(null!==R[9]){const j=R[9];for(let q=0;q<j.length;q++){const te=j[q];t0(te[1],te,x,u)}}}}}return u}function bp(i){const s=Pe(),a=Bt(),u=tu();ma(u+1);const c=Ph(a,u);if(i.dirty&&Ft(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?t0(a,s,u,[]):Km(a,s,c,u);i.reset(f,F_),i.notifyOnChanges()}return!0}return!1}function Tp(i,s,a){const u=Bt();u.firstCreatePass&&(Wl(u,new Wm(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Ap(u,Pe(),s)}function n0(i,s,a,u){const c=Bt();if(c.firstCreatePass){const f=jn();Wl(c,new Wm(s,a,u),f.index),function ku(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}Ap(c,Pe(),a)}function Oh(){return function MC(i,s){return i[19].queries[s].queryList}(Pe(),tu())}function Ap(i,s,a){const u=new Q_(4==(4&a));vE(i,s,u,u.destroy),null===s[19]&&(s[19]=new X_),s[19].queries.push(new J_(u))}function Wl(i,s,a){null===i.queries&&(i.queries=new Cp),i.queries.track(new zm(s,a))}function Ph(i,s){return i.queries.getByIndex(s)}function Fu(i,s){return Gm(i,s)}const ms=(()=>({\u0275\u0275attribute:gv,\u0275\u0275attributeInterpolate1:mv,\u0275\u0275attributeInterpolate2:yv,\u0275\u0275attributeInterpolate3:vv,\u0275\u0275attributeInterpolate4:_v,\u0275\u0275attributeInterpolate5:Ev,\u0275\u0275attributeInterpolate6:Iv,\u0275\u0275attributeInterpolate7:wv,\u0275\u0275attributeInterpolate8:Dv,\u0275\u0275attributeInterpolateV:Cv,\u0275\u0275defineComponent:Vt,\u0275\u0275defineDirective:Ot,\u0275\u0275defineInjectable:Xt,\u0275\u0275defineInjector:en,\u0275\u0275defineNgModule:ne,\u0275\u0275definePipe:Ar,\u0275\u0275directiveInject:Kf,\u0275\u0275getInheritedFactory:Ad,\u0275\u0275inject:ut,\u0275\u0275injectAttribute:qr,\u0275\u0275invalidFactory:xv,\u0275\u0275invalidFactoryDep:Tt,\u0275\u0275templateRefExtractor:Fu,\u0275\u0275NgOnChangesFeature:ks,\u0275\u0275ProvidersFeature:$I,\u0275\u0275CopyDefinitionFeature:zE,\u0275\u0275InheritDefinitionFeature:wo,\u0275\u0275nextContext:Pv,\u0275\u0275namespaceHTML:zp,\u0275\u0275namespaceMathML:Id,\u0275\u0275namespaceSVG:oc,\u0275\u0275enableBindings:da,\u0275\u0275disableBindings:Xa,\u0275\u0275elementStart:Yc,\u0275\u0275elementEnd:Qo,\u0275\u0275element:Mu,\u0275\u0275elementContainerStart:zg,\u0275\u0275elementContainerEnd:gh,\u0275\u0275elementContainer:mh,\u0275\u0275pureFunction0:Ni,\u0275\u0275pureFunction1:Jo,\u0275\u0275pureFunction2:G_,\u0275\u0275pureFunction3:QI,\u0275\u0275pureFunction4:Ip,\u0275\u0275pureFunction5:q_,\u0275\u0275pureFunction6:W_,\u0275\u0275pureFunction7:YI,\u0275\u0275pureFunction8:Bm,\u0275\u0275pureFunctionV:JI,\u0275\u0275getCurrentView:hI,\u0275\u0275restoreView:Fo,\u0275\u0275listener:vh,\u0275\u0275projection:kv,\u0275\u0275syntheticHostProperty:lp,\u0275\u0275syntheticHostListener:Zg,\u0275\u0275pipeBind1:K_,\u0275\u0275pipeBind2:ew,\u0275\u0275pipeBind3:tw,\u0275\u0275pipeBind4:nw,\u0275\u0275pipeBindV:rw,\u0275\u0275projectionDef:Jc,\u0275\u0275hostProperty:td,\u0275\u0275property:Rv,\u0275\u0275propertyInterpolate:xu,\u0275\u0275propertyInterpolate1:Qg,\u0275\u0275propertyInterpolate2:Vl,\u0275\u0275propertyInterpolate3:Yg,\u0275\u0275propertyInterpolate4:Ha,\u0275\u0275propertyInterpolate5:Ru,\u0275\u0275propertyInterpolate6:Jf,\u0275\u0275propertyInterpolate7:Jg,\u0275\u0275propertyInterpolate8:Fv,\u0275\u0275propertyInterpolateV:Lv,\u0275\u0275pipe:XI,\u0275\u0275queryRefresh:bp,\u0275\u0275viewQuery:Tp,\u0275\u0275loadQuery:Oh,\u0275\u0275contentQuery:n0,\u0275\u0275reference:XE,\u0275\u0275classMap:tm,\u0275\u0275classMapInterpolate1:ip,\u0275\u0275classMapInterpolate2:wh,\u0275\u0275classMapInterpolate3:sp,\u0275\u0275classMapInterpolate4:cm,\u0275\u0275classMapInterpolate5:dm,\u0275\u0275classMapInterpolate6:hm,\u0275\u0275classMapInterpolate7:Xv,\u0275\u0275classMapInterpolate8:wI,\u0275\u0275classMapInterpolateV:e_,\u0275\u0275styleMap:bo,\u0275\u0275styleMapInterpolate1:DI,\u0275\u0275styleMapInterpolate2:CI,\u0275\u0275styleMapInterpolate3:bI,\u0275\u0275styleMapInterpolate4:t_,\u0275\u0275styleMapInterpolate5:op,\u0275\u0275styleMapInterpolate6:Dh,\u0275\u0275styleMapInterpolate7:fm,\u0275\u0275styleMapInterpolate8:n_,\u0275\u0275styleMapInterpolateV:TI,\u0275\u0275styleProp:em,\u0275\u0275stylePropInterpolate1:r_,\u0275\u0275stylePropInterpolate2:i_,\u0275\u0275stylePropInterpolate3:s_,\u0275\u0275stylePropInterpolate4:o_,\u0275\u0275stylePropInterpolate5:ed,\u0275\u0275stylePropInterpolate6:ap,\u0275\u0275stylePropInterpolate7:jl,\u0275\u0275stylePropInterpolate8:up,\u0275\u0275stylePropInterpolateV:Ch,\u0275\u0275classProp:Gv,\u0275\u0275advance:sE,\u0275\u0275template:YE,\u0275\u0275text:li,\u0275\u0275textInterpolate:Kv,\u0275\u0275textInterpolate1:am,\u0275\u0275textInterpolate2:Zv,\u0275\u0275textInterpolate3:Qv,\u0275\u0275textInterpolate4:Yv,\u0275\u0275textInterpolate5:Jv,\u0275\u0275textInterpolate6:np,\u0275\u0275textInterpolate7:um,\u0275\u0275textInterpolate8:lm,\u0275\u0275textInterpolateV:rp,\u0275\u0275i18n:xm,\u0275\u0275i18nAttributes:N_,\u0275\u0275i18nExp:gp,\u0275\u0275i18nStart:pp,\u0275\u0275i18nEnd:R_,\u0275\u0275i18nApply:O_,\u0275\u0275i18nPostprocess:jI,\u0275\u0275resolveWindow:lg,\u0275\u0275resolveDocument:_f,\u0275\u0275resolveBody:y,\u0275\u0275setComponentScope:W,\u0275\u0275setNgModuleScope:ze,\u0275\u0275sanitizeHtml:cl,\u0275\u0275sanitizeStyle:Fd,\u0275\u0275sanitizeResourceUrl:Vd,\u0275\u0275sanitizeScript:ff,\u0275\u0275sanitizeUrl:Ld,\u0275\u0275sanitizeUrlOrResourceUrl:Ac,\u0275\u0275trustConstantHtml:Tc,\u0275\u0275trustConstantResourceUrl:dl,forwardRef:G,resolveForwardRef:Y}))();let dd=null;function zl(){dd=null}const Mp=[];let r0=!1;function cw(){if(!r0){r0=!0;try{for(let i=Mp.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=Mp[i];a.declarations&&a.declarations.every(s0)&&(Mp.splice(i,1),gw(s,a))}}finally{r0=!1}}}function s0(i){return Array.isArray(i)?i.every(s0):!!Y(i)}function dw(i,s={}){hw(i,s),function xC(i,s){Mp.push({moduleType:i,ngModule:s})}(i,s)}function hw(i,s,a=!1){const u=dr(s.declarations||yt);let c=null;Object.defineProperty(i,Oe,{configurable:!0,get:()=>(null===c&&(c=He().compileNgModule(ms,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:dr(s.bootstrap||yt).map(Y),declarations:u.map(Y),imports:dr(s.imports||yt).map(Y).map(Ym),exports:dr(s.exports||yt).map(Y).map(Ym),schemas:s.schemas?dr(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let f=null;Object.defineProperty(i,at,{get:()=>{if(null===f){const E=He();f=E.compileFactory(ms,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:sl(i),target:E.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let v=null;Object.defineProperty(i,gr,{get:()=>{if(null===v){const E={name:i.name,type:i,providers:s.providers||yt,imports:[(s.imports||yt).map(Y),(s.exports||yt).map(Y)]};v=He().compileInjector(ms,`ng:///${i.name}/\u0275inj.js`,E)}return v},configurable:!1})}let xp=new WeakMap,o0=new WeakMap;function RC(){xp=new WeakMap,o0=new WeakMap,Mp.length=0}function gw(i,s){const a=dr(s.declarations||yt),u=kh(i);a.forEach(c=>{c.hasOwnProperty(Tr)?Qm(Kt(c),u):!c.hasOwnProperty(Lt)&&!c.hasOwnProperty(rt)&&(c.ngSelectorScope=i)})}function Qm(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Tr)?Kt(a):Rn(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>Pt(a)),i.schemas=s.schemas,i.tView=null}function kh(i){if(!u0(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=gn(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return p(s.imports).forEach(u=>{const c=u;if(!u0(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const f=kh(c);f.exported.directives.forEach(v=>a.compilation.directives.add(v)),f.exported.pipes.forEach(v=>a.compilation.pipes.add(v))}),p(s.declarations).forEach(u=>{Pt(u)?a.compilation.pipes.add(u):a.compilation.directives.add(u)}),p(s.exports).forEach(u=>{const c=u;if(u0(c)){const f=kh(c);f.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),f.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Pt(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}function Ym(i){return function Jm(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function u0(i){return!!gn(i)}let Xm=0;function Lu(i,s){let a=null;(function Yh(i,s){Xh(s)&&(go.set(i,s),hu.add(i))})(i,s),yw(i,s),Object.defineProperty(i,Tr,{get:()=>{if(null===a){const u=He();if(Xh(s)){const x=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&x.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&x.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),x.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(x.join("\n"))}const c=function Sp(){return dd}();let f=s.preserveWhitespaces;void 0===f&&(f=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let v=s.encapsulation;void 0===v&&(v=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:Wt.Emulated);const E=s.templateUrl||`ng:///${i.name}/template.html`,D=Object.assign(Object.assign({},vw(i,s)),{typeSourceSpan:u.createParseSourceSpan("Component",i.name,E),template:s.template||"",preserveWhitespaces:f,styles:s.styles||yt,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:v,interpolation:s.interpolation,viewProviders:s.viewProviders||null});Xm++;try{D.usesInheritance&&_w(i),a=u.compileComponent(ms,E,D)}finally{Xm--}if(0===Xm&&cw(),function NC(i){return void 0!==i.ngSelectorScope}(i)){const x=kh(i.ngSelectorScope);Qm(a,x)}}return a},configurable:!1})}function Vu(i,s){let a=null;yw(i,s||{}),Object.defineProperty(i,Lt,{get:()=>{if(null===a){const u=mw(i,s||{});a=He().compileDirective(ms,u.sourceMapUrl,u.metadata)}return a},configurable:!1})}function mw(i,s){const a=i&&i.name,u=`ng:///${a}/\u0275dir.js`,c=He(),f=vw(i,s);return f.typeSourceSpan=c.createParseSourceSpan("Directive",a,u),f.usesInheritance&&_w(i),{metadata:f,sourceMapUrl:u}}function yw(i,s){let a=null;Object.defineProperty(i,at,{get:()=>{if(null===a){const u=mw(i,s),c=He();a=c.compileFactory(ms,`ng:///${i.name}/\u0275fac.js`,{name:u.metadata.name,type:u.metadata.type,typeArgumentCount:0,deps:sl(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function OC(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function vw(i,s){const a=Pa(),u=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||br,propMetadata:u,inputs:s.inputs||yt,outputs:s.outputs||yt,queries:ww(i,u,l0),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!OC(i),exportAs:PC(s.exportAs),providers:s.providers||null,viewQueries:ww(i,u,Dw)}}function _w(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!Rn(a)&&!Kt(a)&&FC(a)&&Vu(a,null),a=Object.getPrototypeOf(a)}function Ew(i){return"string"==typeof i?ey(i):Y(i)}function Iw(i,s){return{propertyName:i,predicate:Ew(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function ww(i,s,a){const u=[];for(const c in s)if(s.hasOwnProperty(c)){const f=s[c];f.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${c}" of "${Ie(i)}" since the query selector wasn't defined.`);if(f.some(hd))throw new Error("Cannot combine @Input decorators with query decorators");u.push(Iw(c,v))}})}return u}function PC(i){return void 0===i?null:ey(i)}function l0(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function Dw(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function hd(i){return"Input"===i.ngMetadataName}function ey(i){return i.split(",").map(s=>s.trim())}const kC=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function FC(i){const s=Pa();if(kC.some(u=>s.hasLifecycleHook(i,u)))return!0;const a=s.propMetadata(i);for(const u in a){const c=a[u];for(let f=0;f<c.length;f++){const v=c[f],E=v.ngMetadataName;if(hd(v)||l0(v)||Dw(v)||"Output"===E||"HostBinding"===E||"HostListener"===E)return!0}}return!1}function Cw(i,s){let a=null,u=null;Object.defineProperty(i,at,{get:()=>{if(null===u){const c=bw(i,s),f=He();u=f.compileFactory(ms,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:sl(i),target:f.FactoryTarget.Pipe})}return u},configurable:!1}),Object.defineProperty(i,rt,{get:()=>{if(null===a){const c=bw(i,s);a=He().compilePipe(ms,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function bw(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure}}const Tw=js("Directive",(i={})=>i,void 0,void 0,(i,s)=>Vu(i,s)),LC=js("Component",(i={})=>Object.assign({changeDetection:Jn.Default},i),Tw,void 0,(i,s)=>Lu(i,s)),VC=js("Pipe",i=>Object.assign({pure:!0},i),void 0,void 0,(i,s)=>Cw(i,s)),qb=$i("Input",i=>({bindingPropertyName:i})),Wb=$i("Output",i=>({bindingPropertyName:i})),Aw=$i("HostBinding",i=>({hostPropertyName:i})),UC=$i("HostListener",(i,s)=>({eventName:i,args:s})),jC=js("NgModule",i=>i,void 0,void 0,(i,s)=>dw(i,s));function Fh(...i){}const c0=new hn("Application Initializer");let fd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Kg(f))a.push(f);else if(Zf(f)){const v=new Promise((E,D)=>{f.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ut(c0,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ty=new hn("AppId",{providedIn:"root",factory:Sw});function Sw(){return`${ny()}${ny()}${ny()}`}const $C={provide:ty,useFactory:Sw,deps:[]};function ny(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rp=new hn("Platform Initializer"),Mw=new hn("Platform ID"),d0=new hn("appBootstrapListener"),xw=new hn("Application Packages Root URL");let Kl=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const Oi=new hn("LocaleId",{providedIn:"root",factory:()=>qt(Oi,mt.Optional|mt.SkipSelf)||function Ao(){return"undefined"!=typeof $localize&&$localize.locale||qa}()}),Rw=new hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Nw=new hn("Translations"),Np=new hn("TranslationsFormat");var xs=(()=>((xs=xs||{})[xs.Error=0]="Error",xs[xs.Warning=1]="Warning",xs[xs.Ignore=2]="Ignore",xs))();class Ki{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let HC=(()=>{class i{compileModuleSync(a){return new Mn(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=p(gn(a).declarations).reduce((v,E)=>{const D=Kt(E);return D&&v.push(new jm(D)),v},[]);return new Ki(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ry=new hn("compilerOptions");class Lh{}const pd=(()=>Promise.resolve(0))();function Op(i){"undefined"==typeof Zone?pd.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ea{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function gd(){let i=zt.requestAnimationFrame,s=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function iy(i){const s=()=>{!function qC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(zt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Pi(i),i.isCheckStableRunning=!0,h0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Pi(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,f,v,E)=>{try{return Ow(i),a.invokeTask(c,f,v,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Pw(i)}},onInvoke:(a,u,c,f,v,E,D)=>{try{return Ow(i),a.invoke(c,f,v,E,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),Pw(i)}},onHasTask:(a,u,c,f)=>{a.hasTask(c,f),u===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Pi(i),h0(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+c,s,GC,Fh,Fh);try{return f.runTask(v,a,u)}finally{f.cancelTask(v)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const GC={};function h0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Pi(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ow(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Pw(i){i._nesting--,h0(i)}class kw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let f0=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),Op(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Op(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ut(ea))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),p0=(()=>{class i{constructor(){this._applications=new Map,oy.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return oy.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class sy{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function g0(i){oy=i}let So,oy=new sy;function Fw(i,s,a){const u=new Mn(a);return Promise.resolve(u)}function ay(i){return i.isBoundToModule}const uy=new hn("AllowMultipleToken");class m0{constructor(s,a){this.name=s,this.token=a}}function y0(i){if(So&&!So.destroyed&&!So.injector.get(uy,!1))throw new _e(400,"");So=i.get(kp);const s=i.get(Rp,null);return s&&s.forEach(a=>a()),So}function Pp(i,s,a=[]){const u=`Platform: ${s}`,c=new hn(u);return(f=[])=>{let v=v0();if(!v||v.injector.get(uy,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const E=a.concat(f).concat({provide:c,useValue:!0},{provide:Ff,useValue:"platform"});y0(Ks.create({providers:E,name:u}))}return Lw()}}function Lw(i){const s=v0();if(!s)throw new _e(401,"");return s}function zb(){So&&!So.destroyed&&So.destroy()}function v0(){return So&&!So.destroyed?So:null}let kp=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function Kb(i,s){let a;return a="noop"===i?new kw:("zone.js"===i?void 0:i)||new ea({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:ea,useValue:E}];return E.run(()=>{const x=Ks.create({providers:D,parent:this.injector,name:a.moduleType.name}),R=a.create(x),j=R.injector.get(si,null);if(!j)throw new _e(402,"");return E.runOutsideAngular(()=>{const q=E.onError.subscribe({next:te=>{j.handleError(te)}});R.onDestroy(()=>{Uw(this._modules,R),q.unsubscribe()})}),function Zb(i,s,a){try{const u=a();return Kg(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(j,E,()=>{const q=R.injector.get(fd);return q.runInitializers(),q.donePromise.then(()=>(vm(R.injector.get(Oi,qa)||qa),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const c=Vw({},u);return Fw(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const u=a.injector.get(_0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new _e(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ut(Ks))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Vw(i,s){return Array.isArray(s)?s.reduce(Vw,i):Object.assign(Object.assign({},i),s)}let _0=(()=>{class i{constructor(a,u,c,f,v){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),D=new V.y(x=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{ea.assertNotInAngularZone(),Op(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{R.unsubscribe(),j.unsubscribe()}});this.isStable=(0,se.T)(E,D.pipe((0,J.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new _e(405,"");let c;c=a instanceof vp?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=ay(c)?void 0:this._injector.get(Gl),E=c.create(Ks.NULL,[],u||c.selector,f),D=E.location.nativeElement,x=E.injector.get(f0,null),R=x&&E.injector.get(p0);return x&&R&&R.registerApplication(D,x),E.onDestroy(()=>{this.detachView(E.hostView),Uw(this.components,E),R&&R.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new _e(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Uw(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(d0,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ut(ea),ut(Ks),ut(si),ut(km),ut(fd))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Uw(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let zC=!0,KC=!1;function Yb(){return KC=!0,zC}function Jb(){if(KC)throw new Error("Cannot enable prod mode after platform setup.");zC=!1}function Xb(i){const s=$_(i);if(!s)throw Bw(i);return new Mn(s)}function jw(i){const s=$_(i);if(!s)throw Bw(i);return s}function Bw(i){return new Error(`No module with ID ${i} loaded`)}let $w=(()=>{class i{}return i.__NG_ELEMENT_ID__=ci,i})();function ci(i){return function ta(i,s,a){if(Ei(i)&&!a){const u=Ut(i.index,s);return new xh(u,u)}return 47&i.type?new xh(s[16],s):null}(jn(),Pe(),16==(16&i))}class Fp extends $w{}class E0 extends Fp{}class ZC{constructor(s,a){this.name=s,this.callback=a}}function QC(i){return i.map(s=>s.nativeElement)}class ly{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new Lp(s):null}get injector(){return Fg(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(Rl(s)||Zs(s))}get context(){return Rl(this.nativeNode)||UE(this.nativeNode)}get listeners(){return ah(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function bn(i){const s=ii(i);return null===s?{}:(void 0===s.localRefs&&(s.localRefs=function Ry(i,s){const a=i[1].data[s];if(a&&a.localNames){const u={};let c=a.index+1;for(let f=0;f<a.localNames.length;f+=2)u[a.localNames[f]]=i[c],c++;return u}return null}(s.lView,s.nodeIndex)),s.localRefs||{})}(this.nativeNode)}get providerTokens(){return function Uf(i){const s=ii(i);if(null===s)return[];const u=s.lView[1],c=u.data[s.nodeIndex],f=[],E=c.directiveEnd;for(let D=1048575&c.providerIndexes;D<E;D++){let x=u.data[D];Lg(x)&&(x=x.type),f.push(x)}return f}(this.nativeNode)}}class Lp extends ly{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=ii(this.nativeNode);return null!==s?s.lView[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=ii(this.nativeNode);if(null===s)return{};const a=s.lView,u=a[1].data,c=u[s.nodeIndex],f={};return function YC(i,s){if(i){let a=Object.getPrototypeOf(i);const u=Node.prototype;for(;null!==a&&a!==u;){const c=Object.getOwnPropertyDescriptors(a);for(let f in c)if(!f.startsWith("__")&&!f.startsWith("on")){const v=i[f];JC(v)&&(s[f]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,f),function w0(i,s,a,u){let c=s.propertyBindings;if(null!==c)for(let f=0;f<c.length;f++){const v=c[f],D=u[v].split("\ufffd"),x=D[0];if(D.length>1){let R=D[1];for(let j=1;j<D.length-1;j++)R+=re(a[v+j-1])+D[j+1];i[x]=R}else i[x]=a[v]}}(f,c,a,u),f}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const u=ii(a);if(null===u)return{};const f=u.lView[1].data[u.nodeIndex].attrs,v=[];if(f){let D=0;for(;D<f.length;){const x=f[D];if("string"!=typeof x)break;s[x]=f[D+1],v.push(x.toLowerCase()),D+=2}}const E=a.attributes;for(let D=0;D<E.length;D++){const x=E[D],R=x.name.toLowerCase();-1===v.indexOf(R)&&(s[R]=x.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},u=this.nativeElement.className;return("string"!=typeof u?u.baseVal.split(" "):u.split(" ")).forEach(f=>s[f]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let u=0;u<s.length;u++)a.push(Zl(s[u]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,u=[];for(let c=0;c<a.length;c++)u.push(Zl(a[c]));return u}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return Hw(this,s,a,!0),a}queryAllNodes(s){const a=[];return Hw(this,s,a,!1),a}triggerEventHandler(s,a){const u=this.nativeNode,c=[];this.listeners.forEach(f=>{if(f.name===s){const v=f.callback;v.call(u,a),c.push(v)}}),"function"==typeof u.eventListeners&&u.eventListeners(s).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const v=f("__ngUnwrap__");return-1===c.indexOf(v)&&v.call(u,a)}})}}function JC(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function Hw(i,s,a,u){const c=ii(i.nativeNode);null!==c?Fr(c.lView[1].data[c.nodeIndex],c.lView,s,a,u,i.nativeNode):I0(i.nativeNode,s,a,u)}function Fr(i,s,a,u,c,f){const v=function Ke(i,s){const a=null===i?-1:i.index;return-1!==a?b(s[a]):null}(i,s);if(11&i.type){if(cy(v,a,u,c,f),Ei(i)){const D=Ut(i.index,s);D&&D[1].firstChild&&Fr(D[1].firstChild,D,a,u,c,f)}else i.child&&Fr(i.child,s,a,u,c,f),v&&I0(v,a,u,c);const E=s[i.index];Ur(E)&&Vp(E,a,u,c,f)}else if(4&i.type){const E=s[i.index];cy(E[7],a,u,c,f),Vp(E,a,u,c,f)}else if(16&i.type){const E=s[16],x=E[6].projection[i.projection];if(Array.isArray(x))for(let R of x)cy(R,a,u,c,f);else if(x){const R=E[3];Fr(R[1].data[x.index],R,a,u,c,f)}}else i.child&&Fr(i.child,s,a,u,c,f);if(f!==v){const E=4&i.flags?i.projectionNext:i.next;E&&Fr(E,s,a,u,c,f)}}function Vp(i,s,a,u,c){for(let f=10;f<i.length;f++){const v=i[f],E=v[1].firstChild;E&&Fr(E,v,s,a,u,c)}}function cy(i,s,a,u,c){if(c!==i){const f=Zl(i);if(!f)return;(u&&f instanceof Lp&&s(f)&&-1===a.indexOf(f)||!u&&s(f)&&-1===a.indexOf(f))&&a.push(f)}}function I0(i,s,a,u){const c=i.childNodes,f=c.length;for(let v=0;v<f;v++){const E=c[v],D=Zl(E);D&&((u&&D instanceof Lp&&s(D)&&-1===a.indexOf(D)||!u&&s(D)&&-1===a.indexOf(D))&&a.push(D),I0(E,s,a,u))}}const Up="__ng_debug__";function Zl(i){return i instanceof Node?(i.hasOwnProperty(Up)||(i[Up]=i.nodeType==Node.ELEMENT_NODE?new Lp(i):new ly(i)),i[Up]):null}function XC(i){return null}class Gw{constructor(){}supports(s){return lh(s)}create(s){return new D0(s)}}const jp=(i,s)=>s;class D0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||jp}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,f=null;for(;a||u;){const v=!u||a&&a.currentIndex<zw(u,c,f)?a:u,E=zw(v,c,f),D=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{f||(f=[]);const x=E-c,R=D-c;if(x!=R){for(let q=0;q<x;q++){const te=q<f.length?f[q]:f[q]=0,Te=te+q;R<=Te&&Te<x&&(f[q]=te+1)}f[v.previousIndex]=R-x}}E!==D&&s(v,E,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!lh(s))throw new _e(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,v,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],v=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,f,v,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,v,E),u=!0),a=a._next}else c=0,function QE(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ol()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{v=this._trackByFn(c,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,c)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new dy(a,u),f,c),s}_verifyReinsertion(s,a,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ww),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ww),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class dy{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Ww{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new qw,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zw(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class Kw{constructor(){}supports(s){return s instanceof Map||pv(s)}create(){return new eb}}class eb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||pv(s)))throw new _e(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,v=c._next;return f&&(f._next=v),v&&(v._prev=f),c._next=null,c._prev=null,c}const u=new Zw(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Zw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hy(){return new fy([new Gw])}let fy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||hy()),deps:[[i,new kn,new hs]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new _e(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:hy}),i})();function C0(){return new md([new Kw])}let md=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||C0()),deps:[[i,new kn,new hs]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new _e(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:C0}),i})();const tb=[new Kw],Yw=new fy([new Gw]),nb=new md(tb),Xw=Pp(null,"core",[{provide:Mw,useValue:"unknown"},{provide:kp,deps:[Ks]},{provide:p0,deps:[]},{provide:Kl,deps:[]}]);let eD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ut(_0))},i.\u0275mod=ne({type:i}),i.\u0275inj=en({}),i})();const T0=!0;function rb(i){return He().compileDirectiveDeclaration(ms,`ng:///${i.type.name}/\u0275fac.js`,i)}function ib(i){var s,a;j_(i.type,i.decorators,null!==(s=i.ctorParameters)&&void 0!==s?s:null,null!==(a=i.propDecorators)&&void 0!==a?a:null)}function sb(i){return He().compileComponentDeclaration(ms,`ng:///${i.type.name}/\u0275cmp.js`,i)}function py(i){return He(function A0(i){switch(i){case qn.Directive:return"directive";case qn.Component:return"component";case qn.Injectable:return"injectable";case qn.Pipe:return"pipe";case qn.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(ms,`ng:///${i.type.name}/\u0275fac.js`,i)}function S0(i){return He().compileInjectableDeclaration(ms,`ng:///${i.type.name}/\u0275prov.js`,i)}function M0(i){return He().compileInjectorDeclaration(ms,`ng:///${i.type.name}/\u0275inj.js`,i)}function tD(i){return He().compileNgModuleDeclaration(ms,`ng:///${i.type.name}/\u0275mod.js`,i)}function ob(i){return He().compilePipeDeclaration(ms,`ng:///${i.type.name}/\u0275pipe.js`,i)}},3942:(ct,be,F)=>{"use strict";F.d(be,{Z:()=>_e});var w=F(2090),m=F(4859),V=F(9681),se=F(1877);class J{constructor(re,Ie){this._delegate=re,this.firebase=Ie,(0,V._addComponent)(re,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(re,Ie=V._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(re);return!Ge.isInitialized()&&"EXPLICIT"===(null===(We=Ge.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ie})}_removeServiceInstance(re,Ie=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(Ie)}_addComponent(re){(0,V._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,V._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function le(){const xe=function de(xe){const re={},Ie={__esModule:!0,initializeApp:function Me(Ye,oe={}){const X=V.initializeApp(Ye,oe);if((0,w.r3)(re,X.name))return re[X.name];const ue=new xe(X,Ie);return re[X.name]=ue,ue},app:Ge,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ye){const oe=Ye.name,X=oe.replace("-compat","");if(V._registerComponent(Ye)&&"PUBLIC"===Ye.type){const ue=(we=Ge())=>{if("function"!=typeof we[X])throw ae.create("invalid-app-argument",{appName:oe});return we[X]()};void 0!==Ye.serviceProps&&(0,w.ZB)(ue,Ye.serviceProps),Ie[X]=ue,xe.prototype[X]=function(...we){return this._getService.bind(this,oe).apply(this,Ye.multipleInstances?we:[])}}return"PUBLIC"===Ye.type?Ie[X]:null},removeApp:function We(Ye){delete re[Ye]},useAsService:function Je(Ye,oe){return"serverAuth"===oe?null:oe},modularAPIs:V}};function Ge(Ye){if(!(0,w.r3)(re,Ye=Ye||V._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ye});return re[Ye]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Ae(){return Object.keys(re).map(Ye=>re[Ye])}}),Ge.App=xe,Ie}(J);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function re(Ie){(0,w.ZB)(xe,Ie)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),xe}(),G=new se.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _e=H;!function he(xe){(0,V.registerVersion)("@firebase/app-compat","0.1.21",xe)}()},9681:(ct,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>di,_apps:()=>Et,_clearComponents:()=>jt,_components:()=>on,_getProvider:()=>yi,_registerComponent:()=>Xt,_removeServiceInstance:()=>en,deleteApp:()=>Yi,getApp:()=>gr,getApps:()=>Qi,initializeApp:()=>vi,onLog:()=>mr,registerVersion:()=>Kr,setLogLevel:()=>Yn});var w=F(5861),m=F(4859),V=F(1877),se=F(2090);class J{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ce(rt){const Oe=rt.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(at)){const vt=at.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(at=>at).join(" ")}}const ae="@firebase/app",le=new V.Yd("@firebase/app"),xn="[DEFAULT]",ft={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,on=new Map;function ln(rt,Oe){try{rt.container.addComponent(Oe)}catch(at){le.debug(`Component ${Oe.name} failed to register with FirebaseApp ${rt.name}`,at)}}function di(rt,Oe){rt.container.addOrOverwriteComponent(Oe)}function Xt(rt){const Oe=rt.name;if(on.has(Oe))return le.debug(`There were multiple attempts to register component ${Oe}.`),!1;on.set(Oe,rt);for(const at of Et.values())ln(at,rt);return!0}function yi(rt,Oe){const at=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),rt.container.getProvider(Oe)}function en(rt,Oe,at=xn){yi(rt,Oe).clearInstance(at)}function jt(){on.clear()}const zr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zi{constructor(Oe,at,vt){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const Dr="9.6.10";function vi(rt,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const at=Object.assign({name:xn,automaticDataCollectionEnabled:!1},Oe),vt=at.name;if("string"!=typeof vt||!vt)throw zr.create("bad-app-name",{appName:String(vt)});const Gt=Et.get(vt);if(Gt){if((0,se.vZ)(rt,Gt.options)&&(0,se.vZ)(at,Gt.config))return Gt;throw zr.create("duplicate-app",{appName:vt})}const Vt=new m.H0(vt);for(const $ of on.values())Vt.addComponent($);const W=new Zi(rt,at,Vt);return Et.set(vt,W),W}function gr(rt=xn){const Oe=Et.get(rt);if(!Oe)throw zr.create("no-app",{appName:rt});return Oe}function Qi(){return Array.from(Et.values())}function Yi(rt){return mt.apply(this,arguments)}function mt(){return(mt=(0,w.Z)(function*(rt){const Oe=rt.name;Et.has(Oe)&&(Et.delete(Oe),yield Promise.all(rt.container.getProviders().map(at=>at.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Kr(rt,Oe,at){var vt;let Gt=null!==(vt=ft[rt])&&void 0!==vt?vt:rt;at&&(Gt+=`-${at}`);const Vt=Gt.match(/\s|\//),W=Oe.match(/\s|\//);if(Vt||W){const $=[`Unable to register library "${Gt}" with version "${Oe}":`];return Vt&&$.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Vt&&W&&$.push("and"),W&&$.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void le.warn($.join(" "))}Xt(new m.wA(`${Gt}-version`,()=>({library:Gt,version:Oe}),"VERSION"))}function mr(rt,Oe){if(null!==rt&&"function"!=typeof rt)throw zr.create("invalid-log-argument");(0,V.Am)(rt,Oe)}function Yn(rt){(0,V.Ub)(rt)}const En="firebase-heartbeat-store";let Jn=null;function In(){return Jn||(Jn=(0,se.X3)("firebase-heartbeat-database",1,(rt,Oe)=>{0===Oe&&rt.createObjectStore(En)}).catch(rt=>{throw zr.create("storage-open",{originalErrorMessage:rt.message})})),Jn}function Wt(){return(Wt=(0,w.Z)(function*(rt){try{return(yield In()).transaction(En).objectStore(En).get(Xn(rt))}catch(Oe){throw zr.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function dt(rt,Oe){return wt.apply(this,arguments)}function wt(){return(wt=(0,w.Z)(function*(rt,Oe){try{const vt=(yield In()).transaction(En,"readwrite");return yield vt.objectStore(En).put(Oe,Xn(rt)),vt.complete}catch(at){throw zr.create("storage-set",{originalErrorMessage:at.message})}})).apply(this,arguments)}function Xn(rt){return`${rt.name}!${rt.options.appId}`}class Js{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new yt(at),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Oe=this;return(0,w.Z)(function*(){const vt=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=Cr();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Oe._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Gt))return Oe._heartbeatsCache.heartbeats.push({date:Gt,agent:vt}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Vt=>{const W=new Date(Vt.date).valueOf();return Date.now()-W<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,w.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const at=Cr(),{heartbeatsToSend:vt,unsentEntries:Gt}=function br(rt,Oe=1024){const at=[];let vt=rt.slice();for(const Gt of rt){const Vt=at.find(W=>W.agent===Gt.agent);if(Vt){if(Vt.dates.push(Gt.date),Tr(at)>Oe){Vt.dates.pop();break}}else if(at.push({agent:Gt.agent,dates:[Gt.date]}),Tr(at)>Oe){at.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:at,unsentEntries:vt}}(Oe._heartbeatsCache.heartbeats),Vt=(0,se.L)(JSON.stringify({version:2,heartbeats:vt}));return Oe._heartbeatsCache.lastSentHeartbeatDate=at,Gt.length>0?(Oe._heartbeatsCache.heartbeats=Gt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Vt})()}}function Cr(){return(new Date).toISOString().substring(0,10)}class yt{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,w.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Qr(rt){return Wt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var at=this;return(0,w.Z)(function*(){var vt;if(yield at._canUseIndexedDBPromise){const Vt=yield at.read();return dt(at.app,{lastSentHeartbeatDate:null!==(vt=Oe.lastSentHeartbeatDate)&&void 0!==vt?vt:Vt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var at=this;return(0,w.Z)(function*(){var vt;if(yield at._canUseIndexedDBPromise){const Vt=yield at.read();return dt(at.app,{lastSentHeartbeatDate:null!==(vt=Oe.lastSentHeartbeatDate)&&void 0!==vt?vt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Oe.heartbeats]})}})()}}function Tr(rt){return(0,se.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Lt(rt){Xt(new m.wA("platform-logger",Oe=>new J(Oe),"PRIVATE")),Xt(new m.wA("heartbeat",Oe=>new Js(Oe),"PRIVATE")),Kr(ae,"0.7.20",rt),Kr(ae,"0.7.20","esm2017"),Kr("fire-js","")}("")},4859:(ct,be,F)=>{"use strict";F.d(be,{wA:()=>V,H0:()=>de});var w=F(5861),m=F(2090);class V{constructor(H,G,Y){this.name=H,this.instanceFactory=G,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const se="[DEFAULT]";class J{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Y=new m.BH;if(this.instancesDeferred.set(G,Y),this.isInitialized(G)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:G});qe&&Y.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Y=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),qe=null!==(G=null==H?void 0:H.optional)&&void 0!==G&&G;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(he){if(qe)return null;throw he}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(le){return"EAGER"===le.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:se})}catch(G){}for(const[G,Y]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(G);try{const he=this.getOrInitializeService({instanceIdentifier:qe});Y.resolve(he)}catch(he){}}}}clearInstance(H=se){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,w.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...G.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=se){return this.instances.has(H)}getOptions(H=se){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Y,options:G});for(const[he,_e]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(he)&&_e.resolve(qe);return qe}onInit(H,G){var Y;const qe=this.normalizeInstanceIdentifier(G),he=null!==(Y=this.onInitCallbacks.get(qe))&&void 0!==Y?Y:new Set;he.add(H),this.onInitCallbacks.set(qe,he);const _e=this.instances.get(qe);return _e&&H(_e,qe),()=>{he.delete(H)}}invokeOnInitCallbacks(H,G){const Y=this.onInitCallbacks.get(G);if(Y)for(const qe of Y)try{qe(H,G)}catch(he){}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(le=H,le===se?void 0:le),options:G}),this.instances.set(H,Y),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch(qe){}var le;return Y||null}normalizeInstanceIdentifier(H=se){return this.component?this.component.multipleInstances?H:se:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new J(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,be,F)=>{"use strict";F.d(be,{in:()=>m,Yd:()=>ae,Ub:()=>de,Am:()=>le});const w=[];var m=(()=>{return(H=m||(m={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",m;var H})();const V={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},se=m.INFO,J={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},ce=(H,G,...Y)=>{if(G<H.logLevel)return;const qe=(new Date).toISOString(),he=J[G];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[he](`[${qe}]  ${H.name}:`,...Y)};class ae{constructor(G){this.name=G,this._logLevel=se,this._logHandler=ce,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in m))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?V[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...G),this._logHandler(this,m.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...G),this._logHandler(this,m.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,m.INFO,...G),this._logHandler(this,m.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,m.WARN,...G),this._logHandler(this,m.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...G),this._logHandler(this,m.ERROR,...G)}}function de(H){w.forEach(G=>{G.setLogLevel(H)})}function le(H,G){for(const Y of w){let qe=null;G&&G.level&&(qe=V[G.level]),Y.userLogHandler=null===H?null:(he,_e,...xe)=>{const re=xe.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(We){return null}}).filter(Ie=>Ie).join(" ");_e>=(null!=qe?qe:he.logLevel)&&H({level:m[_e].toLowerCase(),message:re,args:xe,type:he.name})}}}},5861:(ct,be,F)=>{"use strict";function w(V,se,J,ce,ae,de,le){try{var H=V[de](le),G=H.value}catch(Y){return void J(Y)}H.done?se(G):Promise.resolve(G).then(ce,ae)}function m(V){return function(){var se=this,J=arguments;return new Promise(function(ce,ae){var de=V.apply(se,J);function le(G){w(de,ce,ae,le,H,"next",G)}function H(G){w(de,ce,ae,le,H,"throw",G)}le(void 0)})}}F.d(be,{Z:()=>m})}},ct=>{ct(ct.s=526)}]);