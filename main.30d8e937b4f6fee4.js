(self.webpackChunkquotes_app=self.webpackChunkquotes_app||[]).push([[179],{2011:(lt,Ce,F)=>{"use strict";F.d(Ce,{hO:()=>qe,xv:()=>le,Dh:()=>de,GT:()=>ce,cc:()=>he,on:()=>H,pX:()=>J});var D=F(5e3),m=F(127),V=F(5813);lt=F.hmd(lt);const ie=["ngOnDestroy"],J=(Ie,We,He,Me={})=>new Proxy(Ie,{get:(Ae,Se)=>He.runOutsideAngular(()=>{var Qe;if(Ie[Se])return(null===(Qe=null==Me?void 0:Me.spy)||void 0===Qe?void 0:Qe.get)&&Me.spy.get(Se,Ie[Se]),Ie[Se];if(ie.indexOf(Se)>-1)return()=>{};const Ze=We.toPromise().then(se=>{const X=se&&se[Se];return"function"==typeof X?X.bind(se):X&&X.then?X.then(ue=>He.run(()=>ue)):He.run(()=>X)});return new Proxy(()=>{},{get:(se,X)=>Ze[X],apply:(se,X,ue)=>Ze.then(we=>{var fe;const Ve=we&&we(...ue);return(null===(fe=null==Me?void 0:Me.spy)||void 0===fe?void 0:fe.apply)&&Me.spy.apply(Se,ue,Ve),Ve})})})}),ce=(Ie,We)=>{We.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Me=>{Object.defineProperty(Ie.prototype,Me,Object.getOwnPropertyDescriptor(He.prototype||He,Me))})})};class ae{constructor(We){return We}}const de=new D.InjectionToken("angularfire2.app.options"),le=new D.InjectionToken("angularfire2.app.name");function H(Ie,We,He){const Ae="object"==typeof He&&He||{};Ae.name=Ae.name||"string"==typeof He&&He||"[DEFAULT]";const Qe=m.Z.apps.filter(Ze=>Ze&&Ze.name===Ae.name)[0]||We.runOutsideAngular(()=>m.Z.initializeApp(Ie,Ae));try{JSON.stringify(Ie)!==JSON.stringify(Qe.options)&&G("error",`${Qe.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new ae(Qe)}const G=(Ie,...We)=>{(0,D.isDevMode)()&&"undefined"!=typeof console&&console[Ie](...We)},Y={provide:ae,useFactory:H,deps:[de,D.NgZone,[new D.Optional,le]]};let qe=(()=>{class Ie{constructor(He){m.Z.registerVersion("angularfire",V.q4.full,"core"),m.Z.registerVersion("angularfire",V.q4.full,"app-compat"),m.Z.registerVersion("angular",D.VERSION.full,He.toString())}static initializeApp(He,Me){return{ngModule:Ie,providers:[{provide:de,useValue:He},{provide:le,useValue:Me}]}}}return Ie.\u0275fac=function(He){return new(He||Ie)(D.\u0275\u0275inject(D.PLATFORM_ID))},Ie.\u0275mod=D.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=D.\u0275\u0275defineInjector({providers:[Y]}),Ie})();function he(Ie,We,He,Me,Ae){const[,Se,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===Ie)||[];if(Se)return function ve(Ie,We){try{return Ie.toString()===We.toString()}catch(He){return Ie===We}}(Ae,Qe)||(re("error",`${We} was already initialized on the ${He} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),re("warn",{is:Ae,was:Qe})),Se;{const Ze=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Ze,Ae]),Ze}}const xe=!!lt.hot,re=(Ie,...We)=>{(0,D.isDevMode)()&&"undefined"!=typeof console&&console[Ie](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Ce,F)=>{"use strict";F.d(Ce,{q4:()=>Qh,iC:()=>rc,HU:()=>Yn,vb:()=>Bs,JM:()=>Rt});var D=F(5e3),m=F(5867),V=F(5861),ie=F(9681),J=F(2090),ce=F(4859),ae=F(1877);const de="@firebase/installations",G="w:0.5.7",Y="FIS_v2",Ie=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(C){return C instanceof J.ZR&&C.code.includes("request-failed")}function He({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Me(C){return{token:C.token,requestStatus:2,expiresIn:ue(C.expiresIn),creationTime:Date.now()}}function Ae(C,A){return Se.apply(this,arguments)}function Se(){return(Se=(0,V.Z)(function*(C,A){const B=(yield A.json()).error;return Ie.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ze(C,{refreshToken:A}){const N=Qe(C);return N.append("Authorization",function we(C){return`${Y} ${C}`}(A)),N}function se(C){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(C){const A=yield C();return A.status>=500&&A.status<600?C():A})).apply(this,arguments)}function ue(C){return Number(C.replace("s","000"))}function fe(C,A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},{fid:N}){const B=He(C),ee=Qe(C),oe=A.getImmediate({optional:!0});if(oe){const Tt=yield oe.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const nt={method:"POST",headers:ee,body:JSON.stringify({fid:N,authVersion:Y,appId:C.appId,sdkVersion:G})},at=yield se(()=>fetch(B,nt));if(at.ok){const Tt=yield at.json();return{fid:Tt.fid||N,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Me(Tt.authToken)}}throw yield Ae("Create Installation",at)})).apply(this,arguments)}function pe(C){return new Promise(A=>{setTimeout(A,C)})}const Jt=/^[cdef][\w-]{21}$/;function ht(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const N=function Et(C){return function it(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Jt.test(N)?N:""}catch(C){return""}}function an(C){return`${C.appName}!${C.appId}`}const cn=new Map;function ai(C,A){const N=an(C);tn(N,A),function $t(C,A){const N=function Gr(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=C=>{tn(C.data.key,C.data.fid)}),Xn}();N&&N.postMessage({key:C,fid:A}),function Ji(){0===cn.size&&Xn&&(Xn.close(),Xn=null)}()}(N,A)}function tn(C,A){const N=cn.get(C);if(N)for(const B of N)B(A)}let Xn=null;const cr="firebase-installations-store";let Xi=null;function es(){return Xi||(Xi=(0,J.X3)("firebase-installations-database",1,(C,A)=>{0===A&&C.createObjectStore(cr)})),Xi}function pt(C,A){return qr.apply(this,arguments)}function qr(){return(qr=(0,V.Z)(function*(C,A){const N=an(C),ee=(yield es()).transaction(cr,"readwrite"),oe=ee.objectStore(cr),Le=yield oe.get(N);return yield oe.put(A,N),yield ee.complete,(!Le||Le.fid!==A.fid)&&ai(C,A.fid),A})).apply(this,arguments)}function dr(C){return qn.apply(this,arguments)}function qn(){return(qn=(0,V.Z)(function*(C){const A=an(C),B=(yield es()).transaction(cr,"readwrite");yield B.objectStore(cr).delete(A),yield B.complete})).apply(this,arguments)}function Wr(C,A){return Os.apply(this,arguments)}function Os(){return(Os=(0,V.Z)(function*(C,A){const N=an(C),ee=(yield es()).transaction(cr,"readwrite"),oe=ee.objectStore(cr),Le=yield oe.get(N),nt=A(Le);return void 0===nt?yield oe.delete(N):yield oe.put(nt,N),yield ee.complete,nt&&(!Le||Le.fid!==nt.fid)&&ai(C,nt.fid),nt})).apply(this,arguments)}function In(C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,V.Z)(function*(C){let A;const N=yield Wr(C.appConfig,B=>{const ee=wn(B),oe=zr(C,ee);return A=oe.registrationPromise,oe.installationEntry});return""===N.fid?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}})).apply(this,arguments)}function wn(C){return Kt(C||{fid:ht(),registrationStatus:0})}function zr(C,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ie.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function zt(C,A){return ct.apply(this,arguments)}(C,N);return{installationEntry:N,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:It(C)}:{installationEntry:A}}function ct(){return(ct=(0,V.Z)(function*(C,A){try{const N=yield fe(C,A);return pt(C.appConfig,N)}catch(N){throw We(N)&&409===N.customData.serverCode?yield dr(C.appConfig):yield pt(C.appConfig,{fid:A.fid,registrationStatus:0}),N}})).apply(this,arguments)}function It(C){return zn.apply(this,arguments)}function zn(){return(zn=(0,V.Z)(function*(C){let A=yield ts(C.appConfig);for(;1===A.registrationStatus;)yield pe(100),A=yield ts(C.appConfig);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield In(C);return B||N}return A})).apply(this,arguments)}function ts(C){return Wr(C,A=>{if(!A)throw Ie.create("installation-not-found");return Kt(A)})}function Kt(C){return function Xs(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function wr(C,A){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},N){const B=mt(C,N),ee=Ze(C,N),oe=A.getImmediate({optional:!0});if(oe){const Tt=yield oe.getHeartbeatsHeader();Tt&&ee.append("x-firebase-client",Tt)}const nt={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:G,appId:C.appId}})},at=yield se(()=>fetch(B,nt));if(at.ok)return Me(yield at.json());throw yield Ae("Generate Auth Token",at)})).apply(this,arguments)}function mt(C,{fid:A}){return`${He(C)}/${A}/authTokens:generate`}function Cr(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,V.Z)(function*(C,A=!1){let N;const B=yield Wr(C.appConfig,oe=>{if(!jt(oe))throw Ie.create("not-registered");const Le=oe.authToken;if(!A&&z(Le))return oe;if(1===Le.requestStatus)return N=tt(C,A),oe;{if(!navigator.onLine)throw Ie.create("app-offline");const nt=Z(oe);return N=yt(C,nt),nt}});return N?yield N:B.authToken})).apply(this,arguments)}function tt(C,A){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,V.Z)(function*(C,A){let N=yield st(C.appConfig);for(;1===N.authToken.requestStatus;)yield pe(100),N=yield st(C.appConfig);const B=N.authToken;return 0===B.requestStatus?Cr(C,A):B})).apply(this,arguments)}function st(C){return Wr(C,A=>{if(!jt(A))throw Ie.create("not-registered");return function Ee(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function yt(C,A){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,V.Z)(function*(C,A){try{const N=yield wr(C,A),B=Object.assign(Object.assign({},A),{authToken:N});return yield pt(C.appConfig,B),N}catch(N){if(!We(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield pt(C.appConfig,B)}else yield dr(C.appConfig);throw N}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function z(C){return 2===C.requestStatus&&!function $(C){const A=Date.now();return A<C.creationTime||C.creationTime+C.expiresIn<A+36e5}(C)}function Z(C){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:A})}function ze(){return(ze=(0,V.Z)(function*(C){const A=C,{installationEntry:N,registrationPromise:B}=yield In(A);return B?B.catch(console.error):Cr(A).catch(console.error),N.fid})).apply(this,arguments)}function Pt(){return(Pt=(0,V.Z)(function*(C,A=!1){const N=C;return yield br(N),(yield Cr(N,A)).token})).apply(this,arguments)}function br(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,V.Z)(function*(C){const{registrationPromise:A}=yield In(C);A&&(yield A)})).apply(this,arguments)}function Zn(C){return Ie.create("missing-app-config-values",{valueName:C})}const Eo="installations",Ue=C=>{const A=C.getProvider("app").getImmediate(),N=function bt(C){if(!C||!C.options)throw Zn("App Configuration");if(!C.name)throw Zn("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!C.options[N])throw Zn(N);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(A);return{app:A,appConfig:N,heartbeatServiceProvider:(0,ie._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=C=>{const A=C.getProvider("app").getImmediate(),N=(0,ie._getProvider)(A,Eo).getImmediate();return{getId:()=>function ne(C){return ze.apply(this,arguments)}(N),getToken:ee=>function et(C){return Pt.apply(this,arguments)}(N,ee)}};(function gn(){(0,ie._registerComponent)(new ce.wA(Eo,Ue,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("installations-internal",Ft,"PRIVATE"))})(),(0,ie.registerVersion)(de,"0.5.7"),(0,ie.registerVersion)(de,"0.5.7","esm2017");const bn="@firebase/remote-config",On=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class La{constructor(A,N,B,ee){this.client=A,this.storage=N,this.storageCache=B,this.logger=ee}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,ee=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ee}.`),ee}fetch(A){var N=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(ee&&N.isCachedDataFresh(A.cacheMaxAgeMillis,B))return ee;A.eTag=ee&&ee.eTag;const oe=yield N.client.fetch(A),Le=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Le.push(N.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Le),oe})()}}function Yo(C=navigator){return C.languages&&C.languages[0]||C.language}class Jo{constructor(A,N,B,ee,oe,Le){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=B,this.projectId=ee,this.apiKey=oe,this.appId=Le}fetch(A){var N=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},at={sdk_version:N.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:N.appId,language_code:Yo()},Tt={method:"POST",headers:nt,body:JSON.stringify(at)},Yt=fetch(Le,Tt),Mt=new Promise((pi,fs)=>{A.signal.addEventListener(()=>{const fo=new Error("The operation was aborted.");fo.name="AbortError",fs(fo)})});let mr;try{yield Promise.race([Yt,Mt]),mr=yield Yt}catch(pi){let fs="fetch-client-network";throw"AbortError"===pi.name&&(fs="fetch-timeout"),On.create(fs,{originalErrorMessage:pi.message})}let Jn=mr.status;const Da=mr.headers.get("ETag")||void 0;let ho,hs;if(200===mr.status){let pi;try{pi=yield mr.json()}catch(fs){throw On.create("fetch-client-parse",{originalErrorMessage:fs.message})}ho=pi.entries,hs=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===hs?Jn=500:"NO_CHANGE"===hs?Jn=304:("NO_TEMPLATE"===hs||"EMPTY_CONFIG"===hs)&&(ho={}),304!==Jn&&200!==Jn)throw On.create("fetch-status",{httpStatus:Jn});return{status:Jn,eTag:Da,config:ho}})()}}class Tu{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,V.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:B}){var ee=this;return(0,V.Z)(function*(){yield function Pn(C,A){return new Promise((N,B)=>{const ee=Math.max(A-Date.now(),0),oe=setTimeout(N,ee);C.addEventListener(()=>{clearTimeout(oe),B(On.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const oe=yield ee.client.fetch(A);return yield ee.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function Va(C){if(!(C instanceof J.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(oe))throw oe;const Le={throttleEndTimeMillis:Date.now()+(0,J.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Le),ee.attemptFetch(A,Le)}})()}}class Xo{constructor(A,N,B,ee,oe){this.app=A,this._client=N,this._storageCache=B,this._storage=ee,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Do(C,A){const N=C.target.error||void 0;return On.create(A,{originalErrorMessage:N&&N.message})}const ss="app_namespace_store";class Mu{constructor(A,N,B,ee=function Su(){return new Promise((C,A)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=B=>{A(Do(B,"storage-open"))},N.onsuccess=B=>{C(B.target.result)},N.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ss,{keyPath:"compositeKey"})}}catch(N){A(On.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=A,this.appName=N,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,V.Z)(function*(){const B=yield N.openDbPromise;return new Promise((ee,oe)=>{const nt=B.transaction([ss],"readonly").objectStore(ss),at=N.createCompositeKey(A);try{const Tt=nt.get(at);Tt.onerror=Yt=>{oe(Do(Yt,"storage-get"))},Tt.onsuccess=Yt=>{const Mt=Yt.target.result;ee(Mt?Mt.value:void 0)}}catch(Tt){oe(On.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(A,N){var B=this;return(0,V.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((oe,Le)=>{const at=ee.transaction([ss],"readwrite").objectStore(ss),Tt=B.createCompositeKey(A);try{const Yt=at.put({compositeKey:Tt,value:N});Yt.onerror=Mt=>{Le(Do(Mt,"storage-set"))},Yt.onsuccess=()=>{oe()}}catch(Yt){Le(On.create("storage-set",{originalErrorMessage:Yt&&Yt.message}))}})})()}delete(A){var N=this;return(0,V.Z)(function*(){const B=yield N.openDbPromise;return new Promise((ee,oe)=>{const nt=B.transaction([ss],"readwrite").objectStore(ss),at=N.createCompositeKey(A);try{const Tt=nt.delete(at);Tt.onerror=Yt=>{oe(Do(Yt,"storage-delete"))},Tt.onsuccess=()=>{ee()}}catch(Tt){oe(On.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ja{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const N=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),ee=A.storage.getActiveConfig(),oe=yield N;oe&&(A.lastFetchStatus=oe);const Le=yield B;Le&&(A.lastSuccessfulFetchTimestampMillis=Le);const nt=yield ee;nt&&(A.activeConfig=nt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ro(){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,V.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Pr(){(0,ie._registerComponent)(new ce.wA("remote-config",function C(A,{instanceIdentifier:N}){const B=A.getProvider("app").getImmediate(),ee=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,J.hl)())throw On.create("indexed-db-unavailable");const{projectId:oe,apiKey:Le,appId:nt}=B.options;if(!oe)throw On.create("registration-project-id");if(!Le)throw On.create("registration-api-key");if(!nt)throw On.create("registration-app-id");const at=new Mu(nt,B.name,N=N||"firebase"),Tt=new ja(at),Yt=new ae.Yd(bn);Yt.logLevel=ae.in.ERROR;const Mt=new Jo(ee,ie.SDK_VERSION,N,oe,Le,nt),mr=new Tu(Mt,at),Jn=new La(mr,at,Tt,Yt),Da=new Xo(B,Jn,Tt,at,Yt);return function Zr(C){const A=(0,J.m9)(C);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Da),Da},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(bn,"0.3.6"),(0,ie.registerVersion)(bn,"0.3.6","esm2017")}();const Co="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="google.c.a.c_id",ks="google.c.a.c_l",Ba="google.c.a.ts",Bh="google.c.a.e";var Fs=(()=>{return(C=Fs||(Fs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Fs;var C})();function ui(C){const A=new Uint8Array(C);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ea(C){const N=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),ee=new Uint8Array(B.length);for(let oe=0;oe<B.length;++oe)ee[oe]=B.charCodeAt(oe);return ee}const ta="fcm_token_details_db",gr="fcm_token_object_Store";function xu(C){return To.apply(this,arguments)}function To(){return To=(0,V.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(ta))return null;let A=null;return(yield(0,J.X3)(ta,5,function(){var B=(0,V.Z)(function*(ee,oe,Le,nt){var at;if(oe<2||!ee.objectStoreNames.contains(gr))return;const Tt=nt.objectStore(gr),Yt=yield Tt.index("fcmSenderId").get(C);if(yield Tt.clear(),Yt)if(2===oe){const Mt=Yt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;A={token:Mt.fcmToken,createTime:null!==(at=Mt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ui(Mt.vapidKey)}}}else if(3===oe){const Mt=Yt;A={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ui(Mt.auth),p256dh:ui(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ui(Mt.vapidKey)}}}else if(4===oe){const Mt=Yt;A={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ui(Mt.auth),p256dh:ui(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ui(Mt.vapidKey)}}}});return function(ee,oe,Le,nt){return B.apply(this,arguments)}}())).close(),yield(0,J.Lj)(ta),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),$a(A)?A:null}),To.apply(this,arguments)}function $a(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:A}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const li="firebase-messaging-store";let ws=null;function na(){return ws||(ws=(0,J.X3)("firebase-messaging-database",1,(C,A)=>{0===A&&C.createObjectStore(li)})),ws}function mn(C){return T.apply(this,arguments)}function T(){return(T=(0,V.Z)(function*(C){const A=ye(C),B=yield(yield na()).transaction(li).objectStore(li).get(A);if(B)return B;{const ee=yield xu(C.appConfig.senderId);if(ee)return yield O(C,ee),ee}})).apply(this,arguments)}function O(C,A){return b.apply(this,arguments)}function b(){return(b=(0,V.Z)(function*(C,A){const N=ye(C),ee=(yield na()).transaction(li,"readwrite");return yield ee.objectStore(li).put(A,N),yield ee.complete,A})).apply(this,arguments)}function P(C){return K.apply(this,arguments)}function K(){return(K=(0,V.Z)(function*(C){const A=ye(C),B=(yield na()).transaction(li,"readwrite");yield B.objectStore(li).delete(A),yield B.complete})).apply(this,arguments)}function ye({appConfig:C}){return C.appId}const Ke=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dn(C,A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,V.Z)(function*(C,A){const N=yield Hi(C),B=ft(A),ee={method:"POST",headers:N,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(hn(C.appConfig),ee)).json()}catch(Le){throw Ke.create("token-subscribe-failed",{errorInfo:Le})}if(oe.error)throw Ke.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Ke.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Bt(C,A){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,V.Z)(function*(C,A){const N=yield Hi(C),B=ft(A.subscriptionOptions),ee={method:"PATCH",headers:N,body:JSON.stringify(B)};let oe;try{oe=yield(yield fetch(`${hn(C.appConfig)}/${A.token}`,ee)).json()}catch(Le){throw Ke.create("token-update-failed",{errorInfo:Le})}if(oe.error)throw Ke.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Ke.create("token-update-no-token");return oe.token})).apply(this,arguments)}function Nn(C,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,V.Z)(function*(C,A){const B={method:"DELETE",headers:yield Hi(C)};try{const oe=yield(yield fetch(`${hn(C.appConfig)}/${A}`,B)).json();if(oe.error)throw Ke.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(ee){throw Ke.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function hn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Hi(C){return ci.apply(this,arguments)}function ci(){return(ci=(0,V.Z)(function*({appConfig:C,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function ft({p256dh:C,auth:A,endpoint:N,vapidKey:B}){const ee={web:{endpoint:N,auth:A,p256dh:C}};return B!==pr&&(ee.web.applicationPubKey=B),ee}const Mi=6048e5;function Ds(C){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,V.Z)(function*(C){const A=yield Ao(C.swRegistration,C.vapidKey),N={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:A.endpoint,auth:ui(A.getKey("auth")),p256dh:ui(A.getKey("p256dh"))},B=yield mn(C.firebaseDependencies);if(B){if(ia(B.subscriptionOptions,N))return Date.now()>=B.createTime+Mi?ra(C,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield Nn(C.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return Pe(C.firebaseDependencies,N)}return Pe(C.firebaseDependencies,N)})).apply(this,arguments)}function os(C){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,V.Z)(function*(C){const A=yield mn(C.firebaseDependencies);A&&(yield Nn(C.firebaseDependencies,A.token),yield P(C.firebaseDependencies));const N=yield C.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function ra(C,A){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,V.Z)(function*(C,A){try{const N=yield Bt(C.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield O(C.firebaseDependencies,B),N}catch(N){throw yield os(C),N}})).apply(this,arguments)}function Pe(C,A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,V.Z)(function*(C,A){const B={token:yield dn(C,A),createTime:Date.now(),subscriptionOptions:A};return yield O(C,B),B.token})).apply(this,arguments)}function Ao(C,A){return kn.apply(this,arguments)}function kn(){return(kn=(0,V.Z)(function*(C,A){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ea(A)})})).apply(this,arguments)}function ia(C,A){return A.vapidKey===C.vapidKey&&A.endpoint===C.endpoint&&A.auth===C.auth&&A.p256dh===C.p256dh}function sa(C){const A={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function xi(C,A){if(!A.notification)return;C.notification={};const N=A.notification.title;N&&(C.notification.title=N);const B=A.notification.body;B&&(C.notification.body=B);const ee=A.notification.image;ee&&(C.notification.image=ee)}(A,C),function Nu(C,A){!A.data||(C.data=A.data)}(A,C),function Ou(C,A){if(!A.fcmOptions)return;C.fcmOptions={};const N=A.fcmOptions.link;N&&(C.fcmOptions.link=N);const B=A.fcmOptions.analytics_label;B&&(C.fcmOptions.analyticsLabel=B)}(A,C),A}function Pu(C){return"object"==typeof C&&!!C&&Ps in C}function Gl(C,A){const N=[];for(let B=0;B<C.length;B++)N.push(C.charAt(B)),B<A.length&&N.push(A.charAt(B));return N.join("")}function io(C){return Ke.create("missing-app-config-values",{valueName:C})}Gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yr{constructor(A,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function oa(C){if(!C||!C.options)throw io("App Configuration Object");if(!C.name)throw io("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=C;for(const B of A)if(!N[B])throw io(B);return{appName:C.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ee,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Lr(C){return so.apply(this,arguments)}function so(){return(so=(0,V.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Co,{scope:Ai}),C.swRegistration.update().catch(()=>{})}catch(A){throw Ke.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function Vs(C,A){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,V.Z)(function*(C,A){if(!A&&!C.swRegistration&&(yield Lr(C)),A||!C.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");C.swRegistration=A}})).apply(this,arguments)}function Yc(C,A){return ql.apply(this,arguments)}function ql(){return(ql=(0,V.Z)(function*(C,A){A?C.vapidKey=A:C.vapidKey||(C.vapidKey=pr)})).apply(this,arguments)}function zl(){return(zl=(0,V.Z)(function*(C,A){if(!navigator)throw Ke.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ke.create("permission-blocked");return yield Yc(C,null==A?void 0:A.vapidKey),yield Vs(C,null==A?void 0:A.serviceWorkerRegistration),Ds(C)})).apply(this,arguments)}function aa(C,A,N){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,V.Z)(function*(C,A,N){const B=qa(A);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[Ps],message_name:N[ks],message_time:N[Ba],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qa(C){switch(C){case Fs.NOTIFICATION_CLICKED:return"notification_open";case Fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wa(){return(Wa=(0,V.Z)(function*(C,A){const N=A.data;if(!N.isFirebaseMessaging)return;C.onMessageHandler&&N.messageType===Fs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(sa(N)):C.onMessageHandler.next(sa(N)));const B=N.data;Pu(B)&&"1"===B[Bh]&&(yield aa(C,N.messageType,B))})).apply(this,arguments)}const ku="@firebase/messaging",Jc=C=>{const A=new Yr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function ua(C,A){return Wa.apply(this,arguments)}(A,N)),A},la=C=>{const A=C.getProvider("messaging").getImmediate();return{getToken:B=>function Wl(C,A){return zl.apply(this,arguments)}(A,B)}};function Kl(){return So.apply(this,arguments)}function So(){return(So=(0,V.Z)(function*(){try{yield(0,J.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fu(){(0,ie._registerComponent)(new ce.wA("messaging",Jc,"PUBLIC")),(0,ie._registerComponent)(new ce.wA("messaging-internal",la,"PRIVATE")),(0,ie.registerVersion)(ku,"0.9.11"),(0,ie.registerVersion)(ku,"0.9.11","esm2017")}();const za="analytics",eg="firebase_id",da="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ha="https://www.googletagmanager.com/gtag/js",nr=new ae.Yd("@firebase/analytics");function Vu(C){return Promise.all(C.map(A=>A.catch(N=>N)))}function Hh(C,A){const N=document.createElement("script");N.src=`${ha}?l=${C}&id=${A}`,N.async=!0,document.head.appendChild(N)}function Mo(C,A,N,B,ee,oe){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,V.Z)(function*(C,A,N,B,ee,oe){const Le=B[ee];try{if(Le)yield A[Le];else{const at=(yield Vu(N)).find(Tt=>Tt.measurementId===ee);at&&(yield A[at.appId])}}catch(nt){nr.error(nt)}C("config",ee,oe)})).apply(this,arguments)}function Za(C,A,N,B,ee){return ao.apply(this,arguments)}function ao(){return(ao=(0,V.Z)(function*(C,A,N,B,ee){try{let oe=[];if(ee&&ee.send_to){let Le=ee.send_to;Array.isArray(Le)||(Le=[Le]);const nt=yield Vu(N);for(const at of Le){const Tt=nt.find(Mt=>Mt.measurementId===at),Yt=Tt&&A[Tt.appId];if(!Yt){oe=[];break}oe.push(Yt)}}0===oe.length&&(oe=Object.values(A)),yield Promise.all(oe),C("event",B,ee||{})}catch(oe){nr.error(oe)}})).apply(this,arguments)}function Gh(){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(ha))return A;return null}const Jr=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fa=new class Jl{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function pa(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Xl(C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,V.Z)(function*(C){var A;const{appId:N,apiKey:B}=C,ee={method:"GET",headers:pa(B)},oe=da.replace("{app-id}",N),Le=yield fetch(oe,ee);if(200!==Le.status&&304!==Le.status){let nt="";try{const at=yield Le.json();(null===(A=at.error)||void 0===A?void 0:A.message)&&(nt=at.error.message)}catch(at){}throw Jr.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:nt})}return Le.json()})).apply(this,arguments)}function qh(C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,V.Z)(function*(C,A=fa,N){const{appId:B,apiKey:ee,measurementId:oe}=C.options;if(!B)throw Jr.create("no-app-id");if(!ee){if(oe)return{measurementId:oe,appId:B};throw Jr.create("no-api-key")}const Le=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ga;return setTimeout((0,V.Z)(function*(){nt.abort()}),void 0!==N?N:6e4),Qa({appId:B,apiKey:ee,measurementId:oe},Le,nt,A)})).apply(this,arguments)}function Qa(C,A,N){return uo.apply(this,arguments)}function uo(){return(uo=(0,V.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:N},B,ee=fa){const{appId:oe,measurementId:Le}=C;try{yield Wh(B,A)}catch(nt){if(Le)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:oe,measurementId:Le};throw nt}try{const nt=yield Xl(C);return ee.deleteThrottleMetadata(oe),nt}catch(nt){if(!td(nt)){if(ee.deleteThrottleMetadata(oe),Le)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Le} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:oe,measurementId:Le};throw nt}const at=503===Number(nt.customData.httpStatus)?(0,J.$s)(N,ee.intervalMillis,30):(0,J.$s)(N,ee.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+at,backoffCount:N+1};return ee.setThrottleMetadata(oe,Tt),nr.debug(`Calling attemptFetch again in ${at} millis`),Qa(C,Tt,B,ee)}})).apply(this,arguments)}function Wh(C,A){return new Promise((N,B)=>{const ee=Math.max(A-Date.now(),0),oe=setTimeout(N,ee);C.addEventListener(()=>{clearTimeout(oe),B(Jr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function td(C){if(!(C instanceof J.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}class ga{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function zh(){return xo.apply(this,arguments)}function xo(){return(xo=(0,V.Z)(function*(){if(!(0,J.hl)())return nr.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(C){return nr.warn(Jr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function us(){return(us=(0,V.Z)(function*(C,A,N,B,ee,oe,Le){var nt;const at=qh(C);at.then(Jn=>{N[Jn.measurementId]=Jn.appId,C.options.measurementId&&Jn.measurementId!==C.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jn=>nr.error(Jn)),A.push(at);const Tt=zh().then(Jn=>{if(Jn)return B.getId()}),[Yt,Mt]=yield Promise.all([at,Tt]);Gh()||Hh(oe,Yt.measurementId),ee("js",new Date);const mr=null!==(nt=null==Le?void 0:Le.config)&&void 0!==nt?nt:{};return mr.origin="firebase",mr.update=!0,null!=Mt&&(mr[eg]=Mt),ee("config",Yt.measurementId,mr),Yt.measurementId})).apply(this,arguments)}class Ya{constructor(A){this.app=A}_delete(){return delete ls[this.app.options.appId],Promise.resolve()}}let ls={},ya=[];const ec={};let ju,va,Ro="dataLayer",rd=!1;function gt(C,A,N){!function bs(){const C=[];if((0,J.ru)()&&C.push("This is a browser extension environment."),(0,J.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),N=Jr.create("invalid-analytics-context",{errorInfo:A});nr.warn(N.message)}}();const B=C.options.appId;if(!B)throw Jr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Jr.create("no-api-key");nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ls[B])throw Jr.create("already-exists",{id:B});if(!rd){!function qi(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(Ro);const{wrappedGtag:oe,gtagCore:Le}=function Yl(C,A,N,B,ee){let oe=function(...Le){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(oe=window[ee]),window[ee]=function ed(C,A,N,B){function oe(){return(oe=(0,V.Z)(function*(Le,nt,at){try{"event"===Le?yield Za(C,A,N,nt,at):"config"===Le?yield Mo(C,A,N,B,nt,at):C("set",nt)}catch(Tt){nr.error(Tt)}})).apply(this,arguments)}return function ee(Le,nt,at){return oe.apply(this,arguments)}}(oe,C,A,N),{gtagCore:oe,wrappedGtag:window[ee]}}(ls,ya,ec,Ro,"gtag");va=oe,ju=Le,rd=!0}return ls[B]=function ma(C,A,N,B,ee,oe,Le){return us.apply(this,arguments)}(C,ya,ec,A,ju,Ro,N),new Ya(C)}function No(){return(No=(0,V.Z)(function*(C,A,N,B,ee){if(ee&&ee.global)C("event",N,B);else{const oe=yield A;C("event",N,Object.assign(Object.assign({},B),{send_to:oe}))}})).apply(this,arguments)}function Oo(){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,V.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}const Xa="@firebase/analytics";!function cs(){(0,ie._registerComponent)(new ce.wA(za,(A,{options:N})=>gt(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ie._registerComponent)(new ce.wA("analytics-internal",function C(A){try{const N=A.getProvider(za).getImmediate();return{logEvent:(B,ee,oe)=>function wa(C,A,N,B){C=(0,J.m9)(C),function Kh(C,A,N,B,ee){return No.apply(this,arguments)}(va,ls[C.app.options.appId],A,N,B).catch(ee=>nr.error(ee))}(N,B,ee,oe)}}catch(N){throw Jr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ie.registerVersion)(Xa,"0.7.7"),(0,ie.registerVersion)(Xa,"0.7.7","esm2017")}();var od=F(4408),ng=F(7565);const $u=new class Qn extends ng.v{}(class Sn extends od.o{constructor(A,N){super(A,N),this.scheduler=A,this.work=N}schedule(A,N=0){return N>0?super.schedule(A,N):(this.delay=N,this.state=A,this.scheduler.flush(this),this)}execute(A,N){return N>0||this.closed?super.execute(A,N):this._execute(A,N)}requestAsyncId(A,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,N,B):A.flush(this)}});var Iy=F(4986),ad=F(8505),ei=F(9468),Wi=F(5363);const Qh=new D.Version("7.3.0"),Po="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",Hu="__angularfire_symbol__remoteConfigIsSupported",ud="__angularfire_symbol__messagingIsSupportedValue",Yh="__angularfire_symbol__messagingIsSupported";function Rt(C,A,N){if(A){if(1===A.length)return A[0];const oe=A.filter(Le=>Le.app===N);if(1===oe.length)return oe[0]}return N.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ts]||(globalThis[Ts]=Oo().then(C=>globalThis[Po]=C).catch(()=>globalThis[Po]=!1)),globalThis[Yh]||(globalThis[Yh]=Kl().then(C=>globalThis[ud]=C).catch(()=>globalThis[ud]=!1)),globalThis[Hu]||(globalThis[Hu]=ro().then(C=>globalThis[js]=C).catch(()=>globalThis[js]=!1));const Bs=(C,A)=>{const N=A?[A]:(0,m.C6)(),B=[];return N.forEach(ee=>{ee.container.getProvider(C).instances.forEach(Le=>{B.includes(Le)||B.push(Le)})}),B};function co(){}class Gu{constructor(A,N=$u){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,B){const ee=this.zone;return this.delegate.schedule(function(Le){ee.runGuarded(()=>{A.apply(this,[Le])})},N,B)}}class Xh{constructor(A){this.zone=A,this.task=null}call(A,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),N.pipe((0,ad.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yn=(()=>{class C{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Gu(Zone.current)),this.insideAngular=N.run(()=>new Gu(Zone.current,Iy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(N){return new(N||C)(D.\u0275\u0275inject(D.NgZone))},C.\u0275prov=D.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function sr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function rc(C){return sr(),function ds(C){return function(N){return(N=N.lift(new Xh(C.ngZone))).pipe((0,ei.R)(C.outsideAngular),(0,Wi.Q)(C.insideAngular))}}(sr())(C)}},2090:(lt,Ce,F)=>{"use strict";F.d(Ce,{BH:()=>he,LL:()=>it,ZR:()=>pe,zI:()=>we,US:()=>ae,tV:()=>H,L:()=>le,$s:()=>Xs,r3:()=>tn,Sg:()=>ve,ne:()=>pt,vZ:()=>Ji,ZB:()=>Y,Lj:()=>Wt,pd:()=>Xi,m9:()=>mt,z$:()=>xe,jU:()=>We,ru:()=>He,d:()=>Ae,xb:()=>Xn,w1:()=>Se,hl:()=>X,uI:()=>re,UG:()=>Ie,b$:()=>Me,G6:()=>se,Mn:()=>Qe,X3:()=>yt,xO:()=>Ci,zd:()=>cr,eu:()=>ue});var D=F(5861);const J=function(z){const $=[];let Z=0;for(let Ee=0;Ee<z.length;Ee++){let ne=z.charCodeAt(Ee);ne<128?$[Z++]=ne:ne<2048?($[Z++]=ne>>6|192,$[Z++]=63&ne|128):55296==(64512&ne)&&Ee+1<z.length&&56320==(64512&z.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&z.charCodeAt(++Ee)),$[Z++]=ne>>18|240,$[Z++]=ne>>12&63|128,$[Z++]=ne>>6&63|128,$[Z++]=63&ne|128):($[Z++]=ne>>12|224,$[Z++]=ne>>6&63|128,$[Z++]=63&ne|128)}return $},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<z.length;ne+=3){const ze=z[ne],et=ne+1<z.length,Pt=et?z[ne+1]:0,br=ne+2<z.length,Zt=br?z[ne+2]:0;let pn=(15&Pt)<<2|Zt>>6,er=63&Zt;br||(er=64,et||(pn=64)),Ee.push(Z[ze>>2],Z[(3&ze)<<4|Pt>>4],Z[pn],Z[er])}return Ee.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(J(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let Z=0,Ee=0;for(;Z<z.length;){const ne=z[Z++];if(ne<128)$[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const ze=z[Z++];$[Ee++]=String.fromCharCode((31&ne)<<6|63&ze)}else if(ne>239&&ne<365){const br=((7&ne)<<18|(63&z[Z++])<<12|(63&z[Z++])<<6|63&z[Z++])-65536;$[Ee++]=String.fromCharCode(55296+(br>>10)),$[Ee++]=String.fromCharCode(56320+(1023&br))}else{const ze=z[Z++],et=z[Z++];$[Ee++]=String.fromCharCode((15&ne)<<12|(63&ze)<<6|63&et)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const Z=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<z.length;){const ze=Z[z.charAt(ne++)],Pt=ne<z.length?Z[z.charAt(ne)]:0;++ne;const Zt=ne<z.length?Z[z.charAt(ne)]:64;++ne;const kt=ne<z.length?Z[z.charAt(ne)]:64;if(++ne,null==ze||null==Pt||null==Zt||null==kt)throw Error();Ee.push(ze<<2|Pt>>4),64!==Zt&&(Ee.push(Pt<<4&240|Zt>>2),64!==kt&&Ee.push(Zt<<6&192|kt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},le=function(z){return function(z){const $=J(z);return ae.encodeByteArray($,!0)}(z).replace(/\./g,"")},H=function(z){try{return ae.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function Y(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const Z in $)!$.hasOwnProperty(Z)||!qe(Z)||(z[Z]=Y(z[Z],$[Z]));return z}function qe(z){return"__proto__"!==z}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}wrapCallback($){return(Z,Ee)=>{Z?this.reject(Z):this.resolve(Ee),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Z):$(Z,Ee))}}}function ve(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=$||"demo-project",ne=z.iat||0,ze=z.sub||z.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},z);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(et)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function We(){return"object"==typeof self&&self.self===self}function He(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return xe().indexOf("Electron/")>=0}function Se(){const z=xe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Qe(){return xe().indexOf("MSAppHost/")>=0}function se(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function ue(){return new Promise((z,$)=>{try{let Z=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),Z||self.indexedDB.deleteDatabase(Ee),z(!0)},ne.onupgradeneeded=()=>{Z=!1},ne.onerror=()=>{var ze;$((null===(ze=ne.error)||void 0===ze?void 0:ze.message)||"")}}catch(Z){$(Z)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor($,Z,Ee){super(Z),this.code=$,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor($,Z,Ee){this.service=$,this.serviceName=Z,this.errors=Ee}create($,...Z){const Ee=Z[0]||{},ne=`${this.service}/${$}`,ze=this.errors[$],et=ze?function Jt(z,$){return z.replace(Mn,(Z,Ee)=>{const ne=$[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(ze,Ee):"Error";return new pe(ne,`${this.serviceName}: ${et} (${ne}).`,Ee)}}const Mn=/\{\$([^}]+)}/g;function tn(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function Xn(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function Ji(z,$){if(z===$)return!0;const Z=Object.keys(z),Ee=Object.keys($);for(const ne of Z){if(!Ee.includes(ne))return!1;const ze=z[ne],et=$[ne];if(Ir(ze)&&Ir(et)){if(!Ji(ze,et))return!1}else if(ze!==et)return!1}for(const ne of Ee)if(!Z.includes(ne))return!1;return!0}function Ir(z){return null!==z&&"object"==typeof z}function Ci(z){const $=[];for(const[Z,Ee]of Object.entries(z))Array.isArray(Ee)?Ee.forEach(ne=>{$.push(encodeURIComponent(Z)+"="+encodeURIComponent(ne))}):$.push(encodeURIComponent(Z)+"="+encodeURIComponent(Ee));return $.length?"&"+$.join("&"):""}function cr(z){const $={};return z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,ze]=Ee.split("=");$[decodeURIComponent(ne)]=decodeURIComponent(ze)}}),$}function Xi(z){const $=z.indexOf("?");if(!$)return"";const Z=z.indexOf("#",$);return z.substring($,Z>0?Z:void 0)}function pt(z,$){const Z=new qr(z,$);return Z.subscribe.bind(Z)}class qr{constructor($,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{$(this)}).catch(Ee=>{this.error(Ee)})}next($){this.forEachObserver(Z=>{Z.next($)})}error($){this.forEachObserver(Z=>{Z.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Z,Ee){let ne;if(void 0===$&&void 0===Z&&void 0===Ee)throw new Error("Missing Observer.");ne=function qn(z,$){if("object"!=typeof z||null===z)return!1;for(const Z of $)if(Z in z&&"function"==typeof z[Z])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Z,complete:Ee},void 0===ne.next&&(ne.next=Wr),void 0===ne.error&&(ne.error=Wr),void 0===ne.complete&&(ne.complete=Wr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(et){}}),this.observers.push(ne),ze}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,$)}sendOne($,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Z(this.observers[$])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}function Xs(z,$=1e3,Z=2){const Ee=$*Math.pow(Z,z),ne=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ne)}function mt(z){return z&&z._delegate?z._delegate:z}function Cr(z,$){return new Promise((Z,Ee)=>{z.onsuccess=ne=>{Z(ne.target.result)},z.onerror=ne=>{var ze;Ee(`${$}: ${null===(ze=ne.target.error)||void 0===ze?void 0:ze.message}`)}})}class Ut{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,Z){return new tt(this._db.transaction.call(this._db,$,Z))}createObjectStore($,Z){return new Oe(this._db.createObjectStore($,Z))}close(){this._db.close()}}class tt{constructor($){this._transaction=$,this.complete=new Promise((Z,Ee)=>{this._transaction.oncomplete=function(){Z()},this._transaction.onerror=()=>{Ee(this._transaction.error)},this._transaction.onabort=()=>{Ee(this._transaction.error)}})}objectStore($){return new Oe(this._transaction.objectStore($))}}class Oe{constructor($){this._store=$}index($){return new st(this._store.index($))}createIndex($,Z,Ee){return new st(this._store.createIndex($,Z,Ee))}get($){return Cr(this._store.get($),"Error reading from IndexedDB")}put($,Z){return Cr(this._store.put($,Z),"Error writing to IndexedDB")}delete($){return Cr(this._store.delete($),"Error deleting from IndexedDB")}clear(){return Cr(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor($){this._index=$}get($){return Cr(this._index.get($),"Error reading from IndexedDB")}}function yt(z,$,Z){return new Promise((Ee,ne)=>{try{const ze=indexedDB.open(z,$);ze.onsuccess=et=>{Ee(new Ut(et.target.result))},ze.onerror=et=>{var Pt;ne(`Error opening indexedDB: ${null===(Pt=et.target.error)||void 0===Pt?void 0:Pt.message}`)},ze.onupgradeneeded=et=>{Z(new Ut(ze.result),et.oldVersion,et.newVersion,new tt(ze.transaction))}}catch(ze){ne(`Error opening indexedDB: ${ze.message}`)}})}function Wt(z){return jt.apply(this,arguments)}function jt(){return(jt=(0,D.Z)(function*(z){return new Promise(($,Z)=>{try{const Ee=indexedDB.deleteDatabase(z);Ee.onsuccess=()=>{$()},Ee.onerror=ne=>{var ze;Z(`Error deleting indexedDB database "${z}": ${null===(ze=ne.target.error)||void 0===ze?void 0:ze.message}`)}}catch(Ee){Z(`Error deleting indexedDB database "${z}": ${Ee.message}`)}})})).apply(this,arguments)}},526:(lt,Ce,F)=>{"use strict";var D=F(9808),m=F(5e3);class V extends D.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends V{static makeCurrent(){(0,D.\u0275setRootDomAdapter)(new ie)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ce(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==t?null:function de(n){ae=ae||document.createElement("a"),ae.setAttribute("href",n);const e=ae.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,D.\u0275parseCookieValue)(document.cookie,e)}}let ae,J=null;const le=new m.InjectionToken("TRANSITION_ID"),G=[{provide:m.APP_INITIALIZER,useFactory:function H(n,e,t){return()=>{t.get(m.ApplicationInitStatus).donePromise.then(()=>{const r=(0,D.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[le,D.DOCUMENT,m.Injector],multi:!0}];class Y{static init(){(0,m.setTestabilityGetter)(new Y)}addToWindow(e){m.\u0275global.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},m.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),m.\u0275global.frameworkStabilizers||(m.\u0275global.frameworkStabilizers=[]),m.\u0275global.frameworkStabilizers.push(r=>{const o=m.\u0275global.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(I){h=h||I,l--,0==l&&r(h)};o.forEach(function(I){I.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,D.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let qe=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const he=new m.InjectionToken("EventManagerPlugins");let ve=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(he),m.\u0275\u0275inject(m.NgZone))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,D.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let re=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends re{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(We),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(We))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function We(n){(0,D.\u0275getDOM)().remove(n)}const He={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g;function ue(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ue(n,o,t):(o=o.replace(Me,n),t.push(o))}return t}function we(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ve=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new pe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case m.ViewEncapsulation.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Mn(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case m.ViewEncapsulation.ShadowDom:return new ht(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ue(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(ve),m.\u0275\u0275inject(Ie),m.\u0275\u0275inject(m.APP_ID))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class pe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(He[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=He[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=He[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(m.RendererStyleFlags2.DashCase|m.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&m.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&m.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,we(r)):this.eventManager.addEventListener(e,t,we(r))}}class Mn extends pe{constructor(e,t,r,o){super(e),this.component=r;const l=ue(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function se(n){return"_ngcontent-%COMP%".replace(Me,n)}(o+"-"+r.id),this.hostAttr=function X(n){return"_nghost-%COMP%".replace(Me,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ht extends pe{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ue(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Et=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const an=["alt","control","meta","shift"],ai={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},en={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Di={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tn=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.\u0275getDOM)().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(an.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),h+=I+".")}),h+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(t){let r="",o=function $t(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&en.hasOwnProperty(e)&&(e=en[e]))}return ai[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),an.forEach(l=>{l!=o&&Di[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(D.DOCUMENT))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Ci=(0,m.createPlatformFactory)(m.platformCore,"browser",[{provide:m.PLATFORM_ID,useValue:D.\u0275PLATFORM_BROWSER_ID},{provide:m.PLATFORM_INITIALIZER,useValue:function Xn(){ie.makeCurrent(),Y.init()},multi:!0},{provide:D.DOCUMENT,useFactory:function Ji(){return(0,m.\u0275setDocument)(document),document},deps:[]}]),cr=[{provide:m.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:m.ErrorHandler,useFactory:function Gr(){return new m.ErrorHandler},deps:[]},{provide:he,useClass:Et,multi:!0,deps:[D.DOCUMENT,m.NgZone,m.PLATFORM_ID]},{provide:he,useClass:tn,multi:!0,deps:[D.DOCUMENT]},{provide:Ve,useClass:Ve,deps:[ve,Ie,m.APP_ID]},{provide:m.RendererFactory2,useExisting:Ve},{provide:re,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[D.DOCUMENT]},{provide:m.Testability,useClass:m.Testability,deps:[m.NgZone]},{provide:ve,useClass:ve,deps:[he,m.NgZone]},{provide:D.XhrFactory,useClass:qe,deps:[]}];let Xi=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.APP_ID,useValue:t.appId},{provide:le,useExisting:m.APP_ID},G]}}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(n,12))},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:cr,imports:[D.CommonModule,m.ApplicationModule]}),n})();"undefined"!=typeof window&&window;var et=F(8996),Pt=F(8306);const{isArray:br}=Array,{getPrototypeOf:Zt,prototype:xn,keys:kt}=Object;function pn(n){if(1===n.length){const e=n[0];if(br(e))return{args:e,keys:null};if(function er(n){return n&&"object"==typeof n&&Zt(n)===xn}(e)){const t=kt(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ji=F(8421),ns=F(7669),Kn=F(5403),bt=F(4004);const{isArray:Zn}=Array;function Nr(n){return(0,bt.U)(e=>function Eo(n,e){return Zn(e)?n(...e):n(e)}(n,e))}function Ue(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let gn=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n}),n})(),bn=(()=>{class n extends gn{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,features:[m.\u0275\u0275InheritDefinitionFeature]}),n})();const tr=new m.InjectionToken("NgValueAccessor"),un={provide:tr,useExisting:(0,m.forwardRef)(()=>St),multi:!0},rs=new m.InjectionToken("CompositionEventMode");let St=(()=>{class n extends gn{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function On(){const n=(0,D.\u0275getDOM)()?(0,D.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(m.Renderer2),m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(rs,8))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[m.\u0275\u0275ProvidersFeature([un]),m.\u0275\u0275InheritDefinitionFeature]}),n})();function Kr(n){return null==n||0===n.length}const Rn=new m.InjectionToken("NgValidators"),hr=new m.InjectionToken("NgAsyncValidators");function on(n){return Kr(n.value)?{required:!0}:null}function Ti(n){return null}function eo(n){return null!=n}function Tr(n){const e=(0,m.\u0275isPromise)(n)?(0,et.D)(n):n;return(0,m.\u0275isObservable)(e),e}function La(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yo(n,e){return e.map(t=>t(n))}function Pn(n){return n.map(e=>function Jo(n){return!n.validate}(e)?e:t=>e.validate(t))}function Tu(n){return null!=n?function Va(n){if(!n)return null;const e=n.filter(eo);return 0==e.length?null:function(t){return La(Yo(t,e))}}(Pn(n)):null}function Au(n){return null!=n?function $i(n){if(!n)return null;const e=n.filter(eo);return 0==e.length?null:function(t){return function Ft(...n){const e=(0,ns.jO)(n),{args:t,keys:r}=pn(n),o=new Pt.y(l=>{const{length:h}=t;if(!h)return void l.complete();const g=new Array(h);let I=h,S=h;for(let L=0;L<h;L++){let U=!1;(0,ji.Xf)(t[L]).subscribe((0,Kn.x)(l,Q=>{U||(U=!0,S--),g[L]=Q},()=>I--,void 0,()=>{(!I||!U)&&(S||l.next(r?Ue(r,g):g),l.complete())}))}});return e?o.pipe(Nr(e)):o}(Yo(t,e).map(Tr)).pipe((0,bt.U)(La))}}(Pn(n)):null}function Xo(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ua(n){return n?Array.isArray(n)?n:[n]:[]}function to(n,e){return Array.isArray(n)?n.includes(e):n===e}function Su(n,e){const t=Ua(e);return Ua(n).forEach(o=>{to(t,o)||t.push(o)}),t}function Mu(n,e){return Ua(e).filter(t=>!to(n,t))}class ja{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Au(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pr extends ja{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr extends ja{get formDirective(){return null}get path(){return null}}class no{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Co=(()=>{class n extends no{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Pr,2))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&m.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),n})(),Ai=(()=>{class n extends no{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(kr,10))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&m.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[m.\u0275\u0275InheritDefinitionFeature]}),n})();function Is(n,e){mn(n,e),e.valueAccessor.writeValue(n.value),function O(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P(n,e)})}(n,e),function K(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function b(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function na(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ws(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mn(n,e){const t=function Do(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Xo(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ss(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Xo(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();ws(e._rawValidators,o),ws(e._rawAsyncValidators,o)}function P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hi(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mi="VALID",Ds="INVALID",Gi="PENDING",os="DISABLED";function ra(n){return(Ao(n)?n.validators:n)||null}function Ha(n){return Array.isArray(n)?Tu(n):n||null}function Pe(n,e){return(Ao(e)?e.asyncValidators:n)||null}function Ht(n){return Array.isArray(n)?Au(n):n||null}function Ao(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ia=n=>n instanceof oa;function xi(n){return(n=>n instanceof Gl)(n)?n.value:n.getRawValue()}function Nu(n,e){const t=ia(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new m.\u0275RuntimeError(1e3,"");if(!r[e])throw new m.\u0275RuntimeError(1001,"")}function Ou(n,e){ia(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new m.\u0275RuntimeError(1002,"")})}class Pu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ha(this._rawValidators),this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mi}get invalid(){return this.status===Ds}get pending(){return this.status==Gi}get disabled(){return this.status===os}get enabled(){return this.status!==os}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ha(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ht(e)}addValidators(e){this.setValidators(Su(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Su(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mu(e,this._rawAsyncValidators))}hasValidator(e){return to(this._rawValidators,e)}hasAsyncValidator(e){return to(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=os,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mi,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mi||this.status===Gi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?os:Mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator=!0;const t=Tr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ru(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=ia(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof io)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.EventEmitter,this.statusChanges=new m.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?os:this.errors?Ds:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Ds)?Ds:Mi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ao(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gl extends Pu{constructor(e=null,t,r){super(ra(t),Pe(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ao(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class oa extends Pu{constructor(e,t,r){super(ra(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ou(this,e),Object.keys(e).forEach(r=>{Nu(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=xi(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class io extends Pu{constructor(e,t,r){super(ra(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ou(this,e),e.forEach((r,o)=>{Nu(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>xi(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Yr={provide:kr,useExisting:(0,m.forwardRef)(()=>so)},Lr=(()=>Promise.resolve(null))();let so=(()=>{class n extends kr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.EventEmitter,this.form=new oa({},Tu(t),Au(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lr.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Is(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lr.then(()=>{const r=this._findContainer(t.path),o=new oa({});(function ye(n,e){mn(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lr.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function vn(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Rn,10),m.\u0275\u0275directiveInject(hr,10))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.\u0275\u0275ProvidersFeature([Yr]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const Ga={provide:Pr,useExisting:(0,m.forwardRef)(()=>ua)},qa=(()=>Promise.resolve(null))();let ua=(()=>{class n extends Pr{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new Gl,this._registered=!1,this.update=new m.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function hn(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===St?t=l:function Nn(n){return Object.getPrototypeOf(n.constructor)===bn}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Vt(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Is(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qa.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;qa.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Ls(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(kr,9),m.\u0275\u0275directiveInject(Rn,10),m.\u0275\u0275directiveInject(hr,10),m.\u0275\u0275directiveInject(tr,10),m.\u0275\u0275directiveInject(m.ChangeDetectorRef,8))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m.\u0275\u0275ProvidersFeature([Ga]),m.\u0275\u0275InheritDefinitionFeature,m.\u0275\u0275NgOnChangesFeature]}),n})(),Wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({}),n})();let Xr=(()=>{class n{constructor(){this._validator=Ti}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ti,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,features:[m.\u0275\u0275NgOnChangesFeature]}),n})();const Dn={provide:Rn,useExisting:(0,m.forwardRef)(()=>Ri),multi:!0};let Ri=(()=>{class n extends Xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Jr(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>on}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[m.\u0275\u0275ProvidersFeature([Dn]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const td={provide:Rn,useExisting:(0,m.forwardRef)(()=>ga),multi:!0};let ga=(()=>{class n extends Xr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function tg(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Qr(n){return e=>Kr(e.value)||!function is(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[m.\u0275\u0275ProvidersFeature([td]),m.\u0275\u0275InheritDefinitionFeature]}),n})();const ma={provide:Rn,useExisting:(0,m.forwardRef)(()=>us),multi:!0};let us=(()=>{class n extends Xr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function Qo(n){if(!n)return Ti;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kr(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=m.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&m.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[m.\u0275\u0275ProvidersFeature([ma]),m.\u0275\u0275InheritDefinitionFeature]}),n})(),ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[[Fu]]}),n})(),Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[ec]}),n})();var id=F(3241),bs=F(7579);function gt(...n){const e=(0,ns.yG)(n);return(0,et.D)(n,e)}var Kh=F(6451),No=F(5363),di=F(4482);function Tn(n,e){return(0,di.e)((t,r)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&r.complete();t.subscribe((0,Kn.x)(r,I=>{null==o||o.unsubscribe();let S=0;const L=l++;(0,ji.Xf)(n(I,L)).subscribe(o=(0,Kn.x)(r,U=>r.next(e?e(I,U,L,S++):U),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var sd=F(6063);class _a extends bs.x{constructor(e=1/0,t=1/0,r=sd.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let g=0;for(let I=1;I<r.length&&r[I]<=h;I+=2)g=I;g&&r.splice(0,g+1)}}}var Bu=F(3099);function Us(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Bu.B)({connector:()=>new _a(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const hi=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ni(n,e){return(0,di.e)((t,r)=>{let o=0;t.subscribe((0,Kn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var Ja=F(5698);function Oo(n){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,Kn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Oi(n=Zh){return(0,di.e)((e,t)=>{let r=!1;e.subscribe((0,Kn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Zh(){return new hi}var An=F(4671);function Ia(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ni((o,l)=>n(o,l,r)):An.y,(0,Ja.q)(1),t?Oo(e):Oi(()=>new hi))}var tc=F(576);function wa(n,e){return(0,tc.m)(e)?Tn(()=>n,e):Tn(()=>n)}var Xa=F(9468),rr=F(5813),cs=F(2011);F(5867);var be=F(5861),ir=F(9681),eu=F(4859),Rt=F(2090),Bs=F(1877);const co=new Map,Gu={activated:!1,tokenObservers:[]},Xh={initialized:!1,enabled:!1};function Yn(n){return co.get(n)||Gu}function sr(n,e){co.set(n,e)}function qu(){return Xh}class ic{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function C(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const N=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ee(n){if(!Yn(n).activated)throw N.create("use-before-activation",{appName:n.name})}function at(n,e){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const l={method:"POST",body:JSON.stringify(e),headers:r};let h,g;try{h=yield fetch(n,l)}catch(U){throw N.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==h.status)throw N.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(U){throw N.create("fetch-parse-error",{originalErrorMessage:U.message})}const I=g.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw N.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const S=1e3*Number(I[1]),L=Date.now();return{token:g.attestationToken,expireTimeMillis:L+S,issuedAtTimeMillis:L}})).apply(this,arguments)}function mr(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const ho="firebase-app-check-store";let pi=null;function fs(){return pi||(pi=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(N.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(t){e(N.create("storage-open",{originalErrorMessage:t.message}))}}),pi)}function dd(){return(dd=(0,be.Z)(function*(n,e){const r=(yield fs()).transaction(ho,"readwrite"),l=r.objectStore(ho).put({compositeKey:n,value:e});return new Promise((h,g)=>{l.onsuccess=I=>{h()},r.onerror=I=>{var S;g(N.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Fo=new Bs.Yd("@firebase/app-check");function nf(n,e){return(0,Rt.hl)()?function ef(n,e){return function nu(n,e){return dd.apply(this,arguments)}(function ko(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fo.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function og(){return qu().enabled}function ag(){return rf.apply(this,arguments)}function rf(){return(rf=(0,be.Z)(function*(){const n=qu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sf={error:"UNKNOWN_ERROR"};function Wu(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function pd(n){return oc.apply(this,arguments)}function oc(){return(oc=(0,be.Z)(function*(n,e=!1){const t=n.app;ee(t);const r=Yn(t);let l,o=r.token;if(!o){const I=yield r.cachedTokenPromise;I&&Ku(I)&&(o=I)}if(!e&&o&&Ku(o))return{token:o.token};let g,h=!1;if(og()){r.exchangeTokenPromise||(r.exchangeTokenPromise=at(mr(t,yield ag()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),h=!0);const I=yield r.exchangeTokenPromise;return yield nf(t,I),sr(t,Object.assign(Object.assign({},r),{token:I})),{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0),o=yield r.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Fo.warn(I.message):Fo.error(I),l=I}return o?(g={token:o.token},sr(t,Object.assign(Object.assign({},r),{token:o})),yield nf(t,o)):g=ru(l),h&&of(t,g),g})).apply(this,arguments)}function zu(n,e){const t=Yn(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),sr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function gd(n){const{app:e}=n,t=Yn(e);let r=t.tokenRefresher;r||(r=function lg(n){const{app:e}=n;return new ic((0,be.Z)(function*(){let r;if(r=Yn(e).token?yield pd(n,!0):yield pd(n),r.error)throw r.error}),()=>!0,()=>{const t=Yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),sr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function of(n,e){const t=Yn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Ku(n){return n.expireTimeMillis-Date.now()>0}function ru(n){return{token:Wu(sf),error:n}}class Dy{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Yn(this.app);for(const t of e)zu(this.app,t.next);return Promise.resolve()}}const cf="app-check-internal";!function q0(){(0,ir._registerComponent)(new eu.wA("app-check",n=>function Cy(n,e){return new Dy(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cf).initialize()})),(0,ir._registerComponent)(new eu.wA(cf,n=>function by(n){return{getToken:e=>pd(n,e),addTokenListener:e=>function ug(n,e,t,r){const{app:o}=n,l=Yn(o),h={next:t,error:r,type:e};if(sr(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Ku(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),gd(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>gd(n))}(n,"INTERNAL",e),removeTokenListener:e=>zu(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ir.registerVersion)("@firebase/app-check","0.5.5")}();class uc{constructor(){return(0,rr.vb)("app-check")}}"undefined"!=typeof window&&window;var _d=F(127);const yf=new m.InjectionToken("angularfire2.auth.use-emulator"),Ju=new m.InjectionToken("angularfire2.auth.settings"),vf=new m.InjectionToken("angularfire2.auth.tenant-id"),_f=new m.InjectionToken("angularfire2.auth.langugage-code"),Ef=new m.InjectionToken("angularfire2.auth.use-device-language"),Vy=new m.InjectionToken("angularfire.auth.persistence"),Uy=(n,e,t,r,o,l,h,g)=>(0,cs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=o,l&&I.useDeviceLanguage(),h)for(const[S,L]of Object.entries(h))I.settings[S]=L;return g&&I.setPersistence(g),I},[t,r,o,l,h,g]);let Ta=(()=>{class n{constructor(t,r,o,l,h,g,I,S,L,U,Q,ge){const Re=new bs.x,Xe=gt(void 0).pipe((0,No.Q)(h.outsideAngular),Tn(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4087)))),(0,bt.U)(()=>(0,cs.on)(t,l,r)),(0,bt.U)(Ct=>Uy(Ct,l,g,S,L,U,I,Q)),Us({bufferSize:1,refCount:!1}));if((0,D.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Xe.pipe(Ia()).subscribe();const Cn=Xe.pipe(Tn(qt=>qt.getRedirectResult().then(fn=>fn,()=>null)),rr.iC,Us({bufferSize:1,refCount:!1})),Ot=Xe.pipe(Tn(qt=>new Pt.y(fn=>({unsubscribe:l.runOutsideAngular(()=>qt.onAuthStateChanged(sn=>fn.next(sn),sn=>fn.error(sn),()=>fn.complete()))})))),lr=Xe.pipe(Tn(qt=>new Pt.y(fn=>({unsubscribe:l.runOutsideAngular(()=>qt.onIdTokenChanged(sn=>fn.next(sn),sn=>fn.error(sn),()=>fn.complete()))}))));this.authState=Cn.pipe(wa(Ot),(0,Xa.R)(h.outsideAngular),(0,No.Q)(h.insideAngular)),this.user=Cn.pipe(wa(lr),(0,Xa.R)(h.outsideAngular),(0,No.Q)(h.insideAngular)),this.idToken=this.user.pipe(Tn(qt=>qt?(0,et.D)(qt.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(Tn(qt=>qt?(0,et.D)(qt.getIdTokenResult()):gt(null))),this.credential=(0,Kh.T)(Cn,Re,this.authState.pipe(Ni(qt=>!qt))).pipe((0,bt.U)(qt=>(null==qt?void 0:qt.user)?qt:null),(0,Xa.R)(h.outsideAngular),(0,No.Q)(h.insideAngular))}return(0,cs.pX)(this,Xe,l,{spy:{apply:(Ct,Cn,Ot)=>{(Ct.startsWith("signIn")||Ct.startsWith("createUser"))&&Ot.then(lr=>Re.next(lr))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(cs.Dh),m.\u0275\u0275inject(cs.xv,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(rr.HU),m.\u0275\u0275inject(yf,8),m.\u0275\u0275inject(Ju,8),m.\u0275\u0275inject(vf,8),m.\u0275\u0275inject(_f,8),m.\u0275\u0275inject(Ef,8),m.\u0275\u0275inject(Vy,8),m.\u0275\u0275inject(uc,8))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ti=(()=>{class n{constructor(){_d.Z.registerVersion("angularfire",rr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[Ta]}),n})();class Pi extends bs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ed=F(9672);function Aa(n,e,t){n?(0,Ed.f)(t,n,e):e()}function Xu(n,e){const t=(0,tc.m)(n)?n:()=>n,r=o=>o.error(t());return new Pt.y(e?o=>e.schedule(r,0,o):r)}var mi=F(8189);function dc(...n){return function cc(){return(0,mi.J)(1)}()((0,et.D)(n,(0,ns.yG)(n)))}function gg(n){return new Pt.y(e=>{(0,ji.Xf)(n()).subscribe(e)})}var Lo=F(515),Id=F(727);function wf(){return(0,di.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Kn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class mg extends Pt.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Id.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Kn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Id.w0.EMPTY)}return e}refCount(){return wf()(this)}}function wd(...n){const e=(0,ns.yG)(n);return(0,di.e)((t,r)=>{(e?dc(n,t,e):dc(n,t)).subscribe(r)})}function po(n,e,t,r,o){return(l,h)=>{let g=t,I=e,S=0;l.subscribe((0,Kn.x)(h,L=>{const U=S++;I=g?n(I,L,U):(g=!0,L),r&&h.next(I)},o&&(()=>{g&&h.next(I),h.complete()})))}}function el(n,e){return(0,di.e)(po(n,e,arguments.length>=2,!0))}function Sa(n){return(0,di.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,Kn.x)(t,void 0,void 0,h=>{l=(0,ji.Xf)(n(h,Sa(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ur=F(5577);function hc(n,e){return(0,tc.m)(e)?(0,Ur.z)(n,e,1):(0,Ur.z)(n,1)}function Dd(n){return n<=0?()=>Lo.E:(0,di.e)((e,t)=>{let r=[];e.subscribe((0,Kn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}var yi=F(8505);class Vo{constructor(e,t){this.id=e,this.url=t}}class Hs extends Vo{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uo extends Vo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bd extends Vo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yg extends Vo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jy extends Vo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Df extends Vo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class By extends Vo{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $y extends Vo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vg extends Vo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cf{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class y{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const q="primary";class me{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function $e(n){return new me(n)}const ot="ngNavigationCancelingError";function wt(n){const e=Error("NavigationCancelingError: "+n);return e[ot]=!0,e}function $n(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],g=n[l];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!fc(n[o],e[o]))return!1;return!0}function fc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function tl(n){return Array.prototype.concat.apply([],n)}function Td(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ps(n){return(0,m.\u0275isObservable)(n)?n:(0,m.\u0275isPromise)(n)?(0,et.D)(Promise.resolve(n)):gt(n)}const Tf={exact:function Eg(n,e,t){if(!mc(n.segments,e.segments)||!Sf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Eg(n.children[r],e.children[r],t))return!1;return!0},subset:Z0},pc={exact:function Af(n,e){return zi(n,e)},subset:function ID(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fc(n[t],e[t]))},ignored:()=>!0};function _g(n,e,t){return Tf[t.paths](n.root,e.root,t.matrixParams)&&pc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Z0(n,e,t){return Q0(n,e,e.segments,t)}function Q0(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!mc(o,t)||e.hasChildren()||!Sf(o,t,r))}if(n.segments.length===t.length){if(!mc(n.segments,t)||!Sf(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Z0(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(mc(n.segments,o)&&Sf(n.segments,o,r)&&n.children[q])&&Q0(n.children[q],e,l,r)}}function Sf(n,e,t){return e.every((r,o)=>pc[t](n[o].parameters,r.parameters))}class iu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return J0.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mf(this)}}class gc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return Gy(this)}}function mc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Hy{}class nl{parse(e){const t=new nE(e);return new iu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xf(e.root,!0)}`,r=function bg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ig(t)}=${Ig(o)}`).join("&"):`${Ig(t)}=${Ig(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function X0(n){return encodeURI(n)}(e.fragment)}`:""}`}}const J0=new nl;function Mf(n){return n.segments.map(e=>Gy(e)).join("/")}function xf(n,e){if(!n.hasChildren())return Mf(n);if(e){const t=n.children[q]?xf(n.children[q],!1):"",r=[];return Fn(n.children,(o,l)=>{l!==q&&r.push(`${l}:${xf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Y0(n,e){let t=[];return Fn(n.children,(r,o)=>{o===q&&(t=t.concat(e(r,o)))}),Fn(n.children,(r,o)=>{o!==q&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===q?[xf(n.children[q],!1)]:[`${o}:${xf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[q]?`${Mf(n)}/${t[0]}`:`${Mf(n)}/(${t.join("//")})`}}function Rf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ig(n){return Rf(n).replace(/%3B/gi,";")}function wg(n){return Rf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nf(n){return decodeURIComponent(n)}function Dg(n){return Nf(n.replace(/\+/g,"%20"))}function Gy(n){return`${wg(n.path)}${function Cg(n){return Object.keys(n).map(e=>`;${wg(e)}=${wg(n[e])}`).join("")}(n.parameters)}`}const eE=/^[^\/()?;=#]+/;function Ad(n){const e=n.match(eE);return e?e[0]:""}const tE=/^[^=?&#]+/,Of=/^[^&#]+/;class nE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[q]=new nn(e,t)),r}parseSegment(){const e=Ad(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gc(Nf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ad(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ad(this.remaining);o&&(r=o,this.capture(r))}e[Nf(t)]=Nf(r)}parseQueryParam(e){const t=function qy(n){const e=n.match(tE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function DD(n){const e=n.match(Of);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Dg(t),l=Dg(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ad(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=q);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[q]:new nn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class rE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Tg(e,this._root).map(t=>t.value)}}function Wy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wy(n,t);if(r)return r}return null}function Tg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Tg(n,t);if(r.length)return r.unshift(e),r}return[]}class jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CD extends rE{constructor(e,t){super(e),this.snapshot=t,Ag(this,e)}toString(){return this.snapshot.toString()}}function zy(n,e){const t=function bD(n,e){const h=new Ms([],{},{},"",{},q,e,null,n.root,-1,{});return new sE("",new jo(h,[]))}(n,e),r=new Pi([new gc("",{})]),o=new Pi({}),l=new Pi({}),h=new Pi({}),g=new Pi(""),I=new vc(r,o,h,g,l,q,e,t.root);return I.snapshot=t.root,new CD(new jo(I,[]),t)}class vc{constructor(e,t,r,o,l,h,g,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>$e(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>$e(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function TD(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ms{constructor(e,t,r,o,l,h,g,I,S,L,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=L,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sE extends rE{constructor(e,t){super(t),this.url=e,Ag(this,t)}toString(){return oE(this._root)}}function Ag(n,e){e.value._routerState=n,e.children.forEach(t=>Ag(n,t))}function oE(n){const e=n.children.length>0?` { ${n.children.map(oE).join(", ")} } `:"";return`${n.value}${e}`}function Ky(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zi(e.params,t.params)||n.params.next(t.params),function Ss(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zy(n,e){const t=zi(n.params,e.params)&&function wD(n,e){return mc(n,e)&&n.every((t,r)=>zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zy(n.parent,e.parent))}function Sd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function SD(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Sd(n,r,o);return Sd(n,r)})}(n,e,t);return new jo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>Sd(n,g)),h}}const r=function MD(n){return new vc(new Pi(n.url),new Pi(n.params),new Pi(n.queryParams),new Pi(n.fragment),new Pi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Sd(n,l));return new jo(r,o)}}function xt(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Md(n){return"object"==typeof n&&null!=n&&n.outlets}function Sg(n,e,t,r,o){let l={};if(r&&Fn(r,(g,I)=>{l[I]=Array.isArray(g)?g.map(S=>`${S}`):`${g}`}),n===e)return new iu(t,l,o);const h=Qy(n,e,t);return new iu(h,l,o)}function Qy(n,e,t){const r={};return Fn(n.children,(o,l)=>{r[l]=o===e?t:Qy(o,e,t)}),new nn(n.segments,r)}class Pf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xt(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Md);if(o&&o!==Td(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xg(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return kf(n,e,t);const r=function Jy(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],g=t[r];if(Md(g))break;const I=`${g}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!Ff(I,S,h))return l;r+=2}else{if(!Ff(I,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new nn(n.segments.slice(0,r.pathIndex),{});return l.children[q]=new nn(n.segments.slice(r.pathIndex),n.children),kf(l,0,o)}return r.match&&0===o.length?new nn(n.segments,{}):r.match&&!n.hasChildren()?aE(n,e,t):r.match?kf(n,0,o):aE(n,e,t)}function kf(n,e,t){if(0===t.length)return new nn(n.segments,{});{const r=function su(n){return Md(n[0])?n[0].outlets:{[q]:n}}(t),o={};return Fn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=xg(n.children[h],e,l))}),Fn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new nn(n.segments,o)}}function aE(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Md(l)){const I=uE(l.outlets);return new nn(r,I)}if(0===o&&xt(t[0])){r.push(new gc(n.segments[e].path,ND(t[0]))),o++;continue}const h=Md(l)?l.outlets[q]:`${l}`,g=o<t.length-1?t[o+1]:null;h&&g&&xt(g)?(r.push(new gc(h,ND(g))),o+=2):(r.push(new gc(h,{})),o++)}return new nn(r,{})}function uE(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=aE(new nn([],{}),0,t))}),e}function ND(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function Ff(n,e,t){return n==t.path&&zi(e,t.parameters)}class Xy{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ky(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=yc(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Fn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=yc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=yc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=yc(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new x(l.value.snapshot))}),e.children.length&&this.forwardEvent(new p(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Ky(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Ky(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function ev(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),I=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=I,h.outlet&&h.outlet.activateWith(o,I),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Lf{constructor(e,t){this.routes=e,this.module=t}}function _c(n){return"function"==typeof n}function Ec(n){return n instanceof iu}const Vf=Symbol("INITIAL_VALUE");function Ng(){return Tn(n=>function If(...n){const e=(0,ns.yG)(n),t=(0,ns.jO)(n),{args:r,keys:o}=pn(n);if(0===r.length)return(0,et.D)([],e);const l=new Pt.y(function gi(n,e,t=An.y){return r=>{Aa(e,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let I=0;I<o;I++)Aa(e,()=>{const S=(0,et.D)(n[I],e);let L=!1;S.subscribe((0,Kn.x)(r,U=>{l[I]=U,L||(L=!0,g--),g||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ue(o,h):An.y));return t?l.pipe(Nr(t)):l}(n.map(e=>e.pipe((0,Ja.q)(1),wd(Vf)))).pipe(el((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Vf?o:(l===Vf&&(r=!0),r||!1!==l&&h!==t.length-1&&!Ec(l)?o:l),e)},Vf),Ni(e=>e!==Vf),(0,bt.U)(e=>Ec(e)?e:!0===e),(0,Ja.q)(1)))}class cE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xd,this.attachRef=null}}class xd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new cE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tv=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.EventEmitter,this.deactivateEvents=new m.EventEmitter,this.attachEvents=new m.EventEmitter,this.detachEvents=new m.EventEmitter,this.name=l||q,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,I=new nv(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(xd),m.\u0275\u0275directiveInject(m.ViewContainerRef),m.\u0275\u0275directiveInject(m.ComponentFactoryResolver),m.\u0275\u0275injectAttribute("name"),m.\u0275\u0275directiveInject(m.ChangeDetectorRef))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class nv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vc?this.route:e===xd?this.childContexts:this.parent.get(e,t)}}let FD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&m.\u0275\u0275element(0,"router-outlet")},directives:[tv],encapsulation:2}),n})();function LD(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ST(r,MT(e,r))}}function ST(n,e){n.children&&LD(n.children,e)}function MT(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function dE(n){const e=n.children&&n.children.map(dE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==q&&(t.component=FD),t}function $o(n){return n.outlet||q}function VD(n,e){const t=n.filter(r=>$o(r)===e);return t.push(...n.filter(r=>$o(r)!==e)),t}const UD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rv(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},UD):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||$n)(t,n,e);if(!l)return Object.assign({},UD);const h={};Fn(l.posParams,(I,S)=>{h[S]=I.path});const g=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:g,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function iv(n,e,t,r,o="corrected"){if(t.length>0&&function jD(n,e,t){return t.some(r=>Rd(n,e,r)&&$o(r)!==q)}(n,t,r)){const h=new nn(e,function sv(n,e,t,r){const o={};o[q]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&$o(l)!==q){const h=new nn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[$o(l)]=h}return o}(n,e,r,new nn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function hE(n,e,t){return t.some(r=>Rd(n,e,r))}(n,t,r)){const h=new nn(n.segments,function rl(n,e,t,r,o,l){const h={};for(const g of r)if(Rd(n,t,g)&&!o[$o(g)]){const I=new nn([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[$o(g)]=I}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new nn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Rd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ov(n,e,t,r){return!!($o(n)===r||r!==q&&Rd(e,t,n))&&("**"===n.path||rv(e,n,t).matched)}function Og(n,e,t){return 0===e.length&&!n.children[t]}class Pg{constructor(e){this.segmentGroup=e||null}}class ou{constructor(e){this.urlTree=e}}function Nd(n){return Xu(new Pg(n))}function fE(n){return Xu(new ou(n))}class $D{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(m.NgModuleRef)}apply(){const e=iv(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,q).pipe((0,bt.U)(l=>this.createUrlTree(Ic(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Sa(l=>{if(l instanceof ou)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Pg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,q).pipe((0,bt.U)(o=>this.createUrlTree(Ic(o),e.queryParams,e.fragment))).pipe(Sa(o=>{throw o instanceof Pg?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new nn([],{[q]:e}):e;return new iu(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(l=>new nn([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,et.D)(o).pipe(hc(l=>{const h=r.children[l],g=VD(t,l);return this.expandSegmentGroup(e,g,h,l).pipe((0,bt.U)(I=>({segment:I,outlet:l})))}),el((l,h)=>(l[h.outlet]=h.segment,l),{}),function ni(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ni((o,l)=>n(o,l,r)):An.y,Dd(1),t?Oo(e):Oi(()=>new hi))}())}expandSegment(e,t,r,o,l,h){return(0,et.D)(r).pipe(hc(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,l,h).pipe(Sa(S=>{if(S instanceof Pg)return gt(null);throw S}))),Ia(g=>!!g),Sa((g,I)=>{if(g instanceof hi||"EmptyError"===g.name)return Og(t,o,l)?gt(new nn([],{})):Nd(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,l,h,g){return ov(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Nd(t):Nd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fE(l):this.lineralizeSegments(r,l).pipe((0,Ur.z)(h=>{const g=new nn(h,{});return this.expandSegment(e,g,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:g,consumedSegments:I,remainingSegments:S,positionalParamSegments:L}=rv(t,o,l);if(!g)return Nd(t);const U=this.applyRedirectCommands(I,o.redirectTo,L);return o.redirectTo.startsWith("/")?fE(U):this.lineralizeSegments(o,U).pipe((0,Ur.z)(Q=>this.expandSegment(e,t,r,Q.concat(S),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(U=>(r._loadedConfig=U,new nn(o,{})))):gt(new nn(o,{}));const{matched:h,consumedSegments:g,remainingSegments:I}=rv(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,Ur.z)(L=>{const U=L.module,Q=L.routes,{segmentGroup:ge,slicedSegments:Re}=iv(t,g,I,Q),Xe=new nn(ge.segments,ge.children);if(0===Re.length&&Xe.hasChildren())return this.expandChildren(U,Q,Xe).pipe((0,bt.U)(lr=>new nn(g,lr)));if(0===Q.length&&0===Re.length)return gt(new nn(g,{}));const Ct=$o(r)===l;return this.expandSegment(U,Xe,Q,Re,Ct?q:l,!0).pipe((0,bt.U)(Ot=>new nn(g.concat(Ot.segments),Ot.children)))})):Nd(t)}getChildConfig(e,t,r){return t.children?gt(new Lf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ur.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,bt.U)(l=>(t._loadedConfig=l,l))):function BD(n){return Xu(wt(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):gt(new Lf([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?gt(o.map(h=>{const g=e.get(h);let I;if(function PD(n){return n&&_c(n.canLoad)}(g))I=g.canLoad(t,r);else{if(!_c(g))throw new Error("Invalid CanLoad guard");I=g(t,r)}return ps(I)})).pipe(Ng(),(0,yi.b)(h=>{if(!Ec(h))return;const g=wt(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,bt.U)(h=>!0===h)):gt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return gt(r);if(o.numberOfChildren>1||!o.children[q])return Xu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[q]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new iu(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=t[g]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Fn(t.children,(g,I)=>{h[I]=this.createSegmentGroup(e,g,r,o)}),new nn(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Ic(n){const e={};for(const r of Object.keys(n.children)){const l=Ic(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function HD(n){if(1===n.numberOfChildren&&n.children[q]){const e=n.children[q];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}class kg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class au{constructor(e,t){this.component=e,this.route=t}}function Uf(n,e,t){const r=n._root;return kd(r,e?e._root:null,t,[r.value])}function Fg(n,e,t){const r=function gE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function kd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=yc(e);return n.children.forEach(h=>{(function uv(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const I=function lv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mc(n.url,e.url)||!zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zy(n,e)||!zi(n.queryParams,e.queryParams);default:return!Zy(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);I?o.canActivateChecks.push(new kg(r)):(l.data=h.data,l._resolvedData=h._resolvedData),kd(n,e,l.component?g?g.children:null:t,r,o),I&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new au(g.outlet.component,h))}else h&&Fd(e,g,o),o.canActivateChecks.push(new kg(r)),kd(n,null,l.component?g?g.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Fn(l,(h,g)=>Fd(h,t.getContext(g),o)),o}function Fd(n,e,t){const r=yc(n),o=n.value;Fn(r,(l,h)=>{Fd(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new au(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class WD{}function EE(n){return new Pt.y(e=>e.error(n))}class zD{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=iv(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,q);if(null===t)return null;const r=new Ms([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},q,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new jo(r,t),l=new sE(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=iE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],g=VD(e,l),I=this.processSegmentGroup(g,h,l);if(null===I)return null;r.push(...I)}const o=cv(r);return function KD(n){n.sort((e,t)=>e.value.outlet===q?-1:t.value.outlet===q?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return Og(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!ov(e,t,r,o))return null;let l,h=[],g=[];if("**"===e.path){const ge=r.length>0?Td(r).parameters:{};l=new Ms(r,ge,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dv(e),$o(e),e.component,e,IE(t),Vg(t)+r.length,wE(e))}else{const ge=rv(t,e,r);if(!ge.matched)return null;h=ge.consumedSegments,g=ge.remainingSegments,l=new Ms(h,ge.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dv(e),$o(e),e.component,e,IE(t),Vg(t)+h.length,wE(e))}const I=function RT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:L}=iv(t,h,g,I.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===L.length&&S.hasChildren()){const ge=this.processChildren(I,S);return null===ge?null:[new jo(l,ge)]}if(0===I.length&&0===L.length)return[new jo(l,[])];const U=$o(e)===o,Q=this.processSegment(I,S,L,U?q:o);return null===Q?null:[new jo(l,Q)]}}function NT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cv(n){const e=[],t=new Set;for(const r of n){if(!NT(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=cv(r.children);e.push(new jo(r.value,o))}return e.filter(r=>!t.has(r))}function IE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vg(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function dv(n){return n.data||{}}function wE(n){return n.resolve||{}}function hv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fv(n){return Tn(e=>{const t=n(e);return t?(0,et.D)(t).pipe((0,bt.U)(()=>e)):gt(e)})}class XD extends class bE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const go=new m.InjectionToken("ROUTES");class Ug{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Lf(tl(h.injector.get(go,void 0,m.InjectFlags.Self|m.InjectFlags.Optional)).map(dE),h)}),Sa(l=>{throw t._loader$=void 0,l}));return t._loader$=new mg(o,()=>new bs.x).pipe(wf()),t._loader$}loadModuleFactory(e){return ps(e()).pipe((0,Ur.z)(t=>t instanceof m.NgModuleFactory?gt(t):(0,et.D)(this.compiler.compileModuleAsync(t))))}}class tC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function OT(n){throw n}function TE(n,e,t){return e.parse("/")}function AE(n,e){return gt(null)}const nC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class n{constructor(t,r,o,l,h,g,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bs.x,this.errorHandler=OT,this.malformedUriErrorHandler=TE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AE,afterPreactivation:AE},this.urlHandlingStrategy=new tC,this.routeReuseStrategy=new XD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(m.NgModuleRef),this.console=h.get(m.\u0275Console);const U=h.get(m.NgZone);this.isNgZoneEnabled=U instanceof m.NgZone&&m.NgZone.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function bf(){return new iu(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ug(h,g,Q=>this.triggerEvent(new Cf(Q)),Q=>this.triggerEvent(new y(Q))),this.routerState=zy(this.currentUrlTree,this.rootComponentType),this.transitions=new Pi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ni(o=>0!==o.id),(0,bt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tn(o=>{let l=!1,h=!1;return gt(o).pipe((0,yi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tn(g=>{const I=this.browserUrlTree.toString(),S=!this.navigated||g.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return SE(g.source)&&(this.browserUrlTree=g.extractedUrl),gt(g).pipe(Tn(U=>{const Q=this.transitions.getValue();return r.next(new Hs(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Q!==this.transitions.getValue()?Lo.E:Promise.resolve(U)}),function Od(n,e,t,r){return Tn(o=>function pE(n,e,t,r,o){return new $D(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,bt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yi.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function ZD(n,e,t,r,o){return(0,Ur.z)(l=>function Gs(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new zD(n,e,t,r,o,l).recognize();return null===h?EE(new WD):gt(h)}catch(h){return EE(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,bt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yi.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ge,U)}this.browserUrlTree=U.urlAfterRedirects}const Q=new jy(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ge,source:Re,restoredState:Xe,extras:Ct}=g,Cn=new Hs(Q,this.serializeUrl(ge),Re,Xe);r.next(Cn);const Ot=zy(ge,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},g),{targetSnapshot:Ot,urlAfterRedirects:ge,extras:Object.assign(Object.assign({},Ct),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Lo.E}),fv(g=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=g;return this.hooks.beforePreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,yi.b)(g=>{const I=new Df(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(I)}),(0,bt.U)(g=>Object.assign(Object.assign({},g),{guards:Uf(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function Lg(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?gt(Object.assign(Object.assign({},t),{guardsResult:!0})):function GD(n,e,t,r){return(0,et.D)(n).pipe((0,Ur.z)(o=>function _E(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?gt(l.map(g=>{const I=Fg(g,e,o);let S;if(function AT(n){return n&&_c(n.canDeactivate)}(I))S=ps(I.canDeactivate(n,e,t,r));else{if(!_c(I))throw new Error("Invalid CanDeactivate guard");S=ps(I(n,e,t,r))}return S.pipe(Ia())})).pipe(Ng()):gt(!0)}(o.component,o.route,t,e,r)),Ia(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Ur.z)(g=>g&&function OD(n){return"boolean"==typeof n}(g)?function mE(n,e,t,r){return(0,et.D)(e).pipe(hc(o=>dc(function yE(n,e){return null!==n&&e&&e(new d(n)),gt(!0)}(o.route.parent,r),function xT(n,e){return null!==n&&e&&e(new _(n)),gt(!0)}(o.route,r),function qD(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function Pd(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>gg(()=>gt(h.guards.map(I=>{const S=Fg(I,h.node,t);let L;if(function lE(n){return n&&_c(n.canActivateChild)}(S))L=ps(S.canActivateChild(r,n));else{if(!_c(S))throw new Error("Invalid CanActivateChild guard");L=ps(S(r,n))}return L.pipe(Ia())})).pipe(Ng())));return gt(l).pipe(Ng())}(n,o.path,t),function vE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const o=r.map(l=>gg(()=>{const h=Fg(l,e,t);let g;if(function kD(n){return n&&_c(n.canActivate)}(h))g=ps(h.canActivate(e,n));else{if(!_c(h))throw new Error("Invalid CanActivate guard");g=ps(h(e,n))}return g.pipe(Ia())}));return gt(o).pipe(Ng())}(n,o.route,t))),Ia(o=>!0!==o,!0))}(r,l,n,e):gt(g)),(0,bt.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,yi.b)(g=>{if(Ec(g.guardsResult)){const S=wt(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw S.url=g.guardsResult,S}const I=new By(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(I)}),Ni(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),fv(g=>{if(g.guards.canActivateChecks.length)return gt(g).pipe((0,yi.b)(I=>{const S=new $y(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),Tn(I=>{let S=!1;return gt(I).pipe(function QD(n,e){return(0,Ur.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return gt(t);let l=0;return(0,et.D)(o).pipe(hc(h=>function DE(n,e,t,r){return function YD(n,e,t,r){const o=hv(n);if(0===o.length)return gt({});const l={};return(0,et.D)(o).pipe((0,Ur.z)(h=>function JD(n,e,t,r){const o=Fg(n,e,r);return ps(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,yi.b)(g=>{l[h]=g}))),Dd(1),(0,Ur.z)(()=>hv(l).length===o.length?gt(l):Lo.E))}(n._resolve,n,e,r).pipe((0,bt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),iE(n,t).resolve),null)))}(h.route,r,n,e)),(0,yi.b)(()=>l++),Dd(1),(0,Ur.z)(h=>l===o.length?gt(t):Lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yi.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,yi.b)(I=>{const S=new vg(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),fv(g=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=g;return this.hooks.afterPreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,bt.U)(g=>{const I=function AD(n,e,t){const r=Sd(n,e._root,t?t._root:void 0);return new CD(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:I})}),(0,yi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new Xy(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,yi.b)({next(){l=!0},complete(){l=!0}}),function Cd(n){return(0,di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),Sa(g=>{if(h=!0,function vt(n){return n&&n[ot]}(g)){const I=Ec(g.url);I||(this.navigated=!0,this.restoreHistory(o,!0));const S=new bd(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(S),I?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||SE(o.source)};this.scheduleNavigation(L,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const I=new yg(o.id,this.serializeUrl(o.extractedUrl),g);r.next(I);try{o.resolve(this.errorHandler(g))}catch(S){o.reject(S)}}return Lo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const I=Object.assign({},h);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(l.state=I)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){LD(t),this.config=t.map(dE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:g,preserveFragment:I}=r,S=o||this.routerState.root,L=I?this.currentUrlTree.fragment:h;let U=null;switch(g){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=l||null}return null!==U&&(U=this.removeEmptyProps(U)),function xD(n,e,t,r,o){if(0===t.length)return Sg(e.root,e.root,e.root,r,o);const l=function Bo(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pf(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Fn(l.outlets,(I,S)=>{g[S]="string"==typeof I?I.split("/"):I}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((g,I)=>{0==I&&"."===g||(0==I&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new Pf(t,e,r)}(t);if(l.toRoot())return Sg(e.root,e.root,new nn([],{}),r,o);const h=function RD(n,e,t){if(n.isAbsolute)return new Mg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Mg(l,l===e.root,0)}const r=xt(n.commands[0])?0:1;return function Yy(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Mg(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),g=h.processChildren?kf(h.segmentGroup,h.index,l.commands):xg(h.segmentGroup,h.index,l.commands);return Sg(e.root,h.segmentGroup,g,r,o)}(S,this.currentUrlTree,t,U,null!=L?L:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ec(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function iC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},nC):!1===r?Object.assign({},rC):r,Ec(t))return _g(this.currentUrlTree,t,o);const l=this.parseUrl(t);return _g(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Uo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var g,I;if(this.disposed)return Promise.resolve(!1);let S,L,U;h?(S=h.resolve,L=h.reject,U=h.promise):U=new Promise((Re,Xe)=>{S=Re,L=Xe});const Q=++this.navigationId;let ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):ge=0,this.setTransition({id:Q,targetPageId:ge,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:S,reject:L,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(Re=>Promise.reject(Re))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new bd(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){m.\u0275\u0275invalidFactory()},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function SE(n){return"imperative"!==n}let il=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new bs.x,this.subscription=t.events.subscribe(l=>{l instanceof Uo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:Vd(this.skipLocationChange),replaceUrl:Vd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(vi),m.\u0275\u0275directiveInject(vc),m.\u0275\u0275directiveInject(D.LocationStrategy))},n.\u0275dir=m.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&m.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&m.\u0275\u0275attribute("target",r.target)("href",r.href,m.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.\u0275\u0275NgOnChangesFeature]}),n})();function Vd(n){return""===n||!!n}class mv{}class ME{preload(e,t){return gt(null)}}let jg=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new Ug(o,r,I=>t.triggerEvent(new Cf(I)),I=>t.triggerEvent(new y(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(t=>t instanceof Uo),hc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(m.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,et.D)(o).pipe((0,mi.J)(),(0,bt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ur.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(vi),m.\u0275\u0275inject(m.Compiler),m.\u0275\u0275inject(m.Injector),m.\u0275\u0275inject(mv))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),xE=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof k&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new k(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){m.\u0275\u0275invalidFactory()},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const sl=new m.InjectionToken("ROUTER_CONFIGURATION"),yv=new m.InjectionToken("ROUTER_FORROOT_GUARD"),RE=[D.Location,{provide:Hy,useClass:nl},{provide:vi,useFactory:function kT(n,e,t,r,o,l,h={},g,I){const S=new vi(null,n,e,t,r,o,tl(l));return g&&(S.urlHandlingStrategy=g),I&&(S.routeReuseStrategy=I),function $g(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,S),h.enableTracing&&S.events.subscribe(L=>{var U,Q;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),S},deps:[Hy,xd,D.Location,m.Injector,m.Compiler,go,sl,[class eC{},new m.Optional],[class CE{},new m.Optional]]},xd,{provide:vc,useFactory:function PE(n){return n.routerState.root},deps:[vi]},jg,ME,class sC{preload(e,t){return t().pipe(Sa(()=>gt(null)))}},{provide:sl,useValue:{enableTracing:!1}}];function NE(){return new m.NgProbeToken("Router",vi)}let vv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[RE,_v(t),{provide:yv,useFactory:OE,deps:[[vi,new m.Optional,new m.SkipSelf]]},{provide:sl,useValue:r||{}},{provide:D.LocationStrategy,useFactory:Bg,deps:[D.PlatformLocation,[new m.Inject(D.APP_BASE_HREF),new m.Optional],sl]},{provide:xE,useFactory:uu,deps:[vi,D.ViewportScroller,sl]},{provide:mv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ME},{provide:m.NgProbeToken,multi:!0,useFactory:NE},[jf,{provide:m.APP_INITIALIZER,multi:!0,useFactory:Bf,deps:[jf]},{provide:Hg,useFactory:oC,deps:[jf]},{provide:m.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Hg}]]}}static forChild(t){return{ngModule:n,providers:[_v(t)]}}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(yv,8),m.\u0275\u0275inject(vi,8))},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({}),n})();function uu(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xE(n,e,t)}function Bg(n,e,t={}){return t.useHash?new D.HashLocationStrategy(n,e):new D.PathLocationStrategy(n,e)}function OE(n){return"guarded"}function _v(n){return[{provide:m.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:go,multi:!0,useValue:n}]}let jf=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new bs.x}appInitializer(){return this.injector.get(D.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),l=this.injector.get(vi),h=this.injector.get(sl);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(sl),o=this.injector.get(jg),l=this.injector.get(xE),h=this.injector.get(vi),g=this.injector.get(m.ApplicationRef);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(m.Injector))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Bf(n){return n.appInitializer.bind(n)}function oC(n){return n.bootstrapListener.bind(n)}const Hg=new m.InjectionToken("Router Initializer");let Ud=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r}signup(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{var o;null===(o=r.user)||void 0===o||o.updateProfile({displayName:t.username}),this.logout()})}login(t,r){return new Promise((o,l)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(h=>o(h)).catch(h=>l(h))})}logout(){return new Promise((t,r)=>{this.afAuth.signOut().then(o=>{t(o),this.router.navigate(["/account"])}).catch(o=>t(o))})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(Ta),m.\u0275\u0275inject(vi))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LE_firebase={apiKey:"AIzaSyBk6h8dtnKrSyWfCvfMbI_xVf7Uhy_NMNc",authDomain:"quotes-app-8441f.firebaseapp.com",databaseURL:"https://quotes-app-8441f-default-rtdb.firebaseio.com",projectId:"quotes-app-8441f",storageBucket:"quotes-app-8441f.appspot.com",messagingSenderId:"577153700535",appId:"1:577153700535:web:6019a81e6b3c7c753a3332",measurementId:"G-GHN65XX4GJ"};var Ev=F(4986);function Iv(){return(0,di.e)((n,e)=>{let t,r=!1;n.subscribe((0,Kn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function VE(n,e){return n===e}F(4087);var rt,UE=F(3942),uC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lu={},wv=wv||{},Lt=uC||self;function Gg(){}function Dv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ki(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qg="closure_uid_"+(1e9*Math.random()>>>0),jE=0;function BE(n,e,t){return n.call.apply(n.bind,arguments)}function $E(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BE:$E).apply(null,arguments)}function Hf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[o].apply(r,h)}}function ol(){this.s=this.s,this.o=this.o}var FT={};ol.prototype.s=!1,ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Cv(n){return Object.prototype.hasOwnProperty.call(n,qg)&&n[qg]||(n[qg]=++jE)}(this);delete FT[n]}},ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},HE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function cC(n){return Array.prototype.concat.apply([],arguments)}function GE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jd(n){return/^[\s\xa0]*$/.test(n)}var gs,qE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zi(n,e){return-1!=n.indexOf(e)}function Wg(n,e){return n<e?-1:n>e?1:0}e:{var qs=Lt.navigator;if(qs){var dC=qs.userAgent;if(dC){gs=dC;break e}}gs=""}function Av(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Sv(n){const e={};for(const t in n)e[t]=n[t];return e}var Mv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xv(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Mv.length;l++)t=Mv[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zg(n){return zg[" "](n),n}zg[" "]=Gg;var Kg,n,WE=Zi(gs,"Opera"),al=Zi(gs,"Trident")||Zi(gs,"MSIE"),zE=Zi(gs,"Edge"),Gf=zE||al,KE=Zi(gs,"Gecko")&&!(Zi(gs.toLowerCase(),"webkit")&&!Zi(gs,"Edge"))&&!(Zi(gs,"Trident")||Zi(gs,"MSIE"))&&!Zi(gs,"Edge"),fC=Zi(gs.toLowerCase(),"webkit")&&!Zi(gs,"Edge");function ZE(){var n=Lt.document;return n?n.documentMode:void 0}e:{var Rv="",Zg=(n=gs,KE?/rv:([^\);]+)(\)|;)/.exec(n):zE?/Edge\/([\d\.]+)/.exec(n):al?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):fC?/WebKit\/(\S+)/.exec(n):WE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zg&&(Rv=Zg?Zg[1]:""),al){var Bd=ZE();if(null!=Bd&&Bd>parseFloat(Rv)){Kg=String(Bd);break e}}Kg=Rv}var $d={};var pC=Lt.document&&al&&(ZE()||parseInt(Kg,10))||void 0,Nv=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",Gg,e),Lt.removeEventListener("test",Gg,e)}catch(t){}return n}();function Hn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function cu(n,e){if(Hn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(KE){e:{try{zg(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qi[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cu.Z.h.call(this)}}Hn.prototype.h=function(){this.defaultPrevented=!0},Fi(cu,Hn);var Qi={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ho="closure_listenable_"+(1e6*Math.random()|0),Qg=0;function mo(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Qg,this.ca=this.fa=!1}function Hd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function du(n){this.src=n,this.g={},this.h=0}function ul(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Tv(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Hd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ll(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}du.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=ll(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new mo(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var cl="closure_lm_"+(1e6*Math.random()|0),dl={};function Dc(n,e,t,r,o){if(r&&r.once)return bc(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Dc(n,e[l],t,r,o);return null}return t=Kf(t),n&&n[Ho]?n.N(e,t,Ki(r)?!!r.capture:!!r,o):Cc(n,e,t,!1,r,o)}function Cc(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Ki(o)?!!o.capture:!!o,g=Wf(n);if(g||(n[cl]=g=new du(n)),(t=g.add(e,t,r,h,l)).proxy)return t;if(r=function Gd(){var e=Ov;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Nv||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Jg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bc(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)bc(n,e[l],t,r,o);return null}return t=Kf(t),n&&n[Ho]?n.O(e,t,Ki(r)?!!r.capture:!!r,o):Cc(n,e,t,!0,r,o)}function Yg(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Yg(n,e[l],t,r,o);else r=Ki(r)?!!r.capture:!!r,t=Kf(t),n&&n[Ho]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ll(l=n.g[e],t,r,o))&&(Hd(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Wf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ll(e,t,r,o)),(t=-1<n?e[n]:null)&&qf(t))}function qf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ho])ul(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Jg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Wf(e))?(ul(t,n),0==t.h&&(t.src=null,e[cl]=null)):Hd(n)}}}function Jg(n){return n in dl?dl[n]:dl[n]="on"+n}function Ov(n,e){if(n.ca)n=!0;else{e=new cu(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&qf(n),n=t.call(r,e)}return n}function Wf(n){return(n=n[cl])instanceof du?n:null}var zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kf(n){return"function"==typeof n?n:(n[zf]||(n[zf]=function(e){return n.handleEvent(e)}),n[zf])}function jr(){ol.call(this),this.i=new du(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Hn(e,n);else if(e instanceof Hn)e.target=e.target||n;else{var o=e;xv(e=new Hn(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Xg(h,r,!0,e)&&o}if(o=Xg(h=e.g=n,r,!0,e)&&o,o=Xg(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Xg(h=e.g=t[l],r,!1,e)&&o}function Xg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var g=h.listener,I=h.ia||h.src;h.fa&&ul(n.i,h),o=!1!==g.call(I,r)&&o}}return o&&!r.defaultPrevented}Fi(jr,ol),jr.prototype[Ho]=!0,jr.prototype.removeEventListener=function(n,e,t,r){Yg(this,n,e,t,r)},jr.prototype.M=function(){if(jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hd(t[r]);delete n.g[e],n.h--}}this.I=null},jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var em=Lt.JSON.stringify;function JE(){var n=tI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kv,Pv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gC,n=>n.reset());class gC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mC(n){Lt.setTimeout(()=>{throw n},0)}function tm(n,e){kv||function eI(){var n=Lt.Promise.resolve(void 0);kv=function(){n.then(yC)}}(),Fv||(kv(),Fv=!0),tI.add(n,e)}var Fv=!1,tI=new class XE{constructor(){this.h=this.g=null}add(e,t){const r=Pv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yC(){for(var n;n=JE();){try{n.h.call(n.g)}catch(t){mC(t)}var e=Pv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fv=!1}function nm(n,e){jr.call(this),this.h=n||1,this.g=e||Lt,this.j=ki(this.kb,this),this.l=Date.now()}function Zf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Qf(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function nI(n){n.g=Qf(()=>{n.g=null,n.i&&(n.i=!1,nI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(nm,jr),(rt=nm.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ri(this,"tick"),this.da&&(Zf(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){nm.Z.M.call(this),Zf(this),delete this.g};class vC extends ol{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nI(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yf(n){ol.call(this),this.h=n,this.g={}}Fi(Yf,ol);var rI=[];function iI(n,e,t,r){Array.isArray(t)||(t&&(rI[0]=t.toString()),t=rI);for(var o=0;o<t.length;o++){var l=Dc(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Lv(n){Av(n.g,function(e,t){this.g.hasOwnProperty(t)&&qf(e)},n),n.g={}}function rm(){this.g=!0}function qd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return em(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}Yf.prototype.M=function(){Yf.Z.M.call(this),Lv(this)},Yf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rm.prototype.Aa=function(){this.g=!1},rm.prototype.info=function(){};var hl={},Jf=null;function im(){return Jf=Jf||new jr}function Vv(n){Hn.call(this,hl.Ma,n)}function Wd(n){const e=im();ri(e,new Vv(e,n))}function oI(n,e){Hn.call(this,hl.STAT_EVENT,n),this.stat=e}function ms(n){const e=im();ri(e,new oI(e,n))}function aI(n,e){Hn.call(this,hl.Na,n),this.size=e}function Xf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}hl.Ma="serverreachability",Fi(Vv,Hn),hl.STAT_EVENT="statevent",Fi(oI,Hn),hl.Na="timingevent",Fi(aI,Hn);var ep={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sm(){}function om(){}sm.prototype.h=null;var Bv,fu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fl(){Hn.call(this,"d")}function jv(){Hn.call(this,"c")}function pl(){}function zd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yf(this),this.P=$v,this.W=new nm(n=Gf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new am}function am(){this.i=null,this.g="",this.h=!1}Fi(fl,Hn),Fi(jv,Hn),Fi(pl,sm),pl.prototype.g=function(){return new XMLHttpRequest},pl.prototype.i=function(){return{}},Bv=new pl;var $v=45e3,Hv={},Tc={};function Kd(n,e,t){n.K=1,n.v=Yd(Ma(e)),n.s=t,n.U=!0,um(n,null)}function um(n,e){n.F=Date.now(),gl(n),n.A=Ma(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Kv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new am,n.g=l_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new vC(ki(n.Ia,n,n.g),n.O)),iI(n.V,n.g,"readystatechange",n.gb),e=n.H?Sv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wd(1),function _C(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",g=l.split("&"),I=0;I<g.length;I++){var S=g[I].split("=");if(1<S.length){var L=S[0];S=S[1];var U=L.split("_");h=2<=U.length&&"type"==U[1]?h+(L+"=")+S+"&":h+(L+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function IC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function lI(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=lm(n,t),o==Tc){4==e&&(n.o=4,ms(14),r=!1),qd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Hv){n.o=4,ms(15),qd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qd(n.j,n.m,o,null),dm(n,o)}IC(n)&&o!=Tc&&o!=Hv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ms(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bm(e),e.L=!0,ms(11))):(qd(n.j,n.m,t,"[Invalid Chunked Response]"),ml(n),Ac(n))}function lm(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Tc:(t=Number(e.substring(t,r)),isNaN(t)?Hv:(r+=1)+t>e.length?Tc:(e=e.substr(r,t),n.C=r+t,e))}function gl(n){n.Y=Date.now()+n.P,cm(n,n.P)}function cm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xf(ki(n.eb,n),e)}function tp(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Ac(n){0==n.l.G||n.I||s_(n.l,n)}function ml(n){tp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Zf(n.W),Lv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function dm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Qv(t.i,n)))if(t.I=n.N,!n.J&&Qv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Xf(ki(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;hp(t),Xd(t)}Cm(t),ms(18)}if(1>=Zv(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else vl(t,11)}else if((n.J||t.g==n)&&hp(t),!jd(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const L=S[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const U=S[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Q=S[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.K=r=1.5*Q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ge=n.g;if(ge){const Re=ge.g?ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Re){var l=r.i;!l.g&&(Zi(Re,"spdy")||Zi(Re,"quic")||Zi(Re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(gm(l,l.h),l.h=null))}if(r.D){const Xe=ge.g?ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Xe&&(r.sa=Xe,Ln(r.F,r.D,Xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=u_(r,r.H?r.la:null,r.W),h.J){AC(r.i,h);var g=h,I=r.K;I&&g.setTimeout(I),g.B&&(tp(g),gl(g)),r.g=h}else r_(r);0<t.l.length&&eh(t)}else"stop"!=S[0]&&"close"!=S[0]||vl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?vl(t,7):cp(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Wd(4)}catch(S){}}function np(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dv(n)||"string"==typeof n)HE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Dv(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Gv(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Dv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function Zd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function hm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];yl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)yl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function yl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=zd.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==xa(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const L=xa(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>L)&&(3!=L||Gf||this.g&&(this.h.h||this.g.ga()||Em(this.g)))){this.I||4!=L||7==e||Wd(8==e||0>=U?3:2),tp(this);var t=this.g.ba();this.N=t;t:if(IC(this)){var r=Em(this.g);n="";var o=r.length,l=4==xa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ml(this),Ac(this);var h="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function hu(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,I=this.g;if((g=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jd(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,ms(12),ml(this),Ac(this);break e}qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dm(this,t)}this.U?(lI(this,L,h),Gf&&this.i&&3==L&&(iI(this.V,this.W,"tick",this.fb),this.W.start())):(qd(this.j,this.m,h,null),dm(this,h)),4==L&&ml(this),this.i&&!this.I&&(4==L?s_(this.l,this):(this.i=!1,gl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ms(12)):(this.o=0,ms(13)),ml(this),Ac(this)}}}catch(L){}},rt.fb=function(){if(this.g){var n=xa(this.g),e=this.g.ga();this.C<e.length&&(tp(this),lI(this,n,e),this.i&&4!=n&&gl(this))}},rt.cancel=function(){this.I=!0,ml(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wd(3),ms(17)),ml(this),this.o=2,Ac(this)):cm(this,this.Y-n)},(rt=Zd.prototype).R=function(){hm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return hm(this),this.g.concat()},rt.get=function(n,e){return yl(this.h,n)?this.h[n]:e},rt.set=function(n,e){yl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var fm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Sc){this.g=void 0!==e?e:n.g,rp(this,n.j),this.s=n.s,Qd(this,n.i),Mc(this,n.m),this.l=n.l,e=n.h;var t=new or;t.i=e.i,e.g&&(t.g=new Zd(e.g),t.h=e.h),pm(this,t),this.o=n.o}else n&&(t=String(n).match(fm))?(this.g=!!e,rp(this,t[1]||"",!0),this.s=xc(t[2]||""),Qd(this,t[3]||"",!0),Mc(this,t[4]),this.l=xc(t[5]||"",!0),pm(this,t[6]||"",!0),this.o=xc(t[7]||"")):(this.g=!!e,this.h=new or(null,this.g))}function Ma(n){return new Sc(n)}function rp(n,e,t){n.j=t?xc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qd(n,e,t){n.i=t?xc(e,!0):e}function Mc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pm(n,e,t){e instanceof or?(n.h=e,function pI(n,e){e&&!n.j&&(pu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(hI(this,r),Kv(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Rc(e,dI)),n.h=new or(e,n.g))}function Ln(n,e,t){n.h.set(e,t)}function Yd(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rc(e,wC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rc(e,wC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rc(t,"/"==t.charAt(0)?CC:DC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rc(t,bC)),n.join("")};var wC=/[#\/\?@]/g,DC=/[#\?:]/g,CC=/[#\?]/g,dI=/[#\?@]/g,bC=/#/g;function or(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pu(n){n.g||(n.g=new Zd,n.h=0,n.i&&function cI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hI(n,e){pu(n),e=Jd(n,e),yl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,yl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&hm(n)))}function fI(n,e){return pu(n),e=Jd(n,e),yl(n.g.h,e)}function Kv(n,e,t){hI(n,e),0<t.length&&(n.i=null,n.g.set(Jd(n,e),GE(t)),n.h+=t.length)}function Jd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Nc(n){this.l=n||TC,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=or.prototype).add=function(n,e){pu(this),this.i=null,n=Jd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){pu(this),this.g.forEach(function(t,r){HE(t,function(o){n.call(e,o,r,this)},this)},this)},rt.T=function(){pu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},rt.R=function(n){pu(this);var e=[];if("string"==typeof n)fI(this,n)&&(e=cC(e,this.g.get(Jd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cC(e,n[t])}return e},rt.set=function(n,e){return pu(this),this.i=null,fI(this,n=Jd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var TC=10;function mI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Zv(n){return n.h?1:n.g?n.g.size:0}function Qv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gm(n,e){n.g?n.g.add(e):n.h=e}function AC(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mm(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return GE(n.i)}function ip(){}function Go(){this.g=new ip}function SC(n,e,t){const r=t||"";try{np(n,function(o,l){let h=o;Ki(o)&&(h=em(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Ws(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function ys(n){this.l=n.$b||null,this.j=n.ib||!1}function xs(n,e){jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nc.prototype.cancel=function(){if(this.i=mm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ip.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},ip.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},Fi(ys,sm),ys.prototype.g=function(){return new xs(this.l,this.j)},ys.prototype.i=function(n){return function(){return n}}({}),Fi(xs,jr);var ym=0;function Yv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,op(n)}function op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=xs.prototype).open=function(n,e){if(this.readyState!=ym)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,op(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=ym},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):op(this),3==this.readyState&&Yv(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,sp(this))},rt.Ta=function(n){this.g&&(this.response=n,sp(this))},rt.ha=function(){this.g&&sp(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MC=Lt.JSON.parse;function Br(n){jr.call(this),this.headers=new Zd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vm,this.K=this.L=!1}Fi(Br,jr);var vm="",ap=/^https?$/i,xC=["POST","PUT"];function RC(n){return"content-type"==n.toLowerCase()}function Jv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xv(n),_m(n)}function Xv(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function up(n){if(n.h&&void 0!==wv&&(!n.C[1]||4!=xa(n)||2!=n.ba()))if(n.v&&4==xa(n))Qf(n.Fa,0,n);else if(ri(n,"readystatechange"),4==xa(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(fm)[1]||null;if(!o&&Lt.self&&Lt.self.location){var l=Lt.self.location.protocol;o=l.substr(0,l.length-1)}r=!ap.test(o?o.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var h=2<xa(n)?n.g.statusText:""}catch(I){h=""}n.j=h+" ["+n.ba()+"]",Xv(n)}}finally{_m(n)}}}function _m(n,e){if(n.g){e_(n);const t=n.g,r=n.C[0]?Gg:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function e_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function xa(n){return n.g?n.g.readyState:0}function Em(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function lp(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Im(n){let e="";return Av(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function Oc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wm(n){this.za=0,this.l=[],this.h=new rm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oc("baseRetryDelayMs",5e3,n),this.$a=Oc("retryDelaySeedMs",1e4,n),this.Ya=Oc("forwardChannelMaxRetries",2,n),this.ra=Oc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Nc(n&&n.concurrentRequestLimit),this.Ca=new Go,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cp(n){if(Dm(n),3==n.G){var e=n.V++,t=Ma(n.F);Ln(t,"SID",n.J),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),th(n,t),(e=new zd(n,n.h,e,void 0)).K=2,e.v=Yd(Ma(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=l_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gl(e)}a_(n)}function Xd(n){n.g&&(bm(n),n.g.cancel(),n.g=null)}function Dm(n){Xd(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function dp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&eh(n)}function eh(n){mI(n.i)||n.m||(n.m=!0,tm(n.Ha,n),n.C=0)}function t_(n,e){var t;t=e?e.m:n.V++;const r=Ma(n.F);Ln(r,"SID",n.J),Ln(r,"RID",t),Ln(r,"AID",n.U),th(n,r),n.o&&n.s&&lp(r,n.o,n.s),t=new zd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=n_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gm(n.i,t),Kd(t,r,e)}function th(n,e){n.j&&np({},function(t,r){Ln(e,r,t)})}function n_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ki(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let g=!0;for(let I=0;I<t;I++){let S=o[I].h;const L=o[I].g;if(S-=l,0>S)l=Math.max(0,o[I].h-100),g=!1;else try{SC(L,h,"req"+S+"_")}catch(U){r&&r(L)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function r_(n){n.g||n.u||(n.Y=1,tm(n.Ga,n),n.A=0)}function Cm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xf(ki(n.Ga,n),o_(n,n.A)),n.A++,0))}function bm(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function i_(n){n.g=new zd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ma(n.oa);Ln(e,"RID","rpc"),Ln(e,"SID",n.J),Ln(e,"CI",n.N?"0":"1"),Ln(e,"AID",n.U),th(n,e),Ln(e,"TYPE","xmlhttp"),n.o&&n.s&&lp(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yd(Ma(e)),t.s=null,t.U=!0,um(t,n)}function hp(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function s_(n,e){var t=null;if(n.g==e){hp(n),bm(n),n.g=null;var r=2}else{if(!Qv(n.i,e))return;t=e.D,AC(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ri(r=im(),new aI(r,t,e,o)),eh(n)}else r_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function _I(n,e){return!(Zv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xf(ki(n.Ha,n,e),o_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Cm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:vl(n,5);break;case 4:vl(n,10);break;case 3:vl(n,6);break;default:vl(n,2)}}function o_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ki(n.jb,n);t||(t=new Sc("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||rp(t,"https"),Yd(t)),function yI(n,e){const t=new rm;if(Lt.Image){const r=new Image;r.onload=Hf(Ws,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hf(Ws,t,r,"TestLoadImage: error",!1,e),r.onabort=Hf(Ws,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hf(Ws,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ms(2);n.G=0,n.j&&n.j.va(e),a_(n),Dm(n)}function a_(n){n.G=0,n.I=-1,n.j&&((0!=mm(n.i).length||0!=n.l.length)&&(n.i.i.length=0,GE(n.l),n.l.length=0),n.j.ua())}function u_(n,e,t){let r=function qv(n){return n instanceof Sc?Ma(n):new Sc(n,void 0)}(t);if(""!=r.i)e&&Qd(r,e+"."+r.i),Mc(r,r.m);else{const o=Lt.location;r=function Wv(n,e,t,r){var o=new Sc(null,void 0);return n&&rp(o,n),e&&Qd(o,e),t&&Mc(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Av(n.aa,function(o,l){Ln(r,l,o)}),t=n.sa,(e=n.D)&&t&&Ln(r,e,t),Ln(r,"VER",n.ma),th(n,r),r}function l_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ba&&!n.qa?new ys({ib:!0}):n.qa)).L=n.H,e}function c_(){}function fp(){if(al&&!(10<=Number(pC)))throw Error("Environmental error: no available transport.")}function Rs(n,e){jr.call(this),this.g=new wm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!jd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _l(this)}function Tm(n){fl.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Am(){jv.call(this),this.status=1}function _l(n){this.g=n}(rt=Br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bv.g(),this.C=function Uv(n){return n.h||(n.h=n.i())}(this.u?this.u:Bv),this.g.onreadystatechange=ki(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Jv(this,l)}n=t||"";const o=new Zd(this.headers);r&&np(r,function(l,h){o.set(h,l)}),r=function lC(n){e:{var e=RC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Lt.FormData&&n instanceof Lt.FormData,!(0<=Tv(xC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e_(this),0<this.B&&((this.K=function vI(n){return al&&function QE(){return function hC(n){var e=$d;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=qE(String(Kg)).split("."),t=qE("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Wg(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Wg(0==o[2].length,0==l[2].length)||Wg(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.pa,this)):this.A=Qf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Jv(this,l)}},rt.pa=function(){void 0!==wv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),_m(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),Br.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?up(this):this.cb())},rt.cb=function(){up(this)},rt.ba=function(){try{return 2<xa(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MC(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=wm.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new zd(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Sv(l),xv(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n_(this,o,e),Ln(t=Ma(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),th(this,t),this.o&&l&&lp(t,this.o,l),gm(this.i,o),this.Ra&&Ln(t,"TYPE","init"),this.ja?(Ln(t,"$req",e),Ln(t,"SID","null"),o.$=!0,Kd(o,t,null)):Kd(o,t,e),this.G=2}}else 3==this.G&&(n?t_(this,n):0==this.l.length||mI(this.i)||t_(this))},rt.Ga=function(){if(this.u=null,i_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xf(ki(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ms(10),Xd(this),i_(this))},rt.ab=function(){null!=this.v&&(this.v=null,Xd(this),Cm(this),ms(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ms(2)):(this.h.info("Failed to ping google.com"),ms(1))},(rt=c_.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},fp.prototype.g=function(n,e){return new Rs(n,e)},Fi(Rs,jr),Rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),tm(ki(n.hb,n,e))),ms(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=u_(n,null,n.W),eh(n)},Rs.prototype.close=function(){cp(this.g)},Rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,dp(this.g,e)}else this.v?((e={}).__data__=em(n),dp(this.g,e)):dp(this.g,n)},Rs.prototype.M=function(){this.g.j=null,delete this.j,cp(this.g),delete this.g,Rs.Z.M.call(this)},Fi(Tm,fl),Fi(Am,jv),Fi(_l,c_),_l.prototype.xa=function(){ri(this.g,"a")},_l.prototype.wa=function(n){ri(this.g,new Tm(n))},_l.prototype.va=function(n){ri(this.g,new Am(n))},_l.prototype.ua=function(){ri(this.g,"b")},fp.prototype.createWebChannel=fp.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,uI.COMPLETE="complete",om.EventType=fu,fu.OPEN="a",fu.CLOSE="b",fu.ERROR="c",fu.MESSAGE="d",jr.prototype.listen=jr.prototype.N,Br.prototype.listenOnce=Br.prototype.O,Br.prototype.getLastError=Br.prototype.La,Br.prototype.getLastErrorCode=Br.prototype.Da,Br.prototype.getStatus=Br.prototype.ba,Br.prototype.getResponseJson=Br.prototype.Qa,Br.prototype.getResponseText=Br.prototype.ga,Br.prototype.send=Br.prototype.ea;var d_=lu.createWebChannelTransport=function(){return new fp},h_=lu.getStatEventTarget=function(){return im()},pp=lu.ErrorCode=ep,f_=lu.EventType=uI,p_=lu.Event=hl,Sm=lu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},g_=lu.FetchXmlHttpFactory=ys,nh=lu.WebChannel=om,Pc=lu.XhrIo=Br;const EI="@firebase/firestore";class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let qo="9.6.10";const El=new Bs.Yd("@firebase/firestore");function gp(){return El.logLevel}function je(n,...e){if(El.logLevel<=Bs.in.DEBUG){const t=e.map(Dt);El.debug(`Firestore (${qo}): ${n}`,...t)}}function Ar(n,...e){if(El.logLevel<=Bs.in.ERROR){const t=e.map(Dt);El.error(`Firestore (${qo}): ${n}`,...t)}}function mp(n,...e){if(El.logLevel<=Bs.in.WARN){const t=e.map(Dt);El.warn(`Firestore (${qo}): ${n}`,...t)}}function Dt(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw Ar(e),new Error(e)}function Nt(n,e){n||dt()}function Je(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ar{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sr,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const S=h;e.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield l(r.currentUser)}))},I=S=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new ar(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Li(e)}}class PC{constructor(e,t,r){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class DI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,je("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new m_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function FC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zs.A=-1;class bI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=FC(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function rh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function TI(n){return n+"\0"}class Mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Mr(0,0))}static max(){return new At(new Mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Il(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yp{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xt extends yp{construct(e,t,r){return new Xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const vp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends yp{construct(e,t,r){return new _i(e,t,r)}static isValidIdentifier(e){return vp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[o+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,o+=2}else"`"===g?(h=!h,o++):"."!==g||h?(r+=g,o++):(l(),o++)}if(l(),h)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class ih{constructor(e){this.fields=e,e.sort(_i.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gu(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=AI.exec(n);if(Nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wl(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function __(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SI(n){const e=n.mapValue.fields.__previous_value__;return __(e)?SI(e):e}function Mm(n){const e=gu(n.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}class VT{constructor(e,t,r,o,l,h,g,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=I}}class Dl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}function sh(n){return null==n}function oh(n){return 0===n&&1/n==-1/0}function _p(n){return"number"==typeof n&&Number.isInteger(n)&&!oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Xt.fromString(e))}static fromName(e){return new Ye(Xt.fromString(e).popFirst(5))}static empty(){return new Ye(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Xt(e.slice()))}}const MI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},E_={nullValue:"NULL_VALUE"};function Wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?__(n)?4:NI(n)?9:10:dt()}function Ra(n,e){if(n===e)return!0;const t=Wo(n);if(t!==Wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mm(n).isEqual(Mm(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=gu(r.timestampValue),h=gu(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,wl(n.bytesValue).isEqual(wl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return vr(r.geoPointValue.latitude)===vr(o.geoPointValue.latitude)&&vr(r.geoPointValue.longitude)===vr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return vr(r.integerValue)===vr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=vr(r.doubleValue),h=vr(o.doubleValue);return l===h?oh(l)===oh(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return rh(n.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(y_(l)!==y_(h))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===h[g]||!Ra(l[g],h[g])))return!1;return!0}(n,e);default:return dt()}var o}function Ep(n,e){return void 0!==(n.values||[]).find(t=>Ra(t,e))}function Cl(n,e){if(n===e)return 0;const t=Wo(n),r=Wo(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=vr(o.integerValue||o.doubleValue),g=vr(l.integerValue||l.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return xI(n.timestampValue,e.timestampValue);case 4:return xI(Mm(n),Mm(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=wl(o),g=wl(l);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),g=l.split("/");for(let I=0;I<h.length&&I<g.length;I++){const S=Gt(h[I],g[I]);if(0!==S)return S}return Gt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Gt(vr(o.latitude),vr(l.latitude));return 0!==h?h:Gt(vr(o.longitude),vr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],g=l.values||[];for(let I=0;I<h.length&&I<g.length;++I){const S=Cl(h[I],g[I]);if(S)return S}return Gt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},g=Object.keys(h),I=l.fields||{},S=Object.keys(I);g.sort(),S.sort();for(let L=0;L<g.length&&L<S.length;++L){const U=Gt(g[L],S[L]);if(0!==U)return U;const Q=Cl(h[g[L]],I[S[L]]);if(0!==Q)return Q}return Gt(g.length,S.length)}(n.mapValue,e.mapValue);default:throw dt()}}function xI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=gu(n),r=gu(e),o=Gt(t.seconds,r.seconds);return 0!==o?o:Gt(t.nanos,r.nanos)}function ah(n){return xm(n)}function xm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=gu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wl(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=xm(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const g of o)h?h=!1:l+=",",l+=`${g}:${xm(r.fields[g])}`;return l+"}"}(n.mapValue):dt();var e}function uh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function I_(n){return!!n&&"integerValue"in n}function Na(n){return!!n&&"arrayValue"in n}function RI(n){return!!n&&"nullValue"in n}function w_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rm(n){return!!n&&"mapValue"in n}function lh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Il(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function D_(n,e){return void 0===n?e:void 0===e||Cl(n,e)>0?n:e}function OI(n,e){return void 0===n?e:void 0===e||Cl(n,e)<0?n:e}class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(t)}setAll(e){let t=_i.emptyPath(),r={},o=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const I=this.getFieldsMap(t);this.applyChanges(I,r,o),r={},o=[],t=g.popLast()}h?r[g.lastSegment()]=lh(h):o.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Rm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Il(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Ei(lh(this.value))}}function PI(n){const e=[];return Il(n.fields,(t,r)=>{const o=new _i([t]);if(Rm(r)){const l=PI(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new ih(e)}class Vn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Vn(e,0,At.min(),At.min(),Ei.empty(),0)}static newFoundDocument(e,t,r){return new Vn(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new Vn(e,2,t,At.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,At.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ip{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function C_(n){return n.fields.find(e=>2===e.kind)}function ch(n){return n.fields.filter(e=>2!==e.kind)}Ip.UNKNOWN_ID=-1;class Nm{constructor(e,t){this.fieldPath=e,this.kind=t}}class kc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kc(0,mu.min())}}function kI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(1e9===r?new Mr(t+1,0):new Mr(t,r));return new mu(o,Ye.empty(),e)}function FI(n){return new mu(n.readTime,n.key,-1)}class mu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mu(At.min(),Ye.empty(),-1)}static max(){return new mu(At.max(),Ye.empty(),-1)}}function VC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}class UC{constructor(e,t=null,r=[],o=[],l=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=g,this.P=null}}function LI(n,e=null,t=[],r=[],o=null,l=null,h=null){return new UC(n,e,t,r,o,l,h)}function Fc(n){const e=Je(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ah(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ah(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ah(r)).join(",")),e.P=t}return e.P}function wp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!$C(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ra(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pm(n.startAt,e.startAt)&&Pm(n.endAt,e.endAt)}function Om(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function dh(n,e){return n.filters.filter(t=>t instanceof ii&&t.field.isEqual(e))}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new VI(e,t,r):"array-contains"===t?new jI(e,r):"in"===t?new BC(e,r):"not-in"===t?new A_(e,r):"array-contains-any"===t?new S_(e,r):new ii(e,t,r)}static V(e,t,r){return"in"===t?new UI(e,r):new b_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cl(t,this.value)):null!==t&&Wo(this.value)===Wo(t)&&this.v(Cl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class VI extends ii{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.v(t)}}class UI extends ii{constructor(e,t){super(e,"in",t),this.keys=T_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class b_ extends ii{constructor(e,t){super(e,"not-in",t),this.keys=T_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class jI extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Na(t)&&Ep(t.arrayValue,this.value)}}class BC extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ep(this.value.arrayValue,t)}}class A_ extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ep(this.value.arrayValue,t)}}class S_ extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Na(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ep(this.value.arrayValue,r))}}class yu{constructor(e,t){this.position=e,this.inclusive=t}}class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function BI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):Cl(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Pm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ra(n.position[t],e.position[t]))return!1;return!0}class vu{constructor(e,t=null,r=[],o=[],l=null,h="F",g=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=g,this.endAt=I,this.D=null,this.C=null}}function M_(n,e,t,r,o,l,h,g){return new vu(n,e,t,r,o,l,h,g)}function Lc(n){return new vu(n)}function Vc(n){return!sh(n.limit)&&"F"===n.limitType}function km(n){return!sh(n.limit)&&"L"===n.limitType}function Fm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $I(n){for(const e of n.filters)if(e.S())return e.field;return null}function x_(n){return null!==n.collectionGroup}function _u(n){const e=Je(n);if(null===e.D){e.D=[];const t=$I(e),r=Fm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new bl(t)),e.D.push(new bl(_i.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new bl(_i.keyField(),l))}}}return e.D}function yo(n){const e=Je(n);if(!e.C)if("F"===e.limitType)e.C=LI(e.path,e.collectionGroup,_u(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of _u(e))t.push(new bl(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new yu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new yu(e.startAt.position,!e.startAt.inclusive):null;e.C=LI(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Uc(n,e,t){return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eu(n,e){return wp(yo(n),yo(e))&&n.limitType===e.limitType}function HI(n){return`${Fc(yo(n))}|lt:${n.limitType}`}function GI(n){return`Query(target=${function jC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ah(r.value)}`;var r}).join(", ")}]`),sh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ah(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ah(t)).join(",")),`Target(${e})`}(yo(n))}; limitType=${n.limitType})`}function Lm(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const g=BI(o,l,h);return o.inclusive?g<=0:g<0}(t.startAt,_u(t),r)||t.endAt&&!function(o,l,h){const g=BI(o,l,h);return o.inclusive?g>=0:g>0}(t.endAt,_u(t),r)));var t,r}function qI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WI(n){return(e,t)=>{let r=!1;for(const o of _u(n)){const l=HC(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function HC(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,l,h){const g=l.data.field(o),I=h.data.field(o);return null!==g&&null!==I?Cl(g,I):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function R_(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function N_(n){return{integerValue:""+n}}function O_(n,e){return _p(e)?N_(e):R_(n,e)}class jc{constructor(){this._=void 0}}function Vm(n,e,t){return n instanceof Bc?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Tl?KI(n,e):n instanceof $c?Dp(n,e):function(r,o){const l=zI(r,o),h=GC(l)+GC(r.k);return I_(l)&&I_(r.k)?N_(h):R_(r.M,h)}(n,e)}function hh(n,e,t){return n instanceof Tl?KI(n,e):n instanceof $c?Dp(n,e):t}function zI(n,e){return n instanceof fh?I_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Bc extends jc{}class Tl extends jc{constructor(e){super(),this.elements=e}}function KI(n,e){const t=P_(e);for(const r of n.elements)t.some(o=>Ra(o,r))||t.push(r);return{arrayValue:{values:t}}}class $c extends jc{constructor(e){super(),this.elements=e}}function Dp(n,e){let t=P_(e);for(const r of n.elements)t=t.filter(o=>!Ra(o,r));return{arrayValue:{values:t}}}class fh extends jc{constructor(e,t){super(),this.M=e,this.k=t}}function GC(n){return vr(n.integerValue||n.doubleValue)}function P_(n){return Na(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ph{constructor(e,t){this.field=e,this.transform=t}}class ZI{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function k_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cp{}function QI(n,e,t){n instanceof Al?function(r,o,l){const h=r.value.clone(),g=L_(r.fieldTransforms,o,l.transformResults);h.setAll(g),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Sl?function(r,o,l){if(!k_(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=L_(r.fieldTransforms,o,l.transformResults),g=o.data;g.setAll(F_(r)),g.setAll(h),o.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function YI(n,e,t){var o;n instanceof Al?function(r,o,l){if(!k_(r.precondition,o))return;const h=r.value.clone(),g=V_(r.fieldTransforms,l,o);h.setAll(g),o.convertToFoundDocument(Um(o),h).setHasLocalMutations()}(n,e,t):n instanceof Sl?function(r,o,l){if(!k_(r.precondition,o))return;const h=V_(r.fieldTransforms,l,o),g=o.data;g.setAll(F_(r)),g.setAll(h),o.convertToFoundDocument(Um(o),g).setHasLocalMutations()}(n,e,t):k_(n.precondition,o=e)&&o.convertToNoDocument(At.min())}function JI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=zI(r.transform,o||null);null!=l&&(null==t&&(t=Ei.empty()),t.set(r.field,l))}return t||null}function XI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&rh(t,r,(o,l)=>function gh(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tl&&r instanceof Tl||t instanceof $c&&r instanceof $c?rh(t.elements,r.elements,Ra):t instanceof fh&&r instanceof fh?Ra(t.k,r.k):t instanceof Bc&&r instanceof Bc);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Um(n){return n.isFoundDocument()?n.version:At.min()}class Al extends Cp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Sl extends Cp{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function F_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function L_(n,e,t){const r=new Map;Nt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,g=e.data.field(l.field);r.set(l.field,hh(h,g,t[o]))}return r}function V_(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,Vm(l,h,e))}return r}class mh extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jm extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ew{constructor(e){this.count=e}}var xr,ln;function U_(n){switch(n){default:return dt();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function yh(n){if(void 0===n)return Ar("GRPC error has no .code"),_e.UNKNOWN;switch(n){case xr.OK:return _e.OK;case xr.CANCELLED:return _e.CANCELLED;case xr.UNKNOWN:return _e.UNKNOWN;case xr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case xr.INTERNAL:return _e.INTERNAL;case xr.UNAVAILABLE:return _e.UNAVAILABLE;case xr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case xr.NOT_FOUND:return _e.NOT_FOUND;case xr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case xr.ABORTED:return _e.ABORTED;case xr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case xr.DATA_LOSS:return _e.DATA_LOSS;default:return dt()}}(ln=xr||(xr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Iu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return v_(this.inner)}size(){return this.innerSize}}class _r{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new _r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new _r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bp(this.root,e,this.comparator,!0)}}class bp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Ii.RED,this.left=null!=o?o:Ii.EMPTY,this.right=null!=l?l:Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Ii(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ii.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new _r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Un(this.comparator);return t.data=e,t}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(n){return n.hasNext()?n.getNext():void 0}const tw=new _r(Ye.comparator);function Ks(){return tw}const nw=new _r(Ye.comparator);function Bm(){return nw}function _h(){return new Iu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tp=new _r(Ye.comparator),qC=new Un(Ye.comparator);function _n(...n){let e=qC;for(const t of n)e=e.add(t);return e}const Oa=new Un(Gt);function $m(){return Oa}class Ml{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ml(At.min(),r,$m(),Ks(),_n())}}class wu{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wu($r.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class Hm{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class rw{constructor(e,t){this.targetId=e,this.$=t}}class iw{constructor(e,t,r=$r.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Ap{constructor(){this.B=0,this.L=ow(),this.U=$r.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:dt()}}),new wu(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=ow()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Gm{constructor(e){this.nt=e,this.st=new Map,this.it=Ks(),this.rt=sw(),this.ot=new Un(Gt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(Om(l))if(0===r){const h=new Ye(l.path);this.ct(t,h,Vn.newNoDocument(h,At.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const g=this.wt(h);if(g){if(l.current&&Om(g.target)){const I=new Ye(g.target.path);null!==this.it.get(I)||this.It(h,I)||this.ct(h,I,Vn.newNoDocument(I,e))}l.j&&(t.set(h,l.H()),l.J())}});let r=_n();this.rt.forEach((l,h)=>{let g=!0;h.forEachWhile(I=>{const S=this.wt(I);return!S||2===S.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new Ml(e,t,this.ot,this.it,r);return this.it=Ks(),this.rt=sw(),this.ot=new Un(Gt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Ap,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Un(Gt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Ap),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function sw(){return new _r(Ye.comparator)}function ow(){return new _r(Ye.comparator)}const aw={asc:"ASCENDING",desc:"DESCENDING"},uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class B_{constructor(e,t){this.databaseId=e,this.N=t}}function Eh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lw(n,e){return n.N?e.toBase64():e.toUint8Array()}function WC(n,e){return Eh(n,e.toTimestamp())}function Vi(n){return Nt(!!n),At.fromTimestamp(function(e){const t=gu(e);return new Mr(t.seconds,t.nanos)}(n))}function Sp(n,e){return(t=n,new Xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qm(n){const e=Xt.fromString(n);return Nt(yw(e)),e}function Ih(n,e){return Sp(n.databaseId,e.path)}function vo(n,e){const t=qm(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(dw(t))}function Mp(n,e){return Sp(n.databaseId,e)}function cw(n){const e=qm(n);return 4===e.length?Xt.emptyPath():dw(e)}function xp(n){return new Xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dw(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hw(n,e,t){return{name:Ih(n,e),fields:t.value.mapValue.fields}}function $_(n,e,t){const r=vo(n,e.name),o=Vi(e.updateTime),l=new Ei({mapValue:{fields:e.fields}}),h=Vn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function wh(n,e){let t;if(e instanceof Al)t={update:hw(n,e.key,e.value)};else if(e instanceof mh)t={delete:Ih(n,e.key)};else if(e instanceof Sl)t={update:hw(n,e.key,e.data),updateMask:Rp(e.fieldMask)};else{if(!(e instanceof jm))return dt();t={verify:Ih(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Bc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Tl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $c)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fh)return{fieldPath:l.field.canonicalString(),increment:h.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:WC(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:dt()),t;var o}function Wm(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Gn.updateTime(Vi(o.updateTime)):void 0!==o.exists?Gn.exists(o.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let g=null;"setToServerValue"in h?(Nt("REQUEST_TIME"===h.setToServerValue),g=new Bc):"appendMissingElements"in h?g=new Tl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new $c(h.removeAllFromArray.values||[]):"increment"in h?g=new fh(l,h.increment):dt();const I=_i.fromServerFormat(h.fieldPath);return new ph(I,g)}(n,o)):[];var o;if(e.update){const o=vo(n,e.update.name),l=new Ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ih((e.updateMask.fieldPaths||[]).map(S=>_i.fromServerFormat(S)));return new Sl(o,l,h,t,r)}return new Al(o,l,t,r)}if(e.delete){const o=vo(n,e.delete);return new mh(o,t)}if(e.verify){const o=vo(n,e.verify);return new jm(o,t)}return dt()}function gw(n,e){return{documents:[Mp(n,e.path)]}}function G_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Mp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Mp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(I){if(0===I.length)return;const S=I.map(L=>function(U){if("=="===U.op){if(w_(U.value))return{unaryFilter:{field:zo(U.field),op:"IS_NAN"}};if(RI(U.value))return{unaryFilter:{field:zo(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(w_(U.value))return{unaryFilter:{field:zo(U.field),op:"IS_NOT_NAN"}};if(RI(U.value))return{unaryFilter:{field:zo(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(U.field),op:vs(U.op),value:U.value}}}(L));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(I){if(0!==I.length)return I.map(S=>{return{field:zo((L=S).field),direction:mw(L.dir)};var L})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.N||sh(S)?S:{value:S});var S,g,I;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function q_(n){let e=cw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Nt(1===r);const L=t.from[0];L.allDescendants?o=L.collectionId:e=e.child(L.collectionId)}let l=[];t.where&&(l=W_(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new bl(Dh((U=L).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let g=null;t.limit&&(g=function(L){let U;return U="object"==typeof L?L.value:L,sh(U)?null:U}(t.limit));let I=null;var L;t.startAt&&(I=new yu((L=t.startAt).values||[],!!L.before));let S=null;return t.endAt&&(S=function(L){return new yu(L.values||[],!L.before)}(t.endAt)),M_(e,o,h,l,g,"F",I,S)}function W_(n){return n?void 0!==n.unaryFilter?[ZC(n)]:void 0!==n.fieldFilter?[KC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>W_(e)).reduce((e,t)=>e.concat(t)):dt():[]}function mw(n){return aw[n]}function vs(n){return uw[n]}function zo(n){return{fieldPath:n.canonicalString()}}function Dh(n){return _i.fromServerFormat(n.fieldPath)}function KC(n){return ii.create(Dh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function ZC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Dh(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Dh(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dh(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dh(n.unaryFilter.field);return ii.create(o,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function Rp(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Hr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=z_(e)),e=vw(n.get(t),e);return z_(e)}function vw(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function z_(n){return n+"\x01\x01"}function _o(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Xt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&dt(),n.charAt(h+1)){case"\x01":const g=n.substring(l,h);let I;0===o.length?I=g:(o+=g,I=o,o=""),r.push(I);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:dt()}l=h+2}return new Xt(r)}const K_=["userId","batchId"];function Ch(n,e){return[n,Hr(e)]}function Z_(n,e,t){return[n,Hr(e),t]}const _w={},zm=["prefixPath","collectionGroup","readTime","documentId"],Q_=["prefixPath","collectionGroup","documentId"],QC=["collectionGroup","readTime","prefixPath","documentId"],Ew=["canonicalId","targetId"],YC=["targetId","path"],Y_=["path","targetId"],Np=["collectionId","parent"],Iw=["indexId","uid"],JC=["uid","sequenceNumber"],J_=["indexId","uid","arrayValue","directionalValue","documentKey"],X_=["indexId","uid","documentKey"],ww=["userId","collectionPath","documentId"],XC=["userId","collectionPath","largestBatchId"],e0=["userId","collectionGroup","largestBatchId"],t0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dw=[...t0,"documentOverlays"],Cw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bw=[...Cw,"indexConfiguration","indexState","indexEntries"],n0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,r)=>{t(e)})}static reject(e){return new De((t,r)=>{r(e)})}static waitFor(e){return new De((t,r)=>{let o=0,l=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++l,h&&l===o&&t()},I=>r(I))}),h=!0,l===o&&t()})}static or(e){let t=De.resolve(!1);for(const r of e)t=t.next(o=>o?De.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class Op{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Sr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new bh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=Km(r.target.error);this.At.reject(new bh(e,o))}}static open(e,t,r,o){try{return new Op(t,e.transaction(o,r))}catch(l){throw new bh(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Sw(t)}}class Ko{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ko.Vt((0,Rt.z$)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Hc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Rt.hl)())return!1;if(Ko.St())return!0;const e=(0,Rt.z$)(),t=Ko.Vt(e),r=0<t&&t<10,o=Ko.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new bh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const g=h.target.error;o("VersionError"===g.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new bh(e,g))},l.onupgradeneeded=h=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,be.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.Nt(e);const I=Op.open(l.db,e,h?"readonly":"readwrite",r),S=o(I).next(L=>(I.bt(),L)).catch(L=>(I.abort(L),De.reject(L))).toPromise();return S.catch(()=>{}),yield I.Rt,S}catch(I){const S="FirebaseError"!==I.name&&g<3;if(je("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),l.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Aw{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Hc(this.Ft.delete())}}class bh extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xl(n){return"IndexedDbTransactionError"===n.name}class Sw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Hc(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Hc(this.store.add(e))}get(e){return Hc(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Hc(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Hc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(h,g)=>{l.push(g)}).next(()=>l)}{const o=this.store.getAll(r.range);return new De((l,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{l(g.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new De((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,h,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new De((r,o)=>{t.onerror=l=>{const h=Km(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new De((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void o();const I=new Aw(g),S=t(g.primaryKey,g.value,I);if(S instanceof De){const L=S.catch(U=>(I.done(),De.reject(U)));r.push(L)}I.isDone?o():null===I.Lt?g.continue():g.continue(I.Lt)}}).next(()=>De.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hc(n){return new De((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Km(r.target.error);t(o)}})}let Mw=!1;function Km(n){const e=Ko.Vt((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mw||(Mw=!0,setTimeout(()=>{throw r},0)),r}}return n}class r0 extends Tw{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function si(n,e){const t=Je(n);return Ko.xt(t.Ht,e)}class s0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&QI(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&YI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&YI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&rh(this.mutations,e.mutations,(t,r)=>XI(t,r))&&rh(this.baseMutations,e.baseMutations,(t,r)=>XI(t,r))}}class o0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Nt(e.mutations.length===r.length);let o=Tp;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new o0(e,t,r,o)}}class a0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rl{constructor(e,t,r,o,l=At.min(),h=At.min(),g=$r.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class xw{constructor(e){this.Jt=e}}function Rw(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ih(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Eh(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Th(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:Th(e.version)}}var o,l;return r}function Gc(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Th(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new Mr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Ol(n,e){const t=(e.baseMutations||[]).map(l=>Wm(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Wm(n.Jt,l)),o=Mr.fromMillis(e.localWriteTimeMs);return new s0(e.batchId,o,t,r)}function Ah(n){const e=Nl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nl(n.lastLimboFreeSnapshotVersion):At.min();let r;var o;return void 0!==n.query.documents?(Nt(1===(o=n.query).documents.length),r=yo(Lc(cw(o.documents[0])))):r=yo(q_(n.query)),new Rl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,$r.fromBase64String(n.resumeToken))}function u0(n,e){const t=Th(e.snapshotVersion),r=Th(e.lastLimboFreeSnapshotVersion);let o;o=Om(e.target)?gw(n.Jt,e.target):G_(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function l0(n){const e=q_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Uc(e,e.limit,"L"):e}function Pp(n,e){return new a0(e.largestBatchId,Wm(n.Jt,e.overlayMutation))}function c0(n,e){const t=e.path.lastSegment();return[n,Hr(e.path.popLast()),t]}class Nw{getBundleMetadata(e,t){return d0(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Nl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return d0(e).put({bundleId:(r=t).id,createTime:Th(Vi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ow(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:l0(o.bundledQuery),readTime:Nl(o.readTime)};var o})}saveNamedQuery(e,t){return Ow(e).put({name:(r=t).name,readTime:Th(Vi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function d0(n){return si(n,"bundles")}function Ow(n){return si(n,"namedQueries")}class Zm{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Zm(e,t.uid||"")}getOverlay(e,t){return kp(e).get(c0(this.userId,t)).next(r=>r?Pp(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const g=new a0(t,h);o.push(this.Xt(e,g))}),De.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(Hr(h.getCollectionPath())));const l=[];return o.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(kp(e).Qt("collectionPathOverlayIndex",g))}),De.waitFor(l)}getOverlaysForCollection(e,t,r){const o=_h(),l=Hr(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return kp(e).qt("collectionPathOverlayIndex",h).next(g=>{for(const I of g){const S=Pp(this.M,I);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=_h();let h;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kp(e).Wt({index:"collectionGroupOverlayIndex",range:g},(I,S,L)=>{const U=Pp(this.M,S);l.size()<o||U.largestBatchId===h?(l.set(U.getKey(),U),h=U.largestBatchId):L.done()}).next(()=>l)}Xt(e,t){return kp(e).put(function(r,o,l){const[h,g,I]=c0(o,l.mutation.key);return{userId:o,collectionPath:g,documentId:I,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:wh(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function kp(n){return si(n,"documentOverlays")}class Pl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(vr(e.integerValue));else if("doubleValue"in e){const r=vr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),oh(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(wl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?NI(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Ye.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function tb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Pw(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=tb(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Pl.fe=new Pl;class nb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=Pw(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=Pw(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Pa{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class kw{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Qm{constructor(){this.De=new nb,this.Ce=new Pa(this.De),this.xe=new kw(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Du{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Du(this.indexId,this.documentKey,this.arrayValue,r)}}function qc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Fw(n.arrayValue,e.arrayValue),0!==t?t:(t=Fw(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function Fw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class h0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=C_(e);if(void 0!==t&&!this.Be(t))return!1;const r=ch(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class rb{constructor(){this.qe=new Zs}addToCollectionParentIndex(e,t){return this.qe.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getFieldIndex(e,t){return De.resolve(null)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}updateCollectionGroup(e,t,r){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class Zs{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Un(Xt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Un(Xt.comparator)).toArray()}}const Ym=new Uint8Array(0);class f0{constructor(e){this.user=e,this.Ge=new Zs,this.Ke=new Iu(t=>Fc(t),(t,r)=>wp(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:Hr(o)};return Lw(e).put(l)}return De.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[TI(t),""],!1,!0);return Lw(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(_o(h.parent))}return r})}addFieldIndex(e,t){const r=Sh(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Sh(e),o=Lp(e),l=Fp(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fp(e);let o=!0;const l=new Map;return De.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(g=>{o&&(o=!!g),l.set(h,g)})).next(()=>{if(o){let h=_n();return De.forEach(l,(g,I)=>{var S;je("IndexedDbIndexManager",`Using index ${S=g,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Ot=>`${Ot.fieldPath}:${Ot.kind}`).join(",")}`} to execute ${Fc(t)}`);const L=function(Ot,lr){const qt=C_(lr);if(void 0===qt)return null;for(const fn of dh(Ot,qt.fieldPath))switch(fn.op){case"array-contains-any":return fn.value.arrayValue.values||[];case"array-contains":return[fn.value]}return null}(I,g),U=function(Ot,lr){const qt=new Map;for(const fn of ch(lr))for(const sn of dh(Ot,fn.fieldPath))switch(sn.op){case"==":case"in":qt.set(fn.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return qt.set(fn.fieldPath.canonicalString(),sn.value),Array.from(qt.values())}return null}(I,g),Q=function(Ot,lr){const qt=[];let fn=!0;for(const $l of ch(lr)){let Zo,Jp=!0;for(const Ui of dh(Ot,$l.fieldPath)){let Rr,Ey=!0;switch(Ui.op){case"<":case"<=":Rr="nullValue"in(sn=Ui.value)?E_:"booleanValue"in sn?{booleanValue:!1}:"integerValue"in sn||"doubleValue"in sn?{doubleValue:NaN}:"timestampValue"in sn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in sn?{stringValue:""}:"bytesValue"in sn?{bytesValue:""}:"referenceValue"in sn?uh(Dl.empty(),Ye.empty()):"geoPointValue"in sn?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in sn?{arrayValue:{}}:"mapValue"in sn?{mapValue:{}}:dt();break;case"==":case"in":case">=":Rr=Ui.value;break;case">":Rr=Ui.value,Ey=!1;break;case"!=":case"not-in":Rr=E_}D_(Zo,Rr)===Rr&&(Zo=Rr,Jp=Ey)}if(null!==Ot.startAt)for(let Ui=0;Ui<Ot.orderBy.length;++Ui)if(Ot.orderBy[Ui].field.isEqual($l.fieldPath)){const Rr=Ot.startAt.position[Ui];D_(Zo,Rr)===Rr&&(Zo=Rr,Jp=Ot.startAt.inclusive);break}if(void 0===Zo)return null;qt.push(Zo),fn&&(fn=Jp)}var sn;return new yu(qt,fn)}(I,g),ge=function(Ot,lr){const qt=[];let fn=!0;for(const $l of ch(lr)){let Zo,Jp=!0;for(const Ui of dh(Ot,$l.fieldPath)){let Rr,Ey=!0;switch(Ui.op){case">=":case">":Rr="nullValue"in(sn=Ui.value)?{booleanValue:!1}:"booleanValue"in sn?{doubleValue:NaN}:"integerValue"in sn||"doubleValue"in sn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in sn?{stringValue:""}:"stringValue"in sn?{bytesValue:""}:"bytesValue"in sn?uh(Dl.empty(),Ye.empty()):"referenceValue"in sn?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in sn?{arrayValue:{}}:"arrayValue"in sn?{mapValue:{}}:"mapValue"in sn?MI:dt(),Ey=!1;break;case"==":case"in":case"<=":Rr=Ui.value;break;case"<":Rr=Ui.value,Ey=!1;break;case"!=":case"not-in":Rr=MI}OI(Zo,Rr)===Rr&&(Zo=Rr,Jp=Ey)}if(null!==Ot.endAt)for(let Ui=0;Ui<Ot.orderBy.length;++Ui)if(Ot.orderBy[Ui].field.isEqual($l.fieldPath)){const Rr=Ot.endAt.position[Ui];OI(Zo,Rr)===Rr&&(Zo=Rr,Jp=Ot.endAt.inclusive);break}if(void 0===Zo)return null;qt.push(Zo),fn&&(fn=Jp)}var sn;return new yu(qt,fn)}(I,g),Re=this.je(g,I,Q),Xe=this.je(g,I,ge),Ct=this.We(g,I,U),Cn=this.ze(g.indexId,L,Re,!!Q&&Q.inclusive,Xe,!!ge&&ge.inclusive,Ct);return De.forEach(Cn,Ot=>r.Kt(Ot,t.limit).next(lr=>{lr.forEach(qt=>{h=h.add(new Ye(_o(qt.documentKey)))})}))}).next(()=>h)}return De.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,h,g){const I=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),S=I/(null!=t?t.length:1),L=[];for(let U=0;U<I;++U){const Q=t?this.He(t[U/S]):Ym,ge=r?this.Je(e,Q,r[U%S],o):this.Ye(e),Re=l?this.Xe(e,Q,l[U%S],h):this.Ye(e+1);L.push(...this.createRange(ge,Re,g.map(Xe=>this.Je(e,Q,Xe,!0))))}return L}Je(e,t,r,o){const l=new Du(e,Ye.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Du(e,Ye.empty(),t,r);return o?l.ke():l}Ye(e){return new Du(e,Ye.empty(),Ym,Ym)}getFieldIndex(e,t){const r=new h0(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const h=l.filter(g=>r.$e(g));return h.sort((g,I)=>I.fields.length-g.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new Qm;for(const o of ch(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Ne(o.kind);Pl.fe.Zt(l,h)}return r.Se()}He(e){const t=new Qm;return Pl.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Qm);let l=0;for(const h of ch(e)){const g=r[l++];for(const I of o)if(this.tn(t,h.fieldPath)&&Na(g))o=this.en(o,h,g);else{const S=I.Ne(h.kind);Pl.fe.Zt(g,S)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const g of o){const I=new Qm;I.seed(g.Se()),Pl.fe.Zt(h,I.Ne(t.kind)),l.push(I)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Sh(e),o=Lp(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const h=[];return De.forEach(l,g=>o.get([g.indexId,this.uid]).next(I=>{h.push(function(S,L){const U=L?new kc(L.sequenceNumber,new mu(Nl(L.readTime),new Ye(_o(L.documentKey)),L.largestBatchId)):kc.empty(),Q=S.fields.map(([ge,Re])=>new Nm(_i.fromServerFormat(ge),Re));return new Ip(S.indexId,S.collectionGroup,Q,U)}(g,I))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Gt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Sh(e),l=Lp(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>De.forEach(g,I=>{return l.put({indexId:I.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Th((Q=r).readTime),documentKey:Hr(Q.documentKey.path),largestBatchId:Q.largestBatchId});var Q})))}updateIndexEntries(e,t){const r=new Map;return De.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?De.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),De.forEach(g,I=>this.rn(e,o,I).next(S=>{const L=this.on(l,I);return S.isEqual(L)?De.resolve():this.un(e,l,S,L)}))))})}an(e,t,r){return Fp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Hr(t.key.path)})}cn(e,t,r){return Fp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Hr(t.key.path)])}rn(e,t,r){const o=Fp(e);let l=new Un(qc);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Hr(t.path)])},(h,g)=>{l=l.add(new Du(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}on(e,t){let r=new Un(qc);const o=this.Ze(t,e);if(null==o)return r;const l=C_(t);if(null!=l){const h=e.data.field(l.fieldPath);if(Na(h))for(const g of h.arrayValue.values||[])r=r.add(new Du(t.indexId,e.key,this.He(g),o))}else r=r.add(new Du(t.indexId,e.key,Ym,o));return r}un(e,t,r,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,g,I,S,L){const U=h.getIterator(),Q=g.getIterator();let ge=vh(U),Re=vh(Q);for(;ge||Re;){let Xe=!1,Ct=!1;if(ge&&Re){const Cn=I(ge,Re);Cn<0?Ct=!0:Cn>0&&(Xe=!0)}else null!=ge?Ct=!0:Xe=!0;Xe?(S(Re),Re=vh(Q)):Ct?(L(ge),ge=vh(U)):(ge=vh(U),Re=vh(Q))}}(r,o,qc,h=>{l.push(this.an(e,t,h))},h=>{l.push(this.cn(e,t,h))}),De.waitFor(l)}sn(e){let t=1;return Lp(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,g)=>qc(h,g)).filter((h,g,I)=>!g||0!==qc(h,I[g-1]));const o=[];o.push(e);for(const h of r){const g=qc(h,e),I=qc(h,t);if(0===g)o[0]=e.ke();else if(g>0&&I<0)o.push(h),o.push(h.ke());else if(I>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return l}}function Lw(n){return si(n,"collectionParents")}function Fp(n){return si(n,"indexEntries")}function Sh(n){return si(n,"indexConfiguration")}function Lp(n){return si(n,"indexState")}const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _s{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g0(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let g=0;const I=r.Wt({range:h},(L,U,Q)=>(g++,Q.delete()));l.push(I.next(()=>{Nt(1===g)}));const S=[];for(const L of t.mutations){const U=Z_(e,L.key.path,t.batchId);l.push(o.delete(U)),S.push(L.key)}return De.waitFor(l).next(()=>S)}function Mh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(41943040,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class m0{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new m0(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).Wt({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Yi(e),h=ka(e);return h.add({}).next(g=>{Nt("number"==typeof g);const I=new s0(g,t,r,o),S=function(Q,ge,Re){const Xe=Re.baseMutations.map(Cn=>wh(Q.Jt,Cn)),Ct=Re.mutations.map(Cn=>wh(Q.Jt,Cn));return{userId:ge,batchId:Re.batchId,localWriteTimeMs:Re.localWriteTime.toMillis(),baseMutations:Xe,mutations:Ct}}(this.M,this.userId,I),L=[];let U=new Un((Q,ge)=>Gt(Q.canonicalString(),ge.canonicalString()));for(const Q of o){const ge=Z_(this.userId,Q.key.path,g);U=U.add(Q.key.path.popLast()),L.push(h.put(S)),L.push(l.put(ge,_w))}return U.forEach(Q=>{L.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.hn[g]=I.keys()}),De.waitFor(L).next(()=>I)})}lookupMutationBatch(e,t){return ka(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Ol(this.M,r)):null)}ln(e,t){return this.hn[t]?De.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return ka(e).Wt({index:"userMutationsIndex",range:o},(h,g,I)=>{g.userId===this.userId&&(Nt(g.batchId>=r),l=Ol(this.M,g)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ka(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).qt("userMutationsIndex",t).next(r=>r.map(o=>Ol(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ch(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Yi(e).Wt({range:o},(h,g,I)=>{const[S,L,U]=h,Q=_o(L);if(S===this.userId&&t.path.isEqual(Q))return ka(e).get(U).next(ge=>{if(!ge)throw dt();Nt(ge.userId===this.userId),l.push(Ol(this.M,ge))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un(Gt);const o=[];return t.forEach(l=>{const h=Ch(this.userId,l.path),g=IDBKeyRange.lowerBound(h),I=Yi(e).Wt({range:g},(S,L,U)=>{const[Q,ge,Re]=S,Xe=_o(ge);Q===this.userId&&l.path.isEqual(Xe)?r=r.add(Re):U.done()});o.push(I)}),De.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Ch(this.userId,r),h=IDBKeyRange.lowerBound(l);let g=new Un(Gt);return Yi(e).Wt({range:h},(I,S,L)=>{const[U,Q,ge]=I,Re=_o(Q);U===this.userId&&r.isPrefixOf(Re)?Re.length===o&&(g=g.add(ge)):L.done()}).next(()=>this.fn(e,g))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(ka(e).get(l).next(h=>{if(null===h)throw dt();Nt(h.userId===this.userId),r.push(Ol(this.M,h))}))}),De.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return g0(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),De.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Yi(e).Wt({range:r},(l,h,g)=>{if(l[0]===this.userId){const I=_o(l[1]);o.push(I)}else g.done()}).next(()=>{Nt(0===o.length)})})}containsKey(e,t){return Vw(e,this.userId,t)}_n(e){return y0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Vw(n,e,t){const r=Ch(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Yi(n).Wt({range:l,jt:!0},(g,I,S)=>{const[L,U,Q]=g;L===e&&U===o&&(h=!0),S.done()}).next(()=>h)}function ka(n){return si(n,"mutations")}function Yi(n){return si(n,"documentMutations")}function y0(n){return si(n,"mutationQueues")}class xh{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new xh(0)}static gn(){return new xh(-1)}}class Uw{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new xh(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>At.fromTimestamp(new Mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kl(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return kl(e).Wt((h,g)=>{const I=Ah(g);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(o++,l.push(this.removeTargetData(e,I)))}).next(()=>De.waitFor(l)).next(()=>o)}forEachTarget(e,t){return kl(e).Wt((r,o)=>{const l=Ah(o);t(l)})}yn(e){return jw(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}pn(e,t){return jw(e).put("targetGlobalKey",t)}In(e,t){return kl(e).put(u0(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return kl(e).Wt({range:o,index:"queryTargetsIndex"},(h,g,I)=>{const S=Ah(g);wp(t,S.target)&&(l=S,I.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Cu(e);return t.forEach(h=>{const g=Hr(h.path);o.push(l.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,h))}),De.waitFor(o)}removeMatchingKeys(e,t,r){const o=Cu(e);return De.forEach(t,l=>{const h=Hr(l.path);return De.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Cu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Cu(e);let l=_n();return o.Wt({range:r,jt:!0},(h,g,I)=>{const S=_o(h[1]),L=new Ye(S);l=l.add(L)}).next(()=>l)}containsKey(e,t){const r=Hr(t.path),o=IDBKeyRange.bound([r],[TI(r)],!1,!0);let l=0;return Cu(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,g],I,S)=>{0!==h&&(l++,S.done())}).next(()=>l>0)}Et(e,t){return kl(e).get(t).next(r=>r?Ah(r):null)}}function kl(n){return si(n,"targets")}function jw(n){return si(n,"targetGlobal")}function Cu(n){return si(n,"targetDocuments")}function Fl(n){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,be.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==n0)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Jm.apply(this,arguments)}function Bw([n,e],[t,r]){const o=Gt(n,t);return 0===o?Gt(e,r):o}class v0{constructor(e){this.En=e,this.buffer=new Un(Bw),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;je("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){xl(o)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Fl(o)}yield t.vn(e)}))}}class ib{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return De.resolve(zs.A);const r=new v0(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(p0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,h,g,I,S;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,h=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,g=Date.now(),this.removeTargets(e,r,t))).next(U=>(l=U,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(S=Date.now(),gp()<=Bs.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-L}ms\n\tDetermined least recently used ${o} in `+(g-h)+`ms\n\tRemoved ${l} targets in `+(I-g)+`ms\n\tRemoved ${U} documents in `+(S-I)+`ms\nTotal Duration: ${S-L}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:U})))}}class sb{constructor(e,t){this.db=e,this.garbageCollector=new ib(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Vp(e,r)}removeReference(e,t,r){return Vp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vp(e,t)}Mn(e,t){return function(r,o){let l=!1;return y0(r).zt(h=>Vw(r,h,o).next(g=>(g&&(l=!0),De.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(h,g)=>{if(g<=t){const I=this.Mn(e,h).next(S=>{if(!S)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,At.min()),Cu(e).delete([0,Hr(h.path)])))});o.push(I)}}).next(()=>De.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vp(e,t)}kn(e,t){const r=Cu(e);let o,l=zs.A;return r.Wt({index:"documentTargetsIndex"},([h,g],{path:I,sequenceNumber:S})=>{0===h?(l!==zs.A&&t(new Ye(_o(o)),l),l=S,o=I):l=zs.A}).next(()=>{l!==zs.A&&t(new Ye(_o(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vp(n,e){return Cu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Hr(e.path),sequenceNumber:r}));var r}class Xm{constructor(){this.changes=new Iu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?De.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E0{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ll(e).put(r)}removeEntry(e,t,r){return Ll(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Gc(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Vn.newInvalidDocument(t);return Ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rh(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Vn.newInvalidDocument(t)};return Ll(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rh(t))},(o,l)=>{r={document:this.Fn(t,l),size:Mh(l)}}).next(()=>r)}getEntries(e,t){let r=Ks();return this.Bn(e,t,(o,l)=>{const h=this.Fn(o,l);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=Ks(),o=new _r(Ye.comparator);return this.Bn(e,t,(l,h)=>{const g=this.Fn(l,h);r=r.insert(l,g),o=o.insert(l,Mh(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return De.resolve();let o=new Un(qw);t.forEach(I=>o=o.add(I));const l=IDBKeyRange.bound(Rh(o.first()),Rh(o.last())),h=o.getIterator();let g=h.getNext();return Ll(e).Wt({index:"documentKeyIndex",range:l},(I,S,L)=>{const U=Ye.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;g&&qw(g,U)<0;)r(g,null),g=h.getNext();g&&g.isEqual(U)&&(r(g,S),g=h.hasNext()?h.getNext():null),g?L.Ut(Rh(g)):L.done()}).next(()=>{for(;g;)r(g,null),g=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Gc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ll(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let g=Ks();for(const I of h){const S=this.Fn(Ye.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);g=g.insert(S.key,S)}return g})}getAllFromCollectionGroup(e,t,r,o){let l=Ks();const h=Gw(t,r),g=Gw(t,mu.max());return Ll(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(I,S,L)=>{const U=this.Fn(Ye.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(U.key,U),l.size===o&&L.done()}).next(()=>l)}newChangeBuffer(e){return new $w(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hw(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}On(e,t){return Hw(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function eb(n,e){let t;if(e.document)t=$_(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),o=Nl(e.noDocument.readTime);t=Vn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Ye.fromSegments(e.unknownDocument.path),o=Nl(e.unknownDocument.version);t=Vn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Mr(r[0],r[1]);return At.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return Vn.newInvalidDocument(e)}}class $w extends Xm{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Iu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Un((l,h)=>Gt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const g=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,g.readTime)),h.isValidDocument()){const I=Rw(this.qn.M,h);o=o.add(l.path.popLast()),r+=Mh(I)-g.size,t.push(this.qn.addEntry(e,l,I))}else if(r-=g.size,this.trackRemovals){const I=Rw(this.qn.M,h.convertToNoDocument(At.min()));t.push(this.qn.addEntry(e,l,I))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),De.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function Hw(n){return si(n,"remoteDocumentGlobal")}function Ll(n){return si(n,"remoteDocumentsV14")}function Rh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gw(n,e){const t=e.documentKey.path.toArray();return[n,Gc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qw(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ye.comparator(n,e)}class ob{constructor(e){this.M=e}kt(e,t,r,o){const l=new Op("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K_,{unique:!0}),g.createObjectStore("documentMutations"),Ww(e),function(g){g.createObjectStore("remoteDocuments")}(e));let h=De.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),Ww(e)),h=h.next(()=>function(g){const I=g.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",S)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(g,I){return I.store("mutations").qt().next(S=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K_,{unique:!0});const L=I.store("mutations"),U=S.map(Q=>L.put(Q));return De.waitFor(U)})}(e,l))),h=h.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(l))),r<6&&o>=6&&(h=h.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(h=h.next(()=>this.jn(l))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(l))),r<11&&o>=11&&(h=h.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(g){const I=g.createObjectStore("documentOverlays",{keyPath:ww});I.createIndex("collectionPathOverlayIndex",XC,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",e0,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(g){const I=g.createObjectStore("remoteDocumentsV14",{keyPath:zm});I.createIndex("documentKeyIndex",Q_),I.createIndex("collectionGroupIndex",QC)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Iw}).createIndex("sequenceNumberIndex",JC,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:J_}).createIndex("documentKeyIndex",X_,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Mh(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>De.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(g=>De.forEach(g,I=>{Nt(I.userId===l.userId);const S=Ol(this.M,I);return g0(e,l.userId,S).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((h,g)=>{const I=new Xt(h),S=[0,Hr(I)];l.push(t.get(S).next(L=>L?De.resolve():t.put({targetId:0,path:Hr(I),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>De.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Np});const r=t.store("collectionParents"),o=new Zs,l=h=>{if(o.add(h)){const g=h.lastSegment(),I=h.popLast();return r.put({collectionId:g,parent:Hr(I)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,g)=>{const I=new Xt(h);return l(I.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,g,I],S)=>{const L=_o(g);return l(L.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=Ah(o),h=u0(this.M,l);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,h)=>{const g=t.store("remoteDocumentsV14"),I=(S=h,S.document?new Ye(Xt.fromString(S.document.name).popFirst(5)):S.noDocument?Ye.fromSegments(S.noDocument.path):S.unknownDocument?Ye.fromSegments(S.unknownDocument.path):dt()).path.toArray();var S;const L={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(g.put(L))}).next(()=>De.waitFor(o))}}function Ww(n){n.createObjectStore("targetDocuments",{keyPath:YC}).createIndex("documentTargetsIndex",Y_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ew,{unique:!0}),n.createObjectStore("targetGlobal")}const ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ty{constructor(e,t,r,o,l,h,g,I,S,L,U=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=h,this.document=g,this.Yn=S,this.Xn=L,this.Zn=U,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Q=>Promise.resolve(),!ty.vt())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sb(this,o),this.cs=t+"main",this.M=new xw(I),this.hs=new Ko(this.cs,this.Zn,new ob(this.M)),this.ls=new Uw(this.referenceDelegate,this.M),this.fs=new E0(this.M),this.ds=new Nw,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===L&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,ey);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new zs(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,be.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ny(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(xl(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Nh(e).get("owner").next(t=>De.resolve(this.bs(t)))}Ps(e){return ny(e).delete(this.clientId)}Vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=si(r,"clientMetadata");return o.qt().next(l=>{const h=e.Ss(l,18e5),g=l.filter(I=>-1===h.indexOf(I));return De.forEach(g,I=>o.delete(I.clientId)).next(()=>g)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?De.resolve(!0):Nh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,ey);return!1}}return!(!this.networkEnabled||!this.inForeground)||ny(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new r0(t,zs.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>ny(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return m0.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new f0(e)}getDocumentOverlayCache(e){return Zm.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.Zn)?bw:13===h?Cw:12===h?Dw:11===h?t0:void dt();var h;let g;return this.hs.runTransaction(e,o,l,I=>(g=new r0(I,this.ts?this.ts.next():zs.A),"readwrite-primary"===t?this.Ts(g).next(S=>!!S||this.Es(g)).next(S=>{if(!S)throw Ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Fe(_e.FAILED_PRECONDITION,n0);return r(g)}).next(S=>this.Rs(g).next(()=>S)):this.Fs(g).next(()=>r(g)))).then(I=>(g.raiseOnCommittedEvent(),I))}Fs(e){return Nh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,ey)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nh(e).put("owner",t)}static vt(){return Ko.vt()}As(e){const t=Nh(e);return t.get("owner").next(r=>this.bs(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Ar("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nh(n){return si(n,"owner")}function ny(n){return si(n,"clientMetadata")}function ry(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ab{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):x_(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Ye(t)).next(r=>{let o=Bm();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=Bm();return this.indexManager.getCollectionParents(e,o).next(h=>De.forEach(h,g=>{const I=(S=t,L=g.child(o),new vu(L,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,L;return this.Ws(e,I,r).next(S=>{S.forEach((L,U)=>{l=l.insert(L,U)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const g of h.mutations){const I=g.key;let S=o.get(I);null==S&&(S=Vn.newInvalidDocument(I),o=o.insert(I,S)),YI(g,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(I))}}).next(()=>(o.forEach((l,h)=>{Lm(t,h)||(o=o.remove(l))}),o))}}class zw{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=_n(),o=_n();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new zw(e,t.fromCache,r,o)}}class Kw{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const h=this.ti(t,l);return(Vc(t)||km(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):(gp()<=Bs.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),GI(t)),this.Xs.Ks(e,t,kI(r,-1)).next(g=>(h.forEach(I=>{g=g.insert(I.key,I)}),g)))});var l}ti(e,t){let r=new Un(WI(e));return t.forEach((o,l)=>{Lm(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return gp()<=Bs.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",GI(t)),this.Xs.Ks(e,t,mu.min())}}class ub{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new _r(Gt),this.ii=new Iu(l=>Fc(l),wp),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new ab(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function iy(n,e,t,r){return new ub(n,e,t,r)}function Oh(n,e){return I0.apply(this,arguments)}function I0(){return I0=(0,be.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const h=[],g=[];let I=_n();for(const S of o){h.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}for(const S of l){g.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}return t.ai.qs(r,I).next(S=>({ci:S,removedBatchIds:h,addedBatchIds:g}))})})}),I0.apply(this,arguments)}function lb(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,g,I,S){const L=I.batch,U=L.keys();let Q=De.resolve();return U.forEach(ge=>{Q=Q.next(()=>S.getEntry(g,ge)).next(Re=>{const Xe=I.docVersions.get(ge);Nt(null!==Xe),Re.version.compareTo(Xe)<0&&(L.applyToRemoteDocument(Re,I),Re.isValidDocument()&&(Re.setReadTime(I.commitVersion),S.addEntry(Re)))})}),Q.next(()=>h.$s.removeMutationBatch(g,L))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function w0(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Wc(n,e){const t=Je(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const g=[];e.targetChanges.forEach((S,L)=>{const U=o.get(L);if(!U)return;g.push(t.ls.removeMatchingKeys(l,S.removedDocuments,L).next(()=>t.ls.addMatchingKeys(l,S.addedDocuments,L)));let Q=U.withSequenceNumber(l.currentSequenceNumber);var ge,Re,Xe;e.targetMismatches.has(L)?Q=Q.withResumeToken($r.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(L,Q),Re=Q,Xe=S,(0===(ge=U).resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&g.push(t.ls.updateTargetData(l,Q))});let I=Ks();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),g.push(D0(l,h,e.documentUpdates).next(S=>{I=S})),!r.isEqual(At.min())){const S=t.ls.getLastRemoteSnapshotVersion(l).next(L=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(S)}return De.waitFor(g).next(()=>h.apply(l)).next(()=>t.ai.Gs(l,I)).next(()=>I)}).then(l=>(t.si=o,l))}function D0(n,e,t){let r=_n();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ks();return t.forEach((h,g)=>{const I=o.get(h);g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(h,g.readTime),l=l.insert(h,g)):!I.isValidDocument()||g.version.compareTo(I.version)>0||0===g.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(g),l=l.insert(h,g)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",I.version," Watch version:",g.version)}),l})}function C0(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Vl(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,De.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new Rl(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Ph(n,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,be.Z)(function*(n,e,t){const r=Je(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!xl(h))throw h;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),Up.apply(this,arguments)}function kh(n,e,t){const r=Je(n);let o=At.min(),l=_n();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,I,S){const L=Je(g),U=L.ii.get(S);return void 0!==U?De.resolve(L.si.get(U)):L.ls.getTargetData(I,S)}(r,h,yo(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,g.targetId).next(I=>{l=I})}).next(()=>r.ni.Ks(h,e,t?o:At.min(),t?l:_n())).next(g=>(cb(r,qI(e),g),{documents:g,hi:l})))}function zc(n,e){const t=Je(n),r=Je(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function Zw(n,e){const t=Je(n),r=t.ri.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,kI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(cb(t,e,o),o))}function cb(n,e,t){let r=At.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function Qw(){return Qw=(0,be.Z)(function*(n,e,t,r){const o=Je(n);let l=_n(),h=Ks();for(const S of t){const L=e.li(S.metadata.name);S.document&&(l=l.add(L));const U=e.fi(S);U.setReadTime(e.di(S.metadata.readTime)),h=h.insert(L,U)}const g=o.oi.newChangeBuffer({trackRemovals:!0}),I=yield Vl(o,(S=r,yo(Lc(Xt.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>D0(S,g,h).next(L=>(g.apply(S),L)).next(L=>o.ls.removeMatchingKeysForTargetId(S,I.targetId).next(()=>o.ls.addMatchingKeys(S,l,I.targetId)).next(()=>o.ai.Gs(S,L)).next(()=>L)))}),Qw.apply(this,arguments)}function Yw(n,e){return b0.apply(this,arguments)}function b0(){return b0=(0,be.Z)(function*(n,e,t=_n()){const r=yield Vl(n,yo(l0(e.bundledQuery))),o=Je(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Vi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(l,e);const g=r.withResumeToken($r.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(g.targetId,g),o.ls.updateTargetData(l,g).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),b0.apply(this,arguments)}class Jw{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return De.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Vi(r.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:l0(r.bundledQuery),readTime:Vi(r.readTime)}),De.resolve();var r}}class db{constructor(){this.overlays=new _r(Ye.comparator),this.mi=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),De.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),De.resolve()}getOverlaysForCollection(e,t,r){const o=_h(),l=t.length+1,h=new Ye(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const I=g.getNext().value,S=I.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&I.largestBatchId>r&&o.set(I.getKey(),I)}return De.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new _r((S,L)=>S-L);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let L=l.get(S.largestBatchId);null===L&&(L=_h(),l=l.insert(S.largestBatchId,L)),L.set(S.getKey(),S)}}const g=_h(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((S,L)=>g.set(S,L)),!(g.size()>=o)););return De.resolve(g)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new a0(t,r));let l=this.mi.get(t);void 0===l&&(l=_n(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class T0{constructor(){this.gi=new Un(oi.yi),this.pi=new Un(oi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new oi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new oi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ye(new Xt([])),r=new oi(t,e),o=new oi(t,e+1),l=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),l.push(h.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ye(new Xt([])),r=new oi(t,e),o=new oi(t,e+1);let l=_n();return this.pi.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new oi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ye.comparator(e.key,t.key)||Gt(e.Vi,t.Vi)}static Ii(e,t){return Gt(e.Vi,t.Vi)||Ye.comparator(e.key,t.key)}}class Xw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Un(oi.yi)}checkEmpty(e){return De.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const h=new s0(l,t,r,o);this.$s.push(h);for(const g of o)this.Si=this.Si.add(new oi(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return De.resolve(h)}lookupMutationBatch(e,t){return De.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return De.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return De.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),o=new oi(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],h=>{const g=this.Di(h.Vi);l.push(g)}),De.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un(Gt);return t.forEach(o=>{const l=new oi(o,0),h=new oi(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,h],g=>{r=r.add(g.Vi)})}),De.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const h=new oi(new Ye(l),0);let g=new Un(Gt);return this.Si.forEachWhile(I=>{const S=I.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(g=g.add(I.Vi)),!0)},h),De.resolve(this.xi(g))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Nt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return De.forEach(t.mutations,o=>{const l=new oi(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new oi(t,0),o=this.Si.firstAfterOrEqual(r);return De.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return De.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class eD{constructor(e){this.ki=e,this.docs=new _r(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return De.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Vn.newInvalidDocument(o))}),De.resolve(r)}getAllFromCollection(e,t,r){let o=Ks();const l=new Ye(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:g,value:{document:I}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||VC(FI(I),r)<=0||(o=o.insert(I.key,I.mutableCopy()))}return De.resolve(o)}getAllFromCollectionGroup(e,t,r,o){dt()}Mi(e,t){return De.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hb(this)}getSize(e){return De.resolve(this.size)}}class hb extends Xm{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),De.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class fb{constructor(e){this.persistence=e,this.Oi=new Iu(t=>Fc(t),wp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Fi=0,this.$i=new T0,this.targetCount=0,this.Bi=xh.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),De.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new xh(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.In(t),De.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),De.waitFor(l).next(()=>o)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return De.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),De.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),De.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),De.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return De.resolve(r)}containsKey(e,t){return De.resolve(this.$i.containsKey(t))}}class tD{constructor(e,t){this.Li={},this.overlays={},this.ts=new zs(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new fb(this),this.indexManager=new rb,this.fs=new eD(r=>this.referenceDelegate.Ui(r)),this.M=new xw(t),this.ds=new Jw(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new db,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new Xw(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const o=new A0(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return De.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class A0 extends Tw{constructor(e){super(),this.currentSequenceNumber=e}}class nD{constructor(e){this.persistence=e,this.Qi=new T0,this.ji=null}static Wi(e){return new nD(e)}get zi(){if(this.ji)return this.ji;throw dt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),De.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),De.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.zi,r=>{const o=Ye.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,At.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return De.or([()=>De.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function S0(n,e){return`firestore_clients_${n}_${e}`}function sy(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function M0(n,e){return`firestore_targets_${n}_${e}`}class oy{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Fe(o.error.code,o.error.message))),h?new oy(e,t,o.state,l):(Ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Fe(r.error.code,r.error.message))),l?new jp(e,r.state,o):(Ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ay{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=$m();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=_p(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new ay(e,l):(Ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rD(t.clientId,t.onlineState):(Ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class x0{constructor(){this.activeTargetIds=$m()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R0{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new _r(Gt),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=S0(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new x0),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(S0(e.persistenceKey,o));if(l){const h=ay.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(M0(this.persistenceKey,e));if(r){const o=jp.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(M0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=zs.A;if(null!=l)try{const g=JSON.parse(l);Nt("number"==typeof g),h=g}catch(g){Ar("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);o!==zs.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new oy(this.currentUser,e,t,r),l=sy(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=sy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=M0(this.persistenceKey,e),l=new jp(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return ay.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return oy.Ji(new Li(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return jp.Ji(o,t)}wr(e){return rD.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],g=[];return l.forEach(I=>{o.has(I)||h.push(I)}),o.forEach(I=>{l.has(I)||g.push(I)}),this.syncEngine.Or(h,g).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=$m();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class iD{constructor(){this.Fr=new x0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new x0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pb{Br(e){}shutdown(){}}class sD{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mb{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class yb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);je("RestConnection","Sending: ",h,r);const g={};return this.uo(g,o,l),this.ao(e,h,g,r).then(I=>(je("RestConnection","Received: ",I),I),I=>{throw mp("RestConnection",`${e} failed with error: `,I,"url: ",h,"request:",r),I})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${gb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,h)=>{const g=new Pc;g.listenOnce(f_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case pp.NO_ERROR:const S=g.getResponseJson();je("Connection","XHR received:",JSON.stringify(S)),l(S);break;case pp.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),h(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const L=g.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',L,"response text:",g.getResponseText()),L>0){const U=g.getResponseJson().error;if(U&&U.status&&U.message){const Q=function(ge){const Re=ge.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(Re)>=0?Re:_e.UNKNOWN}(U.status);h(new Fe(Q,U.message))}else h(new Fe(_e.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(o);g.send(t,"POST",I,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=d_(),h=h_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new g_({})),this.uo(g.initMessageHeaders,t,r),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const I=o.join("");je("Connection","Creating WebChannel: "+I,g);const S=l.createWebChannel(I,g);let L=!1,U=!1;const Q=new mb({jr:Re=>{U?je("Connection","Not sending because WebChannel is closed:",Re):(L||(je("Connection","Opening WebChannel transport."),S.open(),L=!0),je("Connection","WebChannel sending:",Re),S.send(Re))},Wr:()=>S.close()}),ge=(Re,Xe,Ct)=>{Re.listen(Xe,Cn=>{try{Ct(Cn)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return ge(S,nh.EventType.OPEN,()=>{U||je("Connection","WebChannel transport opened.")}),ge(S,nh.EventType.CLOSE,()=>{U||(U=!0,je("Connection","WebChannel transport closed"),Q.eo())}),ge(S,nh.EventType.ERROR,Re=>{U||(U=!0,mp("Connection","WebChannel transport errored:",Re),Q.eo(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),ge(S,nh.EventType.MESSAGE,Re=>{var Xe;if(!U){const Ct=Re.data[0];Nt(!!Ct);const Cn=Ct,Ot=Cn.error||(null===(Xe=Cn[0])||void 0===Xe?void 0:Xe.error);if(Ot){je("Connection","WebChannel received error:",Ot);const lr=Ot.status;let qt=function(sn){const $l=xr[sn];if(void 0!==$l)return yh($l)}(lr),fn=Ot.message;void 0===qt&&(qt=_e.INTERNAL,fn="Unknown error status: "+lr+" with message "+Ot.message),U=!0,Q.eo(new Fe(qt,fn)),S.close()}else je("Connection","WebChannel received:",Ct),Q.no(Ct)}}),ge(h,p_.STAT_EVENT,Re=>{Re.stat===Sm.PROXY?je("Connection","Detected buffering proxy"):Re.stat===Sm.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{Q.Zr()},0),Q}}function oD(){return"undefined"!=typeof window?window:null}function uy(){return"undefined"!=typeof document?document:null}function Bp(n){return new B_(n,!0)}class N0{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class i{constructor(e,t,r,o,l,h,g,I){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=I,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new N0(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,be.Z)(function*(){e.state=0,e.start()}))}qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s extends i{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function fw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:dt(),o=e.targetChange.targetIds||[],l=function(I,S){return I.N?(Nt(void 0===S||"string"==typeof S),$r.fromBase64String(S||"")):(Nt(void 0===S||S instanceof Uint8Array),$r.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(I){const S=void 0===I.code?_e.UNKNOWN:yh(I.code);return new Fe(S,I.message||"")}(h);t=new iw(r,o,l,g||null)}else if("documentChange"in e){const r=e.documentChange,o=vo(n,r.document.name),l=Vi(r.document.updateTime),h=new Ei({mapValue:{fields:r.document.fields}}),g=Vn.newFoundDocument(o,l,h);t=new Hm(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=vo(n,r.document),l=r.readTime?Vi(r.readTime):At.min(),h=Vn.newNoDocument(o,l);t=new Hm([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=vo(n,r.document);t=new Hm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return dt();{const r=e.filter,l=new ew(r.count||0);t=new rw(r.targetId,l)}}var I;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return At.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?Vi(l.readTime):At.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=xp(this.M),t.addTarget=function(o,l){let h;const g=l.target;return h=Om(g)?{documents:gw(o,g)}:{query:G_(o,g)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=lw(o,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(h.readTime=Eh(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function zC(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=xp(this.M),t.removeTarget=e,this.Oo(t)}}class a extends i{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function pw(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,o){let l=Vi(r.updateTime?r.updateTime:o);return l.isEqual(At.min())&&(l=Vi(o)),new ZI(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=xp(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wh(this.M,r))};this.Oo(t)}}class u extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class c{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ar(t),this.su=!1):je("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class f{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(g=>{r.enqueueAndForget((0,be.Z)(function*(){var I;Ge(h)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,be.Z)(function*(S){const L=Je(S);L.lu.add(4),yield w(L),L._u.set("Unknown"),L.lu.delete(4),yield v(L)}),function(S){return I.apply(this,arguments)})(h))}))}),this._u=new c(r,o)}}function v(n){return E.apply(this,arguments)}function E(){return E=(0,be.Z)(function*(n){if(Ge(n))for(const e of n.fu)yield e(!0)}),E.apply(this,arguments)}function w(n){return M.apply(this,arguments)}function M(){return M=(0,be.Z)(function*(n){for(const e of n.fu)yield e(!1)}),M.apply(this,arguments)}function R(n,e){const t=Je(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Be(t)?Te(t):hy(t).Co()&&W(t,e))}function j(n,e){const t=Je(n),r=hy(t);t.hu.delete(e),r.Co()&&te(t,e),0===t.hu.size&&(r.Co()?r.ko():Ge(t)&&t._u.set("Unknown"))}function W(n,e){n.wu.Z(e.targetId),hy(n).Qo(e)}function te(n,e){n.wu.Z(e),hy(n).jo(e)}function Te(n){n.wu=new Gm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),hy(n).start(),n._u.iu()}function Be(n){return Ge(n)&&!hy(n).Do()&&n.hu.size>0}function Ge(n){return 0===Je(n).lu.size}function ut(n){n.wu=void 0}function ke(n){return _t.apply(this,arguments)}function _t(){return _t=(0,be.Z)(function*(n){n.hu.forEach((e,t)=>{W(n,e)})}),_t.apply(this,arguments)}function rn(n,e){return En.apply(this,arguments)}function En(){return En=(0,be.Z)(function*(n,e){ut(n),Be(n)?(n._u.uu(e),Te(n)):n._u.set("Unknown")}),En.apply(this,arguments)}function Qs(n,e,t){return bu.apply(this,arguments)}function bu(){return bu=(0,be.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof iw&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(o,l){const h=l.cause;for(const g of l.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,h),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fh(n,r)}else if(e instanceof Hm?n.wu.ut(e):e instanceof rw?n.wu._t(e):n.wu.ht(e),!t.isEqual(At.min()))try{const r=yield w0(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.yt(l);return h.targetChanges.forEach((g,I)=>{if(g.resumeToken.approximateByteSize()>0){const S=o.hu.get(I);S&&o.hu.set(I,S.withResumeToken(g.resumeToken,l))}}),h.targetMismatches.forEach(g=>{const I=o.hu.get(g);if(!I)return;o.hu.set(g,I.withResumeToken($r.EMPTY_BYTE_STRING,I.snapshotVersion)),te(o,g);const S=new Rl(I.target,g,1,I.sequenceNumber);W(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield Fh(n,r)}var r}),bu.apply(this,arguments)}function Fh(n,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,be.Z)(function*(n,e,t){if(!xl(e))throw e;n.lu.add(1),yield w(n),n._u.set("Offline"),t||(t=()=>w0(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield v(n)}))}),$p.apply(this,arguments)}function ly(n,e){return e().catch(t=>Fh(n,t,e))}function Ul(n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,be.Z)(function*(n){const e=Je(n),t=Lh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;O0(e);)try{const o=yield C0(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,P0(e,o)}catch(o){yield Fh(e,o)}cy(e)&&dy(e)}),Hp.apply(this,arguments)}function O0(n){return Ge(n)&&n.cu.length<10}function P0(n,e){n.cu.push(e);const t=Lh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function cy(n){return Ge(n)&&!Lh(n).Do()&&n.cu.length>0}function dy(n){Lh(n).start()}function iS(n){return vb.apply(this,arguments)}function vb(){return vb=(0,be.Z)(function*(n){Lh(n).Xo()}),vb.apply(this,arguments)}function sS(n){return _b.apply(this,arguments)}function _b(){return _b=(0,be.Z)(function*(n){const e=Lh(n);for(const t of n.cu)e.Ho(t.mutations)}),_b.apply(this,arguments)}function oS(n,e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,be.Z)(function*(n,e,t){const r=n.cu.shift(),o=o0.from(r,e,t);yield ly(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ul(n)}),Eb.apply(this,arguments)}function aS(n,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,be.Z)(function*(n,e){var t;e&&Lh(n).zo&&(yield(t=(0,be.Z)(function*(r,o){if(U_(l=o.code)&&l!==_e.ABORTED){const h=r.cu.shift();Lh(r).No(),yield ly(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Ul(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),cy(n)&&dy(n)}),Ib.apply(this,arguments)}function jT(n,e){return wb.apply(this,arguments)}function wb(){return wb=(0,be.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Ge(t);t.lu.add(3),yield w(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield v(t)}),wb.apply(this,arguments)}function Db(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,be.Z)(function*(n,e){const t=Je(n);e?(t.lu.delete(2),yield v(t)):e||(t.lu.add(2),yield w(t),t._u.set("Unknown"))}),Cb.apply(this,arguments)}function hy(n){return n.mu||(n.mu=function(e,t,r){const o=Je(e);return o.tu(),new s(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:ke.bind(null,n),Jr:rn.bind(null,n),Ko:Qs.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.mu.No(),Be(n)?Te(n):n._u.set("Unknown")):(yield n.mu.stop(),ut(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Lh(n){return n.gu||(n.gu=function(e,t,r){const o=Je(e);return o.tu(),new a(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:iS.bind(null,n),Jr:aS.bind(null,n),Yo:sS.bind(null,n),Jo:oS.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.gu.No(),yield Ul(n)):(yield n.gu.stop(),n.cu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class bb{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,g=new bb(e,t,h,o,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),xl(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class py{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Bm(),this.sortedSet=new _r(this.comparator)}static emptySet(e){return new py(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof py)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new py;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class BT{constructor(){this.yu=new _r(Ye.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class gy{constructor(e,t,r,o,l,h,g,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new gy(e,t,py.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class uS{constructor(){this.Iu=void 0,this.listeners=[]}}class lS{constructor(){this.queries=new Iu(e=>HI(e),Eu),this.onlineState="Unknown",this.Tu=new Set}}function Tb(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,be.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new uS),o)try{l.Iu=yield t.onListen(r)}catch(h){const g=fy(h,`Initialization of query '${GI(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&xb(t)}),Ab.apply(this,arguments)}function Sb(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,be.Z)(function*(n,e){const t=Je(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Mb.apply(this,arguments)}function cS(n,e){const t=Je(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const g of h.listeners)g.Au(o)&&(r=!0);h.Iu=o}}r&&xb(t)}function dS(n,e,t){const r=Je(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function xb(n){n.Tu.forEach(e=>{e.next()})}class Rb{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new gy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=gy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class hS{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class $T{constructor(e){this.M=e}li(e){return vo(this.M,e)}fi(e){return e.metadata.exists?$_(this.M,e.document,!1):Vn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Vi(e)}}class fS{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HT(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Xt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new $T(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const h of o.metadata.queries){const g=(t.get(h)||_n()).add(l);t.set(h,g)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function UT(n,e,t,r){return Qw.apply(this,arguments)}(e.localStore,new $T(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield Yw(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GT{constructor(e){this.key=e}}class qT{constructor(e){this.key=e}}class WT{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=WI(e),this.Uu=new py(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new BT,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,g=!1;const I=Vc(this.query)&&o.size===this.query.limit?o.last():null,S=km(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((L,U)=>{const Q=o.get(L),ge=Lm(this.query,U)?U:null,Re=!!Q&&this.mutatedKeys.has(Q.key),Xe=!!ge&&(ge.hasLocalMutations||this.mutatedKeys.has(ge.key)&&ge.hasCommittedMutations);let Ct=!1;Q&&ge?Q.data.isEqual(ge.data)?Re!==Xe&&(r.track({type:3,doc:ge}),Ct=!0):this.Qu(Q,ge)||(r.track({type:2,doc:ge}),Ct=!0,(I&&this.Lu(ge,I)>0||S&&this.Lu(ge,S)<0)&&(g=!0)):!Q&&ge?(r.track({type:0,doc:ge}),Ct=!0):Q&&!ge&&(r.track({type:1,doc:Q}),Ct=!0,(I||S)&&(g=!0)),Ct&&(ge?(h=h.add(ge),l=Xe?l.add(L):l.delete(L)):(h=h.delete(L),l=l.delete(L)))}),Vc(this.query)||km(this.query))for(;h.size>this.query.limit;){const L=Vc(this.query)?h.last():h.first();h=h.delete(L.key),l=l.delete(L.key),r.track({type:1,doc:L})}return{Uu:h,Ku:r,ei:g,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((S,L)=>function(U,Q){const ge=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return ge(U)-ge(Q)}(S.type,L.type)||this.Lu(S.doc,L.doc)),this.ju(r);const h=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,I=g!==this.$u;return this.$u=g,0!==l.length||I?{snapshot:new gy(this.query,e.Uu,o,l,e.mutatedKeys,0===g,I,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new BT,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new qT(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new GT(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return gy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class pS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gS{constructor(e){this.key=e,this.Xu=!1}}class mS{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new Iu(g=>HI(g),Eu),this.ea=new Map,this.na=new Set,this.sa=new _r(Ye.comparator),this.ia=new Map,this.ra=new T0,this.oa={},this.ua=new Map,this.aa=xh.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function yS(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,be.Z)(function*(n,e){const t=tT(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield Vl(t.localStore,yo(e));t.isPrimaryClient&&R(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield Ob(t,e,r,"current"===g)}return o}),Nb.apply(this,arguments)}function Ob(n,e,t,r){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,be.Z)(function*(n,e,t,r){n.ha=(L,U,Q)=>{return(ge=(0,be.Z)(function*(Re,Xe,Ct,Cn){let Ot=Xe.view.Gu(Ct);Ot.ei&&(Ot=yield kh(Re.localStore,Xe.query,!1).then(({documents:fn})=>Xe.view.Gu(fn,Ot)));const lr=Cn&&Cn.targetChanges.get(Xe.targetId),qt=Xe.view.applyChanges(Ot,Re.isPrimaryClient,lr);return Gb(Re,Xe.targetId,qt.zu),qt.snapshot}),function(Re,Xe,Ct,Cn){return ge.apply(this,arguments)})(n,L,U,Q);var ge};const o=yield kh(n.localStore,e,!0),l=new WT(e,o.hi),h=l.Gu(o.documents),g=wu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),I=l.applyChanges(h,n.isPrimaryClient,g);Gb(n,t,I.zu);const S=new pS(e,t,l);return n.ta.set(e,S),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),I.snapshot}),Pb.apply(this,arguments)}function vS(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,be.Z)(function*(n,e){const t=Je(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!Eu(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ph(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),j(t.remoteStore,r.targetId),my(t,r.targetId)}).catch(Fl))):(my(t,r.targetId),yield Ph(t.localStore,r.targetId,!0))}),kb.apply(this,arguments)}function Fb(){return Fb=(0,be.Z)(function*(n,e,t){const r=nT(n);try{const o=yield function(l,h){const g=Je(l),I=Mr.now(),S=h.reduce((U,Q)=>U.add(Q.key),_n());let L;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>g.ai.qs(U,S).next(Q=>{L=Q;const ge=[];for(const Re of h){const Xe=JI(Re,L.get(Re.key));null!=Xe&&ge.push(new Sl(Re.key,Xe,PI(Xe.value.mapValue),Gn.exists(!0)))}return g.$s.addMutationBatch(U,I,ge,h)})).then(U=>(U.applyToLocalDocumentSet(L),{batchId:U.batchId,changes:L}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,g){let I=l.oa[l.currentUser.toKey()];I||(I=new _r(Gt)),I=I.insert(h,g),l.oa[l.currentUser.toKey()]=I}(r,o.batchId,t),yield Kc(r,o.changes),yield Ul(r.remoteStore)}catch(o){const l=fy(o,"Failed to persist write");t.reject(l)}}),Fb.apply(this,arguments)}function zT(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,be.Z)(function*(n,e){const t=Je(n);try{const r=yield Wc(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ia.get(l);h&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Nt(h.Xu):o.removedDocuments.size>0&&(Nt(h.Xu),h.Xu=!1))}),yield Kc(t,r,e)}catch(r){yield Fl(r)}}),Lb.apply(this,arguments)}function KT(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,h)=>{const g=h.view.Eu(e);g.snapshot&&o.push(g.snapshot)}),function(l,h){const g=Je(l);g.onlineState=h;let I=!1;g.queries.forEach((S,L)=>{for(const U of L.listeners)U.Eu(h)&&(I=!0)}),I&&xb(g)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ES(n,e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,be.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let h=new _r(Ye.comparator);h=h.insert(l,Vn.newNoDocument(l,At.min()));const g=_n().add(l),I=new Ml(At.min(),new Map,new Un(Gt),h,g);yield zT(r,I),r.sa=r.sa.remove(l),r.ia.delete(e),qb(r)}else yield Ph(r.localStore,e,!1).then(()=>my(r,e,t)).catch(Fl)}),Vb.apply(this,arguments)}function IS(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,be.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const o=yield lb(t.localStore,e);Hb(t,r,null),$b(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(t,o)}catch(o){yield Fl(o)}}),Ub.apply(this,arguments)}function wS(n,e,t){return jb.apply(this,arguments)}function jb(){return jb=(0,be.Z)(function*(n,e,t){const r=Je(n);try{const o=yield function(l,h){const g=Je(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return g.$s.lookupMutationBatch(I,h).next(L=>(Nt(null!==L),S=L.keys(),g.$s.removeMutationBatch(I,L))).next(()=>g.$s.performConsistencyCheck(I)).next(()=>g.ai.qs(I,S))})}(r.localStore,e);Hb(r,e,t),$b(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(r,o)}catch(o){yield Fl(o)}}),jb.apply(this,arguments)}function Bb(){return Bb=(0,be.Z)(function*(n,e){const t=Je(n);Ge(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.$s.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=fy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Bb.apply(this,arguments)}function $b(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Hb(n,e,t){const r=Je(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function my(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||ZT(n,r)})}function ZT(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(j(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),qb(n))}function Gb(n,e,t){for(const r of t)r instanceof GT?(n.ra.addReference(r.key,e),CS(n,r)):r instanceof qT?(je("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||ZT(n,r.key)):dt()}function CS(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(je("SyncEngine","New document in limbo: "+t),n.na.add(r),qb(n))}function qb(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ye(Xt.fromString(e)),r=n.aa.next();n.ia.set(r,new gS(t)),n.sa=n.sa.insert(t,r),R(n.remoteStore,new Rl(yo(Lc(t.path)),r,2,zs.A))}}function Kc(n,e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,be.Z)(function*(n,e,t){const r=Je(n),o=[],l=[],h=[];var g;r.ta.isEmpty()||(r.ta.forEach((g,I)=>{h.push(r.ha(I,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,S.fromCache?"not-current":"current"),o.push(S);const L=zw.Js(I.targetId,S);l.push(L)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(g=(0,be.Z)(function*(I,S){const L=Je(I);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>De.forEach(S,Q=>De.forEach(Q.zs,ge=>L.persistence.referenceDelegate.addReference(U,Q.targetId,ge)).next(()=>De.forEach(Q.Hs,ge=>L.persistence.referenceDelegate.removeReference(U,Q.targetId,ge)))))}catch(U){if(!xl(U))throw U;je("LocalStore","Failed to update sequence numbers: "+U)}for(const U of S){const Q=U.targetId;if(!U.fromCache){const ge=L.si.get(Q),Xe=ge.withLastLimboFreeSnapshotVersion(ge.snapshotVersion);L.si=L.si.insert(Q,Xe)}}}),function(I,S){return g.apply(this,arguments)})(r.localStore,l))}),Wb.apply(this,arguments)}function bS(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,be.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield Oh(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(g=>{g.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(t,r.ci)}var o}),zb.apply(this,arguments)}function TS(n,e){const t=Je(n),r=t.ia.get(e);if(r&&r.Xu)return _n().add(r.key);{let o=_n();const l=t.ea.get(e);if(!l)return o;for(const h of l){const g=t.ta.get(h);o=o.unionWith(g.view.qu)}return o}}function AS(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,be.Z)(function*(n,e){const t=Je(n),r=yield kh(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&Gb(t,e.targetId,o.zu),o}),Kb.apply(this,arguments)}function SS(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,be.Z)(function*(n,e){const t=Je(n);return Zw(t.localStore,e).then(r=>Kc(t,r))}),Zb.apply(this,arguments)}function MS(n,e,t,r){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,be.Z)(function*(n,e,t,r){const o=Je(n),l=yield function(h,g){const I=Je(h),S=Je(I.$s);return I.persistence.runTransaction("Lookup mutation documents","readonly",L=>S.ln(L,g).next(U=>U?I.ai.qs(L,U):De.resolve(null)))}(o.localStore,e);var g;null!==l?("pending"===t?yield Ul(o.remoteStore):"acknowledged"===t||"rejected"===t?(Hb(o,e,r||null),$b(o,e),g=e,Je(Je(o.localStore).$s).dn(g)):dt(),yield Kc(o,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qb.apply(this,arguments)}function Yb(){return Yb=(0,be.Z)(function*(n,e){const t=Je(n);if(tT(t),nT(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield QT(t,r.toArray());t.ca=!0,yield Db(t.remoteStore,!0);for(const l of o)R(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(my(t,h),Ph(t.localStore,h,!0))),j(t.remoteStore,h)}),yield o,yield QT(t,r),function(l){const h=Je(l);h.ia.forEach((g,I)=>{j(h.remoteStore,I)}),h.ra.bi(),h.ia=new Map,h.sa=new _r(Ye.comparator)}(t),t.ca=!1,yield Db(t.remoteStore,!1)}}),Yb.apply(this,arguments)}function QT(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,be.Z)(function*(n,e,t){const r=Je(n),o=[],l=[];for(const h of e){let g;const I=r.ea.get(h);if(I&&0!==I.length){g=yield Vl(r.localStore,yo(I[0]));for(const S of I){const L=r.ta.get(S),U=yield AS(r,L);U.snapshot&&l.push(U.snapshot)}}else{const S=yield zc(r.localStore,h);g=yield Vl(r.localStore,S),yield Ob(r,YT(S),h,!1)}o.push(g)}return r.Zu.Ko(l),o}),Jb.apply(this,arguments)}function YT(n){return M_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RS(n){const e=Je(n);return Je(Je(e.localStore).persistence).Os()}function NS(n,e,t,r){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,be.Z)(function*(n,e,t,r){const o=Je(n);if(o.ca)return void je("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield Zw(o.localStore,qI(l[0])),g=Ml.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Kc(o,h,g);break}case"rejected":yield Ph(o.localStore,e,!0),my(o,e,r);break;default:dt()}}),Xb.apply(this,arguments)}function OS(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=(0,be.Z)(function*(n,e,t){const r=tT(n);if(r.ca){for(const o of e){if(r.ea.has(o)){je("SyncEngine","Adding an already active target "+o);continue}const l=yield zc(r.localStore,o),h=yield Vl(r.localStore,l);yield Ob(r,YT(l),h.targetId,!1),R(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield Ph(r.localStore,o,!1).then(()=>{j(r.remoteStore,o),my(r,o)}).catch(Fl))}}),eT.apply(this,arguments)}function tT(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ES.bind(null,e),e.Zu.Ko=cS.bind(null,e.eventManager),e.Zu.la=dS.bind(null,e.eventManager),e}function nT(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wS.bind(null,e),e}class JT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Bp(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return iy(this.persistence,new Kw,e.initialUser,this.M)}_a(e){return new tD(nD.Wi,this.M)}da(e){return new iD}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XT extends JT{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield nT(r.ga.syncEngine),yield Ul(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return iy(this.persistence,new Kw,e.initialUser,this.M)}wa(e){return new _0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=ry(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new ty(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,oD(),uy(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new iD}}class kS extends XT{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof R0&&(r.sharedClientState.syncEngine={kr:MS.bind(null,o),Mr:NS.bind(null,o),Or:OS.bind(null,o),Os:RS.bind(null,o),Nr:SS.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,be.Z)(function*(h){yield function xS(n,e){return Yb.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}da(e){const t=oD();if(!R0.vt(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ry(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new R0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rT{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>KT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,r.syncEngine),yield Db(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lS}createDatastore(e){const t=Bp(e.databaseInfo.databaseId),r=new yb(e.databaseInfo);return new u(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=g=>KT(this.syncEngine,g,0),h=sD.vt()?new sD:new pb,new f(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,g,I,S){const L=new mS(r,o,l,h,g,I);return S&&(L.ca=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Je(t);je("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield w(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eA(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class aD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class FS{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Sr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new hS(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,be.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class LS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,be.Z)(function*(l,h){const g=Je(l),I=xp(g.M)+"/documents",S={documents:h.map(ge=>Ih(g.M,ge))},L=yield g.co("BatchGetDocuments",I,S),U=new Map;L.forEach(ge=>{const Re=function H_(n,e){return"found"in e?function(t,r){Nt(!!r.found);const o=vo(t,r.found.name),l=Vi(r.found.updateTime),h=new Ei({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const o=vo(t,r.missing),l=Vi(r.readTime);return Vn.newNoDocument(o,l)}(n,e):dt()}(g.M,ge);U.set(Re.key.toString(),Re)});const Q=[];return h.forEach(ge=>{const Re=U.get(ge.toString());Nt(!!Re),Q.push(Re)}),Q}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ye.fromPath(o);e.mutations.push(new jm(l,e.precondition(l)))}),yield(r=(0,be.Z)(function*(o,l){const h=Je(o),g=xp(h.M)+"/documents",I={writes:l.map(S=>wh(h.M,S))};yield h.ro("Commit",g,I)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VS{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new N0(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,be.Z)(function*(){const t=new LS(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!sh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!U_(t)}return!1}}class US{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Li.UNAUTHENTICATED,this.clientId=bI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,be.Z)(function*(g){je("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(je("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=fy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tA(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,be.Z)(function*(l){r.isEqual(l)||(yield Oh(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iT.apply(this,arguments)}function nA(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oT(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>jT(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>jT(e.remoteStore,l)),n.onlineComponents=e}),sT.apply(this,arguments)}function oT(n){return aT.apply(this,arguments)}function aT(){return aT=(0,be.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield tA(n,new JT)),n.offlineComponents}),aT.apply(this,arguments)}function uD(n){return uT.apply(this,arguments)}function uT(){return uT=(0,be.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield nA(n,new rT)),n.onlineComponents}),uT.apply(this,arguments)}function rA(n){return oT(n).then(e=>e.persistence)}function lT(n){return oT(n).then(e=>e.localStore)}function iA(n){return uD(n).then(e=>e.remoteStore)}function cT(n){return uD(n).then(e=>e.syncEngine)}function yy(n){return dT.apply(this,arguments)}function dT(){return dT=(0,be.Z)(function*(n){const e=yield uD(n),t=e.eventManager;return t.onListen=yS.bind(null,e.syncEngine),t.onUnlisten=vS.bind(null,e.syncEngine),t}),dT.apply(this,arguments)}function sA(n,e,t={}){const r=new Sr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,l,h,g,I){const S=new aD({next:U=>{l.enqueueAndForget(()=>Sb(o,L));const Q=U.docs.has(h);!Q&&U.fromCache?I.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&U.fromCache&&g&&"server"===g.source?I.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new Rb(Lc(h.path),S,{includeMetadataChanges:!0,Du:!0});return Tb(o,L)}(yield yy(n),n.asyncQueue,e,t,r)})),r.promise}function oA(n,e,t={}){const r=new Sr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,l,h,g,I){const S=new aD({next:U=>{l.enqueueAndForget(()=>Sb(o,L)),U.fromCache&&"server"===g.source?I.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new Rb(h,S,{includeMetadataChanges:!0,Du:!0});return Tb(o,L)}(yield yy(n),n.asyncQueue,e,t,r)})),r.promise}const aA=new Map;function hT(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uA(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lA(n){if(!Ye.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cA(n){if(Ye.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lD(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dA(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class k0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hA({}),this._settingsFrozen=!1,e instanceof Dl?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(o.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new LT;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new DI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aA.get(e);t&&(je("ComponentProvider","Removing Datastore"),aA.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class Ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class jl extends Ns{constructor(e,t,r){super(e,t,Lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new Ye(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function fA(n,e,...t){if(n=(0,Rt.m9)(n),hT("collection","path",e),n instanceof k0){const r=Xt.fromString(e,...t);return cA(r),new jl(n,null,r)}{if(!(n instanceof ur||n instanceof jl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return cA(r),new jl(n.firestore,null,r)}}function cD(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=bI.R()),hT("doc","path",e),n instanceof k0){const r=Xt.fromString(e,...t);return lA(r),new ur(n,null,new Ye(r))}{if(!(n instanceof ur||n instanceof jl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return lA(r),new ur(n.firestore,n instanceof jl?n.converter:null,new Ye(r))}}function pA(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof ur||n instanceof jl)&&(e instanceof ur||e instanceof jl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gA(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Ns&&e instanceof Ns&&n.firestore===e.firestore&&Eu(n._query,e._query)&&n.converter===e.converter}class QS{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new N0(this,"async_queue_retry"),this.Ua=()=>{const t=uy();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=uy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=uy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Sr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,be.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!xl(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=bb.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&dt()}verifyOperationInProgress(){}ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function fT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class YS{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Er extends k0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new QS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mA(this),this._firestoreClient.terminate()}}function wi(n){return n._firestoreClient||mA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mA(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VT(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new US(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yA(n,e,t){const r=new Sr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield tA(n,t),yield nA(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===_e.FAILED_PRECONDITION||l.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function vA(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl($r.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gp{constructor(e){this._methodName=e}}class dD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const aM=/^__.*__$/;class uM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Al(e,this.data,t,this.fieldTransforms)}}class _A{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class hD{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new hD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return gD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(EA(this.Ya)&&aM.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class lM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Bp(e)}uc(e,t,r,o=!1){return new hD({Ya:e,methodName:t,oc:r,path:_i.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function qp(n){const e=n._freezeSettings(),t=Bp(n._databaseId);return new lM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fD(n,e,t,r,o,l={}){const h=n.uc(l.merge||l.mergeFields?2:0,e,t,o);yT("Data must be an object, but it was:",h,r);const g=DA(r,h);let I,S;if(l.merge)I=new ih(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const L=[];for(const U of l.mergeFields){const Q=vT(e,U,t);if(!h.contains(Q))throw new Fe(_e.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);bA(L,Q)||L.push(Q)}I=new ih(L),S=h.fieldTransforms.filter(U=>I.covers(U.field))}else I=null,S=h.fieldTransforms;return new uM(new Ei(g),I,S)}class F0 extends Gp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof F0}}function IA(n,e,t){return new hD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class pT extends Gp{_toFieldTransform(e){return new ph(e.path,new Bc)}isEqual(e){return e instanceof pT}}class cM extends Gp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=IA(this,e,!0),r=this.ac.map(l=>Wp(l,t)),o=new Tl(r);return new ph(e.path,o)}isEqual(e){return this===e}}class dM extends Gp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=IA(this,e,!0),r=this.ac.map(l=>Wp(l,t)),o=new $c(r);return new ph(e.path,o)}isEqual(e){return this===e}}class hM extends Gp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new fh(e.M,O_(e.M,this.cc));return new ph(e.path,t)}isEqual(e){return this===e}}function gT(n,e,t,r){const o=n.uc(1,e,t);yT("Data must be an object, but it was:",o,r);const l=[],h=Ei.empty();Il(r,(I,S)=>{const L=pD(e,I,t);S=(0,Rt.m9)(S);const U=o.nc(L);if(S instanceof F0)l.push(L);else{const Q=Wp(S,U);null!=Q&&(l.push(L),h.set(L,Q))}});const g=new ih(l);return new _A(h,g,o.fieldTransforms)}function mT(n,e,t,r,o,l){const h=n.uc(1,e,t),g=[vT(e,r,t)],I=[o];if(l.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)g.push(vT(e,l[Q])),I.push(l[Q+1]);const S=[],L=Ei.empty();for(let Q=g.length-1;Q>=0;--Q)if(!bA(S,g[Q])){const ge=g[Q];let Re=I[Q];Re=(0,Rt.m9)(Re);const Xe=h.nc(ge);if(Re instanceof F0)S.push(ge);else{const Ct=Wp(Re,Xe);null!=Ct&&(S.push(ge),L.set(ge,Ct))}}const U=new ih(S);return new _A(L,U,h.fieldTransforms)}function wA(n,e,t,r=!1){return Wp(t,n.uc(r?4:3,e))}function Wp(n,e){if(CA(n=(0,Rt.m9)(n)))return yT("Unsupported field value:",e,n),DA(n,e);if(n instanceof Gp)return function(t,r){if(!EA(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let g=Wp(h,r.sc(l));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return O_(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Mr.fromDate(t);return{timestampValue:Eh(r.M,o)}}if(t instanceof Mr){const o=new Mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eh(r.M,o)}}if(t instanceof dD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bl)return{bytesValue:lw(r.M,t._byteString)};if(t instanceof ur){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${lD(t)}`)}(n,e)}function DA(n,e){const t={};return v_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(n,(r,o)=>{const l=Wp(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function CA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mr||n instanceof dD||n instanceof Bl||n instanceof ur||n instanceof Gp)}function yT(n,e,t){if(!CA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function vT(n,e,t){if((e=(0,Rt.m9)(e))instanceof Zc)return e._internalPath;if("string"==typeof e)return pD(n,e);throw gD("Field path arguments must be of type string or ",n,!1,void 0,t)}const fM=new RegExp("[~\\*/\\[\\]]");function pD(n,e,t){if(e.search(fM)>=0)throw gD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch(r){throw gD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gD(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${r}`),h&&(I+=` in document ${o}`),I+=")"),new Fe(_e.INVALID_ARGUMENT,g+n+I)}function bA(n,e){return n.some(t=>t.isEqual(e))}class L0{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pM extends L0{data(){return super.data()}}function mD(n,e){return"string"==typeof e?pD(n,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends L0{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new V0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class V0 extends Qc{data(e={}){return super.data(e)}}class Vh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new zp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new V0(this._firestore,this._userDataWriter,r.key,r,new zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new V0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const g=new V0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new zp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,S=-1;return 0!==h.type&&(I=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:gM(h.type),doc:g,oldIndex:I,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function TA(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vh&&e instanceof Vh&&n._firestore===e._firestore&&gA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AA(n){if(km(n)&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}function Uh(n,...e){for(const t of e)n=t._apply(n);return n}class mM extends U0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=qp(e.firestore),r=function(o,l,h,g,I,S,L){let U;if(I.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){OA(L,S);const ge=[];for(const Re of L)ge.push(NA(g,o,Re));U={arrayValue:{values:ge}}}else U=NA(g,o,L)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||OA(L,S),U=wA(h,"where",L,"in"===S||"not-in"===S);const Q=ii.create(I,S,U);return function(ge,Re){if(Re.S()){const Ct=$I(ge);if(null!==Ct&&!Ct.isEqual(Re.field))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ct.toString()}' and '${Re.field.toString()}'`);const Cn=Fm(ge);null!==Cn&&PA(0,Re.field,Cn)}const Xe=function(Ct,Cn){for(const Ot of Ct.filters)if(Cn.indexOf(Ot.op)>=0)return Ot.op;return null}(ge,function(Ct){switch(Ct){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Re.op));if(null!==Xe)throw new Fe(_e.INVALID_ARGUMENT,Xe===Re.op?`Invalid query. You cannot use more than one '${Re.op.toString()}' filter.`:`Invalid query. You cannot use '${Re.op.toString()}' filters with '${Xe.toString()}' filters.`)}(o,Q),Q}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ns(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new vu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class vM extends U0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new bl(o,l);return function(g,I){if(null===Fm(g)){const S=$I(g);null!==S&&PA(0,S,I.field)}}(r,h),h}(e._query,this.hc,this.dc);return new Ns(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new vu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SA extends U0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ns(e.firestore,e.converter,Uc(e._query,this._c,this.wc))}}class MA extends U0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=RA(e,this.type,this.mc,this.gc);return new Ns(e.firestore,e.converter,(o=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xA extends U0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=RA(e,this.type,this.mc,this.gc);return new Ns(e.firestore,e.converter,(o=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function RA(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof L0)return function(o,l,h,g,I){if(!g)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const L of _u(o))if(L.field.isKeyField())S.push(uh(l,g.key));else{const U=g.data.field(L.field);if(__(U))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Q=L.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}S.push(U)}return new yu(S,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=qp(n.firestore);return function(l,h,g,I,S,L){const U=l.explicitOrderBy;if(S.length>U.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ge=0;ge<S.length;ge++){const Re=S[ge];if(U[ge].field.isKeyField()){if("string"!=typeof Re)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Re}`);if(!x_(l)&&-1!==Re.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Re}' contains a slash.`);const Xe=l.path.child(Xt.fromString(Re));if(!Ye.isDocumentKey(Xe))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${Xe}' is not because it contains an odd number of segments.`);const Ct=new Ye(Xe);Q.push(uh(h,Ct))}else{const Xe=wA(g,I,Re);Q.push(Xe)}}return new yu(Q,L)}(n._query,n.firestore._databaseId,o,e,t,r)}}function NA(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x_(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xt.fromString(t));if(!Ye.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uh(n,new Ye(r))}if(t instanceof ur)return uh(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lD(t)}.`)}function OA(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function PA(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _T{convertValue(e,t="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return Il(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new dD(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mm(e));default:return null}}convertTimestamp(e){const t=gu(e);return new Mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xt.fromString(e);Nt(yw(r));const o=new Dl(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return o.isEqual(t)||Ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function yD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class TM extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}class kA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,t,r){this._verifyNotCommitted();const o=jh(e,this._firestore),l=yD(o.converter,t,r),h=fD(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Gn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=jh(e,this._firestore);let h;return h="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Zc?mT(this._dataReader,"WriteBatch.update",l._key,t,r,o):gT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jh(e,this._firestore);return this._mutations=this._mutations.concat(new mh(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jh(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Kp extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function FA(n,e,t){n=yn(n,ur);const r=yn(n.firestore,Er),o=yD(n.converter,e,t);return vy(r,[fD(qp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Gn.none())])}function LA(n,e,t,...r){n=yn(n,ur);const o=yn(n.firestore,Er),l=qp(o);let h;return h="string"==typeof(e=(0,Rt.m9)(e))||e instanceof Zc?mT(l,"updateDoc",n._key,e,t,r):gT(l,"updateDoc",n._key,e),vy(o,[h.toMutation(n._key,Gn.exists(!0))])}function VA(n,...e){var t,r,o;n=(0,Rt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||fT(e[h])||(l=e[h],h++);const g={includeMetadataChanges:l.includeMetadataChanges};if(fT(e[h])){const U=e[h];e[h]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[h+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[h+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let I,S,L;if(n instanceof ur)S=yn(n.firestore,Er),L=Lc(n._key.path),I={next:U=>{e[h]&&e[h](ET(S,n,U))},error:e[h+1],complete:e[h+2]};else{const U=yn(n,Ns);S=yn(U.firestore,Er),L=U._query;const Q=new Kp(S);I={next:ge=>{e[h]&&e[h](new Vh(S,Q,U,ge))},error:e[h+1],complete:e[h+2]},AA(n._query)}return function(U,Q,ge,Re){const Xe=new aD(Re),Ct=new Rb(Q,Xe,ge);return U.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Tb(yield yy(U),Ct)})),()=>{Xe.pa(),U.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Sb(yield yy(U),Ct)}))}}(wi(S),L,g,I)}function vy(n,e){return function(t,r){const o=new Sr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function _S(n,e,t){return Fb.apply(this,arguments)}(yield cT(t),r,o)})),o.promise}(wi(n),e)}function ET(n,e,t){const r=t.docs.get(e._key),o=new Kp(n);return new Qc(n,o,e._key,r,new zp(t.hasPendingWrites,t.fromCache),e.converter)}class FM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qp(e)}get(e){const t=jh(e,this._firestore),r=new TM(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return dt();const l=o[0];if(l.isFoundDocument())return new L0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new L0(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const o=jh(e,this._firestore),l=yD(o.converter,t,r),h=fD(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=jh(e,this._firestore);let h;return h="string"==typeof(t=(0,Rt.m9)(t))||t instanceof Zc?mT(this._dataReader,"Transaction.update",l._key,t,r,o):gT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=jh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jh(e,this._firestore),r=new Kp(this._firestore);return super.get(e).then(o=>new Qc(this._firestore,r,t._key,o._document,new zp(!1,!1),t.converter))}}function IT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function jA(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function BA(){if(!function LC(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qo=ir.SDK_VERSION,(0,ir._registerComponent)(new eu.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new Er(o,new wI(t.getProvider("auth-internal")),new CI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ir.registerVersion)(EI,"3.4.7",n),(0,ir.registerVersion)(EI,"3.4.7","esm2017")}();class j0{constructor(e){this._delegate=e}static fromBase64String(e){return BA(),new j0(Bl.fromBase64String(e))}static fromUint8Array(e){return jA(),new j0(Bl.fromUint8Array(e))}toBase64(){return BA(),this._delegate.toBase64()}toUint8Array(){return jA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wT(n){return function qM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class WM{enableIndexedDbPersistence(e,t){return function XS(n,e){vA(n=yn(n,Er));const t=wi(n),r=n._freezeSettings(),o=new rT;return yA(t,o,new XT(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eM(n){vA(n=yn(n,Er));const e=wi(n),t=n._freezeSettings(),r=new rT;return yA(e,r,new kS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tM(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Ko.vt())return Promise.resolve();const o=r+"main";yield Ko.delete(o)}),function(r){return t.apply(this,arguments)})(ry(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $A{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&mp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function KS(n,e,t,r={}){var o;const l=(n=yn(n,k0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&mp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=Li.MOCK_USER;else{h=(0,Rt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Li(I)}n._authCredentials=new II(new ar(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function rM(n){return function jS(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield rA(n),t=yield iA(n);return e.setNetworkEnabled(!0),function(r){const o=Je(r);return o.lu.delete(0),v(o)}(t)}))}(wi(n=yn(n,Er)))}(this._delegate)}disableNetwork(){return function iM(n){return function BS(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield rA(n),t=yield iA(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(o){const l=Je(o);l.lu.add(0),yield w(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(wi(n=yn(n,Er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nM(n){return function(e){const t=new Sr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function DS(n,e){return Bb.apply(this,arguments)}(yield cT(e),t)})),t.promise}(wi(n=yn(n,Er)))}(this._delegate)}onSnapshotsInSync(e){return function kM(n,e){return function GS(n,e){const t=new aD(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield yy(n),o=t,Je(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield yy(n),o=t,void Je(r).Tu.delete(o);var r,o}))}}(wi(n=yn(n,Er)),fT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,fA(this._delegate,e))}catch(t){throw Ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,cD(this._delegate,e))}catch(t){throw Ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Js(this,function ZS(n,e){if(n=yn(n,k0),hT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(n,null,(t=e,new vu(Xt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function LM(n,e){return function qS(n,e){const t=new Sr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(o=n,uD(o).then(l=>l.datastore));var o;new VS(n.asyncQueue,r,e,t).run()})),t.promise}(wi(n=yn(n,Er)),t=>e(new FM(n,t)))}(this._delegate,t=>e(new HA(this,t)))}batch(){return wi(this._delegate),new GA(new kA(this._delegate,e=>vy(this._delegate,e)))}loadBundle(e){return function sM(n,e){const t=wi(n=yn(n,Er)),r=new YS;return function WS(n,e,t,r){const o=function(l,h){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,I=function(I,S){if(I instanceof Uint8Array)return eA(I,S);if(I instanceof ArrayBuffer)return eA(new Uint8Array(I),S);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new FS(I,h);var I}(t,Bp(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function PS(n,e,t){const r=Je(n);var o;(o=(0,be.Z)(function*(l,h,g){try{const I=yield h.getMetadata();if(yield function(Q,ge){const Re=Je(Q),Xe=Vi(ge.createTime);return Re.persistence.runTransaction("hasNewerBundle","readonly",Ct=>Re.ds.getBundleMetadata(Ct,ge.id)).then(Ct=>!!Ct&&Ct.createTime.compareTo(Xe)>=0)}(l.localStore,I))return yield h.close(),g._completeWith({taskState:"Success",documentsLoaded:(Q=I).totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}),Promise.resolve(new Set);g._updateProgress(HT(I));const S=new fS(I,l.localStore,h.M);let L=yield h.fa();for(;L;){const Q=yield S.Nu(L);Q&&g._updateProgress(Q),L=yield h.fa()}const U=yield S.complete();return yield Kc(l,U.Ou,void 0),yield function(Q,ge){const Re=Je(Q);return Re.persistence.runTransaction("Save bundle","readwrite",Xe=>Re.ds.saveBundleMetadata(Xe,ge))}(l.localStore,I),g._completeWith(U.progress),Promise.resolve(U.Mu)}catch(I){return mp("SyncEngine",`Loading bundle failed with ${I}`),g._failWith(I),Promise.resolve(new Set)}var Q}),function(l,h,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield cT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function oM(n,e){return function zS(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const o=Je(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield lT(n),e)}))}(wi(n=yn(n,Er)),e).then(t=>t?new Ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Js(this,t):null)}}class vD extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new j0(new Bl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class HA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}get(e){const t=Qp(e);return this._delegate.get(t).then(r=>new B0(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Qp(e);return r?(IT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Qp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Qp(e);return this._delegate.delete(t),this}}class GA{constructor(e){this._delegate=e}set(e,t,r){const o=Qp(e);return r?(IT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Qp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new V0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Zp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Zp(e,new vD(e),t),o.set(t,l)),l}}Zp.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new ur(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Fa(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,fA(this._delegate,e))}catch(t){throw Ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof ur&&pA(this._delegate,e)}set(e,t){t=IT("DocumentReference.set",t);try{return t?FA(this._delegate,e,t):FA(this._delegate,e)}catch(r){throw Ys(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LA(this._delegate,e):LA(this._delegate,e,t,...r)}catch(o){throw Ys(o,"updateDoc()","DocumentReference.update()")}}delete(){return function OM(n){return vy(yn(n.firestore,Er),[new mh(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=qA(e),r=WA(e,o=>new B0(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VA(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function SM(n){n=yn(n,ur);const e=yn(n.firestore,Er),t=wi(e),r=new Kp(e);return function $S(n,e){const t=new Sr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(o,l,h){try{const g=yield function(I,S){const L=Je(I);return L.persistence.runTransaction("read document","readonly",U=>L.ai.Bs(U,S))}(o,l);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const I=fy(g,`Failed to get document '${l} from cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Qc(e,r,n._key,o,new zp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function MM(n){n=yn(n,ur);const e=yn(n.firestore,Er);return sA(wi(e),n._key,{source:"server"}).then(t=>ET(e,n,t))}(this._delegate):function AM(n){n=yn(n,ur);const e=yn(n.firestore,Er);return sA(wi(e),n._key).then(t=>ET(e,n,t))}(this._delegate),t.then(r=>new B0(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function Ys(n,e,t){return n.message=n.message.replace(e,t),n}function qA(n){for(const e of n)if("object"==typeof e&&!wT(e))return e;return{}}function WA(n,e){var t,r;let o;return o=wT(n[0])?n[0]:wT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class B0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TA(this._delegate,e._delegate)}}class $0 extends B0{data(e){const t=this._delegate.data(e);return function OC(n,e){n||dt()}(void 0!==t),t}}class Js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vD(e)}where(e,t,r){try{return new Js(this.firestore,Uh(this._delegate,function yM(n,e,t){const r=e,o=mD("where",n);return new mM(o,r,t)}(e,t,r)))}catch(o){throw Ys(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Js(this.firestore,Uh(this._delegate,function _M(n,e="asc"){const t=e,r=mD("orderBy",n);return new vM(r,t)}(e,t)))}catch(r){throw Ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Js(this.firestore,Uh(this._delegate,function EM(n){return dA("limit",n),new SA("limit",n,"F")}(e)))}catch(t){throw Ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Js(this.firestore,Uh(this._delegate,function IM(n){return dA("limitToLast",n),new SA("limitToLast",n,"L")}(e)))}catch(t){throw Ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Js(this.firestore,Uh(this._delegate,function wM(...n){return new MA("startAt",n,!0)}(...e)))}catch(t){throw Ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Js(this.firestore,Uh(this._delegate,function DM(...n){return new MA("startAfter",n,!1)}(...e)))}catch(t){throw Ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Js(this.firestore,Uh(this._delegate,function CM(...n){return new xA("endBefore",n,!1)}(...e)))}catch(t){throw Ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Js(this.firestore,Uh(this._delegate,function bM(...n){return new xA("endAt",n,!0)}(...e)))}catch(t){throw Ys(t,"endAt()","Query.endAt()")}}isEqual(e){return gA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function RM(n){n=yn(n,Ns);const e=yn(n.firestore,Er),t=wi(e),r=new Kp(e);return function HS(n,e){const t=new Sr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(o,l,h){try{const g=yield kh(o,l,!0),I=new WT(l,g.hi),S=I.Gu(g.documents),L=I.applyChanges(S,!1);h.resolve(L.snapshot)}catch(g){const I=fy(g,`Failed to execute query '${l} against cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function NM(n){n=yn(n,Ns);const e=yn(n.firestore,Er),t=wi(e),r=new Kp(e);return oA(t,n._query,{source:"server"}).then(o=>new Vh(e,r,n,o))}(this._delegate):function xM(n){n=yn(n,Ns);const e=yn(n.firestore,Er),t=wi(e),r=new Kp(e);return AA(n._query),oA(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate),t.then(r=>new DT(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qA(e),r=WA(e,o=>new DT(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VA(this._delegate,t,r)}withConverter(e){return new Js(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}class KM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $0(this._firestore,r))})}isEqual(e){return TA(this._delegate,e._delegate)}}class _y extends Js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?cD(this._delegate):cD(this._delegate,e))}catch(t){throw Ys(t,"doc()","CollectionReference.doc()")}}add(e){return function PM(n,e){const t=yn(n.firestore,Er),r=cD(n),o=yD(n.converter,e);return vy(t,[fD(qp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return pA(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?Zp.getInstance(this.firestore,e):null))}}function Qp(n){return yn(n,ur)}class CT{constructor(...e){this._delegate=new Zc(...e)}static documentId(){return new CT(_i.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Zc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function UM(){return new pT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yp(e)}static delete(){const e=function VM(){return new F0("deleteField")}();return e._methodName="FieldValue.delete",new Yp(e)}static arrayUnion(...e){const t=function jM(...n){return new cM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yp(t)}static arrayRemove(...e){const t=function BM(...n){return new dM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yp(t)}static increment(e){const t=function $M(n){return new hM("increment",n)}(e);return t._methodName="FieldValue.increment",new Yp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ZM={Firestore:$A,GeoPoint:dD,Timestamp:Mr,Blob:j0,Transaction:HA,WriteBatch:GA,DocumentReference:Fa,DocumentSnapshot:B0,Query:Js,QueryDocumentSnapshot:$0,QuerySnapshot:DT,CollectionReference:_y,FieldPath:CT,FieldValue:Yp,setLogLevel:function zM(n){!function NC(n){El.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zA(n,e){return function JM(n,e=Ev.z){return new Pt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function bT(n,e){return zA(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function _D(n,e){return bT(n,e).pipe(wd(void 0),Iv(),(0,bt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const I=o.find(L=>L.doc.ref.isEqual(h.ref)),S=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(h.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(h.metadata)||!I&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),l}))}function KA(n,e,t){return _D(n,t).pipe(el((r,o)=>function ex(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function tx(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function aC(n,e=An.y){return n=null!=n?n:VE,(0,di.e)((t,r)=>{let o,l=!0;t.subscribe((0,Kn.x)(r,h=>{const g=e(h);(l||!n(o,g))&&(l=!1,o=g,r.next(h))}))})}(),(0,bt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function TT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ZA(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function YM(n){(function QM(n,e){n.INTERNAL.registerComponent(new eu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},ZM)))})(n,(e,t)=>new $A(e,t,new WM)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(UE.Z);class QA{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_D(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(wd(void 0),Iv(),Ni(([r,o])=>o.length>0||!r),(0,bt.U)(([r,o])=>o),rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(el((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZA(e);return KA(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return bT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),rr.iC)}get(e){return(0,et.D)(this.query.get(e)).pipe(rr.iC)}add(e){return this.ref.add(e)}doc(e){return new YA(this.ref.doc(e),this.afs)}}class YA{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=eS(r,t);return new QA(o,l,this.afs)}snapshotChanges(){return function XM(n,e){return zA(n,e).pipe(wd(void 0),Iv(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,et.D)(this.ref.get(e)).pipe(rr.iC)}}class nx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_D(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ni(t=>t.length>0),rr.iC):_D(this.query,this.afs.schedulers.outsideAngular).pipe(rr.iC)}auditTrail(e){return this.stateChanges(e).pipe(el((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZA(e);return KA(this.query,t,this.afs.schedulers.outsideAngular).pipe(rr.iC)}valueChanges(e={}){return bT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),rr.iC)}get(e){return(0,et.D)(this.query.get(e)).pipe(rr.iC)}}const JA=new m.InjectionToken("angularfire2.enableFirestorePersistence"),XA=new m.InjectionToken("angularfire2.firestore.persistenceSettings"),rx=new m.InjectionToken("angularfire2.firestore.settings"),ix=new m.InjectionToken("angularfire2.firestore.use-emulator");function eS(n,e=(t=>t)){return{query:e(n),ref:n}}let tS=(()=>{class n{constructor(t,r,o,l,h,g,I,S,L,U,Q,ge,Re,Xe,Ct,Cn,Ot){this.schedulers=I;const lr=(0,cs.on)(t,g,r),qt=L;U&&Uy(lr,g,Q,Re,Xe,Ct,ge,Cn),[this.firestore,this.persistenceEnabled$]=(0,cs.cc)(`${lr.name}.firestore`,"AngularFirestore",lr.name,()=>{const fn=g.runOutsideAngular(()=>lr.firestore());if(l&&fn.settings(l),qt&&fn.useEmulator(...qt),o&&!(0,D.isPlatformServer)(h)){const sn=()=>{try{return(0,et.D)(fn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch($l){return"undefined"!=typeof console&&console.warn($l),gt(!1)}};return[fn,g.runOutsideAngular(sn)]}return[fn,gt(!1)]},[l,qt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=eS(o,r),g=this.schedulers.ngZone.run(()=>l);return new QA(g,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new nx(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new YA(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(cs.Dh),m.\u0275\u0275inject(cs.xv,8),m.\u0275\u0275inject(JA,8),m.\u0275\u0275inject(rx,8),m.\u0275\u0275inject(m.PLATFORM_ID),m.\u0275\u0275inject(m.NgZone),m.\u0275\u0275inject(rr.HU),m.\u0275\u0275inject(XA,8),m.\u0275\u0275inject(ix,8),m.\u0275\u0275inject(Ta,8),m.\u0275\u0275inject(yf,8),m.\u0275\u0275inject(Ju,8),m.\u0275\u0275inject(vf,8),m.\u0275\u0275inject(_f,8),m.\u0275\u0275inject(Ef,8),m.\u0275\u0275inject(Vy,8),m.\u0275\u0275inject(uc,8))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sx=(()=>{class n{constructor(){_d.Z.registerVersion("angularfire",rr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:JA,useValue:!0},{provide:XA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[tS]}),n})();const ox=["signupForm"],ax=["loginForm"],H0=function(n){return{"is-invalid":n}};let ux=(()=>{class n{constructor(t,r,o){this.flashMessage=t,this.router=r,this.usersService=o,this.isLoginForm=!0,this.user={username:"",email:"",password:""}}ngOnInit(){}onSignup({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.signup(this.user).then(o=>{this.log("Account created successfully!","alert-success"),this.signupForm.reset(),this.isLoginForm=!0}).catch(o=>{this.log(o,"alert-danger")})}onLogin({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.login(this.user.email,this.user.password).then(o=>{this.log("Logged in successfully!","alert-success"),this.router.navigate(["/quote/add"])}).catch(o=>this.log(o.message,"alert-danger"))}log(t,r){this.flashMessage.show(t,{cssClass:r,timeout:5e3})}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(id.GQ),m.\u0275\u0275directiveInject(vi),m.\u0275\u0275directiveInject(Ud))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-account"]],viewQuery:function(t,r){if(1&t&&(m.\u0275\u0275viewQuery(ox,5),m.\u0275\u0275viewQuery(ax,5)),2&t){let o;m.\u0275\u0275queryRefresh(o=m.\u0275\u0275loadQuery())&&(r.signupForm=o.first),m.\u0275\u0275queryRefresh(o=m.\u0275\u0275loadQuery())&&(r.loginForm=o.first)}},decls:70,vars:31,consts:[[1,"account"],[1,"container"],[1,"row"],[1,"col-10","col-lg-5","col-md-8","text-dark","mx-auto"],[1,"form-side","signup","p-5","gradient",3,"ngClass"],[1,"text-center","pb-3","text-danger"],[3,"ngSubmit"],["signupForm","ngForm"],[1,"form-group"],["type","text","name","username","placeholder","Enter username","required","","minlength","4",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupUsername","ngModel"],[1,"invalid-feedback","text-danger",3,"hidden"],["type","email","name","email","placeholder","Enter email address","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","","minlength","8",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupPassword","ngModel"],[1,"text-center"],["type","submit","value","Signup",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","pt-4"],[1,"toggler","to-login","text-danger",3,"click"],[1,"form-side","login","gradient","p-5",3,"ngClass"],[1,"text-center","text-danger","pb-3"],["loginForm","ngForm"],["type","email","name","email","placeholder","Enter username","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginPassword","ngModel"],["type","submit","value","Login",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","mt-4"],["routerLink","/account",1,"nav-link","text-danger"],[1,"pt-3"],[1,"toggler","to-signup","text-danger",3,"click"]],template:function(t,r){if(1&t){const o=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"strong"),m.\u0275\u0275text(7,"Create Account"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(8,"form",6,7),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(9);return r.onSignup(h)}),m.\u0275\u0275elementStart(10,"div",8),m.\u0275\u0275text(11," Username "),m.\u0275\u0275elementStart(12,"input",9,10),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.username=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"div",11),m.\u0275\u0275text(15," Username required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"div",11),m.\u0275\u0275text(17," Must be at least 5 characters "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(18,"div",8),m.\u0275\u0275text(19," Email Address "),m.\u0275\u0275elementStart(20,"input",12,13),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"div",11),m.\u0275\u0275text(23," Email required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"div",11),m.\u0275\u0275text(25," Enter a valid email address "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(26,"div",8),m.\u0275\u0275text(27," Password "),m.\u0275\u0275elementStart(28,"input",14,15),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(30,"div",11),m.\u0275\u0275text(31," Password required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(32,"div",11),m.\u0275\u0275text(33," Must be at least 8 characters "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(34,"div",16),m.\u0275\u0275element(35,"input",17),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(36,"p",18),m.\u0275\u0275text(37," Have an account? "),m.\u0275\u0275elementStart(38,"strong",19),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(9);return r.isLoginForm=!r.isLoginForm,h.reset()}),m.\u0275\u0275text(39,"Login"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(40,"div",20)(41,"h2",21)(42,"strong"),m.\u0275\u0275text(43,"Login"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(44,"form",6,22),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(45);return r.onLogin(h)}),m.\u0275\u0275elementStart(46,"div",8),m.\u0275\u0275text(47," Email Address "),m.\u0275\u0275elementStart(48,"input",23,24),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(50,"div",11),m.\u0275\u0275text(51," Email required "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(52,"div",11),m.\u0275\u0275text(53," Enter a valid emaill address "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(54,"div",8),m.\u0275\u0275text(55," Password "),m.\u0275\u0275elementStart(56,"input",25,26),m.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(58,"div",11),m.\u0275\u0275text(59," Password required "),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(60,"div",16),m.\u0275\u0275element(61,"input",27),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(62,"div",28)(63,"a",29)(64,"strong"),m.\u0275\u0275text(65,"Forgot Password?"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(66,"p",30),m.\u0275\u0275text(67," Don't have an account? "),m.\u0275\u0275elementStart(68,"strong",31),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(o);const h=m.\u0275\u0275reference(45);return r.isLoginForm=!r.isLoginForm,h.reset()}),m.\u0275\u0275text(69,"Signup"),m.\u0275\u0275elementEnd()()()()()()()()}if(2&t){const o=m.\u0275\u0275reference(13),l=m.\u0275\u0275reference(21),h=m.\u0275\u0275reference(29),g=m.\u0275\u0275reference(49),I=m.\u0275\u0275reference(57);m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",r.isLoginForm?"form-side--back":"form-side--front"),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(21,H0,o.errors&&o.touched))("ngModel",r.user.username),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(23,H0,l.errors&&l.touched))("ngModel",r.user.email),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.pattern)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(25,H0,h.errors&&h.touched))("ngModel",r.user.password),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.minlength)),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",r.isLoginForm?"":"form-side--back"),m.\u0275\u0275advance(8),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(27,H0,g.errors&&g.touched))("ngModel",r.user.email),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required)),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.pattern)),m.\u0275\u0275advance(4),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(29,H0,I.errors&&I.touched))("ngModel",r.user.password),m.\u0275\u0275advance(2),m.\u0275\u0275property("hidden",!(null!=I.errors&&I.errors.required))}},directives:[D.NgClass,Wa,Ai,so,St,Ri,ga,Co,ua,us,il],styles:[".form-side[_ngcontent-%COMP%]{position:absolute;transition:all 10.8s ease;width:100%;height:35rem;top:0;left:0;overflow:hidden;transition:all .8s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-shadow:0 0 40px #92727288;border-radius:5px;margin-top:10%}.form-side--back[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.form-side--front[_ngcontent-%COMP%]{transform:rotateY(0)}.toggler[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent}.toggler[_ngcontent-%COMP%]:hover{text-shadow:0px 5px 5px rgba(136,87,87,.808)}"]}),n})(),nS=(()=>{class n{constructor(t,r){this.afs=t,this.router=r,this.quotesCollection=t.collection("quotes",o=>o.orderBy("createdDate","desc"))}addQuote(t){this.quotesCollection.add(t).then(r=>this.router.navigate(["/"]))}updateQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.update(t)}deleteQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.delete()}getQuotes(){return this.quotes=this.quotesCollection.snapshotChanges().pipe((0,bt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})))}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275inject(tS),m.\u0275\u0275inject(vi))},n.\u0275prov=m.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lx(n,e){1&n&&(m.\u0275\u0275elementStart(0,"div",5)(1,"h2",6),m.\u0275\u0275text(2,"Create an account to add, like or dislike a quote"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"a",7),m.\u0275\u0275text(4,"Create Account"),m.\u0275\u0275elementEnd()())}function cx(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"form",8),m.\u0275\u0275listener("ngSubmit",function(){m.\u0275\u0275restoreView(t);const o=m.\u0275\u0275nextContext();return o.onSubmit(o.quote.text)}),m.\u0275\u0275elementStart(1,"h2",9),m.\u0275\u0275text(2,"Create and Publish a Quote"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"div",10)(4,"textarea",11),m.\u0275\u0275listener("ngModelChange",function(o){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext().quote.text=o}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(5,"div",12),m.\u0275\u0275element(6,"input",13),m.\u0275\u0275elementEnd()()}if(2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(4),m.\u0275\u0275property("ngModel",t.quote.text),m.\u0275\u0275advance(2),m.\u0275\u0275property("disabled",t.quote.text.length<25)}}let dx=(()=>{class n{constructor(t,r){this.userService=t,this.quoteService=r,this.quote={text:"",author:{username:"",id:""},published:!1,createdDate:"",likes:[],dislikes:[]}}ngOnInit(){this.userService.afAuth.user.subscribe(t=>this.user=t)}onSubmit(t){this.quote.author={username:this.user.displayName,id:this.user.uid},this.quote.createdDate=Date.now(),this.quoteService.addQuote(this.quote)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Ud),m.\u0275\u0275directiveInject(nS))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-add-quote"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-sm-10","col-lg-6","py-5","mx-auto","quote-form"],["class","text-center mt-4",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"text-center","mt-4"],[1,"text-danger"],["routerLink","/account",1,"btn","btn-outline-danger","my-5"],[3,"ngSubmit"],[1,"text-center","text-danger"],[1,"form-group","py-4"],["type","text","name","text","placeholder","Write your quote here...","minlength","25",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit","value","Create Post",1,"btn","btn-danger",3,"disabled"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),m.\u0275\u0275template(3,lx,5,0,"div",3),m.\u0275\u0275template(4,cx,7,2,"form",4),m.\u0275\u0275elementEnd()()()),2&t&&(m.\u0275\u0275advance(3),m.\u0275\u0275property("ngIf",!r.user),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user))},directives:[D.NgIf,il,Wa,Ai,so,St,ga,Co,ua],styles:[".quote-form[_ngcontent-%COMP%]{box-shadow:0 0 40px #92727288;border-radius:4px;margin-top:10%;padding:30px}"]}),n})(),hx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"profile works!"),m.\u0275\u0275elementEnd())},styles:[""]}),n})(),fx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-quote-detail"]],decls:2,vars:0,template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"quote-detail works!"),m.\u0275\u0275elementEnd())},styles:[""]}),n})();function px(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",19)(1,"button",20),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(t);const o=m.\u0275\u0275nextContext().$implicit;return m.\u0275\u0275nextContext(2).delete(o)}),m.\u0275\u0275element(2,"i",21),m.\u0275\u0275elementEnd()()}}function gx(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"p")(6,"strong"),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275template(8,px,3,0,"div",9),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(9,"div",10)(10,"small"),m.\u0275\u0275text(11,"Quoted by: "),m.\u0275\u0275elementStart(12,"strong"),m.\u0275\u0275text(13),m.\u0275\u0275pipe(14,"titlecase"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275element(15,"br"),m.\u0275\u0275elementStart(16,"small"),m.\u0275\u0275text(17),m.\u0275\u0275pipe(18,"date"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),m.\u0275\u0275listener("click",function(){const l=m.\u0275\u0275restoreView(t).$implicit,h=m.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.upvote(l,h.user.uid)}),m.\u0275\u0275element(23,"span",15),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"span",16),m.\u0275\u0275text(25),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(26,"div",13)(27,"button",17),m.\u0275\u0275listener("click",function(){const l=m.\u0275\u0275restoreView(t).$implicit,h=m.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.downvote(l,h.user.uid)}),m.\u0275\u0275element(28,"span",18),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(29,"span",16),m.\u0275\u0275text(30),m.\u0275\u0275elementEnd()()()()()()}if(2&n){const t=e.$implicit,r=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(7),m.\u0275\u0275textInterpolate(t.text),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user&&r.user.uid===t.author.id),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(14,6,t.author.username)),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate1("Date: ",m.\u0275\u0275pipeBind2(18,8,t.createdDate,"medium"),""),m.\u0275\u0275advance(8),m.\u0275\u0275textInterpolate1(" \xa0",null==t.likes?null:t.likes.length," "),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate1("\xa0",null==t.dislikes?null:t.dislikes.length,"")}}function mx(n,e){if(1&n&&(m.\u0275\u0275elementStart(0,"div",2),m.\u0275\u0275template(1,gx,31,11,"div",3),m.\u0275\u0275elementEnd()),2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",t.quotes)}}function yx(n,e){1&n&&(m.\u0275\u0275elementStart(0,"div",2)(1,"div",22)(2,"h2",23),m.\u0275\u0275text(3,"No Quotes, yet"),m.\u0275\u0275elementEnd()()())}const vx=[{path:"",component:(()=>{class n{constructor(t,r){this.quoteService=t,this.userService=r,this.quotes=[]}ngOnInit(){this.quoteService.getQuotes().subscribe(t=>this.quotes=t),this.userService.afAuth.user.subscribe(t=>this.user=t)}upvote(t,r){var o,l,h,g;t.dislikes=null===(o=t.dislikes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.likes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.likes)||void 0===h||h.push(r):t.likes=null===(g=t.likes)||void 0===g?void 0:g.filter(I=>I!==r),this.quoteService.updateQuote(t)}downvote(t,r){var o,l,h,g;t.likes=null===(o=t.likes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.dislikes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.dislikes)||void 0===h||h.push(r):t.dislikes=null===(g=t.dislikes)||void 0===g?void 0:g.filter(I=>I!==r),this.quoteService.updateQuote(t)}delete(t){confirm("Are you sure? ")&&this.quoteService.deleteQuote(t)}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(nS),m.\u0275\u0275directiveInject(Ud))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-quotes"]],decls:3,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"card","card-body","my-3"],[1,"card-title"],[1,"row","no-gutters"],[1,"col-11","col-lg-11","m-0","p-0"],["class","col-1 m-0 p-0",4,"ngIf"],[1,"card-footer","mt-2","pl-2"],[1,"card-text","pl-2"],[1,"row","mt-2"],[1,"col-3","col-sm-3"],[1,"btn","vote-btn","btn-sm","btn-outline-info",3,"click"],[1,"fa","fa-arrow-up","vote","upvote"],[1,"votes-count"],[1,"btn","vote-btn","btn-sm","btn-outline-danger",3,"click"],[1,"fa","fa-arrow-down","vote","downvote"],[1,"col-1","m-0","p-0"],[1,"btn","delete-quote",3,"click"],[1,"fa","fa-trash","text-right","text-danger"],[1,"col-lg-6","mx-auto"],[1,"text-center","mt-5"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275template(1,mx,2,1,"div",1),m.\u0275\u0275template(2,yx,4,0,"div",1),m.\u0275\u0275elementEnd()),2&t&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.quotes.length>0),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",0==r.quotes.length))},directives:[D.NgIf,D.NgForOf],pipes:[D.TitleCasePipe,D.DatePipe],styles:[".votes[_ngcontent-%COMP%]{font-size:1.2rem}.vote[_ngcontent-%COMP%]{transform:scaleY(1.7)}.vote[_ngcontent-%COMP%]:hover{transform:scaleY(2);text-shadow:0 0 5px rgb(156,80,80);transition:all .1s ease-in-out}.vote-btn[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 10px #9c5050;transform:scale(1.05)}.votes-count[_ngcontent-%COMP%]{font-size:1.2rem;padding-left:5px}.delete-quote[_ngcontent-%COMP%]{cursor:pointer}.delete-quote[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #9c5050;transform:scale(1.05)}"]}),n})()},{path:"account",component:ux},{path:"quote/detail/:id",component:fx},{path:"quote/add",component:dx},{path:"profile",component:hx}];let _x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=m.\u0275\u0275defineInjector({imports:[[vv.forRoot(vx)],vv]}),n})();function Ex(n,e){1&n&&(m.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),m.\u0275\u0275text(3,"Add Quote"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"li",8)(5,"a",10),m.\u0275\u0275text(6,"Account"),m.\u0275\u0275elementEnd()()())}function Ix(n,e){if(1&n){const t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),m.\u0275\u0275text(3,"Add Quote"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"li",8)(5,"a",11),m.\u0275\u0275text(6,"Profile"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(7,"button",12),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(t),m.\u0275\u0275nextContext().logout()}),m.\u0275\u0275text(8),m.\u0275\u0275pipe(9,"titlecase"),m.\u0275\u0275elementEnd()()}if(2&n){const t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(8),m.\u0275\u0275textInterpolate1(" Hi ",m.\u0275\u0275pipeBind1(9,1,t.user.displayName),", Logout ")}}let wx=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.userService.afAuth.user.subscribe(t=>this.user=t)}logout(){this.userService.logout()}}return n.\u0275fac=function(t){return new(t||n)(m.\u0275\u0275directiveInject(Ud))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-navbar"]],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-danger","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand","text-white"],["data-toggle","collapse","data-target","#main-nav","type","button",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","main-nav",1,"collapse","navbar-collapse"],["class","navbar-nav ml-auto",4,"ngIf"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","quote/add",1,"nav-link"],["routerLink","/account",1,"nav-link"],["routerLink","/profile",1,"nav-link"],[1,"btn","btn-sm",3,"click"]],template:function(t,r){1&t&&(m.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),m.\u0275\u0275text(3,"QuotesApp"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"button",3),m.\u0275\u0275element(5,"span",4),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"div",5),m.\u0275\u0275template(7,Ex,7,0,"ul",6),m.\u0275\u0275template(8,Ix,10,3,"ul",6),m.\u0275\u0275elementEnd()()()),2&t&&(m.\u0275\u0275advance(7),m.\u0275\u0275property("ngIf",!r.user),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngIf",r.user))},directives:[il,D.NgIf],pipes:[D.TitleCasePipe],styles:[""]}),n})(),Dx=(()=>{class n{constructor(){this.title="quotes-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&m.\u0275\u0275element(0,"app-navbar")(1,"flash-messages")(2,"router-outlet")},directives:[wx,id.cS,tv],styles:[""]}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.\u0275\u0275defineNgModule({type:n,bootstrap:[Dx]}),n.\u0275inj=m.\u0275\u0275defineInjector({providers:[Ud],imports:[[Xi,Ro,id.qz.forRoot(),_x,cs.hO.initializeApp(LE_firebase,"clientpanel"),sx,ti]]}),n})();(0,m.enableProdMode)(),Ci().bootstrapModule(Cx).catch(n=>console.error(n))},5867:(lt,Ce,F)=>{"use strict";F.d(Ce,{Mq:()=>D.getApp,C6:()=>D.getApps});var D=F(9681);(0,D.registerVersion)("firebase","9.6.10","app")},127:(lt,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>D.Z});var D=F(3942);D.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(lt,Ce,F)=>{"use strict";F.r(Ce);var D=F(5861),m=F(3942),V=F(2090),ie=F(9681),J=F(655),ce=F(1877),ae=F(4859);const ve=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function he(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},re=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ce.Yd("@firebase/auth");function He(y,...d){We.logLevel<=ce.in.ERROR&&We.error(`Auth (${ie.SDK_VERSION}): ${y}`,...d)}function Me(y,...d){throw Ze(y,...d)}function Ae(y,...d){return Ze(y,...d)}function Se(y,d,p){const _=Object.assign(Object.assign({},xe()),{[d]:p});return new V.LL("auth","Firebase",_).create(d,{appName:y.name})}function Qe(y,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&Me(y,"argument-error"),Se(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...d){if("string"!=typeof y){const p=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return re.create(y,...d)}function se(y,d,...p){if(!y)throw Ze(d,...p)}function X(y){const d="INTERNAL ASSERTION FAILED: "+y;throw He(d),new Error(d)}function ue(y,d){y||X(d)}const we=new Map;function fe(y){ue(y instanceof Function,"Expected a class definition");let d=we.get(y);return d?(ue(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,we.set(y,d),d)}function it(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Jt(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(d,p){this.shortDelay=d,this.longDelay=p,ue(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(y,d){ue(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ai{static initialize(d,p,_){this.fetchImpl=d,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Di=new an(3e4,6e4);function tn(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function $t(y,d,p,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,D.Z)(function*(y,d,p,_,x={}){return Gr(y,x,(0,D.Z)(function*(){let k={},q={};_&&("GET"===d?q=_:k={body:JSON.stringify(_)});const me=(0,V.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),$e=yield y._getAdditionalHeaders();return $e["Content-Type"]="application/json",y.languageCode&&($e["X-Firebase-Locale"]=y.languageCode),ai.fetch()(cr(y,y.config.apiHost,p,me),Object.assign({method:d,headers:$e,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Gr(y,d,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,D.Z)(function*(y,d,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},en),d);try{const x=new Xi(y),k=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw es(y,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const me=k.ok?q.errorMessage:q.error.message,[$e,ot]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw es(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===$e)throw es(y,"email-already-in-use",q);const wt=_[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Se(y,wt,ot);Me(y,wt)}}catch(x){if(x instanceof V.ZR)throw x;Me(y,"network-request-failed")}})).apply(this,arguments)}function Ir(y,d,p,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,D.Z)(function*(y,d,p,_,x={}){const k=yield $t(y,d,p,_,x);return"mfaPendingCredential"in k&&Me(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function cr(y,d,p,_){const x=`${d}${p}?${_}`;return y.config.emulator?cn(y.config,x):`${y.config.apiScheme}://${x}`}class Xi{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(Ae(this.auth,"network-request-failed")),Di.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function es(y,d,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const x=Ae(y,d,_);return x.customData._tokenResponse=p,x}function qr(){return(qr=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function dr(y,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Wr(y,d){return Os.apply(this,arguments)}function Os(){return(Os=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function In(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function zr(){return(zr=(0,D.Z)(function*(y,d=!1){const p=(0,V.m9)(y),_=yield p.getIdToken(d),x=ct(_);se(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const k="object"==typeof x.firebase?x.firebase:void 0,q=null==k?void 0:k.sign_in_provider;return{claims:x,token:_,authTime:In(zt(x.auth_time)),issuedAtTime:In(zt(x.iat)),expirationTime:In(zt(x.exp)),signInProvider:q||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function zt(y){return 1e3*Number(y)}function ct(y){const[d,p,_]=y.split(".");if(void 0===d||void 0===p||void 0===_)return He("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,V.tV)(p);return x?JSON.parse(x):(He("Failed to decode base64 JWT payload"),null)}catch(x){return He("Caught error parsing JWT payload as JSON",x),null}}function zn(y,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,D.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(_){throw _ instanceof V.ZR&&Kt(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function Kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xs{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,D.Z)(function*(){yield p.iteration()}),_)}iteration(){var d=this;return(0,D.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class wr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dr(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,D.Z)(function*(y){var d;const p=y.auth,_=yield y.getIdToken(),x=yield zn(y,Wr(p,{idToken:_}));se(null==x?void 0:x.users.length,p,"internal-error");const k=x.users[0];y._notifyReloadListener(k);const q=(null===(d=k.providerUserInfo)||void 0===d?void 0:d.length)?Oe(k.providerUserInfo):[],me=tt(y.providerData,q),wt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==me?void 0:me.length)),vt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new wr(k.createdAt,k.lastLoginAt),isAnonymous:wt};Object.assign(y,vt)})).apply(this,arguments)}function Ut(){return(Ut=(0,D.Z)(function*(y){const d=(0,V.m9)(y);yield Dr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function tt(y,d){return[...y.filter(_=>!d.some(x=>x.providerId===_.providerId)),...d]}function Oe(y){return y.map(d=>{var{providerId:p}=d,_=(0,J._T)(d,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function yt(){return(yt=(0,D.Z)(function*(y,d){const p=yield Gr(y,{},(0,D.Z)(function*(){const _=(0,V.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:x,apiKey:k}=y.config,q=cr(y,x,"/v1/token",`key=${k}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",ai.fetch()(q,{method:"POST",headers:me,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){se(d.idToken,"internal-error"),se(void 0!==d.idToken,"internal-error"),se(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function It(y){const d=ct(y);return se(d,"internal-error"),se(void 0!==d.exp,"internal-error"),se(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var _=this;return(0,D.Z)(function*(){return se(!_.accessToken||_.refreshToken,d,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var _=this;return(0,D.Z)(function*(){const{accessToken:x,refreshToken:k,expiresIn:q}=yield function st(y,d){return yt.apply(this,arguments)}(d,p);_.updateTokensAndExpiration(x,k,Number(q))})()}updateTokensAndExpiration(d,p,_){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,p){const{refreshToken:_,accessToken:x,expirationTime:k}=p,q=new Wt;return _&&(se("string"==typeof _,"internal-error",{appName:d}),q.refreshToken=_),x&&(se("string"==typeof x,"internal-error",{appName:d}),q.accessToken=x),k&&(se("number"==typeof k,"internal-error",{appName:d}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return X("not implemented")}}function jt(y,d){se("string"==typeof y||void 0===y,"internal-error",{appName:d})}class z{constructor(d){var{uid:p,auth:_,stsTokenManager:x}=d,k=(0,J._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,D.Z)(function*(){const _=yield zn(p,p.stsTokenManager.getToken(p.auth,d));return se(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(d){return function wn(y){return zr.apply(this,arguments)}(this,d)}reload(){return function Cr(y){return Ut.apply(this,arguments)}(this)}_assign(d){this!==d&&(se(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new z(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var _=this;return(0,D.Z)(function*(){let x=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),x=!0),p&&(yield Dr(_)),yield _.auth._persistUserIfCurrent(_),x&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,D.Z)(function*(){const p=yield d.getIdToken();return yield zn(d,function pt(y,d){return qr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var _,x,k,q,me,$e,ot,wt;const vt=null!==(_=p.displayName)&&void 0!==_?_:void 0,$n=null!==(x=p.email)&&void 0!==x?x:void 0,Ss=null!==(k=p.phoneNumber)&&void 0!==k?k:void 0,zi=null!==(q=p.photoURL)&&void 0!==q?q:void 0,fc=null!==(me=p.tenantId)&&void 0!==me?me:void 0,tl=null!==($e=p._redirectEventId)&&void 0!==$e?$e:void 0,Td=null!==(ot=p.createdAt)&&void 0!==ot?ot:void 0,K0=null!==(wt=p.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Fn,emailVerified:ps,isAnonymous:bf,providerData:Tf,stsTokenManager:pc}=p;se(Fn&&pc,d,"internal-error");const _g=Wt.fromJSON(this.name,pc);se("string"==typeof Fn,d,"internal-error"),jt(vt,d.name),jt($n,d.name),se("boolean"==typeof ps,d,"internal-error"),se("boolean"==typeof bf,d,"internal-error"),jt(Ss,d.name),jt(zi,d.name),jt(fc,d.name),jt(tl,d.name),jt(Td,d.name),jt(K0,d.name);const Af=new z({uid:Fn,auth:d,email:$n,emailVerified:ps,displayName:vt,isAnonymous:bf,photoURL:zi,phoneNumber:Ss,tenantId:fc,stsTokenManager:_g,createdAt:Td,lastLoginAt:K0});return Tf&&Array.isArray(Tf)&&(Af.providerData=Tf.map(Eg=>Object.assign({},Eg))),tl&&(Af._redirectEventId=tl),Af}static _fromIdTokenResponse(d,p,_=!1){return(0,D.Z)(function*(){const x=new Wt;x.updateFromServerResponse(p);const k=new z({uid:p.localId,auth:d,stsTokenManager:x,isAnonymous:_});return yield Dr(k),k})()}}const Z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(p,_){var x=this;return(0,D.Z)(function*(){x.storage[p]=_})()}_get(p){var _=this;return(0,D.Z)(function*(){const x=_.storage[p];return void 0===x?null:x})()}_remove(p){var _=this;return(0,D.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function Ee(y,d,p){return`firebase:${y}:${d}:${p}`}class ne{constructor(d,p,_){this.persistence=d,this.auth=p,this.userKey=_;const{config:x,name:k}=this.auth;this.fullUserKey=Ee(this.userKey,x.apiKey,k),this.fullPersistenceKey=Ee("persistence",x.apiKey,k),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,D.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?z._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,D.Z)(function*(){if(p.persistence===d)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,_="authUser"){return(0,D.Z)(function*(){if(!p.length)return new ne(fe(Z),d,_);const x=(yield Promise.all(p.map(function(){var ot=(0,D.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let k=x[0]||fe(Z);const q=Ee(_,d.config.apiKey,d.name);let me=null;for(const ot of p)try{const wt=yield ot._get(q);if(wt){const vt=z._fromJSON(d,wt);ot!==k&&(me=vt),k=ot;break}}catch(wt){}const $e=x.filter(ot=>ot._shouldAllowMigration);return k._shouldAllowMigration&&$e.length?(k=$e[0],me&&(yield k._set(q,me.toJSON())),yield Promise.all(p.map(function(){var ot=(0,D.Z)(function*(wt){if(wt!==k)try{yield wt._remove(q)}catch(vt){}});return function(wt){return ot.apply(this,arguments)}}())),new ne(k,d,_)):new ne(k,d,_)})()}}function ze(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Zt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(et(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(kt(d))return"Blackberry";if(pn(d))return"Webos";if(Pt(d))return"Safari";if((d.includes("chrome/")||br(d))&&!d.includes("edge/"))return"Chrome";if(xn(d))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function et(y=(0,V.z$)()){return/firefox\//i.test(y)}function Pt(y=(0,V.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function br(y=(0,V.z$)()){return/crios\//i.test(y)}function Zt(y=(0,V.z$)()){return/iemobile/i.test(y)}function xn(y=(0,V.z$)()){return/android/i.test(y)}function kt(y=(0,V.z$)()){return/blackberry/i.test(y)}function pn(y=(0,V.z$)()){return/webos/i.test(y)}function er(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function bt(y=(0,V.z$)()){return er(y)||xn(y)||pn(y)||kt(y)||/windows phone/i.test(y)||Zt(y)}function Eo(y,d=[]){let p;switch(y){case"Browser":p=ze((0,V.z$)());break;case"Worker":p=`${ze((0,V.z$)())}-${y}`;break;default:p=y}const _=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${_}`}class Nr{constructor(d,p,_){this.app=d,this.heartbeatServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(d,p){var _=this;return p&&(this._popupRedirectResolver=fe(p)),this._initializationPromise=this.queue((0,D.Z)(function*(){var x,k;if(!_._deleted&&(_.persistenceManager=yield ne.create(_,d),!_._deleted)){if(null===(x=_._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(q){}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(k=_.currentUser)||void 0===k?void 0:k.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,D.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p)}})()}initializeCurrentUser(d){var p=this;return(0,D.Z)(function*(){var _;let x=yield p.assertedPersistence.getCurrentUser();if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const k=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,q=null==x?void 0:x._redirectEventId,me=yield p.tryRedirectSignIn(d);(!k||k===q)&&(null==me?void 0:me.user)&&(x=me.user)}return x?x._redirectEventId?(se(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===x._redirectEventId?p.directlySetCurrentUser(x):p.reloadAndSetCurrentUserOrClear(x)):p.reloadAndSetCurrentUserOrClear(x):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var p=this;return(0,D.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(x){yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,D.Z)(function*(){try{yield Dr(d)}catch(_){if("auth/network-request-failed"!==_.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,D.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,D.Z)(function*(){const _=d?(0,V.m9)(d):null;return _&&se(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,D.Z)(function*(){if(!p._deleted)return d&&se(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),p.queue((0,D.Z)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,D.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var p=this;return this.queue((0,D.Z)(function*(){yield p.assertedPersistence.setPersistence(fe(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.LL("auth","Firebase",d())}onAuthStateChanged(d,p,_){return this.registerStateListener(this.authStateSubscription,d,p,_)}onIdTokenChanged(d,p,_){return this.registerStateListener(this.idTokenSubscription,d,p,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var _=this;return(0,D.Z)(function*(){const x=yield _.getOrInitRedirectPersistenceManager(p);return null===d?x.removeCurrentUser():x.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,D.Z)(function*(){if(!p.redirectPersistenceManager){const _=d&&fe(d)||p._popupRedirectResolver;se(_,p,"argument-error"),p.redirectPersistenceManager=yield ne.create(p,[fe(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,D.Z)(function*(){var _,x;return p._isInitialized&&(yield p.queue((0,D.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===d?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,D.Z)(function*(){if(d===p.currentUser)return p.queue((0,D.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,_,x){if(this._deleted)return()=>{};const k="function"==typeof p?p:p.next.bind(p),q=this._isInitialized?Promise.resolve():this._initializationPromise;return se(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof p?d.addObserver(p,_,x):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,D.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Eo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,D.Z)(function*(){var p;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const x=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return x&&(_["X-Firebase-Client"]=x),_})()}}function Ue(y){return(0,V.m9)(y)}class Ft{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.ne)(p=>this.observer=p)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bn(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function jn(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class un{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return X("not implemented")}_getIdTokenResponse(d){return X("not implemented")}_linkToIdToken(d,p){return X("not implemented")}_getReauthenticationResolver(d){return X("not implemented")}}function On(y,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:resetPassword",tn(y,d))})).apply(this,arguments)}function St(y,d){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function is(y,d){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",tn(y,d))})).apply(this,arguments)}function fr(){return(fr=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithPassword",tn(y,d))})).apply(this,arguments)}function Es(y,d){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:sendOobCode",tn(y,d))})).apply(this,arguments)}function Zr(y,d){return on.apply(this,arguments)}function on(){return(on=(0,D.Z)(function*(y,d){return Es(y,d)})).apply(this,arguments)}function Io(y,d){return wo.apply(this,arguments)}function wo(){return(wo=(0,D.Z)(function*(y,d){return Es(y,d)})).apply(this,arguments)}function Qr(y,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,D.Z)(function*(y,d){return Es(y,d)})).apply(this,arguments)}function Qo(y,d){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,D.Z)(function*(y,d){return Es(y,d)})).apply(this,arguments)}function Tr(){return(Tr=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,d))})).apply(this,arguments)}function Yo(){return(Yo=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,d))})).apply(this,arguments)}class Jo extends un{constructor(d,p,_,x=null){super("password",_),this._email=d,this._password=p,this._tenantId=x}static _fromEmailAndPassword(d,p){return new Jo(d,p,"password")}static _fromEmailAndCode(d,p,_=null){return new Jo(d,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,D.Z)(function*(){switch(p.signInMethod){case"password":return function hr(y,d){return fr.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function eo(y,d){return Tr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Me(d,"internal-error")}})()}_linkToIdToken(d,p){var _=this;return(0,D.Z)(function*(){switch(_.signInMethod){case"password":return St(d,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function La(y,d){return Yo.apply(this,arguments)}(d,{idToken:p,email:_._email,oobCode:_._password});default:Me(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Pn(y,d){return Va.apply(this,arguments)}function Va(){return(Va=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithIdp",tn(y,d))})).apply(this,arguments)}class $i extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new $i(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Me("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:x}=p,k=(0,J._T)(p,["providerId","signInMethod"]);if(!_||!x)return null;const q=new $i(_,x);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(d){return Pn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Pn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Pn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,V.xO)(p)}return d}}function Au(y,d){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:sendVerificationCode",tn(y,d))})).apply(this,arguments)}function ss(){return(ss=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,d))})).apply(this,arguments)}function to(){return(to=(0,D.Z)(function*(y,d){const p=yield Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,d));if(p.temporaryProof)throw es(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Su={USER_NOT_FOUND:"user-not-found"};function ja(){return(ja=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Su)})).apply(this,arguments)}class Pr extends un{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Pr({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Pr({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Do(y,d){return ss.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Ua(y,d){return to.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Mu(y,d){return ja.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:_,verificationCode:x}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:_,code:x}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:_,phoneNumber:x,temporaryProof:k}=d;return _||p||x||k?new Pr({verificationId:p,verificationCode:_,phoneNumber:x,temporaryProof:k}):null}}class ro{constructor(d){var p,_,x,k,q,me;const $e=(0,V.zd)((0,V.pd)(d)),ot=null!==(p=$e.apiKey)&&void 0!==p?p:null,wt=null!==(_=$e.oobCode)&&void 0!==_?_:null,vt=function kr(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=$e.mode)&&void 0!==x?x:null);se(ot&&wt&&vt,"argument-error"),this.apiKey=ot,this.operation=vt,this.code=wt,this.continueUrl=null!==(k=$e.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=$e.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(me=$e.tenantId)&&void 0!==me?me:null}static parseLink(d){const p=function no(y){const d=(0,V.zd)((0,V.pd)(y)).link,p=d?(0,V.zd)((0,V.pd)(d)).deep_link_id:null,_=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(_?(0,V.zd)((0,V.pd)(_)).link:null)||_||p||d||y}(d);try{return new ro(p)}catch(_){return null}}}let Co=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return Jo._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const x=ro.parseLink(_);return se(x,"argument-error"),Jo._fromEmailAndCode(p,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ai{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class pr extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Si extends pr{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return se("providerId"in p&&"signInMethod"in p,"argument-error"),$i._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return se(d.idToken||d.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Si.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Si.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:x,pendingToken:k,nonce:q,providerId:me}=d;if(!_&&!x&&!p&&!k||!me)return null;try{return new Si(me)._credential({idToken:p,accessToken:_,nonce:q,pendingToken:k})}catch($e){return null}}}let Ps=(()=>{class y extends pr{constructor(){super("facebook.com")}static credential(p){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ks=(()=>{class y extends pr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:x}=p;if(!_&&!x)return null;try{return y.credential(_,x)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ba=(()=>{class y extends pr{constructor(){super("github.com")}static credential(p){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class bo extends un{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Pn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,Pn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Pn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:x,pendingToken:k}=p;return _&&x&&k&&_===x?new bo(_,k):null}static _create(d,p){return new bo(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends Ai{constructor(d){se(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ui.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ui.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=bo.fromJSON(d);return se(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:_}=d;if(!p||!_)return null;try{return bo._create(_,p)}catch(x){return null}}}let ea=(()=>{class y extends pr{constructor(){super("twitter.com")}static credential(p,_){return $i._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:x}=p;if(!_||!x)return null;try{return y.credential(_,x)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ta(y,d){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signUp",tn(y,d))})).apply(this,arguments)}class gr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,_,x=!1){return(0,D.Z)(function*(){const k=yield z._fromIdTokenResponse(d,_,x),q=xu(_);return new gr({user:k,providerId:q,_tokenResponse:_,operationType:p})})()}static _forOperation(d,p,_){return(0,D.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const x=xu(_);return new gr({user:d,providerId:x,_tokenResponse:_,operationType:p})})()}}function xu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function $a(){return($a=(0,D.Z)(function*(y){var d;const p=Ue(y);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new gr({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield ta(p,{returnSecureToken:!0}),x=yield gr._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ls extends V.ZR{constructor(d,p,_,x){var k;super(p.code,p.message),this.operationType=_,this.user=x,Object.setPrototypeOf(this,Ls.prototype),this.customData={appName:d.name,tenantId:null!==(k=d.tenantId)&&void 0!==k?k:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,p,_,x){return new Ls(d,p,_,x)}}function Is(y,d,p,_){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ls._fromErrorAndOperation(y,k,d,_):k})}function li(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function na(){return(na=(0,D.Z)(function*(y,d){const p=(0,V.m9)(y);yield O(!0,p,d);const{providerUserInfo:_}=yield dr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),x=li(_||[]);return p.providerData=p.providerData.filter(k=>x.has(k.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function mn(y,d){return T.apply(this,arguments)}function T(){return(T=(0,D.Z)(function*(y,d,p=!1){const _=yield zn(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return gr._forOperation(y,"link",_)})).apply(this,arguments)}function O(y,d,p){return b.apply(this,arguments)}function b(){return(b=(0,D.Z)(function*(y,d,p){yield Dr(d);const x=!1===y?"provider-already-linked":"no-such-provider";se(li(d.providerData).has(p)===y,d.auth,x)})).apply(this,arguments)}function P(y,d){return K.apply(this,arguments)}function K(){return(K=(0,D.Z)(function*(y,d,p=!1){const{auth:_}=y,x="reauthenticate";try{const k=yield zn(y,Is(_,x,d,y),p);se(k.idToken,_,"internal-error");const q=ct(k.idToken);se(q,_,"internal-error");const{sub:me}=q;return se(y.uid===me,_,"user-mismatch"),gr._forOperation(y,x,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Me(_,"user-mismatch"),k}})).apply(this,arguments)}function ye(y,d){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,D.Z)(function*(y,d,p=!1){const _="signIn",x=yield Is(y,_,d),k=yield gr._fromIdTokenResponse(y,_,x);return p||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ke(y,d){return dn.apply(this,arguments)}function dn(){return(dn=(0,D.Z)(function*(y,d){return ye(Ue(y),d)})).apply(this,arguments)}function Qt(y,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,D.Z)(function*(y,d){const p=(0,V.m9)(y);return yield O(!1,p,d.providerId),mn(p,d)})).apply(this,arguments)}function Vt(y,d){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,D.Z)(function*(y,d){return P((0,V.m9)(y),d)})).apply(this,arguments)}function vn(y,d){return hn.apply(this,arguments)}function hn(){return(hn=(0,D.Z)(function*(y,d){return Ir(y,"POST","/v1/accounts:signInWithCustomToken",tn(y,d))})).apply(this,arguments)}function ci(){return(ci=(0,D.Z)(function*(y,d){const p=Ue(y),_=yield vn(p,{token:d,returnSecureToken:!0}),x=yield gr._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class ft{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Mi._fromServerResponse(d,p):Me(d,"internal-error")}}class Mi extends ft{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Mi(p)}}function Ds(y,d,p){var _;se((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),se(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(se(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(se(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function os(){return(os=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y),x={requestType:"PASSWORD_RESET",email:d};p&&Ds(_,x,p),yield Io(_,x)})).apply(this,arguments)}function ra(){return(ra=(0,D.Z)(function*(y,d,p){yield On((0,V.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function Pe(){return(Pe=(0,D.Z)(function*(y,d){yield is((0,V.m9)(y),{oobCode:d})})).apply(this,arguments)}function Ht(y,d){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,D.Z)(function*(y,d){const p=(0,V.m9)(y),_=yield On(p,{oobCode:d}),x=_.requestType;switch(se(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(_.mfaInfo,p,"internal-error");default:se(_.email,p,"internal-error")}let k=null;return _.mfaInfo&&(k=ft._fromServerResponse(Ue(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:k},operation:x}})).apply(this,arguments)}function ia(){return(ia=(0,D.Z)(function*(y,d){const{data:p}=yield Ht((0,V.m9)(y),d);return p.email})).apply(this,arguments)}function xi(){return(xi=(0,D.Z)(function*(y,d,p){const _=Ue(y),x=yield ta(_,{returnSecureToken:!0,email:d,password:p}),k=yield gr._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}function Pu(){return(Pu=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y),x={requestType:"EMAIL_SIGNIN",email:d};se(p.handleCodeInApp,_,"argument-error"),p&&Ds(_,x,p),yield Qr(_,x)})).apply(this,arguments)}function io(){return(io=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y),x=Co.credentialWithLink(d,p||it());return se(x._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ke(_,x)})).apply(this,arguments)}function Yr(y,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:createAuthUri",tn(y,d))})).apply(this,arguments)}function Vs(){return(Vs=(0,D.Z)(function*(y,d){const _={identifier:d,continueUri:Jt()?it():"http://localhost"},{signinMethods:x}=yield Yr((0,V.m9)(y),_);return x||[]})).apply(this,arguments)}function Yc(){return(Yc=(0,D.Z)(function*(y,d){const p=(0,V.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&Ds(p.auth,x,d);const{email:k}=yield Zr(p.auth,x);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wl(){return(Wl=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&Ds(_.auth,k,p);const{email:q}=yield Qo(_.auth,k);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function zl(y,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,D.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qa(){return(qa=(0,D.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const _=(0,V.m9)(y),k={idToken:yield _.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},q=yield zn(_,zl(_.auth,k));_.displayName=q.displayName||null,_.photoURL=q.photoUrl||null;const me=_.providerData.find(({providerId:$e})=>"password"===$e);me&&(me.displayName=_.displayName,me.photoURL=_.photoURL),yield _._updateTokensIfNecessary(q)})).apply(this,arguments)}function ku(y,d,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,D.Z)(function*(y,d,p){const{auth:_}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(k.email=d),p&&(k.password=p);const q=yield zn(y,St(_,k));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class la{constructor(d,p,_={}){this.isNewUser=d,this.providerId=p,this.profile=_}}class Fu extends la{constructor(d,p,_,x){super(d,p,_),this.username=x}}class Kl extends la{constructor(d,p){super(d,"facebook.com",p)}}class So extends Fu{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class $h extends la{constructor(d,p){super(d,"google.com",p)}}class Lu extends Fu{constructor(d,p,_){super(d,"twitter.com",p,_)}}function Vr(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Jc(y){var d,p;if(!y)return null;const{providerId:_}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&(null==y?void 0:y.idToken)){const q=null===(p=null===(d=ct(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(q)return new la(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!_)return null;switch(_){case"facebook.com":return new Kl(k,x);case"github.com":return new So(k,x);case"google.com":return new $h(k,x);case"twitter.com":return new Lu(k,x,y.screenName||null);case"custom":case"anonymous":return new la(k,null);default:return new la(k,_,x)}}(p)}class as{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new as("enroll",d)}static _fromMfaPendingCredential(d){return new as("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,_;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return as._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return as._fromIdtoken(d.multiFactorSession.idToken)}return null}}class da{constructor(d,p,_){this.session=d,this.hints=p,this.signInResolver=_}static _fromError(d,p){const _=Ue(d),x=p.customData._serverResponse,k=(x.mfaInfo||[]).map(me=>ft._fromServerResponse(_,me));se(x.mfaPendingCredential,_,"internal-error");const q=as._fromMfaPendingCredential(x.mfaPendingCredential);return new da(q,k,function(){var me=(0,D.Z)(function*($e){const ot=yield $e._process(_,q);delete x.mfaInfo,delete x.mfaPendingCredential;const wt=Object.assign(Object.assign({},x),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(p.operationType){case"signIn":const vt=yield gr._fromIdTokenResponse(_,p.operationType,wt);return yield _._updateCurrentUser(vt.user),vt;case"reauthenticate":return se(p.user,_,"internal-error"),gr._forOperation(p.user,p.operationType,wt);default:Me(_,"internal-error")}});return function($e){return me.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,D.Z)(function*(){return p.signInResolver(d)})()}}function nr(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:start",tn(y,d))}class qi{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>ft._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new qi(d)}getSession(){var d=this;return(0,D.Z)(function*(){return as._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var _=this;return(0,D.Z)(function*(){const x=d,k=yield _.getSession(),q=yield zn(_.user,x._process(_.user.auth,k,p));return yield _.user._updateTokensIfNecessary(q),_.user.reload()})()}unenroll(d){var p=this;return(0,D.Z)(function*(){const _="string"==typeof d?d:d.uid,x=yield p.user.getIdToken(),k=yield zn(p.user,function Hh(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(y,d))}(p.user.auth,{idToken:x,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:q})=>q!==_),yield p.user._updateTokensIfNecessary(k);try{yield p.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Mo=new WeakMap,Za="__sak";class ao{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jr=(()=>{class y extends ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ed(){const y=(0,V.z$)();return Pt(y)||er(y)}()&&function Zn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const x=this.storage.getItem(_),k=this.localCache[_];x!==k&&p(_,k,x)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((me,$e,ot)=>{this.notifyListeners(me,ot)});const x=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(x);if(p.newValue!==me)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!_)return}const k=()=>{const me=this.storage.getItem(x);!_&&this.localCache[x]===me||this.notifyListeners(x,me)},q=this.storage.getItem(x);!function Kn(){return(0,V.w1)()&&10===document.documentMode}()||q===p.newValue||p.newValue===p.oldValue?k():setTimeout(k,10)}notifyListeners(p,_){this.localCache[p]=_;const x=this.listeners[p];if(x)for(const k of Array.from(x))k(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var x=()=>super._set,k=this;return(0,D.Z)(function*(){yield x().call(k,p,_),k.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,x=this;return(0,D.Z)(function*(){const k=yield _().call(x,p);return x.localCache[p]=JSON.stringify(k),k})()}_remove(p){var _=()=>super._remove,x=this;return(0,D.Z)(function*(){yield _().call(x,p),delete x.localCache[p]})()}}return y.type="LOCAL",y})(),Xr=(()=>{class y extends ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let fa=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(k=>k.isListeningto(p));if(_)return _;const x=new y(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,D.Z)(function*(){const x=p,{eventId:k,eventType:q,data:me}=x.data,$e=_.handlersMap[q];if(!(null==$e?void 0:$e.size))return;x.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const ot=Array.from($e).map(function(){var vt=(0,D.Z)(function*($n){return $n(x.origin,me)});return function($n){return vt.apply(this,arguments)}}()),wt=yield function Jl(y){return Promise.all(y.map(function(){var d=(0,D.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return d.apply(this,arguments)}}()))}(ot);x.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:wt})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function pa(y="",d=10){let p="";for(let _=0;_<d;_++)p+=Math.floor(10*Math.random());return y+p}class Xl{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,_=50){var x=this;return(0,D.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,me;return new Promise(($e,ot)=>{const wt=pa("",20);k.port1.start();const vt=setTimeout(()=>{ot(new Error("unsupported_event"))},_);me={messageChannel:k,onMessage($n){const Ss=$n;if(Ss.data.eventId===wt)switch(Ss.data.status){case"ack":clearTimeout(vt),q=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),$e(Ss.data.response);break;default:clearTimeout(vt),clearTimeout(q),ot(new Error("invalid_response"))}}},x.handlers.add(me),k.port1.addEventListener("message",me.onMessage),x.target.postMessage({eventType:d,eventId:wt,data:p},[k.port2])}).finally(()=>{me&&x.removeMessageHandler(me)})})()}}function Dn(){return window}function Ri(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function uo(){return(uo=(0,D.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ga="firebaseLocalStorageDb",xo="firebaseLocalStorage",ma="fbase_key";class us{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ya(y,d){return y.transaction([xo],d?"readwrite":"readonly").objectStore(xo)}function ya(){const y=indexedDB.open(ga,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(xo,{keyPath:ma})}catch(x){p(x)}}),y.addEventListener("success",(0,D.Z)(function*(){const _=y.result;_.objectStoreNames.contains(xo)?d(_):(_.close(),yield function ls(){const y=indexedDB.deleteDatabase(ga);return new us(y).toPromise()}(),d(yield ya()))}))})}function ec(y,d,p){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,D.Z)(function*(y,d,p){const _=Ya(y,!0).put({[ma]:d,value:p});return new us(_).toPromise()})).apply(this,arguments)}function ju(){return(ju=(0,D.Z)(function*(y,d){const p=Ya(y,!1).get(d),_=yield new us(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function va(y,d){const p=Ya(y,!0).delete(d);return new us(p).toPromise()}const gt=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,D.Z)(function*(){return p.db||(p.db=yield ya()),p.db})()}_withRetries(p){var _=this;return(0,D.Z)(function*(){let x=0;for(;;)try{const k=yield _._openDb();return yield p(k)}catch(k){if(x++>3)throw k;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,D.Z)(function*(){return Ri()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,D.Z)(function*(){p.receiver=fa._getInstance(function td(){return Ri()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,D.Z)(function*(x,k){return{keyProcessed:(yield p._poll()).includes(k.key)}});return function(x,k){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,D.Z)(function*(x,k){return["keyChanged"]});return function(x,k){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,D.Z)(function*(){var _,x;if(p.activeServiceWorker=yield function Qa(){return uo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Xl(p.activeServiceWorker);const k=yield p.sender._send("ping",{},800);!k||(null===(_=k[0])||void 0===_?void 0:_.fulfilled)&&(null===(x=k[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,D.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Wh(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ya();return yield ec(p,Za,"1"),yield va(p,Za),!0}catch(p){}return!1})()}_withPendingWrite(p){var _=this;return(0,D.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var x=this;return(0,D.Z)(function*(){return x._withPendingWrite((0,D.Z)(function*(){return yield x._withRetries(k=>ec(k,p,_)),x.localCache[p]=_,x.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,D.Z)(function*(){const x=yield _._withRetries(k=>function nd(y,d){return ju.apply(this,arguments)}(k,p));return _.localCache[p]=x,x})()}_remove(p){var _=this;return(0,D.Z)(function*(){return _._withPendingWrite((0,D.Z)(function*(){return yield _._withRetries(x=>va(x,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,D.Z)(function*(){const _=yield p._withRetries(q=>{const me=Ya(q,!1).getAll();return new us(me).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const x=[],k=new Set;for(const{fbase_key:q,value:me}of _)k.add(q),JSON.stringify(p.localCache[q])!==JSON.stringify(me)&&(p.notifyListeners(q,me),x.push(q));for(const q of Object.keys(p.localCache))p.localCache[q]&&!k.has(q)&&(p.notifyListeners(q,null),x.push(q));return x})()}notifyListeners(p,_){this.localCache[p]=_;const x=this.listeners[p];if(x)for(const k of Array.from(x))k(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Kh(y,d){return $t(y,"POST","/v2/accounts/mfaSignIn:start",tn(y,d))}function Tn(){return(Tn=(0,D.Z)(function*(y){return(yield $t(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _a(y){return new Promise((d,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=d,_.onerror=x=>{const k=Ae("internal-error");k.customData=x,p(k)},_.type="text/javascript",_.charset="UTF-8",function sd(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(_)})}function Bu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const hi=1e12;class Ni{constructor(d){this.auth=d,this.counter=hi,this._widgets=new Map}render(d,p){const _=this.counter;return this._widgets.set(_,new Ja(d,this.auth.name,p||{})),this.counter++,_}reset(d){var p;const _=d||hi;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(d){var p;return(null===(p=this._widgets.get(d||hi))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,D.Z)(function*(){var _;return null===(_=p._widgets.get(d||hi))||void 0===_||_.execute(),""})()}}class Ja{constructor(d,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof d?document.getElementById(d):d;se(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oo(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oi=Bu("rcb"),Zh=new an(3e4,6e4);class Ia{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(d,p=""){return se(function tc(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Dn().grecaptcha):new Promise((_,x)=>{const k=Dn().setTimeout(()=>{x(Ae(d,"network-request-failed"))},Zh.get());Dn()[Oi]=()=>{Dn().clearTimeout(k),delete Dn()[Oi];const me=Dn().grecaptcha;if(!me)return void x(Ae(d,"internal-error"));const $e=me.render;me.render=(ot,wt)=>{const vt=$e(ot,wt);return this.counter++,vt},this.hostLanguage=p,_(me)},_a(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Oi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(k),x(Ae(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!Dn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wa{load(d){return(0,D.Z)(function*(){return new Ni(d)})()}clearedOneInstance(){}}const Xa="recaptcha",rr={theme:"light",type:"image"};class cs{constructor(d,p=Object.assign({},rr),_){this.parameters=p,this.type=Xa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(_),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof d?document.getElementById(d):d;se(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wa:new Ia,this.validateStartingState()}verify(){var d=this;return(0,D.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(p)||new Promise(k=>{const q=me=>{!me||(d.tokenChangeListeners.delete(q),k(me))};d.tokenChangeListeners.add(q),d.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof d)d(p);else if("string"==typeof d){const _=Dn()[d];"function"==typeof _&&_(p)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,D.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,D.Z)(function*(){se(Jt()&&!Ri(),d.auth,"internal-error"),yield function od(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function di(y){return Tn.apply(this,arguments)}(d.auth);se(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sn{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Pr._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Qn(){return(Qn=(0,D.Z)(function*(y,d,p){const _=Ue(y),x=yield ei(_,d,(0,V.m9)(p));return new Sn(x,k=>Ke(_,k))})).apply(this,arguments)}function lo(){return(lo=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y);yield O(!1,_,"phone");const x=yield ei(_.auth,d,(0,V.m9)(p));return new Sn(x,k=>Qt(_,k))})).apply(this,arguments)}function ad(){return(ad=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y),x=yield ei(_.auth,d,(0,V.m9)(p));return new Sn(x,k=>Vt(_,k))})).apply(this,arguments)}function ei(y,d,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,D.Z)(function*(y,d,p){var _;const x=yield p.verify();try{let k;if(se("string"==typeof x,y,"argument-error"),se(p.type===Xa,y,"argument-error"),k="string"==typeof d?{phoneNumber:d}:d,"session"in k){const q=k.session;if("phoneNumber"in k)return se("enroll"===q.type,y,"internal-error"),(yield nr(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{se("signin"===q.type,y,"internal-error");const me=(null===(_=k.multiFactorHint)||void 0===_?void 0:_.uid)||k.multiFactorUid;return se(me,y,"missing-multi-factor-info"),(yield Kh(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Au(y,{phoneNumber:k.phoneNumber,recaptchaToken:x});return q}}finally{p._reset()}})).apply(this,arguments)}function Po(){return(Po=(0,D.Z)(function*(y,d){yield mn((0,V.m9)(y),d)})).apply(this,arguments)}let Ts=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Ue(p)}verifyPhoneNumber(p,_){return ei(this.auth,p,(0,V.m9)(_))}static credential(p,_){return Pr._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:x}=p;return _&&x?Pr._fromTokenResponse(_,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function js(y,d){return d?fe(d):(se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Hu extends un{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Pn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Pn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Pn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ud(y){return ye(y.auth,new Hu(y),y.bypassAuthState)}function Yh(y){const{auth:d,user:p}=y;return se(p,d,"internal-error"),P(p,new Hu(y),y.bypassAuthState)}function Jh(y){return be.apply(this,arguments)}function be(){return(be=(0,D.Z)(function*(y){const{auth:d,user:p}=y;return se(p,d,"internal-error"),mn(p,new Hu(y),y.bypassAuthState)})).apply(this,arguments)}class ir{constructor(d,p,_,x,k=!1){this.auth=d,this.resolver=_,this.user=x,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,D.Z)(function*(_,x){d.pendingPromise={resolve:_,reject:x};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(k){d.reject(k)}});return function(_,x){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,D.Z)(function*(){const{urlResponse:_,sessionId:x,postBody:k,tenantId:q,error:me,type:$e}=d;if(me)return void p.reject(me);const ot={auth:p.auth,requestUri:_,sessionId:x,tenantId:q||void 0,postBody:k||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask($e)(ot))}catch(wt){p.reject(wt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ud;case"linkViaPopup":case"linkViaRedirect":return Jh;case"reauthViaPopup":case"reauthViaRedirect":return Yh;default:Me(this.auth,"internal-error")}}resolve(d){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eu=new an(2e3,1e4);function Bs(){return(Bs=(0,D.Z)(function*(y,d,p){const _=Ue(y);Qe(y,d,Ai);const x=js(_,p);return new sr(_,"signInViaPopup",d,x).executeNotNull()})).apply(this,arguments)}function Gu(){return(Gu=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y);Qe(_.auth,d,Ai);const x=js(_.auth,p);return new sr(_.auth,"reauthViaPopup",d,x,_).executeNotNull()})).apply(this,arguments)}function Yn(){return(Yn=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y);Qe(_.auth,d,Ai);const x=js(_.auth,p);return new sr(_.auth,"linkViaPopup",d,x,_).executeNotNull()})).apply(this,arguments)}let sr=(()=>{class y extends ir{constructor(p,_,x,k,q){super(p,_,k,q),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,D.Z)(function*(){const _=yield p.execute();return se(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,D.Z)(function*(){ue(1===p.filter.length,"Popup operations only handle one event");const _=pa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(Ae(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,x;this.pollId=(null===(x=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,eu.get())};p()}}return y.currentPopupAction=null,y})();const fi=new Map;class ld extends ir{constructor(d,p,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,D.Z)(function*(){let _=fi.get(p.auth._key());if(!_){try{const k=(yield function nc(y,d){return rc.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;_=()=>Promise.resolve(k)}catch(x){_=()=>Promise.reject(x)}fi.set(p.auth._key(),_)}return p.bypassAuthState||fi.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,_=this;return(0,D.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(_,d);if("unknown"!==d.type){if(d.eventId){const x=yield _.auth._redirectUserForId(d.eventId);if(x)return _.user=x,p().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function rc(){return(rc=(0,D.Z)(function*(y,d){const p=A(d),_=C(y);if(!(yield _._isAvailable()))return!1;const x="true"===(yield _._get(p));return yield _._remove(p),x})).apply(this,arguments)}function ds(y,d){return tu.apply(this,arguments)}function tu(){return(tu=(0,D.Z)(function*(y,d){return C(y)._set(A(d),"true")})).apply(this,arguments)}function C(y){return fe(y._redirectPersistence)}function A(y){return Ee("pendingRedirect",y.config.apiKey,y.name)}function ee(){return(ee=(0,D.Z)(function*(y,d,p){const _=Ue(y);Qe(y,d,Ai);const x=js(_,p);return yield ds(x,_),x._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function nt(){return(nt=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y);Qe(_.auth,d,Ai);const x=js(_.auth,p);yield ds(x,_.auth);const k=yield ho(_);return x._openRedirect(_.auth,d,"reauthViaRedirect",k)})).apply(this,arguments)}function Yt(){return(Yt=(0,D.Z)(function*(y,d,p){const _=(0,V.m9)(y);Qe(_.auth,d,Ai);const x=js(_.auth,p);yield O(!1,_,d.providerId),yield ds(x,_.auth);const k=yield ho(_);return x._openRedirect(_.auth,d,"linkViaRedirect",k)})).apply(this,arguments)}function mr(){return(mr=(0,D.Z)(function*(y,d){return yield Ue(y)._initializationPromise,Jn(y,d,!1)})).apply(this,arguments)}function Jn(y,d){return Da.apply(this,arguments)}function Da(){return(Da=(0,D.Z)(function*(y,d,p=!1){const _=Ue(y),x=js(_,d),q=yield new ld(_,x,p).execute();return q&&!p&&(delete q.user._redirectEventId,yield _._persistUserIfCurrent(q.user),yield _._setRedirectUser(null,d)),q})).apply(this,arguments)}function ho(y){return hs.apply(this,arguments)}function hs(){return(hs=(0,D.Z)(function*(y){const d=pa(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class fs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(p=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function rg(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ef(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var _;if(d.error&&!ef(d)){const x=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(Ae(this.auth,x))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const _=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(d))}saveEventToCache(d){this.cachedEventUids.add(fo(d)),this.lastProcessedEventTime=Date.now()}}function fo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function ef({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function cd(y){return nu.apply(this,arguments)}function nu(){return(nu=(0,D.Z)(function*(y,d={}){return $t(y,"GET","/v1/projects",d)})).apply(this,arguments)}const dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ig=/^https?/;function ko(){return(ko=(0,D.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield cd(y);for(const p of d)try{if(Fo(p))return}catch(_){}Me(y,"unauthorized-domain")})).apply(this,arguments)}function Fo(y){const d=it(),{protocol:p,hostname:_}=new URL(d);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&q.hostname===_}if(!ig.test(p))return!1;if(dd.test(y))return _===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(_)}const wy=new an(3e4,6e4);function tf(){const y=Dn().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let sc=null;function sg(y){return sc=sc||function nf(y){return new Promise((d,p)=>{var _,x,k;function q(){tf(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{tf(),p(Ae(y,"network-request-failed"))},timeout:wy.get()})}if(null===(x=null===(_=Dn().gapi)||void 0===_?void 0:_.iframes)||void 0===x?void 0:x.Iframe)d(gapi.iframes.getContext());else{if(!(null===(k=Dn().gapi)||void 0===k?void 0:k.load)){const me=Bu("iframefcb");return Dn()[me]=()=>{gapi.load?q():p(Ae(y,"network-request-failed"))},_a(`https://apis.google.com/js/api.js?onload=${me}`).catch($e=>p($e))}q()}}).catch(d=>{throw sc=null,d})}(y),sc}const og=new an(5e3,15e3),fd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wu(y){const d=y.config;se(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?cn(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:y.name,v:ie.SDK_VERSION},x=sf.get(y.config.apiHost);x&&(_.eid=x);const k=y._getFrameworks();return k.length&&(_.fw=k.join(",")),`${p}?${(0,V.xO)(_).slice(1)}`}function oc(){return oc=(0,D.Z)(function*(y){const d=yield sg(y),p=Dn().gapi;return se(p,y,"internal-error"),d.open({where:document.body,url:Wu(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fd,dontclear:!0},_=>new Promise(function(){var x=(0,D.Z)(function*(k,q){yield _.restyle({setHideOnLeave:!1});const me=Ae(y,"network-request-failed"),$e=Dn().setTimeout(()=>{q(me)},og.get());function ot(){Dn().clearTimeout($e),k(_)}_.ping(ot).then(ot,()=>{q(me)})});return function(k,q){return x.apply(this,arguments)}}()))}),oc.apply(this,arguments)}const ug={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ku{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function af(y,d,p,_,x,k){se(y.config.authDomain,y,"auth-domain-config-required"),se(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:ie.SDK_VERSION,eventId:x};if(d instanceof Ai){d.setDefaultLanguage(y.languageCode),q.providerId=d.providerId||"",(0,V.xb)(d.getCustomParameters())||(q.customParameters=JSON.stringify(d.getCustomParameters()));for(const[$e,ot]of Object.entries(k||{}))q[$e]=ot}if(d instanceof pr){const $e=d.getScopes().filter(ot=>""!==ot);$e.length>0&&(q.scopes=$e.join(","))}y.tenantId&&(q.tid=y.tenantId);const me=q;for(const $e of Object.keys(me))void 0===me[$e]&&delete me[$e];return`${function Ty({config:y}){return y.emulator?cn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(me).slice(1)}`}const $s="webStorageSupport";class Qu extends class Ay{constructor(d){this.factorId=d}_process(d,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,_);case"signin":return this._finalizeSignIn(d,p.credential);default:return X("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Qu(d)}_finalizeEnroll(d,p,_){return function Vu(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:finalize",tn(y,d))}(d,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function No(y,d){return $t(y,"POST","/v2/accounts/mfaSignIn:finalize",tn(y,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cg=(()=>{class y{constructor(){}static assertion(p){return Qu._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var lf="@firebase/auth",md="0.19.11";class dg{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,D.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(_=>{var x;d((null===(x=_)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ca(){return window}function ba(){return(ba=(0,D.Z)(function*(y,d,p){var _;const{BuildInfo:x}=Ca();ue(d.sessionId,"AuthEvent did not contain a session ID");const k=yield G0(d.sessionId),q={};return er()?q.ibi=x.packageName:xn()?q.apn=x.packageName:Me(y,"operation-not-supported-in-this-environment"),x.displayName&&(q.appDisplayName=x.displayName),q.sessionId=k,af(y,p,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,q)})).apply(this,arguments)}function As(){return(As=(0,D.Z)(function*(y){const{BuildInfo:d}=Ca(),p={};er()?p.iosBundleId=d.packageName:xn()?p.androidPackageName=d.packageName:Me(y,"operation-not-supported-in-this-environment"),yield cd(y,p)})).apply(this,arguments)}function Yu(){return(Yu=(0,D.Z)(function*(y,d,p){const{cordova:_}=Ca();let x=()=>{};try{yield new Promise((k,q)=>{let me=null;function $e(){var vt;k();const $n=null===(vt=_.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof $n&&$n(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function ot(){me||(me=window.setTimeout(()=>{q(Ae(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}d.addPassiveListener($e),document.addEventListener("resume",ot,!1),xn()&&document.addEventListener("visibilitychange",wt,!1),x=()=>{d.removePassiveListener($e),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",wt,!1),me&&window.clearTimeout(me)}})}finally{x()}})).apply(this,arguments)}function G0(y){return cf.apply(this,arguments)}function cf(){return(cf=(0,D.Z)(function*(y){const d=q0(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function q0(y){if(ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}!function My(y){(0,ie._registerComponent)(new ae.wA("auth",(d,{options:p})=>{const _=d.getProvider("app").getImmediate(),x=d.getProvider("heartbeat"),{apiKey:k,authDomain:q}=_.options;return((me,$e)=>{se(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),se(!(null==q?void 0:q.includes(":")),"argument-error",{appName:me.name});const ot={apiKey:k,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eo(y)},wt=new Nr(me,$e,ot);return function pe(y,d){const p=(null==d?void 0:d.persistence)||[],_=(Array.isArray(p)?p:[p]).map(fe);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(wt,p),wt})(_,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,_)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new ae.wA("auth-internal",d=>{const p=Ue(d.getProvider("auth").getImmediate());return new dg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(lf,md,function Sy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(lf,md,"esm2017")}("Browser");class ac extends fs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,D.Z)(function*(){yield d.initPromise})()}}function df(y){return hf.apply(this,arguments)}function hf(){return(hf=(0,D.Z)(function*(y){const d=yield ff()._get(pf(y));return d&&(yield ff()._remove(pf(y))),d})).apply(this,arguments)}function W0(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*d.length);y.push(d.charAt(_))}return y.join("")}function ff(){return fe(Jr)}function pf(y){return Ee("authEvent",y.config.apiKey,y.name)}function lc(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...p]=y.split("?");return(0,V.zd)(p.join("?"))}function pg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Ju(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function _f(y=(0,V.z$)()){return!("file:"!==Ju()&&"ionic:"!==Ju()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ti(){try{const y=self.localStorage,d=pa();if(y)return y.setItem(d,"1"),y.removeItem(d),!function Ta(y=(0,V.z$)()){return function Vy(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Uy(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch(y){return Pi()&&(0,V.hl)()}return!1}function Pi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ed(){return(function vf(){return"http:"===Ju()||"https:"===Ju()}()||(0,V.ru)()||_f())&&!function Ef(){return(0,V.b$)()||(0,V.UG)()}()&&ti()&&!Pi()}function If(){return _f()&&"undefined"!=typeof document}function Aa(){return(Aa=(0,D.Z)(function*(){return!!If()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const mi={LOCAL:"local",NONE:"none",SESSION:"session"},cc=se,dc="persistence";function Lo(y){return Id.apply(this,arguments)}function Id(){return(Id=(0,D.Z)(function*(y){yield y._initializationPromise;const d=mg(),p=Ee(dc,y.config.apiKey,y.name);d&&d.setItem(p,y._getPersistence())})).apply(this,arguments)}function mg(){var y;try{return(null===(y=function Xu(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const wd=se;class po{constructor(){this.browserResolver=fe(class Zu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xr,this._completeRedirectFn=Jn}_openPopup(d,p,_,x){var k=this;return(0,D.Z)(function*(){var q;ue(null===(q=k.eventManagers[d._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const me=af(d,p,_,it(),x);return function ru(y,d,p,_=500,x=600){const k=Math.max((window.screen.availHeight-x)/2,0).toString(),q=Math.max((window.screen.availWidth-_)/2,0).toString();let me="";const $e=Object.assign(Object.assign({},ug),{width:_.toString(),height:x.toString(),top:k,left:q}),ot=(0,V.z$)().toLowerCase();p&&(me=br(ot)?"_blank":p),et(ot)&&(d=d||"http://localhost",$e.scrollbars="yes");const wt=Object.entries($e).reduce(($n,[Ss,zi])=>`${$n}${Ss}=${zi},`,"");if(function ns(y=(0,V.z$)()){var d;return er(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(ot)&&"_self"!==me)return function Dy(y,d){const p=document.createElement("a");p.href=y,p.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(d||"",me),new Ku(null);const vt=window.open(d||"",me,wt);se(vt,y,"popup-blocked");try{vt.focus()}catch($n){}return new Ku(vt)}(d,me,pa())})()}_openRedirect(d,p,_,x){var k=this;return(0,D.Z)(function*(){return yield k._originValidation(d),function qh(y){Dn().location.href=y}(af(d,p,_,it(),x)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:x,promise:k}=this.eventManagers[p];return x?Promise.resolve(x):(ue(k,"If manager is not set, promise should be"),k)}const _=this.initAndGetManager(d);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(d){var p=this;return(0,D.Z)(function*(){const _=yield function pd(y){return oc.apply(this,arguments)}(d),x=new fs(d);return _.register("authEvent",k=>(se(null==k?void 0:k.authEvent,d,"invalid-auth-event"),{status:x.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:x},p.iframes[d._key()]=_,x})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send($s,{type:$s},x=>{var k;const q=null===(k=null==x?void 0:x[0])||void 0===k?void 0:k[$s];void 0!==q&&p(!!q),Me(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function hd(y){return ko.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return bt()||Pt()||er()}}),this.cordovaResolver=fe(class z0{constructor(){this._redirectPersistence=Xr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jn}_initialize(d){var p=this;return(0,D.Z)(function*(){const _=d._key();let x=p.eventManagers.get(_);return x||(x=new ac(d),p.eventManagers.set(_,x),p.attachCallbackListeners(d,x)),x})()}_openPopup(d){Me(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,_,x){var k=this;return(0,D.Z)(function*(){!function Py(y){var d,p,_,x,k,q,me,$e,ot,wt;const vt=Ca();se("function"==typeof(null===(d=null==vt?void 0:vt.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(p=null==vt?void 0:vt.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(k=null===(x=null===(_=null==vt?void 0:vt.cordova)||void 0===_?void 0:_.plugins)||void 0===x?void 0:x.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===($e=null===(me=null===(q=null==vt?void 0:vt.cordova)||void 0===q?void 0:q.plugins)||void 0===me?void 0:me.browsertab)||void 0===$e?void 0:$e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(wt=null===(ot=null==vt?void 0:vt.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const q=yield k._initialize(d);yield q.initialized(),q.resetRedirect(),function ic(){fi.clear()}(),yield k._originValidation(d);const me=function uc(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:W0(),postBody:null,tenantId:y.tenantId,error:Ae(y,"no-auth-event")}}(d,_,x);yield function ED(y,d){return ff()._set(pf(y),d)}(d,me);const $e=yield function hg(y,d,p){return ba.apply(this,arguments)}(d,me,p),ot=yield function yd(y){const{cordova:d}=Ca();return new Promise(p=>{d.plugins.browsertab.isAvailable(_=>{let x=null;_?d.plugins.browsertab.openUrl(y):x=d.InAppBrowser.open(y,function ji(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(x)})})}($e);return function Oy(y,d,p){return Yu.apply(this,arguments)}(d,q,ot)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ny(y){return As.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:_,handleOpenURL:x,BuildInfo:k}=Ca(),q=setTimeout((0,D.Z)(function*(){yield df(d),p.onEvent(pg())}),500),me=function(){var wt=(0,D.Z)(function*(vt){clearTimeout(q);const $n=yield df(d);let Ss=null;$n&&(null==vt?void 0:vt.url)&&(Ss=function ky(y,d){var p,_;const x=function gf(y){const d=lc(y),p=d.link?decodeURIComponent(d.link):void 0,_=lc(p).link,x=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return lc(x).link||x||_||p||y}(d);if(x.includes("/__/auth/callback")){const k=lc(x),q=k.firebaseError?function Fy(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(k.firebaseError)):null,me=null===(_=null===(p=null==q?void 0:q.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],$e=me?Ae(me):null;return $e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}($n,vt.url)),p.onEvent(Ss||pg())});return function($n){return wt.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,me);const $e=x,ot=`${k.packageName.toLowerCase()}://`;Ca().handleOpenURL=function(){var wt=(0,D.Z)(function*(vt){if(vt.toLowerCase().startsWith(ot)&&me({url:vt}),"function"==typeof $e)try{$e(vt)}catch($n){console.error($n)}});return function(vt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xr,this._completeRedirectFn=Jn}_initialize(d){var p=this;return(0,D.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,_,x){var k=this;return(0,D.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(d,p,_,x)})()}_openRedirect(d,p,_,x){var k=this;return(0,D.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(d,p,_,x)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return If()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,D.Z)(function*(){if(d.underlyingResolver)return;const p=yield function gi(){return Aa.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function el(y){return y.unwrap()}function Ur(y){return Dd(y)}function Dd(y){const{_tokenResponse:d}=y instanceof V.ZR?y.customData:y;if(!d)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ts.credentialFromResult(y);const p=d.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=ks;break;case"facebook.com":_=Ps;break;case"github.com":_=Ba;break;case"twitter.com":_=ea;break;default:const{oauthIdToken:x,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:me,nonce:$e}=d;return k||q||x||me?me?p.startsWith("saml.")?bo._create(p,me):$i._fromParams({providerId:p,signInMethod:p,pendingToken:me,idToken:x,accessToken:k}):new Si(p).credential({idToken:x,accessToken:k,rawNonce:$e}):null}return y instanceof V.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function ni(y,d){return d.catch(p=>{throw p instanceof V.ZR&&function hc(y,d){var p;const _=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Vo(y,function ha(y,d){var p;const _=(0,V.m9)(y),x=d;return se(d.customData.operationType,_,"argument-error"),se(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),da._fromError(_,x)}(y,d));else if(_){const x=Dd(d),k=d;x&&(k.credential=x,k.tenantId=_.tenantId||void 0,k.email=_.email||void 0,k.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:Ur(p),additionalUserInfo:Vr(p),user:Hs.getOrCreate(x)}})}function yi(y,d){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,D.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:_=>ni(y,p.confirm(_))}})).apply(this,arguments)}class Vo{constructor(d,p){this.resolver=p,this.auth=function Sa(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return ni(el(this.auth),this.resolver.resolveSignIn(d))}}class Hs{constructor(d){this._delegate=d,this.multiFactor=function Ql(y){const d=(0,V.m9)(y);return Mo.has(d)||Mo.set(d,qi._fromUser(d)),Mo.get(d)}(d)}static getOrCreate(d){return Hs.USER_MAP.has(d)||Hs.USER_MAP.set(d,new Hs(d)),Hs.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,D.Z)(function*(){return ni(p.auth,Qt(p._delegate,d))})()}linkWithPhoneNumber(d,p){var _=this;return(0,D.Z)(function*(){return yi(_.auth,function $u(y,d,p){return lo.apply(this,arguments)}(_._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,D.Z)(function*(){return ni(p.auth,function Xh(y,d,p){return Yn.apply(this,arguments)}(p._delegate,d,po))})()}linkWithRedirect(d){var p=this;return(0,D.Z)(function*(){return yield Lo(Ue(p.auth)),function at(y,d,p){return function Tt(y,d,p){return Yt.apply(this,arguments)}(y,d,p)}(p._delegate,d,po)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,D.Z)(function*(){return ni(p.auth,Vt(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return yi(this.auth,function Iy(y,d,p){return ad.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return ni(this.auth,function co(y,d,p){return Gu.apply(this,arguments)}(this._delegate,d,po))}reauthenticateWithRedirect(d){var p=this;return(0,D.Z)(function*(){return yield Lo(Ue(p.auth)),function oe(y,d,p){return function Le(y,d,p){return nt.apply(this,arguments)}(y,d,p)}(p._delegate,d,po)})()}sendEmailVerification(d){return function Cs(y,d){return Yc.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,D.Z)(function*(){return yield function ws(y,d){return na.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function ua(y,d){return ku((0,V.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function Wa(y,d){return ku((0,V.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Qh(y,d){return Po.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ga(y,d){return qa.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function ql(y,d,p){return Wl.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hs.USER_MAP=new WeakMap;const Uo=se;let bd=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;Uo(x,"invalid-api-key",{appName:p.name}),Uo(x,"invalid-api-key",{appName:p.name});const k="undefined"!=typeof window?po:void 0;this._delegate=_.initialize({options:{persistence:jy(x,p.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function gn(y,d,p){const _=Ue(y);se(_._canInitEmulator,_,"emulator-config-failed"),se(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const x=!!(null==p?void 0:p.disableWarnings),k=bn(d),{host:q,port:me}=function tr(y){const d=bn(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(_);if(x){const k=x[1];return{host:k,port:jn(_.substr(k.length+1))}}{const[k,q]=_.split(":");return{host:k,port:jn(q)}}}(d);_.config.emulator={url:`${k}//${q}${null===me?"":`:${me}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:q,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function bi(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function Ha(y,d){return Pe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ht(this._delegate,p)}confirmPasswordReset(p,_){return function Ru(y,d,p){return ra.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var x=this;return(0,D.Z)(function*(){return ni(x._delegate,function sa(y,d,p){return xi.apply(this,arguments)}(x._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function so(y,d){return Vs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Gl(y,d){const p=ro.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,D.Z)(function*(){Uo(Ed(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function Mt(y,d){return mr.apply(this,arguments)}(p._delegate,po);return _?ni(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Ly(y,d){Ue(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,_,x){const{next:k,error:q,complete:me}=yg(p,_,x);return this._delegate.onAuthStateChanged(k,q,me)}onIdTokenChanged(p,_,x){const{next:k,error:q,complete:me}=yg(p,_,x);return this._delegate.onIdTokenChanged(k,q,me)}sendSignInLinkToEmail(p,_){return function Ou(y,d,p){return Pu.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function Gi(y,d,p){return os.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,D.Z)(function*(){let x;switch(function gg(y,d){cc(Object.values(mi).includes(d),y,"invalid-persistence-type"),(0,V.b$)()?cc(d!==mi.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?cc(d===mi.NONE,y,"unsupported-persistence-type"):Pi()?cc(d===mi.NONE||d===mi.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):cc(d===mi.NONE||ti(),y,"unsupported-persistence-type")}(_._delegate,p),p){case mi.SESSION:x=Xr;break;case mi.LOCAL:x=(yield fe(gt)._isAvailable())?gt:Jr;break;case mi.NONE:x=Z;break;default:return Me("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ni(this._delegate,function To(y){return $a.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ni(this._delegate,Ke(this._delegate,p))}signInWithCustomToken(p){return ni(this._delegate,function Hi(y,d){return ci.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return ni(this._delegate,function Nu(y,d,p){return Ke((0,V.m9)(y),Co.credential(d,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return ni(this._delegate,function oa(y,d,p){return io.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return yi(this._delegate,function ng(y,d,p){return Qn.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,D.Z)(function*(){return Uo(Ed(),_._delegate,"operation-not-supported-in-this-environment"),ni(_._delegate,function Rt(y,d,p){return Bs.apply(this,arguments)}(_._delegate,p,po))})()}signInWithRedirect(p){var _=this;return(0,D.Z)(function*(){return Uo(Ed(),_._delegate,"operation-not-supported-in-this-environment"),yield Lo(_._delegate),function N(y,d,p){return function B(y,d,p){return ee.apply(this,arguments)}(y,d,p)}(_._delegate,p,po)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function kn(y,d){return ia.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=mi,y})();function yg(y,d,p){let _=y;"function"!=typeof y&&({next:_,error:d,complete:p}=y);const x=_;return{next:q=>x(q&&Hs.getOrCreate(q)),error:d,complete:p}}function jy(y,d){const p=function wf(y,d){const p=mg();if(!p)return[];const _=Ee(dc,y,d);switch(p.getItem(_)){case mi.NONE:return[Z];case mi.LOCAL:return[gt,Xr];case mi.SESSION:return[Xr];default:return[]}}(y,d);if("undefined"!=typeof self&&!p.includes(gt)&&p.push(gt),"undefined"!=typeof window)for(const _ of[Jr,Xr])p.includes(_)||p.push(_);return p.includes(Z)||p.push(Z),p}class Df{constructor(){this.providerId="phone",this._delegate=new Ts(el(m.Z.auth()))}static credential(d,p){return Ts.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Df.PHONE_SIGN_IN_METHOD=Ts.PHONE_SIGN_IN_METHOD,Df.PROVIDER_ID=Ts.PROVIDER_ID;const By=se;class $y{constructor(d,p,_=m.Z.app()){var x;By(null===(x=_.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new cs(d,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cf(y){y.INTERNAL.registerComponent(new ae.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new bd(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Co,FacebookAuthProvider:Ps,GithubAuthProvider:Ba,GoogleAuthProvider:ks,OAuthProvider:Si,SAMLAuthProvider:ui,PhoneAuthProvider:Df,PhoneMultiFactorGenerator:cg,RecaptchaVerifier:$y,TwitterAuthProvider:ea,Auth:bd,AuthCredential:un,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(m.Z)},4497:(lt,Ce)=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});var F=function(){function D(m,V,ie,J){this.id=D.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,m&&(this.text=m),V&&(this.cssClass=V),ie&&(this.closeOnClick=ie),J&&(this.showCloseBtn=J)}return D.nextId=0,D}();Ce.FlashMessage=F},2570:function(lt,Ce,F){"use strict";var D=F(5e3),m=F(5673),V=F(9808);function ie(he,ve){1&he&&D.\u0275\u0275element(0,"div",3)}function J(he,ve){if(1&he){var xe=D.\u0275\u0275getCurrentView();D.\u0275\u0275elementStart(0,"button",7),D.\u0275\u0275listener("click",function(){D.\u0275\u0275restoreView(xe);var Ie=D.\u0275\u0275nextContext().$implicit;return D.\u0275\u0275nextContext().close(Ie)}),D.\u0275\u0275elementStart(1,"span",8),D.\u0275\u0275text(2,"\xd7"),D.\u0275\u0275elementEnd()()}}var ce=function(he){return{"alert-dismissible":he}};function ae(he,ve){if(1&he){var xe=D.\u0275\u0275getCurrentView();D.\u0275\u0275elementStart(0,"div",4),D.\u0275\u0275listener("click",function(){var He=D.\u0275\u0275restoreView(xe).$implicit;return D.\u0275\u0275nextContext().alertClicked(He)}),D.\u0275\u0275template(1,J,3,0,"button",5),D.\u0275\u0275element(2,"div",6),D.\u0275\u0275elementEnd()}if(2&he){var re=ve.$implicit;D.\u0275\u0275classMapInterpolate1("alert flash-message ",re.cssClass,""),D.\u0275\u0275styleProp("cursor",re.closeOnClick?"pointer":"inherit"),D.\u0275\u0275property("ngClass",D.\u0275\u0275pureFunction1(8,ce,re.showCloseBtn)),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf",re.showCloseBtn),D.\u0275\u0275advance(1),D.\u0275\u0275property("innerHTML",re.text,D.\u0275\u0275sanitizeHtml)}}var de=this&&this.__decorate||function(he,ve,xe,re){var He,Ie=arguments.length,We=Ie<3?ve:null===re?re=Object.getOwnPropertyDescriptor(ve,xe):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(he,ve,xe,re);else for(var Me=he.length-1;Me>=0;Me--)(He=he[Me])&&(We=(Ie<3?He(We):Ie>3?He(ve,xe,We):He(ve,xe))||We);return Ie>3&&We&&Object.defineProperty(ve,xe,We),We},le=this&&this.__metadata||function(he,ve){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,ve)};Object.defineProperty(Ce,"__esModule",{value:!0});var H=F(5e3),G=F(4497),Y=F(5673),qe=function(){function he(ve,xe){this._flashMessagesService=ve,this._cdRef=xe,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return he.prototype.ngOnInit=function(){},he.prototype.show=function(ve,xe){var re=this;void 0===xe&&(xe={});var Ie={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var We in xe)Ie[We]=xe[We];var He=new G.FlashMessage(ve,Ie.cssClass,Ie.closeOnClick,Ie.showCloseBtn);He.timer=window.setTimeout(function(){re._remove(He),re._cdRef.detectChanges()},Ie.timeout),this.messages.push(He),this._cdRef.detectChanges()},he.prototype.close=function(ve){clearTimeout(ve.timer),this._remove(ve),this._cdRef.detectChanges()},he.prototype.alertClicked=function(ve){ve.closeOnClick&&this.close(ve)},he.prototype.grayOut=function(ve){void 0===ve&&(ve=!1),this._grayOut=ve},he.prototype._remove=function(ve){this.messages=this.messages.filter(function(xe){return xe.id!==ve.id})},(he=de([le("design:paramtypes",[Y.FlashMessagesService,H.ChangeDetectorRef])],he)).\u0275fac=function(xe){return new(xe||he)(D.\u0275\u0275directiveInject(m.FlashMessagesService),D.\u0275\u0275directiveInject(D.ChangeDetectorRef))},he.\u0275cmp=D.\u0275\u0275defineComponent({type:he,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(xe,re){1&xe&&(D.\u0275\u0275elementStart(0,"div",0),D.\u0275\u0275template(1,ie,1,0,"div",1),D.\u0275\u0275template(2,ae,3,10,"div",2),D.\u0275\u0275elementEnd()),2&xe&&(D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf",re._grayOut&&re.messages.length),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngForOf",re.messages))},directives:[V.NgIf,V.NgForOf,V.NgClass],encapsulation:2}),he}();Ce.FlashMessagesComponent=qe},5673:function(lt,Ce,F){"use strict";var D=F(5e3);Object.defineProperty(Ce,"__esModule",{value:!0}),F(5e3);var ie=function(){function J(){}return J.\u0275fac=function(ae){return new(ae||J)},J.\u0275prov=D.\u0275\u0275defineInjectable({token:J,factory:function(ce){return J.\u0275fac(ce)}}),J}();Ce.FlashMessagesService=ie},3241:(lt,Ce,F)=>{var m=F(2570),V=F(8533);Ce.qz=V.FlashMessagesModule;var ie=F(5673);Ce.GQ=ie.FlashMessagesService,Ce.cS=m.FlashMessagesComponent},8533:function(lt,Ce,F){"use strict";var D=F(5e3);F(2570),F(9808),Object.defineProperty(Ce,"__esModule",{value:!0}),F(5e3);var ce=F(9808),de=(F(2570),F(5673)),le=function(){function H(){}var G;return G=H,H.forRoot=function(){return{ngModule:G,providers:[de.FlashMessagesService]}},H.\u0275fac=function(qe){return new(qe||H)},H.\u0275mod=D.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=D.\u0275\u0275defineInjector({providers:[],imports:[[ce.CommonModule]]}),H}();Ce.FlashMessagesModule=le},8306:(lt,Ce,F)=>{"use strict";F.d(Ce,{y:()=>H});var D=F(2961),m=F(727),V=F(8822),ie=F(4671);var ae=F(2416),de=F(576),le=F(2806);let H=(()=>{class he{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const re=new he;return re.source=this,re.operator=xe,re}subscribe(xe,re,Ie){const We=function qe(he){return he&&he instanceof D.Lv||function Y(he){return he&&(0,de.m)(he.next)&&(0,de.m)(he.error)&&(0,de.m)(he.complete)}(he)&&(0,m.Nn)(he)}(xe)?xe:new D.Hp(xe,re,Ie);return(0,le.x)(()=>{const{operator:He,source:Me}=this;We.add(He?He.call(We,Me):Me?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(xe){try{return this._subscribe(xe)}catch(re){xe.error(re)}}forEach(xe,re){return new(re=G(re))((Ie,We)=>{const He=new D.Hp({next:Me=>{try{xe(Me)}catch(Ae){We(Ae),He.unsubscribe()}},error:We,complete:Ie});this.subscribe(He)})}_subscribe(xe){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(xe)}[V.L](){return this}pipe(...xe){return function ce(he){return 0===he.length?ie.y:1===he.length?he[0]:function(xe){return he.reduce((re,Ie)=>Ie(re),xe)}}(xe)(this)}toPromise(xe){return new(xe=G(xe))((re,Ie)=>{let We;this.subscribe(He=>We=He,He=>Ie(He),()=>re(We))})}}return he.create=ve=>new he(ve),he})();function G(he){var ve;return null!==(ve=null!=he?he:ae.v.Promise)&&void 0!==ve?ve:Promise}},7579:(lt,Ce,F)=>{"use strict";F.d(Ce,{x:()=>ae});var D=F(8306),m=F(727);const ie=(0,F(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=F(8737),ce=F(2806);let ae=(()=>{class le extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Y=new de(this,this);return Y.operator=G,Y}_throwIfClosed(){if(this.closed)throw new ie}next(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(G)}})}error(G){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Y}=this;for(;Y.length;)Y.shift().error(G)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Y,isStopped:qe,observers:he}=this;return Y||qe?m.Lc:(this.currentObservers=null,he.push(G),new m.w0(()=>{this.currentObservers=null,(0,J.P)(he,G)}))}_checkFinalizedStatuses(G){const{hasError:Y,thrownError:qe,isStopped:he}=this;Y?G.error(qe):he&&G.complete()}asObservable(){const G=new D.y;return G.source=this,G}}return le.create=(H,G)=>new de(H,G),le})();class de extends ae{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Y||Y.call(G,H)}error(H){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Y||Y.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Y;return null!==(Y=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Y?Y:m.Lc}}},2961:(lt,Ce,F)=>{"use strict";F.d(Ce,{Hp:()=>xe,Lv:()=>Y});var D=F(576),m=F(727),V=F(2416),ie=F(7849);function J(){}const ce=le("C",void 0,void 0);function le(Me,Ae,Se){return{kind:Me,value:Ae,error:Se}}var H=F(3410),G=F(2806);class Y extends m.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,m.Nn)(Ae)&&Ae.add(this)):this.destination=He}static create(Ae,Se,Qe){return new xe(Ae,Se,Qe)}next(Ae){this.isStopped?We(function de(Me){return le("N",Me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?We(function ae(Me){return le("E",void 0,Me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?We(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function he(Me,Ae){return qe.call(Me,Ae)}class ve{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ae)}catch(Qe){re(Qe)}}error(Ae){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ae)}catch(Qe){re(Qe)}else re(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Se){re(Se)}}}class xe extends Y{constructor(Ae,Se,Qe){let Ze;if(super(),(0,D.m)(Ae)||!Ae)Ze={next:null!=Ae?Ae:void 0,error:null!=Se?Se:void 0,complete:null!=Qe?Qe:void 0};else{let se;this&&V.v.useDeprecatedNextContext?(se=Object.create(Ae),se.unsubscribe=()=>this.unsubscribe(),Ze={next:Ae.next&&he(Ae.next,se),error:Ae.error&&he(Ae.error,se),complete:Ae.complete&&he(Ae.complete,se)}):Ze=Ae}this.destination=new ve(Ze)}}function re(Me){V.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Me):(0,ie.h)(Me)}function We(Me,Ae){const{onStoppedNotification:Se}=V.v;Se&&H.z.setTimeout(()=>Se(Me,Ae))}const He={closed:!0,next:J,error:function Ie(Me){throw Me},complete:J}},727:(lt,Ce,F)=>{"use strict";F.d(Ce,{Lc:()=>ce,w0:()=>J,Nn:()=>ae});var D=F(576);const V=(0,F(3888).d)(le=>function(G){le(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Y,qe)=>`${qe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ie=F(8737);class J{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const he of G)he.remove(this);else G.remove(this);const{initialTeardown:Y}=this;if((0,D.m)(Y))try{Y()}catch(he){H=he instanceof V?he.errors:[he]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const he of qe)try{de(he)}catch(ve){H=null!=H?H:[],ve instanceof V?H=[...H,...ve.errors]:H.push(ve)}}if(H)throw new V(H)}}add(H){var G;if(H&&H!==this)if(this.closed)de(H);else{if(H instanceof J){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,ie.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,ie.P)(G,H),H instanceof J&&H._removeParent(this)}}J.EMPTY=(()=>{const le=new J;return le.closed=!0,le})();const ce=J.EMPTY;function ae(le){return le instanceof J||le&&"closed"in le&&(0,D.m)(le.remove)&&(0,D.m)(le.add)&&(0,D.m)(le.unsubscribe)}function de(le){(0,D.m)(le)?le():le.unsubscribe()}},2416:(lt,Ce,F)=>{"use strict";F.d(Ce,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ce,F)=>{"use strict";F.d(Ce,{E:()=>m});const m=new(F(8306).y)(J=>J.complete())},8996:(lt,Ce,F)=>{"use strict";F.d(Ce,{D:()=>Ae});var D=F(8421),m=F(5363),V=F(9468),ce=F(8306),de=F(2202),le=F(576),H=F(9672);function Y(Se,Qe){if(!Se)throw new Error("Iterable cannot be null");return new ce.y(Ze=>{(0,H.f)(Ze,Qe,()=>{const se=Se[Symbol.asyncIterator]();(0,H.f)(Ze,Qe,()=>{se.next().then(X=>{X.done?Ze.complete():Ze.next(X.value)})},0,!0)})})}var qe=F(3670),he=F(8239),ve=F(1144),xe=F(6495),re=F(2206),Ie=F(4532),We=F(3260);function Ae(Se,Qe){return Qe?function Me(Se,Qe){if(null!=Se){if((0,qe.c)(Se))return function ie(Se,Qe){return(0,D.Xf)(Se).pipe((0,V.R)(Qe),(0,m.Q)(Qe))}(Se,Qe);if((0,ve.z)(Se))return function ae(Se,Qe){return new ce.y(Ze=>{let se=0;return Qe.schedule(function(){se===Se.length?Ze.complete():(Ze.next(Se[se++]),Ze.closed||this.schedule())})})}(Se,Qe);if((0,he.t)(Se))return function J(Se,Qe){return(0,D.Xf)(Se).pipe((0,V.R)(Qe),(0,m.Q)(Qe))}(Se,Qe);if((0,re.D)(Se))return Y(Se,Qe);if((0,xe.T)(Se))return function G(Se,Qe){return new ce.y(Ze=>{let se;return(0,H.f)(Ze,Qe,()=>{se=Se[de.h](),(0,H.f)(Ze,Qe,()=>{let X,ue;try{({value:X,done:ue}=se.next())}catch(we){return void Ze.error(we)}ue?Ze.complete():Ze.next(X)},0,!0)}),()=>(0,le.m)(null==se?void 0:se.return)&&se.return()})}(Se,Qe);if((0,We.L)(Se))return function He(Se,Qe){return Y((0,We.Q)(Se),Qe)}(Se,Qe)}throw(0,Ie.z)(Se)}(Se,Qe):(0,D.Xf)(Se)}},8421:(lt,Ce,F)=>{"use strict";F.d(Ce,{Xf:()=>qe});var D=F(655),m=F(1144),V=F(8239),ie=F(8306),J=F(3670),ce=F(2206),ae=F(4532),de=F(6495),le=F(3260),H=F(576),G=F(7849),Y=F(8822);function qe(Me){if(Me instanceof ie.y)return Me;if(null!=Me){if((0,J.c)(Me))return function he(Me){return new ie.y(Ae=>{const Se=Me[Y.L]();if((0,H.m)(Se.subscribe))return Se.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,m.z)(Me))return function ve(Me){return new ie.y(Ae=>{for(let Se=0;Se<Me.length&&!Ae.closed;Se++)Ae.next(Me[Se]);Ae.complete()})}(Me);if((0,V.t)(Me))return function xe(Me){return new ie.y(Ae=>{Me.then(Se=>{Ae.closed||(Ae.next(Se),Ae.complete())},Se=>Ae.error(Se)).then(null,G.h)})}(Me);if((0,ce.D)(Me))return Ie(Me);if((0,de.T)(Me))return function re(Me){return new ie.y(Ae=>{for(const Se of Me)if(Ae.next(Se),Ae.closed)return;Ae.complete()})}(Me);if((0,le.L)(Me))return function We(Me){return Ie((0,le.Q)(Me))}(Me)}throw(0,ae.z)(Me)}function Ie(Me){return new ie.y(Ae=>{(function He(Me,Ae){var Se,Qe,Ze,se;return(0,D.mG)(this,void 0,void 0,function*(){try{for(Se=(0,D.KL)(Me);!(Qe=yield Se.next()).done;)if(Ae.next(Qe.value),Ae.closed)return}catch(X){Ze={error:X}}finally{try{Qe&&!Qe.done&&(se=Se.return)&&(yield se.call(Se))}finally{if(Ze)throw Ze.error}}Ae.complete()})})(Me,Ae).catch(Se=>Ae.error(Se))})}},6451:(lt,Ce,F)=>{"use strict";F.d(Ce,{T:()=>ce});var D=F(8189),m=F(8421),V=F(515),ie=F(7669),J=F(8996);function ce(...ae){const de=(0,ie.yG)(ae),le=(0,ie._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,m.Xf)(H[0]):(0,D.J)(le)((0,J.D)(H,de)):V.E}},5403:(lt,Ce,F)=>{"use strict";F.d(Ce,{x:()=>m});var D=F(2961);function m(ie,J,ce,ae,de){return new V(ie,J,ce,ae,de)}class V extends D.Lv{constructor(J,ce,ae,de,le,H){super(J),this.onFinalize=le,this.shouldUnsubscribe=H,this._next=ce?function(G){try{ce(G)}catch(Y){J.error(Y)}}:super._next,this._error=de?function(G){try{de(G)}catch(Y){J.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(G){J.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(lt,Ce,F)=>{"use strict";F.d(Ce,{U:()=>V});var D=F(4482),m=F(5403);function V(ie,J){return(0,D.e)((ce,ae)=>{let de=0;ce.subscribe((0,m.x)(ae,le=>{ae.next(ie.call(J,le,de++))}))})}},8189:(lt,Ce,F)=>{"use strict";F.d(Ce,{J:()=>V});var D=F(5577),m=F(4671);function V(ie=1/0){return(0,D.z)(m.y,ie)}},5577:(lt,Ce,F)=>{"use strict";F.d(Ce,{z:()=>de});var D=F(4004),m=F(8421),V=F(4482),ie=F(9672),J=F(5403),ae=F(576);function de(le,H,G=1/0){return(0,ae.m)(H)?de((Y,qe)=>(0,D.U)((he,ve)=>H(Y,he,qe,ve))((0,m.Xf)(le(Y,qe))),G):("number"==typeof H&&(G=H),(0,V.e)((Y,qe)=>function ce(le,H,G,Y,qe,he,ve,xe){const re=[];let Ie=0,We=0,He=!1;const Me=()=>{He&&!re.length&&!Ie&&H.complete()},Ae=Qe=>Ie<Y?Se(Qe):re.push(Qe),Se=Qe=>{he&&H.next(Qe),Ie++;let Ze=!1;(0,m.Xf)(G(Qe,We++)).subscribe((0,J.x)(H,se=>{null==qe||qe(se),he?Ae(se):H.next(se)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Ie--;re.length&&Ie<Y;){const se=re.shift();ve?(0,ie.f)(H,ve,()=>Se(se)):Se(se)}Me()}catch(se){H.error(se)}}))};return le.subscribe((0,J.x)(H,Ae,()=>{He=!0,Me()})),()=>{null==xe||xe()}}(Y,qe,le,G)))}},5363:(lt,Ce,F)=>{"use strict";F.d(Ce,{Q:()=>ie});var D=F(9672),m=F(4482),V=F(5403);function ie(J,ce=0){return(0,m.e)((ae,de)=>{ae.subscribe((0,V.x)(de,le=>(0,D.f)(de,J,()=>de.next(le),ce),()=>(0,D.f)(de,J,()=>de.complete(),ce),le=>(0,D.f)(de,J,()=>de.error(le),ce)))})}},3099:(lt,Ce,F)=>{"use strict";F.d(Ce,{B:()=>ce});var D=F(8996),m=F(5698),V=F(7579),ie=F(2961),J=F(4482);function ce(de={}){const{connector:le=(()=>new V.x),resetOnError:H=!0,resetOnComplete:G=!0,resetOnRefCountZero:Y=!0}=de;return qe=>{let he=null,ve=null,xe=null,re=0,Ie=!1,We=!1;const He=()=>{null==ve||ve.unsubscribe(),ve=null},Me=()=>{He(),he=xe=null,Ie=We=!1},Ae=()=>{const Se=he;Me(),null==Se||Se.unsubscribe()};return(0,J.e)((Se,Qe)=>{re++,!We&&!Ie&&He();const Ze=xe=null!=xe?xe:le();Qe.add(()=>{re--,0===re&&!We&&!Ie&&(ve=ae(Ae,Y))}),Ze.subscribe(Qe),he||(he=new ie.Hp({next:se=>Ze.next(se),error:se=>{We=!0,He(),ve=ae(Me,H,se),Ze.error(se)},complete:()=>{Ie=!0,He(),ve=ae(Me,G),Ze.complete()}}),(0,D.D)(Se).subscribe(he))})(qe)}}function ae(de,le,...H){return!0===le?(de(),null):!1===le?null:le(...H).pipe((0,m.q)(1)).subscribe(()=>de())}},9468:(lt,Ce,F)=>{"use strict";F.d(Ce,{R:()=>m});var D=F(4482);function m(V,ie=0){return(0,D.e)((J,ce)=>{ce.add(V.schedule(()=>J.subscribe(ce),ie))})}},5698:(lt,Ce,F)=>{"use strict";F.d(Ce,{q:()=>ie});var D=F(515),m=F(4482),V=F(5403);function ie(J){return J<=0?()=>D.E:(0,m.e)((ce,ae)=>{let de=0;ce.subscribe((0,V.x)(ae,le=>{++de<=J&&(ae.next(le),J<=de&&ae.complete())}))})}},8505:(lt,Ce,F)=>{"use strict";F.d(Ce,{b:()=>J});var D=F(576),m=F(4482),V=F(5403),ie=F(4671);function J(ce,ae,de){const le=(0,D.m)(ce)||ae||de?{next:ce,error:ae,complete:de}:ce;return le?(0,m.e)((H,G)=>{var Y;null===(Y=le.subscribe)||void 0===Y||Y.call(le);let qe=!0;H.subscribe((0,V.x)(G,he=>{var ve;null===(ve=le.next)||void 0===ve||ve.call(le,he),G.next(he)},()=>{var he;qe=!1,null===(he=le.complete)||void 0===he||he.call(le),G.complete()},he=>{var ve;qe=!1,null===(ve=le.error)||void 0===ve||ve.call(le,he),G.error(he)},()=>{var he,ve;qe&&(null===(he=le.unsubscribe)||void 0===he||he.call(le)),null===(ve=le.finalize)||void 0===ve||ve.call(le)}))}):ie.y}},4408:(lt,Ce,F)=>{"use strict";F.d(Ce,{o:()=>J});var D=F(727);class m extends D.w0{constructor(ae,de){super()}schedule(ae,de=0){return this}}const V={setInterval(ce,ae,...de){const{delegate:le}=V;return(null==le?void 0:le.setInterval)?le.setInterval(ce,ae,...de):setInterval(ce,ae,...de)},clearInterval(ce){const{delegate:ae}=V;return((null==ae?void 0:ae.clearInterval)||clearInterval)(ce)},delegate:void 0};var ie=F(8737);class J extends m{constructor(ae,de){super(ae,de),this.scheduler=ae,this.work=de,this.pending=!1}schedule(ae,de=0){if(this.closed)return this;this.state=ae;const le=this.id,H=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(H,le,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(H,this.id,de),this}requestAsyncId(ae,de,le=0){return V.setInterval(ae.flush.bind(ae,this),le)}recycleAsyncId(ae,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;V.clearInterval(de)}execute(ae,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ae,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,de){let H,le=!1;try{this.work(ae)}catch(G){le=!0,H=G||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(le,this),null!=ae&&(this.id=this.recycleAsyncId(de,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ce,F)=>{"use strict";F.d(Ce,{v:()=>V});var D=F(6063);class m{constructor(J,ce=m.now){this.schedulerActionCtor=J,this.now=ce}schedule(J,ce=0,ae){return new this.schedulerActionCtor(this,J).schedule(ae,ce)}}m.now=D.l.now;class V extends m{constructor(J,ce=m.now){super(J,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:ce}=this;if(this._active)return void ce.push(J);let ae;this._active=!0;do{if(ae=J.execute(J.state,J.delay))break}while(J=ce.shift());if(this._active=!1,ae){for(;J=ce.shift();)J.unsubscribe();throw ae}}}},4986:(lt,Ce,F)=>{"use strict";F.d(Ce,{z:()=>V});var D=F(4408);const V=new(F(7565).v)(D.o)},6063:(lt,Ce,F)=>{"use strict";F.d(Ce,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(lt,Ce,F)=>{"use strict";F.d(Ce,{z:()=>D});const D={setTimeout(m,V,...ie){const{delegate:J}=D;return(null==J?void 0:J.setTimeout)?J.setTimeout(m,V,...ie):setTimeout(m,V,...ie)},clearTimeout(m){const{delegate:V}=D;return((null==V?void 0:V.clearTimeout)||clearTimeout)(m)},delegate:void 0}},2202:(lt,Ce,F)=>{"use strict";F.d(Ce,{h:()=>m});const m=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ce,F)=>{"use strict";F.d(Ce,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Ce,F)=>{"use strict";F.d(Ce,{_6:()=>ce,jO:()=>ie,yG:()=>J});var D=F(576);function V(ae){return ae[ae.length-1]}function ie(ae){return(0,D.m)(V(ae))?ae.pop():void 0}function J(ae){return function m(ae){return ae&&(0,D.m)(ae.schedule)}(V(ae))?ae.pop():void 0}function ce(ae,de){return"number"==typeof V(ae)?ae.pop():de}},8737:(lt,Ce,F)=>{"use strict";function D(m,V){if(m){const ie=m.indexOf(V);0<=ie&&m.splice(ie,1)}}F.d(Ce,{P:()=>D})},3888:(lt,Ce,F)=>{"use strict";function D(m){const ie=m(J=>{Error.call(J),J.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}F.d(Ce,{d:()=>D})},2806:(lt,Ce,F)=>{"use strict";F.d(Ce,{x:()=>V,O:()=>ie});var D=F(2416);let m=null;function V(J){if(D.v.useDeprecatedSynchronousErrorHandling){const ce=!m;if(ce&&(m={errorThrown:!1,error:null}),J(),ce){const{errorThrown:ae,error:de}=m;if(m=null,ae)throw de}}else J()}function ie(J){D.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=J)}},9672:(lt,Ce,F)=>{"use strict";function D(m,V,ie,J=0,ce=!1){const ae=V.schedule(function(){ie(),ce?m.add(this.schedule(null,J)):this.unsubscribe()},J);if(m.add(ae),!ce)return ae}F.d(Ce,{f:()=>D})},4671:(lt,Ce,F)=>{"use strict";function D(m){return m}F.d(Ce,{y:()=>D})},1144:(lt,Ce,F)=>{"use strict";F.d(Ce,{z:()=>D});const D=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(lt,Ce,F)=>{"use strict";F.d(Ce,{D:()=>m});var D=F(576);function m(V){return Symbol.asyncIterator&&(0,D.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(lt,Ce,F)=>{"use strict";function D(m){return"function"==typeof m}F.d(Ce,{m:()=>D})},3670:(lt,Ce,F)=>{"use strict";F.d(Ce,{c:()=>V});var D=F(8822),m=F(576);function V(ie){return(0,m.m)(ie[D.L])}},6495:(lt,Ce,F)=>{"use strict";F.d(Ce,{T:()=>V});var D=F(2202),m=F(576);function V(ie){return(0,m.m)(null==ie?void 0:ie[D.h])}},8239:(lt,Ce,F)=>{"use strict";F.d(Ce,{t:()=>m});var D=F(576);function m(V){return(0,D.m)(null==V?void 0:V.then)}},3260:(lt,Ce,F)=>{"use strict";F.d(Ce,{Q:()=>V,L:()=>ie});var D=F(655),m=F(576);function V(J){return(0,D.FC)(this,arguments,function*(){const ae=J.getReader();try{for(;;){const{value:de,done:le}=yield(0,D.qq)(ae.read());if(le)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(de)}}finally{ae.releaseLock()}})}function ie(J){return(0,m.m)(null==J?void 0:J.getReader)}},4482:(lt,Ce,F)=>{"use strict";F.d(Ce,{A:()=>m,e:()=>V});var D=F(576);function m(ie){return(0,D.m)(null==ie?void 0:ie.lift)}function V(ie){return J=>{if(m(J))return J.lift(function(ce){try{return ie(ce,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(lt,Ce,F)=>{"use strict";F.d(Ce,{h:()=>V});var D=F(2416),m=F(3410);function V(ie){m.z.setTimeout(()=>{const{onUnhandledError:J}=D.v;if(!J)throw ie;J(ie)})}},4532:(lt,Ce,F)=>{"use strict";function D(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>D})},655:(lt,Ce,F)=>{"use strict";function ie(X,ue){var we={};for(var fe in X)Object.prototype.hasOwnProperty.call(X,fe)&&ue.indexOf(fe)<0&&(we[fe]=X[fe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(fe=Object.getOwnPropertySymbols(X);Ve<fe.length;Ve++)ue.indexOf(fe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(X,fe[Ve])&&(we[fe[Ve]]=X[fe[Ve]])}return we}function de(X,ue,we,fe){return new(we||(we=Promise))(function(pe,it){function Jt(Et){try{ht(fe.next(Et))}catch(an){it(an)}}function Mn(Et){try{ht(fe.throw(Et))}catch(an){it(an)}}function ht(Et){Et.done?pe(Et.value):function Ve(pe){return pe instanceof we?pe:new we(function(it){it(pe)})}(Et.value).then(Jt,Mn)}ht((fe=fe.apply(X,ue||[])).next())})}function re(X){return this instanceof re?(this.v=X,this):new re(X)}function Ie(X,ue,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,fe=we.apply(X,ue||[]),pe=[];return Ve={},it("next"),it("throw"),it("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function it(cn){fe[cn]&&(Ve[cn]=function(ai){return new Promise(function(en,Di){pe.push([cn,ai,en,Di])>1||Jt(cn,ai)})})}function Jt(cn,ai){try{!function Mn(cn){cn.value instanceof re?Promise.resolve(cn.value.v).then(ht,Et):an(pe[0][2],cn)}(fe[cn](ai))}catch(en){an(pe[0][3],en)}}function ht(cn){Jt("next",cn)}function Et(cn){Jt("throw",cn)}function an(cn,ai){cn(ai),pe.shift(),pe.length&&Jt(pe[0][0],pe[0][1])}}function He(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ue=X[Symbol.asyncIterator];return ue?ue.call(X):(X=function Y(X){var ue="function"==typeof Symbol&&Symbol.iterator,we=ue&&X[ue],fe=0;if(we)return we.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&fe>=X.length&&(X=void 0),{value:X&&X[fe++],done:!X}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),we={},fe("next"),fe("throw"),fe("return"),we[Symbol.asyncIterator]=function(){return this},we);function fe(pe){we[pe]=X[pe]&&function(it){return new Promise(function(Jt,Mn){!function Ve(pe,it,Jt,Mn){Promise.resolve(Mn).then(function(ht){pe({value:ht,done:Jt})},it)}(Jt,Mn,(it=X[pe](it)).done,it.value)})}}}F.d(Ce,{_T:()=>ie,mG:()=>de,qq:()=>re,FC:()=>Ie,KL:()=>He})},9808:(lt,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{APP_BASE_HREF:()=>We,AsyncPipe:()=>Xo,CommonModule:()=>bo,CurrencyPipe:()=>Si,DATE_PIPE_DEFAULT_TIMEZONE:()=>Su,DOCUMENT:()=>ae,DatePipe:()=>Mu,DecimalPipe:()=>Ai,FormStyle:()=>we,FormatWidth:()=>Ve,HashLocationStrategy:()=>Me,I18nPluralPipe:()=>Pr,I18nSelectPipe:()=>kr,JsonPipe:()=>no,KeyValuePipe:()=>Hl,LOCATION_INITIALIZED:()=>H,Location:()=>Ae,LocationStrategy:()=>re,LowerCasePipe:()=>Do,NgClass:()=>is,NgComponentOutlet:()=>Rn,NgForOf:()=>fr,NgForOfContext:()=>hr,NgIf:()=>Zr,NgIfContext:()=>on,NgLocaleLocalization:()=>rs,NgLocalization:()=>un,NgPlural:()=>eo,NgPluralCase:()=>Tr,NgStyle:()=>La,NgSwitch:()=>Qr,NgSwitchCase:()=>Or,NgSwitchDefault:()=>Qo,NgTemplateOutlet:()=>Yo,NumberFormatStyle:()=>X,NumberSymbol:()=>pe,PathLocationStrategy:()=>He,PercentPipe:()=>pr,PlatformLocation:()=>de,Plural:()=>ue,SlicePipe:()=>Ba,TitleCasePipe:()=>Ua,TranslationWidth:()=>fe,UpperCasePipe:()=>to,VERSION:()=>$a,ViewportScroller:()=>Ls,WeekDay:()=>it,XhrFactory:()=>mn,formatCurrency:()=>Nr,formatDate:()=>zn,formatNumber:()=>Ft,formatPercent:()=>Ue,getCurrencySymbol:()=>Wr,getLocaleCurrencyCode:()=>Ir,getLocaleCurrencyName:()=>Ji,getLocaleCurrencySymbol:()=>Gr,getLocaleDateFormat:()=>en,getLocaleDateTimeFormat:()=>tn,getLocaleDayNames:()=>ht,getLocaleDayPeriods:()=>Mn,getLocaleDirection:()=>qr,getLocaleEraNames:()=>an,getLocaleExtraDayPeriodRules:()=>es,getLocaleExtraDayPeriods:()=>pt,getLocaleFirstDayOfWeek:()=>cn,getLocaleId:()=>Jt,getLocaleMonthNames:()=>Et,getLocaleNumberFormat:()=>Xn,getLocaleNumberSymbol:()=>$t,getLocalePluralCase:()=>cr,getLocaleTimeFormat:()=>Di,getLocaleWeekEndRange:()=>ai,getNumberOfCurrencyDigits:()=>In,isPlatformBrowser:()=>Fr,isPlatformServer:()=>gr,isPlatformWorkerApp:()=>xu,isPlatformWorkerUi:()=>To,registerLocaleData:()=>St,\u0275BrowserPlatformLocation:()=>G,\u0275DomAdapter:()=>ce,\u0275NullViewportScroller:()=>na,\u0275PLATFORM_BROWSER_ID:()=>Fs,\u0275PLATFORM_SERVER_ID:()=>ui,\u0275PLATFORM_WORKER_APP_ID:()=>ea,\u0275PLATFORM_WORKER_UI_ID:()=>ta,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>Kr,\u0275setRootDomAdapter:()=>J});var D=F(5e3);let m=null;function V(){return m}function J(T){m||(m=T)}class ce{}const ae=new D.InjectionToken("DocumentToken");let de=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:function(){return function le(){return(0,D.\u0275\u0275inject)(G)}()},providedIn:"platform"}),T})();const H=new D.InjectionToken("Location Initialized");let G=(()=>{class T extends de{constructor(b){super(),this._doc=b,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",b,!1),()=>P.removeEventListener("popstate",b)}onHashChange(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",b,!1),()=>P.removeEventListener("hashchange",b)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(b){this.location.pathname=b}pushState(b,P,K){Y()?this._history.pushState(b,P,K):this.location.hash=K}replaceState(b,P,K){Y()?this._history.replaceState(b,P,K):this.location.hash=K}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275inject(ae))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:function(){return function qe(){return new G((0,D.\u0275\u0275inject)(ae))}()},providedIn:"platform"}),T})();function Y(){return!!window.history.pushState}function he(T,O){if(0==T.length)return O;if(0==O.length)return T;let b=0;return T.endsWith("/")&&b++,O.startsWith("/")&&b++,2==b?T+O.substring(1):1==b?T+O:T+"/"+O}function ve(T){const O=T.match(/#|\?|$/),b=O&&O.index||T.length;return T.slice(0,b-("/"===T[b-1]?1:0))+T.slice(b)}function xe(T){return T&&"?"!==T[0]?"?"+T:T}let re=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:function(){return function Ie(T){const O=(0,D.\u0275\u0275inject)(ae).location;return new He((0,D.\u0275\u0275inject)(de),O&&O.origin||"")}()},providedIn:"root"}),T})();const We=new D.InjectionToken("appBaseHref");let He=(()=>{class T extends re{constructor(b,P){if(super(),this._platformLocation=b,this._removeListenerFns=[],null==P&&(P=this._platformLocation.getBaseHrefFromDOM()),null==P)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=P}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return he(this._baseHref,b)}path(b=!1){const P=this._platformLocation.pathname+xe(this._platformLocation.search),K=this._platformLocation.hash;return K&&b?`${P}${K}`:P}pushState(b,P,K,ye){const Ne=this.prepareExternalUrl(K+xe(ye));this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,K,ye){const Ne=this.prepareExternalUrl(K+xe(ye));this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,K;null===(K=(P=this._platformLocation).historyGo)||void 0===K||K.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275inject(de),D.\u0275\u0275inject(We,8))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Me=(()=>{class T extends re{constructor(b,P){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(b){const P=he(this._baseHref,b);return P.length>0?"#"+P:P}pushState(b,P,K,ye){let Ne=this.prepareExternalUrl(K+xe(ye));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,K,ye){let Ne=this.prepareExternalUrl(K+xe(ye));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,K;null===(K=(P=this._platformLocation).historyGo)||void 0===K||K.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275inject(de),D.\u0275\u0275inject(We,8))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Ae=(()=>{class T{constructor(b,P){this._subject=new D.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=b;const K=this._platformStrategy.getBaseHref();this._platformLocation=P,this._baseHref=ve(Ze(K)),this._platformStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}path(b=!1){return this.normalize(this._platformStrategy.path(b))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(b,P=""){return this.path()==this.normalize(b+xe(P))}normalize(b){return T.stripTrailingSlash(function Qe(T,O){return T&&O.startsWith(T)?O.substring(T.length):O}(this._baseHref,Ze(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._platformStrategy.prepareExternalUrl(b)}go(b,P="",K=null){this._platformStrategy.pushState(K,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),K)}replaceState(b,P="",K=null){this._platformStrategy.replaceState(K,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),K)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(b=0){var P,K;null===(K=(P=this._platformStrategy).historyGo)||void 0===K||K.call(P,b)}onUrlChange(b){this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}))}_notifyUrlChangeListeners(b="",P){this._urlChangeListeners.forEach(K=>K(b,P))}subscribe(b,P,K){return this._subject.subscribe({next:b,error:P,complete:K})}}return T.normalizeQueryParams=xe,T.joinWithSlash=he,T.stripTrailingSlash=ve,T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275inject(re),D.\u0275\u0275inject(de))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:function(){return function Se(){return new Ae((0,D.\u0275\u0275inject)(re),(0,D.\u0275\u0275inject)(de))}()},providedIn:"root"}),T})();function Ze(T){return T.replace(/\/index.html$/,"")}const se={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),we=(()=>((we=we||{})[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),Ve=(()=>((Ve=Ve||{})[Ve.Short=0]="Short",Ve[Ve.Medium=1]="Medium",Ve[Ve.Long=2]="Long",Ve[Ve.Full=3]="Full",Ve))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))(),it=(()=>((it=it||{})[it.Sunday=0]="Sunday",it[it.Monday=1]="Monday",it[it.Tuesday=2]="Tuesday",it[it.Wednesday=3]="Wednesday",it[it.Thursday=4]="Thursday",it[it.Friday=5]="Friday",it[it.Saturday=6]="Saturday",it))();function Jt(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.LocaleId]}function Mn(T,O,b){const P=(0,D.\u0275findLocaleData)(T),ye=dr([P[D.\u0275LocaleDataIndex.DayPeriodsFormat],P[D.\u0275LocaleDataIndex.DayPeriodsStandalone]],O);return dr(ye,b)}function ht(T,O,b){const P=(0,D.\u0275findLocaleData)(T),ye=dr([P[D.\u0275LocaleDataIndex.DaysFormat],P[D.\u0275LocaleDataIndex.DaysStandalone]],O);return dr(ye,b)}function Et(T,O,b){const P=(0,D.\u0275findLocaleData)(T),ye=dr([P[D.\u0275LocaleDataIndex.MonthsFormat],P[D.\u0275LocaleDataIndex.MonthsStandalone]],O);return dr(ye,b)}function an(T,O){return dr((0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.Eras],O)}function cn(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.FirstDayOfWeek]}function ai(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.WeekendRange]}function en(T,O){return dr((0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.DateFormat],O)}function Di(T,O){return dr((0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.TimeFormat],O)}function tn(T,O){return dr((0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.DateTimeFormat],O)}function $t(T,O){const b=(0,D.\u0275findLocaleData)(T),P=b[D.\u0275LocaleDataIndex.NumberSymbols][O];if(void 0===P){if(O===pe.CurrencyDecimal)return b[D.\u0275LocaleDataIndex.NumberSymbols][pe.Decimal];if(O===pe.CurrencyGroup)return b[D.\u0275LocaleDataIndex.NumberSymbols][pe.Group]}return P}function Xn(T,O){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.NumberFormats][O]}function Gr(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.CurrencySymbol]||null}function Ji(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.CurrencyName]||null}function Ir(T){return(0,D.\u0275getLocaleCurrencyCode)(T)}const cr=D.\u0275getLocalePluralCase;function Xi(T){if(!T[D.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[D.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function es(T){const O=(0,D.\u0275findLocaleData)(T);return Xi(O),(O[D.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?qn(P):[qn(P[0]),qn(P[1])])}function pt(T,O,b){const P=(0,D.\u0275findLocaleData)(T);Xi(P);const ye=dr([P[D.\u0275LocaleDataIndex.ExtraData][0],P[D.\u0275LocaleDataIndex.ExtraData][1]],O)||[];return dr(ye,b)||[]}function qr(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.Directionality]}function dr(T,O){for(let b=O;b>-1;b--)if(void 0!==T[b])return T[b];throw new Error("Locale data API: locale data undefined")}function qn(T){const[O,b]=T.split(":");return{hours:+O,minutes:+b}}function Wr(T,O,b="en"){const P=function Ci(T){return(0,D.\u0275findLocaleData)(T)[D.\u0275LocaleDataIndex.Currencies]}(b)[T]||se[T]||[],K=P[1];return"narrow"===O&&"string"==typeof K?K:P[0]||T}function In(T){let O;const b=se[T];return b&&(O=b[2]),"number"==typeof O?O:2}const Wn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wn={},zr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),ct=(()=>((ct=ct||{})[ct.FullYear=0]="FullYear",ct[ct.Month=1]="Month",ct[ct.Date=2]="Date",ct[ct.Hours=3]="Hours",ct[ct.Minutes=4]="Minutes",ct[ct.Seconds=5]="Seconds",ct[ct.FractionalSeconds=6]="FractionalSeconds",ct[ct.Day=7]="Day",ct))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function zn(T,O,b,P){let K=function Pt(T){if(Zt(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[K,ye=1,Ne=1]=T.split("-").map(Ke=>+Ke);return ts(K,ye-1,Ne)}const b=parseFloat(T);if(!isNaN(T-b))return new Date(b);let P;if(P=T.match(Wn))return function br(T){const O=new Date(0);let b=0,P=0;const K=T[8]?O.setUTCFullYear:O.setFullYear,ye=T[8]?O.setUTCHours:O.setHours;T[9]&&(b=Number(T[9]+T[10]),P=Number(T[9]+T[11])),K.call(O,Number(T[1]),Number(T[2])-1,Number(T[3]));const Ne=Number(T[4]||0)-b,Ke=Number(T[5]||0)-P,dn=Number(T[6]||0),Qt=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return ye.call(O,Ne,Ke,dn,Qt),O}(P)}const O=new Date(T);if(!Zt(O))throw new Error(`Unable to convert "${T}" into a date`);return O}(T);O=Kt(b,O)||O;let Ke,Ne=[];for(;O;){if(Ke=zr.exec(O),!Ke){Ne.push(O);break}{Ne=Ne.concat(Ke.slice(1));const Bt=Ne.pop();if(!Bt)break;O=Bt}}let dn=K.getTimezoneOffset();P&&(dn=ne(P,dn),K=function et(T,O,b){const P=b?-1:1,K=T.getTimezoneOffset();return function ze(T,O){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+O),T}(T,P*(ne(O,K)-K))}(K,P,!0));let Qt="";return Ne.forEach(Bt=>{const Vt=function Ee(T){if(Z[T])return Z[T];let O;switch(T){case"G":case"GG":case"GGG":O=Ut(It.Eras,fe.Abbreviated);break;case"GGGG":O=Ut(It.Eras,fe.Wide);break;case"GGGGG":O=Ut(It.Eras,fe.Narrow);break;case"y":O=mt(ct.FullYear,1,0,!1,!0);break;case"yy":O=mt(ct.FullYear,2,0,!0,!0);break;case"yyy":O=mt(ct.FullYear,3,0,!1,!0);break;case"yyyy":O=mt(ct.FullYear,4,0,!1,!0);break;case"Y":O=$(1);break;case"YY":O=$(2,!0);break;case"YYY":O=$(3);break;case"YYYY":O=$(4);break;case"M":case"L":O=mt(ct.Month,1,1);break;case"MM":case"LL":O=mt(ct.Month,2,1);break;case"MMM":O=Ut(It.Months,fe.Abbreviated);break;case"MMMM":O=Ut(It.Months,fe.Wide);break;case"MMMMM":O=Ut(It.Months,fe.Narrow);break;case"LLL":O=Ut(It.Months,fe.Abbreviated,we.Standalone);break;case"LLLL":O=Ut(It.Months,fe.Wide,we.Standalone);break;case"LLLLL":O=Ut(It.Months,fe.Narrow,we.Standalone);break;case"w":O=z(1);break;case"ww":O=z(2);break;case"W":O=z(1,!0);break;case"d":O=mt(ct.Date,1);break;case"dd":O=mt(ct.Date,2);break;case"c":case"cc":O=mt(ct.Day,1);break;case"ccc":O=Ut(It.Days,fe.Abbreviated,we.Standalone);break;case"cccc":O=Ut(It.Days,fe.Wide,we.Standalone);break;case"ccccc":O=Ut(It.Days,fe.Narrow,we.Standalone);break;case"cccccc":O=Ut(It.Days,fe.Short,we.Standalone);break;case"E":case"EE":case"EEE":O=Ut(It.Days,fe.Abbreviated);break;case"EEEE":O=Ut(It.Days,fe.Wide);break;case"EEEEE":O=Ut(It.Days,fe.Narrow);break;case"EEEEEE":O=Ut(It.Days,fe.Short);break;case"a":case"aa":case"aaa":O=Ut(It.DayPeriods,fe.Abbreviated);break;case"aaaa":O=Ut(It.DayPeriods,fe.Wide);break;case"aaaaa":O=Ut(It.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":O=Ut(It.DayPeriods,fe.Abbreviated,we.Standalone,!0);break;case"bbbb":O=Ut(It.DayPeriods,fe.Wide,we.Standalone,!0);break;case"bbbbb":O=Ut(It.DayPeriods,fe.Narrow,we.Standalone,!0);break;case"B":case"BB":case"BBB":O=Ut(It.DayPeriods,fe.Abbreviated,we.Format,!0);break;case"BBBB":O=Ut(It.DayPeriods,fe.Wide,we.Format,!0);break;case"BBBBB":O=Ut(It.DayPeriods,fe.Narrow,we.Format,!0);break;case"h":O=mt(ct.Hours,1,-12);break;case"hh":O=mt(ct.Hours,2,-12);break;case"H":O=mt(ct.Hours,1);break;case"HH":O=mt(ct.Hours,2);break;case"m":O=mt(ct.Minutes,1);break;case"mm":O=mt(ct.Minutes,2);break;case"s":O=mt(ct.Seconds,1);break;case"ss":O=mt(ct.Seconds,2);break;case"S":O=mt(ct.FractionalSeconds,1);break;case"SS":O=mt(ct.FractionalSeconds,2);break;case"SSS":O=mt(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":O=Oe(zt.Short);break;case"ZZZZZ":O=Oe(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":O=Oe(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":O=Oe(zt.Long);break;default:return null}return Z[T]=O,O}(Bt);Qt+=Vt?Vt(K,b,dn):"''"===Bt?"'":Bt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Qt}function ts(T,O,b){const P=new Date(0);return P.setFullYear(T,O,b),P.setHours(0,0,0),P}function Kt(T,O){const b=Jt(T);if(wn[b]=wn[b]||{},wn[b][O])return wn[b][O];let P="";switch(O){case"shortDate":P=en(T,Ve.Short);break;case"mediumDate":P=en(T,Ve.Medium);break;case"longDate":P=en(T,Ve.Long);break;case"fullDate":P=en(T,Ve.Full);break;case"shortTime":P=Di(T,Ve.Short);break;case"mediumTime":P=Di(T,Ve.Medium);break;case"longTime":P=Di(T,Ve.Long);break;case"fullTime":P=Di(T,Ve.Full);break;case"short":const K=Kt(T,"shortTime"),ye=Kt(T,"shortDate");P=Xs(tn(T,Ve.Short),[K,ye]);break;case"medium":const Ne=Kt(T,"mediumTime"),Ke=Kt(T,"mediumDate");P=Xs(tn(T,Ve.Medium),[Ne,Ke]);break;case"long":const dn=Kt(T,"longTime"),Qt=Kt(T,"longDate");P=Xs(tn(T,Ve.Long),[dn,Qt]);break;case"full":const Bt=Kt(T,"fullTime"),Vt=Kt(T,"fullDate");P=Xs(tn(T,Ve.Full),[Bt,Vt])}return P&&(wn[b][O]=P),P}function Xs(T,O){return O&&(T=T.replace(/\{([^}]+)}/g,function(b,P){return null!=O&&P in O?O[P]:b})),T}function wr(T,O,b="-",P,K){let ye="";(T<0||K&&T<=0)&&(K?T=1-T:(T=-T,ye=b));let Ne=String(T);for(;Ne.length<O;)Ne="0"+Ne;return P&&(Ne=Ne.substr(Ne.length-O)),ye+Ne}function mt(T,O,b=0,P=!1,K=!1){return function(ye,Ne){let Ke=function Cr(T,O){switch(T){case ct.FullYear:return O.getFullYear();case ct.Month:return O.getMonth();case ct.Date:return O.getDate();case ct.Hours:return O.getHours();case ct.Minutes:return O.getMinutes();case ct.Seconds:return O.getSeconds();case ct.FractionalSeconds:return O.getMilliseconds();case ct.Day:return O.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,ye);if((b>0||Ke>-b)&&(Ke+=b),T===ct.Hours)0===Ke&&-12===b&&(Ke=12);else if(T===ct.FractionalSeconds)return function Dr(T,O){return wr(T,3).substr(0,O)}(Ke,O);const dn=$t(Ne,pe.MinusSign);return wr(Ke,O,dn,P,K)}}function Ut(T,O,b=we.Format,P=!1){return function(K,ye){return function tt(T,O,b,P,K,ye){switch(b){case It.Months:return Et(O,K,P)[T.getMonth()];case It.Days:return ht(O,K,P)[T.getDay()];case It.DayPeriods:const Ne=T.getHours(),Ke=T.getMinutes();if(ye){const Qt=es(O),Bt=pt(O,K,P),Vt=Qt.findIndex(Nn=>{if(Array.isArray(Nn)){const[vn,hn]=Nn,Hi=Ne>=vn.hours&&Ke>=vn.minutes,ci=Ne<hn.hours||Ne===hn.hours&&Ke<hn.minutes;if(vn.hours<hn.hours){if(Hi&&ci)return!0}else if(Hi||ci)return!0}else if(Nn.hours===Ne&&Nn.minutes===Ke)return!0;return!1});if(-1!==Vt)return Bt[Vt]}return Mn(O,K,P)[Ne<12?0:1];case It.Eras:return an(O,P)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(K,ye,T,O,b,P)}}function Oe(T){return function(O,b,P){const K=-1*P,ye=$t(b,pe.MinusSign),Ne=K>0?Math.floor(K/60):Math.ceil(K/60);switch(T){case zt.Short:return(K>=0?"+":"")+wr(Ne,2,ye)+wr(Math.abs(K%60),2,ye);case zt.ShortGMT:return"GMT"+(K>=0?"+":"")+wr(Ne,1,ye);case zt.Long:return"GMT"+(K>=0?"+":"")+wr(Ne,2,ye)+":"+wr(Math.abs(K%60),2,ye);case zt.Extended:return 0===P?"Z":(K>=0?"+":"")+wr(Ne,2,ye)+":"+wr(Math.abs(K%60),2,ye);default:throw new Error(`Unknown zone width "${T}"`)}}}function jt(T){return ts(T.getFullYear(),T.getMonth(),T.getDate()+(4-T.getDay()))}function z(T,O=!1){return function(b,P){let K;if(O){const ye=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,Ne=b.getDate();K=1+Math.floor((Ne+ye)/7)}else{const ye=jt(b),Ne=function Wt(T){const O=ts(T,0,1).getDay();return ts(T,0,1+(O<=4?4:11)-O)}(ye.getFullYear()),Ke=ye.getTime()-Ne.getTime();K=1+Math.round(Ke/6048e5)}return wr(K,T,$t(P,pe.MinusSign))}}function $(T,O=!1){return function(b,P){return wr(jt(b).getFullYear(),T,$t(P,pe.MinusSign),O)}}const Z={};function ne(T,O){T=T.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(b)?O:b}function Zt(T){return T instanceof Date&&!isNaN(T.valueOf())}const xn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Eo(T,O,b,P,K,ye,Ne=!1){let Ke="",dn=!1;if(isFinite(T)){let Qt=function tr(T){let P,K,ye,Ne,Ke,O=Math.abs(T)+"",b=0;for((K=O.indexOf("."))>-1&&(O=O.replace(".","")),(ye=O.search(/e/i))>0?(K<0&&(K=ye),K+=+O.slice(ye+1),O=O.substring(0,ye)):K<0&&(K=O.length),ye=0;"0"===O.charAt(ye);ye++);if(ye===(Ke=O.length))P=[0],K=1;else{for(Ke--;"0"===O.charAt(Ke);)Ke--;for(K-=ye,P=[],Ne=0;ye<=Ke;ye++,Ne++)P[Ne]=Number(O.charAt(ye))}return K>22&&(P=P.splice(0,21),b=K-1,K=1),{digits:P,exponent:b,integerLen:K}}(T);Ne&&(Qt=function bn(T){if(0===T.digits[0])return T;const O=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===O?T.digits.push(0,0):1===O&&T.digits.push(0),T.integerLen+=2),T}(Qt));let Bt=O.minInt,Vt=O.minFrac,Nn=O.maxFrac;if(ye){const Mi=ye.match(xn);if(null===Mi)throw new Error(`${ye} is not a valid digit info`);const Ds=Mi[1],Gi=Mi[3],os=Mi[5];null!=Ds&&(Bt=bi(Ds)),null!=Gi&&(Vt=bi(Gi)),null!=os?Nn=bi(os):null!=Gi&&Vt>Nn&&(Nn=Vt)}!function jn(T,O,b){if(O>b)throw new Error(`The minimum number of digits after fraction (${O}) is higher than the maximum (${b}).`);let P=T.digits,K=P.length-T.integerLen;const ye=Math.min(Math.max(O,K),b);let Ne=ye+T.integerLen,Ke=P[Ne];if(Ne>0){P.splice(Math.max(T.integerLen,Ne));for(let Vt=Ne;Vt<P.length;Vt++)P[Vt]=0}else{K=Math.max(0,K),T.integerLen=1,P.length=Math.max(1,Ne=ye+1),P[0]=0;for(let Vt=1;Vt<Ne;Vt++)P[Vt]=0}if(Ke>=5)if(Ne-1<0){for(let Vt=0;Vt>Ne;Vt--)P.unshift(0),T.integerLen++;P.unshift(1),T.integerLen++}else P[Ne-1]++;for(;K<Math.max(0,ye);K++)P.push(0);let dn=0!==ye;const Qt=O+T.integerLen,Bt=P.reduceRight(function(Vt,Nn,vn,hn){return hn[vn]=(Nn+=Vt)<10?Nn:Nn-10,dn&&(0===hn[vn]&&vn>=Qt?hn.pop():dn=!1),Nn>=10?1:0},0);Bt&&(P.unshift(Bt),T.integerLen++)}(Qt,Vt,Nn);let vn=Qt.digits,hn=Qt.integerLen;const Hi=Qt.exponent;let ci=[];for(dn=vn.every(Mi=>!Mi);hn<Bt;hn++)vn.unshift(0);for(;hn<0;hn++)vn.unshift(0);hn>0?ci=vn.splice(hn,vn.length):(ci=vn,vn=[0]);const ft=[];for(vn.length>=O.lgSize&&ft.unshift(vn.splice(-O.lgSize,vn.length).join(""));vn.length>O.gSize;)ft.unshift(vn.splice(-O.gSize,vn.length).join(""));vn.length&&ft.unshift(vn.join("")),Ke=ft.join($t(b,P)),ci.length&&(Ke+=$t(b,K)+ci.join("")),Hi&&(Ke+=$t(b,pe.Exponential)+"+"+Hi)}else Ke=$t(b,pe.Infinity);return Ke=T<0&&!dn?O.negPre+Ke+O.negSuf:O.posPre+Ke+O.posSuf,Ke}function Nr(T,O,b,P,K){const Ne=gn(Xn(O,X.Currency),$t(O,pe.MinusSign));return Ne.minFrac=In(P),Ne.maxFrac=Ne.minFrac,Eo(T,Ne,O,pe.CurrencyGroup,pe.CurrencyDecimal,K).replace("\xa4",b).replace("\xa4","").trim()}function Ue(T,O,b){return Eo(T,gn(Xn(O,X.Percent),$t(O,pe.MinusSign)),O,pe.Group,pe.Decimal,b,!0).replace(new RegExp("%","g"),$t(O,pe.PercentSign))}function Ft(T,O,b){return Eo(T,gn(Xn(O,X.Decimal),$t(O,pe.MinusSign)),O,pe.Group,pe.Decimal,b)}function gn(T,O="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=T.split(";"),K=P[0],ye=P[1],Ne=-1!==K.indexOf(".")?K.split("."):[K.substring(0,K.lastIndexOf("0")+1),K.substring(K.lastIndexOf("0")+1)],Ke=Ne[0],dn=Ne[1]||"";b.posPre=Ke.substr(0,Ke.indexOf("#"));for(let Bt=0;Bt<dn.length;Bt++){const Vt=dn.charAt(Bt);"0"===Vt?b.minFrac=b.maxFrac=Bt+1:"#"===Vt?b.maxFrac=Bt+1:b.posSuf+=Vt}const Qt=Ke.split(",");if(b.gSize=Qt[1]?Qt[1].length:0,b.lgSize=Qt[2]||Qt[1]?(Qt[2]||Qt[1]).length:0,ye){const Bt=K.length-b.posPre.length-b.posSuf.length,Vt=ye.indexOf("#");b.negPre=ye.substr(0,Vt).replace(/'/g,""),b.negSuf=ye.substr(Vt+Bt).replace(/'/g,"")}else b.negPre=O+b.posPre,b.negSuf=b.posSuf;return b}function bi(T){const O=parseInt(T);if(isNaN(O))throw new Error("Invalid integer literal when parsing "+T);return O}let un=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:function(b){let P=null;return b?P=new b:(K=D.\u0275\u0275inject(D.LOCALE_ID),P=new rs(K)),P;var K},providedIn:"root"}),T})();function On(T,O,b,P){let K=`=${T}`;if(O.indexOf(K)>-1||(K=b.getPluralCategory(T,P),O.indexOf(K)>-1))return K;if(O.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${T}"`)}let rs=(()=>{class T extends un{constructor(b){super(),this.locale=b}getPluralCategory(b,P){switch(cr(P||this.locale)(b)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275inject(D.LOCALE_ID))},T.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();function St(T,O,b){return(0,D.\u0275registerLocaleData)(T,O,b)}function Kr(T,O){O=encodeURIComponent(O);for(const b of T.split(";")){const P=b.indexOf("="),[K,ye]=-1==P?[b,""]:[b.slice(0,P),b.slice(P+1)];if(K.trim()===O)return decodeURIComponent(ye)}return null}let is=(()=>{class T{constructor(b,P,K,ye){this._iterableDiffers=b,this._keyValueDiffers=P,this._ngEl=K,this._renderer=ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,D.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,D.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),b.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!0)):Object.keys(b).forEach(P=>this._toggleClass(P,!!b[P])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!1)):Object.keys(b).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(b,P){(b=b.trim())&&b.split(/\s+/g).forEach(K=>{P?this._renderer.addClass(this._ngEl.nativeElement,K):this._renderer.removeClass(this._ngEl.nativeElement,K)})}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.IterableDiffers),D.\u0275\u0275directiveInject(D.KeyValueDiffers),D.\u0275\u0275directiveInject(D.ElementRef),D.\u0275\u0275directiveInject(D.Renderer2))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),T})(),Rn=(()=>{class T{constructor(b){this._viewContainerRef=b,this._componentRef=null,this._moduleRef=null}ngOnChanges(b){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const P=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(b.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Ne=P.get(D.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Ne.injector)}else this._moduleRef=null;const ye=(this._moduleRef?this._moduleRef.componentFactoryResolver:P.get(D.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(ye,this._viewContainerRef.length,P,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[D.\u0275\u0275NgOnChangesFeature]}),T})();class hr{constructor(O,b,P,K){this.$implicit=O,this.ngForOf=b,this.index=P,this.count=K}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class T{constructor(b,P,K){this._viewContainer=b,this._template=P,this._differs=K,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const P=this._viewContainer;b.forEachOperation((K,ye,Ne)=>{if(null==K.previousIndex)P.createEmbeddedView(this._template,new hr(K.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)P.remove(null===ye?void 0:ye);else if(null!==ye){const Ke=P.get(ye);P.move(Ke,Ne),Es(Ke,K)}});for(let K=0,ye=P.length;K<ye;K++){const Ke=P.get(K).context;Ke.index=K,Ke.count=ye,Ke.ngForOf=this._ngForOf}b.forEachIdentityChange(K=>{Es(P.get(K.currentIndex),K)})}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(D.IterableDiffers))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),T})();function Es(T,O){T.context.$implicit=O.item}let Zr=(()=>{class T{constructor(b,P){this._viewContainer=b,this._context=new on,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){Io("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){Io("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),T})();class on{constructor(){this.$implicit=null,this.ngIf=null}}function Io(T,O){if(O&&!O.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,D.\u0275stringify)(O)}'.`)}class wo{constructor(O,b){this._viewContainerRef=O,this._templateRef=b,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(O){O&&!this._created?this.create():!O&&this._created&&this.destroy()}}let Qr=(()=>{class T{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(b){this._ngSwitch=b,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(b){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(b)}_matchCase(b){const P=b==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(b){if(this._defaultViews&&b!==this._defaultUsed){this._defaultUsed=b;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(b)}}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),T})(),Or=(()=>{class T{constructor(b,P,K){this.ngSwitch=K,K._addCase(),this._view=new wo(b,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(Qr,9))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),T})(),Qo=(()=>{class T{constructor(b,P,K){K._addDefault(new wo(b,P))}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(Qr,9))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchDefault",""]]}),T})(),eo=(()=>{class T{constructor(b){this._localization=b,this._caseViews={}}set ngPlural(b){this._switchValue=b,this._updateView()}addCase(b,P){this._caseViews[b]=P}_updateView(){this._clearViews();const b=Object.keys(this._caseViews),P=On(this._switchValue,b,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(b){b&&(this._activeView=b,this._activeView.create())}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(un))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),T})(),Tr=(()=>{class T{constructor(b,P,K,ye){this.value=b;const Ne=!isNaN(Number(b));ye.addCase(Ne?`=${b}`:b,new wo(K,P))}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275injectAttribute("ngPluralCase"),D.\u0275\u0275directiveInject(D.TemplateRef),D.\u0275\u0275directiveInject(D.ViewContainerRef),D.\u0275\u0275directiveInject(eo,1))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngPluralCase",""]]}),T})(),La=(()=>{class T{constructor(b,P,K){this._ngEl=b,this._differs=P,this._renderer=K,this._ngStyle=null,this._differ=null}set ngStyle(b){this._ngStyle=b,!this._differ&&b&&(this._differ=this._differs.find(b).create())}ngDoCheck(){if(this._differ){const b=this._differ.diff(this._ngStyle);b&&this._applyChanges(b)}}_setStyle(b,P){const[K,ye]=b.split(".");null!=(P=null!=P&&ye?`${P}${ye}`:P)?this._renderer.setStyle(this._ngEl.nativeElement,K,P):this._renderer.removeStyle(this._ngEl.nativeElement,K)}_applyChanges(b){b.forEachRemovedItem(P=>this._setStyle(P.key,null)),b.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),b.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ElementRef),D.\u0275\u0275directiveInject(D.KeyValueDiffers),D.\u0275\u0275directiveInject(D.Renderer2))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),T})(),Yo=(()=>{class T{constructor(b){this._viewContainerRef=b,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(b){if(b.ngTemplateOutlet){const P=this._viewContainerRef;this._viewRef&&P.remove(P.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?P.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&b.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ViewContainerRef))},T.\u0275dir=D.\u0275\u0275defineDirective({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[D.\u0275\u0275NgOnChangesFeature]}),T})();function Pn(T,O){return new D.\u0275RuntimeError(2100,"")}class Va{createSubscription(O,b){return O.subscribe({next:b,error:P=>{throw P}})}dispose(O){O.unsubscribe()}onDestroy(O){O.unsubscribe()}}class Tu{createSubscription(O,b){return O.then(b,P=>{throw P})}dispose(O){}onDestroy(O){}}const $i=new Tu,Au=new Va;let Xo=(()=>{class T{constructor(b){this._ref=b,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(b){return this._obj?b!==this._obj?(this._dispose(),this.transform(b)):this._latestValue:(b&&this._subscribe(b),this._latestValue)}_subscribe(b){this._obj=b,this._strategy=this._selectStrategy(b),this._subscription=this._strategy.createSubscription(b,P=>this._updateLatestValue(b,P))}_selectStrategy(b){if((0,D.\u0275isPromise)(b))return $i;if((0,D.\u0275isSubscribable)(b))return Au;throw Pn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(b,P){b===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.ChangeDetectorRef,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"async",type:T,pure:!1}),T})(),Do=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Pn();return b.toLowerCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"lowercase",type:T,pure:!0}),T})();const ss=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ua=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Pn();return b.replace(ss,P=>P[0].toUpperCase()+P.substr(1).toLowerCase())}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"titlecase",type:T,pure:!0}),T})(),to=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw Pn();return b.toUpperCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"uppercase",type:T,pure:!0}),T})();const Su=new D.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Mu=(()=>{class T{constructor(b,P){this.locale=b,this.defaultTimezone=P}transform(b,P="mediumDate",K,ye){var Ne;if(null==b||""===b||b!=b)return null;try{return zn(b,P,ye||this.locale,null!==(Ne=null!=K?K:this.defaultTimezone)&&void 0!==Ne?Ne:void 0)}catch(Ke){throw Pn()}}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16),D.\u0275\u0275directiveInject(Su,24))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"date",type:T,pure:!0}),T})();const ja=/#/g;let Pr=(()=>{class T{constructor(b){this._localization=b}transform(b,P,K){if(null==b)return"";if("object"!=typeof P||null===P)throw Pn();return P[On(b,Object.keys(P),this._localization,K)].replace(ja,b.toString())}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(un,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"i18nPlural",type:T,pure:!0}),T})(),kr=(()=>{class T{transform(b,P){if(null==b)return"";if("object"!=typeof P||"string"!=typeof b)throw Pn();return P.hasOwnProperty(b)?P[b]:P.hasOwnProperty("other")?P.other:""}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"i18nSelect",type:T,pure:!0}),T})(),no=(()=>{class T{transform(b){return JSON.stringify(b,null,2)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"json",type:T,pure:!1}),T})(),Hl=(()=>{class T{constructor(b){this.differs=b,this.keyValues=[],this.compareFn=Co}transform(b,P=Co){if(!b||!(b instanceof Map)&&"object"!=typeof b)return null;this.differ||(this.differ=this.differs.find(b).create());const K=this.differ.diff(b),ye=P!==this.compareFn;return K&&(this.keyValues=[],K.forEachItem(Ne=>{this.keyValues.push(function ro(T,O){return{key:T,value:O}}(Ne.key,Ne.currentValue))})),(K||ye)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.KeyValueDiffers,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"keyvalue",type:T,pure:!1}),T})();function Co(T,O){const b=T.key,P=O.key;if(b===P)return 0;if(void 0===b)return 1;if(void 0===P)return-1;if(null===b)return 1;if(null===P)return-1;if("string"==typeof b&&"string"==typeof P)return b<P?-1:1;if("number"==typeof b&&"number"==typeof P)return b-P;if("boolean"==typeof b&&"boolean"==typeof P)return b<P?-1:1;const K=String(b),ye=String(P);return K==ye?0:K<ye?-1:1}let Ai=(()=>{class T{constructor(b){this._locale=b}transform(b,P,K){if(!Ps(b))return null;K=K||this._locale;try{return Ft(ks(b),K,P)}catch(ye){throw Pn()}}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"number",type:T,pure:!0}),T})(),pr=(()=>{class T{constructor(b){this._locale=b}transform(b,P,K){if(!Ps(b))return null;K=K||this._locale;try{return Ue(ks(b),K,P)}catch(ye){throw Pn()}}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"percent",type:T,pure:!0}),T})(),Si=(()=>{class T{constructor(b,P="USD"){this._locale=b,this._defaultCurrencyCode=P}transform(b,P=this._defaultCurrencyCode,K="symbol",ye,Ne){if(!Ps(b))return null;Ne=Ne||this._locale,"boolean"==typeof K&&(K=K?"symbol":"code");let Ke=P||this._defaultCurrencyCode;"code"!==K&&(Ke="symbol"===K||"symbol-narrow"===K?Wr(Ke,"symbol"===K?"wide":"narrow",Ne):K);try{return Nr(ks(b),Ne,Ke,P,ye)}catch(dn){throw Pn()}}}return T.\u0275fac=function(b){return new(b||T)(D.\u0275\u0275directiveInject(D.LOCALE_ID,16),D.\u0275\u0275directiveInject(D.DEFAULT_CURRENCY_CODE,16))},T.\u0275pipe=D.\u0275\u0275definePipe({name:"currency",type:T,pure:!0}),T})();function Ps(T){return!(null==T||""===T||T!=T)}function ks(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}let Ba=(()=>{class T{transform(b,P,K){if(null==b)return null;if(!this.supports(b))throw Pn();return b.slice(P,K)}supports(b){return"string"==typeof b||Array.isArray(b)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=D.\u0275\u0275definePipe({name:"slice",type:T,pure:!1}),T})(),bo=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=D.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=D.\u0275\u0275defineInjector({}),T})();const Fs="browser",ui="server",ea="browserWorkerApp",ta="browserWorkerUi";function Fr(T){return T===Fs}function gr(T){return T===ui}function xu(T){return T===ea}function To(T){return T===ta}const $a=new D.Version("13.2.7");let Ls=(()=>{class T{}return T.\u0275prov=(0,D.\u0275\u0275defineInjectable)({token:T,providedIn:"root",factory:()=>new Is((0,D.\u0275\u0275inject)(ae),window)}),T})();class Is{constructor(O,b){this.document=O,this.window=b,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const b=function ws(T,O){const b=T.getElementById(O)||T.getElementsByName(O)[0];if(b)return b;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const P=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let K=P.currentNode;for(;K;){const ye=K.shadowRoot;if(ye){const Ne=ye.getElementById(O)||ye.querySelector(`[name="${O}"]`);if(Ne)return Ne}K=P.nextNode()}}return null}(this.document,O);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=O)}}scrollToElement(O){const b=O.getBoundingClientRect(),P=b.left+this.window.pageXOffset,K=b.top+this.window.pageYOffset,ye=this.offset();this.window.scrollTo(P-ye[0],K-ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=li(this.window.history)||li(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch(O){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(O){return!1}}}function li(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class na{setOffset(O){}getScrollPosition(){return[0,0]}scrollToPosition(O){}scrollToAnchor(O){}setHistoryScrollRestoration(O){}}class mn{}},5e3:(lt,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Ia,APP_BOOTSTRAP_LISTENER:()=>d0,APP_ID:()=>Ah,APP_INITIALIZER:()=>Nl,ApplicationInitStatus:()=>Ol,ApplicationModule:()=>R0,ApplicationRef:()=>Xm,Attribute:()=>Zh,COMPILER_OPTIONS:()=>Du,CUSTOM_ELEMENTS_SCHEMA:()=>yi,ChangeDetectionStrategy:()=>Wn,ChangeDetectorRef:()=>ty,Compiler:()=>Qm,CompilerFactory:()=>qc,Component:()=>s0,ComponentFactory:()=>Vc,ComponentFactoryResolver:()=>_u,ComponentRef:()=>Lc,ContentChild:()=>rr,ContentChildren:()=>Xa,DEFAULT_CURRENCY_CODE:()=>tb,DebugElement:()=>Oh,DebugEventListener:()=>Kw,DebugNode:()=>iy,DefaultIterableDiffer:()=>Jw,Directive:()=>si,ElementRef:()=>Eu,EmbeddedViewRef:()=>ab,ErrorHandler:()=>ni,EventEmitter:()=>Oa,Host:()=>ef,HostBinding:()=>xw,HostListener:()=>eb,INJECTOR:()=>$g,Inject:()=>hs,InjectFlags:()=>pt,Injectable:()=>yC,InjectionToken:()=>An,Injector:()=>Ki,Input:()=>a0,IterableDiffers:()=>A0,KeyValueDiffers:()=>sy,LOCALE_ID:()=>Pl,MissingTranslationStrategy:()=>Pa,ModuleWithComponentFactories:()=>kw,NO_ERRORS_SCHEMA:()=>Cd,NgModule:()=>Rw,NgModuleFactory:()=>ZI,NgModuleRef:()=>gh,NgProbeToken:()=>jw,NgZone:()=>Zs,Optional:()=>pi,Output:()=>Rl,PACKAGE_ROOT_URL:()=>Ow,PLATFORM_ID:()=>Nw,PLATFORM_INITIALIZER:()=>c0,Pipe:()=>o0,PlatformRef:()=>_0,Query:()=>wa,QueryList:()=>Ml,ReflectiveInjector:()=>fl,ReflectiveKey:()=>hu,Renderer2:()=>qI,RendererFactory2:()=>Lm,RendererStyleFlags2:()=>me,ResolvedReflectiveFactory:()=>Wd,Sanitizer:()=>R_,SecurityContext:()=>yr,Self:()=>fs,SimpleChange:()=>Si,SkipSelf:()=>fo,TRANSLATIONS:()=>Pw,TRANSLATIONS_FORMAT:()=>nb,TemplateRef:()=>wu,Testability:()=>g0,TestabilityRegistry:()=>Mh,Type:()=>$u,VERSION:()=>O_,Version:()=>N_,ViewChild:()=>od,ViewChildren:()=>cs,ViewContainerRef:()=>Gm,ViewEncapsulation:()=>zt,ViewRef:()=>ry,asNativeElements:()=>ub,assertPlatform:()=>Jm,createNgModuleRef:()=>XI,createPlatform:()=>Cu,createPlatformFactory:()=>Fl,defineInjectable:()=>Di,destroyPlatform:()=>Bw,enableProdMode:()=>qw,forwardRef:()=>G,getDebugNode:()=>zc,getModuleFactory:()=>ob,getNgModuleById:()=>Ww,getPlatform:()=>v0,inject:()=>Yt,isDevMode:()=>Gw,platformCore:()=>x0,resolveForwardRef:()=>Y,setTestabilityGetter:()=>Vw,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>kl,\u0275APP_ID_RANDOM_PROVIDER:()=>l0,\u0275ChangeDetectorStatus:()=>wn,\u0275ComponentFactory:()=>Vc,\u0275Console:()=>Zm,\u0275DEFAULT_LOCALE_ID:()=>Je,\u0275INJECTOR_SCOPE:()=>jf,\u0275LifecycleHooksFeature:()=>zg,\u0275LocaleDataIndex:()=>Dt,\u0275NG_COMP_DEF:()=>Cr,\u0275NG_DIR_DEF:()=>Ut,\u0275NG_ELEMENT_ID:()=>yt,\u0275NG_INJ_DEF:()=>cr,\u0275NG_MOD_DEF:()=>Oe,\u0275NG_PIPE_DEF:()=>tt,\u0275NG_PROV_DEF:()=>Ci,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>jc,\u0275NO_CHANGE:()=>xt,\u0275NgModuleFactory:()=>Al,\u0275NoopNgZone:()=>_s,\u0275ReflectionCapabilities:()=>fi,\u0275Render3ComponentFactory:()=>Dp,\u0275Render3ComponentRef:()=>P_,\u0275Render3NgModuleRef:()=>Um,\u0275RuntimeError:()=>ve,\u0275ViewRef:()=>hh,\u0275_sanitizeHtml:()=>lc,\u0275_sanitizeUrl:()=>ba,\u0275allowSanitizationBypassAndThrow:()=>Zu,\u0275bypassSanitizationTrustHtml:()=>Ay,\u0275bypassSanitizationTrustResourceUrl:()=>md,\u0275bypassSanitizationTrustScript:()=>cg,\u0275bypassSanitizationTrustStyle:()=>Qu,\u0275bypassSanitizationTrustUrl:()=>lf,\u0275clearResolutionOfComponentResourcesQueue:()=>sc,\u0275compileComponent:()=>ww,\u0275compileDirective:()=>e0,\u0275compileNgModule:()=>_o,\u0275compileNgModuleDefs:()=>K_,\u0275compileNgModuleFactory:()=>y0,\u0275compilePipe:()=>Km,\u0275createInjector:()=>FE,\u0275defaultIterableDiffers:()=>jp,\u0275defaultKeyValueDiffers:()=>ay,\u0275detectChanges:()=>OE,\u0275devModeEqual:()=>QE,\u0275findLocaleData:()=>gp,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>vw,\u0275getDebugNode:()=>zc,\u0275getDebugNodeR2:()=>Zw,\u0275getDirectives:()=>Hf,\u0275getHostElement:()=>bv,\u0275getInjectableDef:()=>$t,\u0275getLContext:()=>ti,\u0275getLocaleCurrencyCode:()=>NC,\u0275getLocalePluralCase:()=>je,\u0275getSanitizationBypassType:()=>uf,\u0275global:()=>Kt,\u0275injectChangeDetectorRef:()=>Nh,\u0275isBoundToModule:()=>Uw,\u0275isDefaultChangeDetectionStrategy:()=>zr,\u0275isListLikeIterable:()=>wc,\u0275isObservable:()=>dm,\u0275isPromise:()=>Ac,\u0275isSubscribable:()=>ml,\u0275ivyEnabled:()=>iD,\u0275makeDecorator:()=>Ni,\u0275markDirty:()=>_v,\u0275noSideEffects:()=>In,\u0275patchComponentDefWithScope:()=>Y_,\u0275publishDefaultGlobalUtils:()=>gs,\u0275publishGlobalUtil:()=>qs,\u0275registerLocaleData:()=>El,\u0275registerNgModuleType:()=>QI,\u0275renderComponent:()=>Av,\u0275resetCompiledComponents:()=>QC,\u0275resetJitOptions:()=>ZC,\u0275resolveComponentResources:()=>hd,\u0275setClassMetadata:()=>ph,\u0275setCurrentInjector:()=>Le,\u0275setDocument:()=>li,\u0275setLocaleId:()=>wI,\u0275store:()=>JE,\u0275stringify:()=>de,\u0275transitiveScopesFor:()=>Np,\u0275unregisterLocaleData:()=>mp,\u0275unwrapSafeValue:()=>$s,\u0275whenRendered:()=>hC,\u0275\u0275CopyDefinitionFeature:()=>Zg,\u0275\u0275FactoryTarget:()=>Sn,\u0275\u0275InheritDefinitionFeature:()=>al,\u0275\u0275NgOnChangesFeature:()=>Ps,\u0275\u0275ProvidersFeature:()=>M_,\u0275\u0275advance:()=>Md,\u0275\u0275attribute:()=>Hd,\u0275\u0275attributeInterpolate1:()=>Yg,\u0275\u0275attributeInterpolate2:()=>qf,\u0275\u0275attributeInterpolate3:()=>Jg,\u0275\u0275attributeInterpolate4:()=>Ov,\u0275\u0275attributeInterpolate5:()=>Wf,\u0275\u0275attributeInterpolate6:()=>zf,\u0275\u0275attributeInterpolate7:()=>Kf,\u0275\u0275attributeInterpolate8:()=>jr,\u0275\u0275attributeInterpolateV:()=>ri,\u0275\u0275classMap:()=>yI,\u0275\u0275classMapInterpolate1:()=>_I,\u0275\u0275classMapInterpolate2:()=>t_,\u0275\u0275classMapInterpolate3:()=>th,\u0275\u0275classMapInterpolate4:()=>n_,\u0275\u0275classMapInterpolate5:()=>r_,\u0275\u0275classMapInterpolate6:()=>Cm,\u0275\u0275classMapInterpolate7:()=>bm,\u0275\u0275classMapInterpolate8:()=>i_,\u0275\u0275classMapInterpolateV:()=>hp,\u0275\u0275classProp:()=>ip,\u0275\u0275contentQuery:()=>Wm,\u0275\u0275defineComponent:()=>jt,\u0275\u0275defineDirective:()=>Pt,\u0275\u0275defineInjectable:()=>en,\u0275\u0275defineInjector:()=>tn,\u0275\u0275defineNgModule:()=>ne,\u0275\u0275definePipe:()=>br,\u0275\u0275directiveInject:()=>pl,\u0275\u0275disableBindings:()=>Ha,\u0275\u0275element:()=>um,\u0275\u0275elementContainer:()=>cm,\u0275\u0275elementContainerEnd:()=>gl,\u0275\u0275elementContainerStart:()=>lm,\u0275\u0275elementEnd:()=>Kd,\u0275\u0275elementStart:()=>Tc,\u0275\u0275enableBindings:()=>ra,\u0275\u0275getCurrentView:()=>tp,\u0275\u0275getInheritedFactory:()=>sd,\u0275\u0275hostProperty:()=>g_,\u0275\u0275i18n:()=>VI,\u0275\u0275i18nApply:()=>T_,\u0275\u0275i18nAttributes:()=>UI,\u0275\u0275i18nEnd:()=>ii,\u0275\u0275i18nExp:()=>b_,\u0275\u0275i18nPostprocess:()=>jI,\u0275\u0275i18nStart:()=>dh,\u0275\u0275inject:()=>at,\u0275\u0275injectAttribute:()=>Bu,\u0275\u0275invalidFactory:()=>zd,\u0275\u0275invalidFactoryDep:()=>Tt,\u0275\u0275listener:()=>Gv,\u0275\u0275loadQuery:()=>pw,\u0275\u0275namespaceHTML:()=>Xp,\u0275\u0275namespaceMathML:()=>Xc,\u0275\u0275namespaceSVG:()=>Zl,\u0275\u0275nextContext:()=>cI,\u0275\u0275ngDeclareClassMetadata:()=>sD,\u0275\u0275ngDeclareComponent:()=>gb,\u0275\u0275ngDeclareDirective:()=>pb,\u0275\u0275ngDeclareFactory:()=>mb,\u0275\u0275ngDeclareInjectable:()=>oD,\u0275\u0275ngDeclareInjector:()=>uy,\u0275\u0275ngDeclareNgModule:()=>Bp,\u0275\u0275ngDeclarePipe:()=>N0,\u0275\u0275pipe:()=>j_,\u0275\u0275pipeBind1:()=>tw,\u0275\u0275pipeBind2:()=>Ks,\u0275\u0275pipeBind3:()=>nw,\u0275\u0275pipeBind4:()=>Bm,\u0275\u0275pipeBindV:()=>_h,\u0275\u0275projection:()=>rp,\u0275\u0275projectionDef:()=>Ma,\u0275\u0275property:()=>am,\u0275\u0275propertyInterpolate:()=>Qd,\u0275\u0275propertyInterpolate1:()=>Mc,\u0275\u0275propertyInterpolate2:()=>pm,\u0275\u0275propertyInterpolate3:()=>Ln,\u0275\u0275propertyInterpolate4:()=>Yd,\u0275\u0275propertyInterpolate5:()=>qv,\u0275\u0275propertyInterpolate6:()=>Wv,\u0275\u0275propertyInterpolate7:()=>xc,\u0275\u0275propertyInterpolate8:()=>Rc,\u0275\u0275propertyInterpolateV:()=>zv,\u0275\u0275pureFunction0:()=>Sl,\u0275\u0275pureFunction1:()=>F_,\u0275\u0275pureFunction2:()=>L_,\u0275\u0275pureFunction3:()=>V_,\u0275\u0275pureFunction4:()=>mh,\u0275\u0275pureFunction5:()=>jm,\u0275\u0275pureFunction6:()=>ew,\u0275\u0275pureFunction7:()=>xr,\u0275\u0275pureFunction8:()=>ln,\u0275\u0275pureFunctionV:()=>U_,\u0275\u0275queryRefresh:()=>fw,\u0275\u0275reference:()=>XE,\u0275\u0275resolveBody:()=>y,\u0275\u0275resolveDocument:()=>Cf,\u0275\u0275resolveWindow:()=>vg,\u0275\u0275restoreView:()=>Ao,\u0275\u0275sanitizeHtml:()=>pg,\u0275\u0275sanitizeResourceUrl:()=>mf,\u0275\u0275sanitizeScript:()=>yf,\u0275\u0275sanitizeStyle:()=>Ly,\u0275\u0275sanitizeUrl:()=>_d,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Ef,\u0275\u0275setComponentScope:()=>z,\u0275\u0275setNgModuleScope:()=>ze,\u0275\u0275styleMap:()=>Go,\u0275\u0275styleMapInterpolate1:()=>s_,\u0275\u0275styleMapInterpolate2:()=>o_,\u0275\u0275styleMapInterpolate3:()=>vl,\u0275\u0275styleMapInterpolate4:()=>a_,\u0275\u0275styleMapInterpolate5:()=>u_,\u0275\u0275styleMapInterpolate6:()=>l_,\u0275\u0275styleMapInterpolate7:()=>c_,\u0275\u0275styleMapInterpolate8:()=>fp,\u0275\u0275styleMapInterpolateV:()=>Rs,\u0275\u0275styleProp:()=>mm,\u0275\u0275stylePropInterpolate1:()=>Tm,\u0275\u0275stylePropInterpolate2:()=>Am,\u0275\u0275stylePropInterpolate3:()=>_l,\u0275\u0275stylePropInterpolate4:()=>d_,\u0275\u0275stylePropInterpolate5:()=>h_,\u0275\u0275stylePropInterpolate6:()=>pp,\u0275\u0275stylePropInterpolate7:()=>f_,\u0275\u0275stylePropInterpolate8:()=>p_,\u0275\u0275stylePropInterpolateV:()=>Sm,\u0275\u0275syntheticHostListener:()=>np,\u0275\u0275syntheticHostProperty:()=>nh,\u0275\u0275template:()=>em,\u0275\u0275templateRefExtractor:()=>mw,\u0275\u0275text:()=>xa,\u0275\u0275textInterpolate:()=>Em,\u0275\u0275textInterpolate1:()=>Im,\u0275\u0275textInterpolate2:()=>lp,\u0275\u0275textInterpolate3:()=>Oc,\u0275\u0275textInterpolate4:()=>wm,\u0275\u0275textInterpolate5:()=>cp,\u0275\u0275textInterpolate6:()=>Xd,\u0275\u0275textInterpolate7:()=>Dm,\u0275\u0275textInterpolate8:()=>dp,\u0275\u0275textInterpolateV:()=>eh,\u0275\u0275trustConstantHtml:()=>Ju,\u0275\u0275trustConstantResourceUrl:()=>vf,\u0275\u0275viewQuery:()=>wh});var D=F(7579),m=F(727),V=F(8306),ie=F(6451),J=F(3099);function ce(i){for(let s in i)if(i[s]===ce)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=ce({__forward_ref__:ce});function G(i){return i.__forward_ref__=G,i.toString=function(){return de(this())},i}function Y(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===G}class ve extends Error{constructor(s,a){super(function xe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function re(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():re(i)}function Ae(i,s){const a=s?` in ${s}`:"";throw new ve(-201,`No provider for ${Ie(i)} found${a}`)}function Et(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const Di=en;function tn(i){return{providers:i.providers||[],imports:i.imports||[]}}function $t(i){return Xn(i,Ci)||Xn(i,Xi)}function Xn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ir(i){return i&&(i.hasOwnProperty(cr)||i.hasOwnProperty(es))?i[cr]:null}const Ci=ce({\u0275prov:ce}),cr=ce({\u0275inj:ce}),Xi=ce({ngInjectableDef:ce}),es=ce({ngInjectorDef:ce});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let qr;function qn(i){const s=qr;return qr=i,s}function Wr(i,s,a){const u=$t(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&pt.Optional?null:void 0!==s?s:void Ae(de(i),"Injector")}function In(i){return{toString:i}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),wn=(()=>((wn=wn||{})[wn.CheckOnce=0]="CheckOnce",wn[wn.Checked=1]="Checked",wn[wn.CheckAlways=2]="CheckAlways",wn[wn.Detached=3]="Detached",wn[wn.Errored=4]="Errored",wn[wn.Destroyed=5]="Destroyed",wn))();function zr(i){return null==i||i===Wn.Default}var zt=(()=>{return(i=zt||(zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",zt;var i})();const ct="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=ct||"undefined"!=typeof global&&global||It||zn,Dr={},mt=[],Cr=ce({\u0275cmp:ce}),Ut=ce({\u0275dir:ce}),tt=ce({\u0275pipe:ce}),Oe=ce({\u0275mod:ce}),st=ce({\u0275fac:ce}),yt=ce({__NG_ELEMENT_ID__:ce});let Wt=0;function jt(i){return In(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||zt.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,v=i.pipes;return u.id+=Wt++,u.inputs=et(i.inputs,a),u.outputs=et(i.outputs),f&&f.forEach(E=>E(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map($):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(Z):null,u})}function z(i,s,a){const u=i.\u0275cmp;u.directiveDefs=()=>s.map($),u.pipeDefs=()=>a.map(Z)}function $(i){return Zt(i)||xn(i)}function Z(i){return kt(i)}const Ee={};function ne(i){return In(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ee[i.id]=i.type),s})}function ze(i,s){return In(()=>{const a=pn(i,!0);a.declarations=s.declarations||mt,a.imports=s.imports||mt,a.exports=s.exports||mt})}function et(i,s){if(null==i)return Dr;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=u,s&&(s[c]=f)}return a}const Pt=jt;function br(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zt(i){return i[Cr]||null}function xn(i){return i[Ut]||null}function kt(i){return i[tt]||null}function pn(i,s){const a=i[Oe]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function Qr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function Qo(i){return 0!=(8&i.flags)}function Ti(i){return 2==(2&i.flags)}function eo(i){return 1==(1&i.flags)}function Tr(i){return null!==i.template}function La(i){return 0!=(512&i[2])}function pr(i,s){return i.hasOwnProperty(st)?i[st]:null}class Si{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ps(){return ks}function ks(i){return i.type.prototype.ngOnChanges&&(i.setInput=Bh),Ba}function Ba(){const i=Fs(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Dr)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Bh(i,s,a,u){const c=Fs(i)||function ui(i,s){return i[bo]=s}(i,{previous:Dr,current:null}),f=c.current||(c.current={}),v=c.previous,E=this.declaredInputs[a],w=v[E];f[E]=new Si(w&&w.currentValue,s,v===Dr),i[u]=s}Ps.ngInherit=!0;const bo="__ngSimpleChanges__";function Fs(i){return i[bo]||null}let ea=null;const ta=i=>{ea=i},Fr=function(i,s,a){null!=ea&&ea(i,s,a)},To="math";let Is;function li(i){Is=i}function ws(){return void 0!==Is?Is:"undefined"!=typeof document?document:void 0}function mn(i){return!!i.listen}const T={createRenderer:(i,s)=>ws()};function b(i){for(;Array.isArray(i);)i=i[0];return i}function ye(i,s){return b(s[i])}function Ne(i,s){return b(s[i.index])}function dn(i,s){return i.data[s]}function Qt(i,s){return i[s]}function Bt(i,s){const a=s[i];return Qr(a)?a:a[0]}function Vt(i){return 4==(4&i[2])}function Nn(i){return 128==(128&i[2])}function hn(i,s){return null==s?null:i[s]}function Hi(i){i[18]=0}function ci(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const ft={lFrame:la(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ru(){return ft.bindingsEnabled}function ra(){ft.bindingsEnabled=!0}function Ha(){ft.bindingsEnabled=!1}function Pe(){return ft.lFrame.lView}function Ht(){return ft.lFrame.tView}function Ao(i){return ft.lFrame.contextLView=i,i[8]}function kn(){let i=ia();for(;null!==i&&64===i.type;)i=i.parent;return i}function ia(){return ft.lFrame.currentTNode}function sa(){const i=ft.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function xi(i,s){const a=ft.lFrame;a.currentTNode=i,a.isParent=s}function Nu(){return ft.lFrame.isParent}function Ou(){ft.lFrame.isParent=!1}function oa(){return ft.isInCheckNoChangesMode}function io(i){ft.isInCheckNoChangesMode=i}function Yr(){const i=ft.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Lr(){return ft.lFrame.bindingIndex}function so(i){return ft.lFrame.bindingIndex=i}function Vs(){return ft.lFrame.bindingIndex++}function Cs(i){const s=ft.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ql(i){ft.lFrame.inI18n=i}function Wl(i,s){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=i,aa(s)}function aa(i){ft.lFrame.currentDirectiveIndex=i}function Ga(i){const s=ft.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function qa(){return ft.lFrame.currentQueryIndex}function ua(i){ft.lFrame.currentQueryIndex=i}function Wa(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ku(i,s,a){if(a&pt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&pt.Host||(c=Wa(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const u=ft.lFrame=Jc();return u.currentTNode=s,u.lView=i,!0}function oo(i){const s=Jc(),a=i[1];ft.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Jc(){const i=ft.lFrame,s=null===i?null:i.child;return null===s?la(i):s}function la(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Fu(){const i=ft.lFrame;return ft.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Kl=Fu;function So(){const i=Fu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Vr(){return ft.lFrame.selectedIndex}function ca(i){ft.lFrame.selectedIndex=i}function Bn(){const i=ft.lFrame;return dn(i.tView,i.selectedIndex)}function Zl(){ft.lFrame.currentNamespace="svg"}function Xc(){ft.lFrame.currentNamespace=To}function Xp(){!function za(){ft.lFrame.currentNamespace=null}()}function as(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:M,ngOnDestroy:R}=f;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),M&&((i.viewHooks||(i.viewHooks=[])).push(a,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,M)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function da(i,s,a){Vu(i,s,3,a)}function ha(i,s,a,u){(3&i[2])===a&&Vu(i,s,a,u)}function nr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Vu(i,s,a,u){const f=null!=u?u:-1,v=s.length-1;let E=0;for(let w=void 0!==u?65535&i[18]:0;w<v;w++)if("number"==typeof s[w+1]){if(E=s[w],null!=u&&E>=u)break}else s[w]<0&&(i[18]+=65536),(E<f||-1==f)&&(Hh(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function Hh(i,s,a,u){const c=a[u]<0,f=a[u+1],E=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,Fr(4,E,f);try{f.call(E)}finally{Fr(5,E,f)}}}else{Fr(4,E,f);try{f.call(E)}finally{Fr(5,E,f)}}}class Mo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Uu(i,s,a){const u=mn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const v=a[c++],E=a[c++],w=a[c++];u?i.setAttribute(s,E,w,v):s.setAttributeNS(v,E,w)}else{const v=f,E=a[++c];Jl(v)?u&&i.setProperty(s,v,E):u?i.setAttribute(s,v,E):s.setAttribute(v,E),c++}}return c}function Xr(i){return 3===i||4===i||6===i}function Jl(i){return 64===i.charCodeAt(0)}function fa(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||pa(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function pa(i,s,a,u,c){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==c&&(i[f+1]=c));if(u===i[f+1])return void(i[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==c&&i.splice(f++,0,c)}function Xl(i){return-1!==i}function Dn(i){return 32767&i}function Ri(i,s){let a=function qh(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Qa=!0;function uo(i){const s=Qa;return Qa=i,s}let zh=0;function ma(i,s){const a=Ya(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,us(u.data,i),us(s,null),us(u.blueprint,null));const c=ls(i,s),f=i.injectorIndex;if(Xl(c)){const v=Dn(c),E=Ri(c,s),w=E[1].data;for(let M=0;M<8;M++)s[f+M]=E[v+M]|w[v+M]}return s[f+8]=c,f}function us(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ya(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ls(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const f=c[1],v=f.type;if(u=2===v?f.declTNode:1===v?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function ya(i,s,a){!function xo(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(yt)&&(u=a[yt]),null==u&&(u=a[yt]=zh++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Ro(i,s,a){if(a&pt.Optional)return i;Ae(s,"NodeInjector")}function nd(i,s,a,u){if(a&pt.Optional&&void 0===u&&(u=null),0==(a&(pt.Self|pt.Host))){const c=i[9],f=qn(void 0);try{return c?c.get(s,u,a&pt.Optional):Wr(s,u,a&pt.Optional)}finally{qn(f)}}return Ro(u,s,a)}function ju(i,s,a,u=pt.Default,c){if(null!==i){const f=function Kh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(yt)?i[yt]:void 0;return"number"==typeof s?s>=0?255&s:rd:s}(a);if("function"==typeof f){if(!ku(s,i,u))return u&pt.Host?Ro(c,a,u):nd(s,a,u,c);try{const v=f(u);if(null!=v||u&pt.Optional)return v;Ae(a)}finally{Kl()}}else if("number"==typeof f){let v=null,E=Ya(i,s),w=-1,M=u&pt.Host?s[16][6]:null;for((-1===E||u&pt.SkipSelf)&&(w=-1===E?ls(i,s):s[E+8],-1!==w&&di(u,!1)?(v=s[1],E=Dn(w),s=Ri(w,s)):E=-1);-1!==E;){const R=s[1];if(No(f,E,R.data)){const j=id(E,s,a,v,u,M);if(j!==va)return j}w=s[E+8],-1!==w&&di(u,s[1].data[E+8]===M)&&No(f,E,s)?(v=R,E=Dn(w),s=Ri(w,s)):E=-1}}}return nd(s,a,u,c)}const va={};function rd(){return new Tn(kn(),Pe())}function id(i,s,a,u,c,f){const v=s[1],E=v.data[i+8],R=bs(E,v,a,null==u?Ti(E)&&Qa:u!=v&&0!=(3&E.type),c&pt.Host&&f===E);return null!==R?gt(s,v,R,E):va}function bs(i,s,a,u,c){const f=i.providerIndexes,v=s.data,E=1048575&f,w=i.directiveStart,R=f>>20,W=c?E+R:i.directiveEnd;for(let te=u?E:E+R;te<W;te++){const Te=v[te];if(te<w&&a===Te||te>=w&&Te.type===a)return te}if(c){const te=v[w];if(te&&Tr(te)&&te.type===a)return w}return null}function gt(i,s,a,u){let c=i[a];const f=s.data;if(function Ql(i){return i instanceof Mo}(c)){const v=c;v.resolving&&function We(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ve(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(f[a]));const E=uo(v.canSeeViewProviders);v.resolving=!0;const w=v.injectImpl?qn(v.injectImpl):null;ku(i,u,pt.Default);try{c=i[a]=v.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Ka(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(u){const v=ks(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&qn(w),uo(E),v.resolving=!1,Kl()}}return c}function No(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function di(i,s){return!(i&pt.Self||i&pt.Host&&s)}class Tn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return ju(this._tNode,this._lView,s,u,a)}}function sd(i){return In(()=>{const s=i.prototype.constructor,a=s[st]||_a(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const f=c[st]||_a(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function _a(i){return qe(i)?()=>{const s=_a(Y(i));return s&&s()}:pr(i)}function Bu(i){return function ec(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const f=a[c];if(Xr(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(kn(),i)}const Us="__annotations__",Ea="__parameters__",hi="__prop__metadata__";function Ni(i,s,a,u,c){return In(()=>{const f=Ja(s);function v(...E){if(this instanceof v)return f.call(this,...E),this;const w=new v(...E);return function(R){return c&&c(R,...E),(R.hasOwnProperty(Us)?R[Us]:Object.defineProperty(R,Us,{value:[]})[Us]).push(w),u&&u(R),R}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=i,v.annotationCls=v,v})}function Ja(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}function Oo(i,s,a){return In(()=>{const u=Ja(s);function c(...f){if(this instanceof c)return u.apply(this,f),this;const v=new c(...f);return E.annotation=v,E;function E(w,M,R){const j=w.hasOwnProperty(Ea)?w[Ea]:Object.defineProperty(w,Ea,{value:[]})[Ea];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(v),w}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function Oi(i,s,a,u){return In(()=>{const c=Ja(s);function f(...v){if(this instanceof f)return c.apply(this,v),this;const E=new f(...v);return function w(M,R){const j=M.constructor,W=j.hasOwnProperty(hi)?j[hi]:Object.defineProperty(j,hi,{value:{}})[hi];W[R]=W.hasOwnProperty(R)&&W[R]||[],W[R].unshift(E),u&&u(M,R,...v)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}const Zh=Oo("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>Bu(i)}));class An{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ia=new An("AnalyzeForEntryComponents");class wa{}const Xa=Oi("ContentChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},s),wa),rr=Oi("ContentChild",(i,s={})=>Object.assign({selector:i,first:!0,isViewQuery:!1,descendants:!0},s),wa),cs=Oi("ViewChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},s),wa),od=Oi("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),wa);var Sn=(()=>((Sn=Sn||{})[Sn.Directive=0]="Directive",Sn[Sn.Component=1]="Component",Sn[Sn.Injectable=2]="Injectable",Sn[Sn.Pipe=3]="Pipe",Sn[Sn.NgModule=4]="NgModule",Sn))();function Qn(i){const s=Kt.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const $u=Function;function lo(i){return"function"==typeof i}function ei(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),ei(u,s)):s!==i&&s.push(u)}return s}function Wi(i,s){i.forEach(a=>Array.isArray(a)?Wi(a,s):s(a))}function Qh(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Po(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ts(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function ir(i,s,a){let u=Rt(i,s);return u>=0?i[1|u]=a:(u=~u,function ud(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function eu(i,s){const a=Rt(i,s);if(a>=0)return i[1|a]}function Rt(i,s){return function co(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const f=u+(c-u>>1),v=i[f<<a];if(s===v)return f<<a;v>s?c=f:u=f+1}return~(c<<a)}(i,s,1)}const Gu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Xh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Yn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,sr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class fi{constructor(s){this._reflect=s||Kt.Reflect}isReflectionEnabled(){return!0}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let u;u=Ts(void 0===s?a.length:s.length);for(let c=0;c<u.length;c++)u[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(u[c]=u[c].concat(a[c]));return u}_ownParameters(s,a){if(function qu(i){return Gu.test(i)||sr.test(i)||Xh.test(i)&&!Yn.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const E="function"==typeof c?c():c,w=E.map(R=>R&&R.type),M=E.map(R=>R&&ld(R.decorators));return this._zipTypesAndAnnotations(w,M)}const f=s.hasOwnProperty(Ea)&&s[Ea],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return v||f?this._zipTypesAndAnnotations(v,f):Ts(s.length)}parameters(s){if(!lo(s))return[];const a=nc(s);let u=this._ownParameters(s,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let u=s.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return s.decorators&&s.decorators!==a.decorators?ld(s.decorators):s.hasOwnProperty(Us)?s[Us]:null}annotations(s){if(!lo(s))return[];const a=nc(s),u=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let u=s.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const u=s.propDecorators,c={};return Object.keys(u).forEach(f=>{c[f]=ld(u[f])}),c}return s.hasOwnProperty(hi)?s[hi]:null}propMetadata(s){if(!lo(s))return{};const a=nc(s),u={};if(a!==Object){const f=this.propMetadata(a);Object.keys(f).forEach(v=>{u[v]=f[v]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(f=>{const v=[];u.hasOwnProperty(f)&&v.push(...u[f]),v.push(...c[f]),u[f]=v}),u}ownPropMetadata(s){return lo(s)&&this._ownPropMetadata(s,nc(s))||{}}hasLifecycleHook(s,a){return s instanceof $u&&a in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${de(s)}`}resourceUri(s){return`./${de(s)}`}resolveIdentifier(s,a,u,c){return c}resolveEnum(s,a){return s[a]}}function ld(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function nc(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const ds={},tu="__NG_DI_FLAG__",ic="ngTempTokenPath",A=/\n/gm,B="__source",ee=ce({provide:String,useValue:ce});let oe;function Le(i){const s=oe;return oe=i,s}function nt(i,s=pt.Default){if(void 0===oe)throw new ve(203,"");return null===oe?Wr(i,void 0,s):oe.get(i,s&pt.Optional?null:void 0,s)}function at(i,s=pt.Default){return(function dr(){return qr}()||nt)(Y(i),s)}function Tt(i){throw new Error("invalid")}const Yt=at;function Mt(i){const s=[];for(let a=0;a<i.length;a++){const u=Y(i[a]);if(Array.isArray(u)){if(0===u.length)throw new ve(900,"");let c,f=pt.Default;for(let v=0;v<u.length;v++){const E=u[v],w=Jn(E);"number"==typeof w?-1===w?c=E.token:f|=w:c=E}s.push(at(c,f))}else s.push(at(u))}return s}function mr(i,s){return i[tu]=s,i.prototype[tu]=s,i}function Jn(i){return i[tu]}const hs=mr(Oo("Inject",i=>({token:i})),-1),pi=mr(Oo("Optional"),8),fs=mr(Oo("Self"),2),fo=mr(Oo("SkipSelf"),4),ef=mr(Oo("Host"),1);let rg=null;function cd(){return rg=rg||new fi}function nu(i){return dd(cd().parameters(i))}function dd(i){return i.map(s=>function ig(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const u=i[a];if(void 0===u)continue;const c=Object.getPrototypeOf(u);if(u instanceof pi||"Optional"===c.ngMetadataName)s.optional=!0;else if(u instanceof fo||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(u instanceof fs||"Self"===c.ngMetadataName)s.self=!0;else if(u instanceof ef||"Host"===c.ngMetadataName)s.host=!0;else if(u instanceof hs)s.token=u.token;else if(u instanceof Zh){if(void 0===u.attributeName)throw new Error("Attribute name must be defined.");s.attribute=u.attributeName}else s.token=u}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function hd(i){const s=[],a=new Map;function u(c){let f=a.get(c);if(!f){const v=i(c);a.set(c,f=v.then(ag))}return f}return ko.forEach((c,f)=>{const v=[];c.templateUrl&&v.push(u(c.templateUrl).then(j=>{c.template=j}));const E=c.styleUrls,w=c.styles||(c.styles=[]),M=c.styles.length;E&&E.forEach((j,W)=>{w.push(""),v.push(u(j).then(te=>{w[M+W]=te,E.splice(E.indexOf(j),1),0==E.length&&(c.styleUrls=void 0)}))});const R=Promise.all(v).then(()=>function rf(i){Fo.delete(i)}(f));s.push(R)}),sc(),Promise.all(s).then(()=>{})}let ko=new Map;const Fo=new Set;function nf(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function sc(){const i=ko;return ko=new Map,i}function ag(i){return"string"==typeof i?i:i.text()}let fd,zu;function sf(){if(void 0===fd&&(fd=null,Kt.trustedTypes))try{fd=Kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return fd}function Wu(i){var s;return(null===(s=sf())||void 0===s?void 0:s.createHTML(i))||i}function gd(){if(void 0===zu&&(zu=null,Kt.trustedTypes))try{zu=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return zu}function lg(i){var s;return(null===(s=gd())||void 0===s?void 0:s.createHTML(i))||i}function of(i){var s;return(null===(s=gd())||void 0===s?void 0:s.createScript(i))||i}function Ku(i){var s;return(null===(s=gd())||void 0===s?void 0:s.createScriptURL(i))||i}class ru{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dy extends ru{getTypeName(){return"HTML"}}class Cy extends ru{getTypeName(){return"Style"}}class by extends ru{getTypeName(){return"Script"}}class af extends ru{getTypeName(){return"URL"}}class Ty extends ru{getTypeName(){return"ResourceURL"}}function $s(i){return i instanceof ru?i.changingThisBreaksApplicationSecurity:i}function Zu(i,s){const a=uf(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function uf(i){return i instanceof ru&&i.getTypeName()||null}function Ay(i){return new Dy(i)}function Qu(i){return new Cy(i)}function cg(i){return new by(i)}function lf(i){return new af(i)}function md(i){return new Ty(i)}function dg(i){const s=new My(i);return function xy(){try{return!!(new window.DOMParser).parseFromString(Wu(""),"text/html")}catch(i){return!1}}()?new Sy(s):s}class Sy{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Wu(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class My{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Wu(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Wu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const v=a.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Ca=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ba(i){return(i=String(i)).match(Ca)||i.match(hg)?i:"unsafe:"+i}function Ny(i){return(i=String(i)).split(",").map(s=>ba(s.trim())).join(", ")}function As(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function yd(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Oy=As("area,br,col,hr,img,wbr"),Yu=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Py=As("rp,rt"),vd=yd(Oy,yd(Yu,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yd(Py,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yd(Py,Yu)),ac=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uc=As("srcset"),hf=yd(ac,uc,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ky=As("script,style,template");class W0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!vd.hasOwnProperty(a))return this.sanitizedSomething=!0,!ky.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let c=0;c<u.length;c++){const f=u.item(c),v=f.name,E=v.toLowerCase();if(!hf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=f.value;ac[E]&&(w=ba(w)),uc[E]&&(w=Ny(w)),this.buf.push(" ",v,'="',Fy(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();vd.hasOwnProperty(a)&&!Oy.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Fy(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ff=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pf=/([^\#-~ |!])/g;function Fy(i){return i.replace(/&/g,"&amp;").replace(ff,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(pf,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gf;function lc(i,s){let a=null;try{gf=gf||dg(i);let u=s?String(s):"";a=gf.getInertBodyElement(u);let c=5,f=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=f,f=a.innerHTML,a=gf.getInertBodyElement(u)}while(u!==f);return Wu((new W0).sanitizeChildren(fg(a)||a))}finally{if(a){const u=fg(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function fg(i){return"content"in i&&function z0(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function pg(i){const s=Ta();return s?lg(s.sanitize(yr.HTML,i)||""):Zu(i,"HTML")?lg($s(i)):lc(ws(),re(i))}function Ly(i){const s=Ta();return s?s.sanitize(yr.STYLE,i)||"":Zu(i,"Style")?$s(i):re(i)}function _d(i){const s=Ta();return s?s.sanitize(yr.URL,i)||"":Zu(i,"URL")?$s(i):ba(re(i))}function mf(i){const s=Ta();if(s)return Ku(s.sanitize(yr.RESOURCE_URL,i)||"");if(Zu(i,"ResourceURL"))return Ku($s(i));throw new ve(904,"")}function yf(i){const s=Ta();if(s)return of(s.sanitize(yr.SCRIPT,i)||"");if(Zu(i,"Script"))return of($s(i));throw new ve(905,"")}function Ju(i){return Wu(i[0])}function vf(i){return function oc(i){var s;return(null===(s=sf())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function Ef(i,s,a){return function _f(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?mf:_d}(s,a)(i)}function Ta(){const i=Pe();return i&&i[12]}function ti(i){let s=Aa(i);if(s){if(Array.isArray(s)){const a=s;let u,c,f;if(function mi(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(u=Lo(a,i),-1==u)throw new Error("The provided component was not found in the application");c=i}else if(function cc(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(u=function Id(i,s){let a=i[1].firstChild;for(;a;){const c=a.directiveEnd;for(let f=a.directiveStart;f<c;f++)if(i[f]===s)return a.index;a=gg(a)}return-1}(a,i),-1==u)throw new Error("The provided directive was not found in the application");f=wf(u,a,!1)}else if(u=dc(a,i),-1==u)return null;const v=b(a[u]),E=Aa(v),w=E&&!Array.isArray(E)?E:Pi(a,u,v);if(c&&void 0===w.component&&(w.component=c,gi(w.component,w)),f&&void 0===w.directives){w.directives=f;for(let M=0;M<f.length;M++)gi(f[M],w)}gi(w.native,w),s=w}}else{const a=i;let u=a;for(;u=u.parentNode;){const c=Aa(u);if(c){let f;if(f=Array.isArray(c)?c:c.lView,!f)return null;const v=dc(f,a);if(v>=0){const E=b(f[v]),w=Pi(f,v,E);gi(E,w),s=w;break}}}}return s||null}function Pi(i,s,a){return{lView:i,nodeIndex:s,native:a,component:void 0,directives:void 0,localRefs:void 0}}function Ed(i){let a,s=Aa(i);if(Array.isArray(s)){const u=Lo(s,i);a=Bt(u,s);const c=Pi(s,u,a[0]);c.component=i,gi(i,c),gi(c.native,c)}else a=Bt(s.nodeIndex,s.lView);return a}const If="__ngContext__";function gi(i,s){i[If]=s}function Aa(i){return i[If]||null}function Xu(i){const s=Aa(i);return s?Array.isArray(s)?s:s.lView:null}function dc(i,s){const a=i[1];for(let u=20;u<a.bindingStartIndex;u++)if(b(i[u])===s)return u;return-1}function gg(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function Lo(i,s){const a=i[1].components;if(a)for(let u=0;u<a.length;u++){const c=a[u];if(Bt(c,i)[8]===s)return c}else if(Bt(20,i)[8]===s)return 20;return-1}function wf(i,s,a){const u=s[1].data[i];let c=u.directiveStart;return 0==c?mt:(!a&&2&u.flags&&c++,s.slice(c,u.directiveEnd))}const po="ngOriginalError";function Ur(i){return i[po]}function Dd(i,...s){i.error(...s)}class ni{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function hc(i){return i&&i.ngErrorLogger||Dd}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Ur(s);for(;a&&Ur(a);)a=Ur(a);return a||null}}const yi={name:"custom-elements"},Cd={name:"no-errors-schema"},Vo=/^>|^->|<!--|-->|--!>|<!-$/g,Hs=/(<|>)/;const $y=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function vg(i){return i.ownerDocument.defaultView}function Cf(i){return i.ownerDocument}function y(i){return i.ownerDocument.body}function p(i){return i instanceof Function?i():i}var me=(()=>((me=me||{})[me.Important=1]="Important",me[me.DashCase=2]="DashCase",me))();let $e;function ot(i,s){return $e(i,s)}function $n(i){const s=i[3];return Or(s)?s[3]:s}function zi(i){return function Ss(i){let s=Qr(i)?i:Xu(i);for(;s&&!(512&s[2]);)s=$n(s);return s}(i)[8]}function fc(i){return Td(i[13])}function tl(i){return Td(i[4])}function Td(i){for(;null!==i&&!Or(i);)i=i[4];return i}function Fn(i,s,a,u,c){if(null!=u){let f,v=!1;Or(u)?f=u:Qr(u)&&(v=!0,u=u[0]);const E=b(u);0===i&&null!==a?null==c?J0(s,a,E):nl(s,a,E,c||null,!0):1===i&&null!==a?nl(s,a,E,c||null,!0):2===i?tE(s,E,v):3===i&&s.destroyNode(E),null!=f&&function rE(i,s,a,u,c){const f=a[7];f!==b(a)&&Fn(s,i,u,f,c);for(let E=10;E<a.length;E++){const w=a[E];Of(w[1],w,i,s,u,f)}}(s,i,f,a,c)}}function ps(i,s){return mn(i)?i.createText(s):i.createTextNode(s)}function bf(i,s,a){mn(i)?i.setValue(s,a):s.textContent=a}function Tf(i,s){return i.createComment(function bd(i){return i.replace(Vo,s=>s.replace(Hs,"\u200b$1\u200b"))}(s))}function pc(i,s,a){if(mn(i))return i.createElement(s,a);{const u=null!==a?function Ls(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===To?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Sf(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ci(c,-1)),a.splice(u,1)}function iu(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&Sf(c,u),s>0&&(i[a-1][4]=u[4]);const f=Po(i,10+s);!function _g(i,s){Of(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const v=f[19];null!==v&&v.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function nn(i,s){if(!(256&s[2])){const a=s[11];mn(a)&&a.destroyNode&&Of(i,s,a,3,null,null),function ID(i){let s=i[13];if(!s)return gc(i[1],i);for(;s;){let a=null;if(Qr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Qr(s)&&gc(s[1],s),s=s[3];null===s&&(s=i),Qr(s)&&gc(s[1],s),a=s&&s[4]}s=a}}(s)}}function gc(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function mc(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Mo)){const f=a[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=c[f[v]],w=f[v+1];Fr(4,E,w);try{w.call(E)}finally{Fr(5,E,w)}}else{Fr(4,c,f);try{f.call(c)}finally{Fr(5,c,f)}}}}}(i,s),function wD(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const v=a[f+1],E="function"==typeof v?v(s):b(s[v]),w=u[c=a[f+2]],M=a[f+3];"boolean"==typeof M?E.removeEventListener(a[f],w,M):M>=0?u[c=M]():u[c=-M].unsubscribe(),f+=2}else{const v=u[c=a[f+1]];a[f].call(v)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&mn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Or(s[3])){a!==s[3]&&Sf(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function Y0(i,s,a){return Hy(i,s.parent,a)}function Hy(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===zt.None||c===zt.Emulated)return null}return Ne(u,a)}function nl(i,s,a,u,c){mn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function J0(i,s,a){mn(i)?i.appendChild(s,a):s.appendChild(a)}function Mf(i,s,a,u,c){null!==u?nl(i,s,a,u,c):J0(i,s,a)}function Rf(i,s){return mn(i)?i.parentNode(s):s.parentNode}function X0(i,s,a){return Nf(i,s,a)}function wg(i,s,a){return 40&i.type?Ne(i,a):null}let Dg,Nf=wg;function Gy(i,s){Nf=i,Dg=s}function Cg(i,s,a,u){const c=Y0(i,u,s),f=s[11],E=X0(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let w=0;w<a.length;w++)Mf(f,c,a[w],E,!1);else Mf(f,c,a,E,!1);void 0!==Dg&&Dg(f,u,s,a,c)}function bg(i,s){if(null!==s){const a=s.type;if(3&a)return Ne(s,i);if(4&a)return Ad(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return bg(i,u);{const c=i[s.index];return Or(c)?Ad(-1,c):b(c)}}if(32&a)return ot(s,i)()||b(i[s.index]);{const u=eE(i,s);return null!==u?Array.isArray(u)?u[0]:bg($n(i[16]),u):bg(i,s.next)}}return null}function eE(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Ad(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return bg(u,c)}return s[7]}function tE(i,s,a){const u=Rf(i,s);u&&function xf(i,s,a,u){mn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}function qy(i,s,a,u,c,f,v){for(;null!=a;){const E=u[a.index],w=a.type;if(v&&0===s&&(E&&gi(b(E),u),a.flags|=4),64!=(64&a.flags))if(8&w)qy(i,s,a.child,u,c,f,!1),Fn(s,i,c,E,f);else if(32&w){const M=ot(a,u);let R;for(;R=M();)Fn(s,i,c,R,f);Fn(s,i,c,E,f)}else 16&w?nE(i,s,u,a,c,f):Fn(s,i,c,E,f);a=v?a.projectionNext:a.next}}function Of(i,s,a,u,c,f){qy(a,u,i.firstChild,s,c,f,!1)}function nE(i,s,a,u,c,f){const v=a[16],w=v[6].projection[u.projection];if(Array.isArray(w))for(let M=0;M<w.length;M++)Fn(s,i,c,w[M],f);else qy(i,s,w,v[3],c,f,!0)}function Tg(i,s,a){mn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function jo(i,s,a){mn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function yc(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===u||i.charCodeAt(c+f)<=32)return c}a=c+1}}const zy="ng-template";function bD(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==yc(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function vc(i){return 4===i.type&&i.value!==zy}function iE(i,s,a){return s===(4!==i.type||a?i.value:zy)}function TD(i,s,a){let u=4;const c=i.attrs||[],f=function Ky(i){for(let s=0;s<i.length;s++)if(Xr(i[s]))return s;return i.length}(c);let v=!1;for(let E=0;E<s.length;E++){const w=s[E];if("number"!=typeof w){if(!v)if(4&u){if(u=2|1&u,""!==w&&!iE(i,w,a)||""===w&&1===s.length){if(Ms(u))return!1;v=!0}}else{const M=8&u?w:s[++E];if(8&u&&null!==i.attrs){if(!bD(i.attrs,M,a)){if(Ms(u))return!1;v=!0}continue}const j=sE(8&u?"class":w,c,vc(i),a);if(-1===j){if(Ms(u))return!1;v=!0;continue}if(""!==M){let W;W=j>f?"":c[j+1].toLowerCase();const te=8&u?W:null;if(te&&-1!==yc(te,M,0)||2&u&&M!==W){if(Ms(u))return!1;v=!0}}}}else{if(!v&&!Ms(u)&&!Ms(w))return!1;if(v&&Ms(w))continue;v=!1,u=w|1&u}}return Ms(u)||v}function Ms(i){return 0==(1&i)}function sE(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let f=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=f?1:2}return-1}return function Zy(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Ag(i,s,a=!1){for(let u=0;u<s.length;u++)if(TD(i,s[u],a))return!0;return!1}function AD(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function Sd(i,s){return i?":not("+s.trim()+")":s}function SD(i){let s=i[0],a=1,u=2,c="",f=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&u){const E=i[++a];c+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!Ms(v)&&(s+=Sd(f,c),c=""),u=v,f=f||!Ms(u);a++}return""!==c&&(s+=Sd(f,c)),s}const xt={};function Md(i){Sg(Ht(),Pe(),Vr()+i,oa())}function Sg(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&da(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ha(s,f,0,a)}ca(a)}function Pf(i,s){return i<<17|s<<2}function Bo(i){return i>>17&32767}function Yy(i){return 2|i}function su(i){return(131068&i)>>2}function xg(i,s){return-131069&i|s<<2}function Jy(i){return 1|i}const av=(()=>Promise.resolve(null))();function pE(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],f=a[u+1];if(-1!==f){const v=i.data[f];ua(c),v.contentQueries(2,s[f],f)}}}function Ic(i,s,a,u,c,f,v,E,w,M){const R=s.blueprint.slice();return R[0]=c,R[2]=140|u,Hi(R),R[3]=R[15]=i,R[8]=a,R[10]=v||i&&i[10],R[11]=E||i&&i[11],R[12]=w||i&&i[12]||null,R[9]=M||i&&i[9]||null,R[6]=f,R[16]=2==s.type?i[16]:R,R}function Od(i,s,a,u,c){let f=i.data[s];if(null===f)f=kg(i,s,a,u,c),function Yc(){return ft.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=c;const v=sa();f.injectorIndex=null===v?-1:v.injectorIndex}return xi(f,!0),f}function kg(i,s,a,u,c){const f=ia(),v=Nu(),w=i.data[s]=function qD(i,s,a,u,c,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=w),null!==f&&(v?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function au(i,s,a,u){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Uf(i,s,a){oo(s);try{const u=i.viewQuery;null!==u&&jg(1,u,a);const c=i.template;null!==c&&gE(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&pE(i,s),i.staticViewQueries&&jg(2,i.viewQuery,a);const f=i.components;null!==f&&function HD(i,s){for(let a=0;a<s.length;a++)iC(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,So()}}function Pd(i,s,a,u){const c=s[2];if(256==(256&c))return;oo(s);const f=oa();try{Hi(s),so(i.bindingStartIndex),null!==a&&gE(i,s,a,2,u);const v=3==(3&c);if(!f)if(v){const M=i.preOrderCheckHooks;null!==M&&da(s,M,null)}else{const M=i.preOrderHooks;null!==M&&ha(s,M,0,null),nr(s,0)}if(function nC(i){for(let s=fc(i);null!==s;s=tl(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],f=c[3];0==(1024&c[2])&&ci(f,1),c[2]|=1024}}}(s),function AE(i){for(let s=fc(i);null!==s;s=tl(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];Nn(u)&&Pd(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&pE(i,s),!f)if(v){const M=i.contentCheckHooks;null!==M&&da(s,M)}else{const M=i.contentHooks;null!==M&&ha(s,M,1),nr(s,1)}!function BD(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)ca(~c);else{const f=c,v=a[++u],E=a[++u];Wl(v,f),E(2,s[f])}}}finally{ca(-1)}}(i,s);const E=i.components;null!==E&&function $D(i,s){for(let a=0;a<s.length;a++)rC(i,s[a])}(s,E);const w=i.viewQuery;if(null!==w&&jg(2,w,u),!f)if(v){const M=i.viewCheckHooks;null!==M&&da(s,M)}else{const M=i.viewHooks;null!==M&&ha(s,M,2),nr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ci(s[3],-1))}finally{So()}}function Fg(i,s,a,u){const c=s[10],f=!oa(),v=Vt(s);try{f&&!v&&c.begin&&c.begin(),v&&Uf(i,s,u),Pd(i,s,a,u)}finally{f&&!v&&c.end&&c.end()}}function gE(i,s,a,u,c){const f=Vr(),v=2&u;try{ca(-1),v&&s.length>20&&Sg(i,s,20,oa()),Fr(v?2:0,c),a(u,c)}finally{ca(f),Fr(v?3:1,c)}}function kd(i,s,a){if(Qo(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const v=i.data[f];v.contentQueries&&v.contentQueries(1,a[f],f)}}}function uv(i,s,a){!Ru()||(function ZD(i,s,a,u){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||ma(a,s),gi(u,s);const v=a.initialInputs;for(let E=c;E<f;E++){const w=i.data[E],M=Tr(w);M&&XD(s,a,w);const R=gt(s,i,E,a);gi(R,s),null!==v&&eC(0,E-c,R,w,0,v),M&&(Bt(a.index,s)[8]=R)}}(i,s,a,Ne(a,s)),128==(128&a.flags)&&function QD(i,s,a){const u=a.directiveStart,c=a.directiveEnd,v=a.index,E=function zl(){return ft.lFrame.currentDirectiveIndex}();try{ca(v);for(let w=u;w<c;w++){const M=i.data[w],R=s[w];aa(w),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&DE(M,R)}}finally{ca(-1),aa(E)}}(i,s,a))}function lv(i,s,a=Ne){const u=s.localNames;if(null!==u){let c=s.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],E=-1===v?a(s,i):i[v];i[c++]=E}}}function Fd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Lg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Lg(i,s,a,u,c,f,v,E,w,M){const R=20+u,j=R+c,W=function GD(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:xt);return a}(R,j),te="function"==typeof M?M():M;return W[1]={type:i,blueprint:W,template:a,queries:null,viewQuery:E,declTNode:s,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:te,incompleteFirstPass:!1}}function yE(i,s,a){if(mn(i))return i.selectRootElement(s,a===zt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}function vE(i,s,a,u){const c=sl(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&yv(i).push(u,c.length-1))}function _E(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function Gs(i,s,a,u,c,f,v,E){const w=Ne(s,a);let R,M=s.inputs;!E&&null!=M&&(R=M[u])?(vv(i,a,R,u,c),Ti(s)&&function zD(i,s){const a=Bt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function EE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=v?v(c,s.value||"",u):c,mn(f)?f.setProperty(w,u,c):Jl(u)||(w.setProperty?w.setProperty(u,c):w[u]=c))}function Vg(i,s,a,u){let c=!1;if(Ru()){const f=function YD(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const v=u[f];Ag(a,v.selectors,!1)&&(c||(c=[]),ya(ma(a,s),i,v.type),Tr(v)?(hv(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===u?null:{"":-1};if(null!==f){c=!0,CE(a,i.data.length,f.length);for(let R=0;R<f.length;R++){const j=f[R];j.providersResolver&&j.providersResolver(j)}let E=!1,w=!1,M=au(i,s,f.length,null);for(let R=0;R<f.length;R++){const j=f[R];a.mergedAttrs=fa(a.mergedAttrs,j.hostAttrs),bE(i,a,s,M,j),fv(M,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const W=j.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!w&&(W.ngOnChanges||W.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),M++}!function WD(i,s){const u=s.directiveEnd,c=i.data,f=s.attrs,v=[];let E=null,w=null;for(let M=s.directiveStart;M<u;M++){const R=c[M],j=R.inputs,W=null===f||vc(s)?null:tC(j,f);v.push(W),E=_E(j,M,E),w=_E(R.outputs,M,w)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=E,s.outputs=w}(i,a)}v&&function JD(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new ve(-301,!1);u.push(s[c],f)}}}(a,u,v)}return a.mergedAttrs=fa(a.mergedAttrs,a.attrs),c}function dv(i,s,a,u,c,f){const v=f.hostBindings;if(v){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const w=~s.index;(function wE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=w&&E.push(w),E.push(u,c,v)}}function DE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function hv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function fv(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Tr(s)&&(a[""]=i)}}function CE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function bE(i,s,a,u,c){i.data[u]=c;const f=c.factory||(c.factory=pr(c.type)),v=new Mo(f,Tr(c),null);i.blueprint[u]=v,a[u]=v,dv(i,s,0,u,au(i,a,c.hostVars,xt),c)}function XD(i,s,a){const u=Ne(s,i),c=Fd(a),f=i[10],v=Ld(i,Ic(i,c,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=v}function go(i,s,a,u,c,f){const v=Ne(i,s);Ug(s[11],v,f,i.value,a,u,c)}function Ug(i,s,a,u,c,f,v){if(null==f)mn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const E=null==v?re(f):v(f,u||"",c);mn(i)?i.setAttribute(s,c,E,a):a?s.setAttributeNS(a,c,E):s.setAttribute(c,E)}}function eC(i,s,a,u,c,f){const v=f[s];if(null!==v){const E=u.setInput;for(let w=0;w<v.length;){const M=v[w++],R=v[w++],j=v[w++];null!==E?u.setInput(a,j,M,R):a[R]=j}}}function tC(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function TE(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function rC(i,s){const a=Bt(s,i);if(Nn(a)){const u=a[1];80&a[2]?Pd(u,a,u.template,a[8]):a[5]>0&&vi(a)}}function vi(i){for(let u=fc(i);null!==u;u=tl(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const v=f[1];Pd(v,f,v.template,f[8])}else f[5]>0&&vi(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=Bt(a[u],i);Nn(c)&&c[5]>0&&vi(c)}}function iC(i,s){const a=Bt(s,i),u=a[1];(function SE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Uf(u,a,a[8])}function Ld(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function il(i){for(;i;){i[2]|=64;const s=$n(i);if(La(i)&&!s)return i;i=s}return null}function pv(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Xu(a),c=u[1];Fg(c,u,c.template,a)}}function gv(i,s,a){const u=s[10];u.begin&&u.begin();try{Pd(i,s,i.template,a)}catch(c){throw NE(s,c),c}finally{u.end&&u.end()}}function mv(i){pv(i[8])}function jg(i,s,a){ua(0),s(i,a)}const PT=av;function sl(i){return i[7]||(i[7]=[])}function yv(i){return i.cleanup||(i.cleanup=[])}function RE(i,s,a){return(null===i||Tr(i))&&(a=function P(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function NE(i,s){const a=i[9],u=a?a.get(ni,null):null;u&&u.handleError(s)}function vv(i,s,a,u,c){for(let f=0;f<a.length;){const v=a[f++],E=a[f++],w=s[v],M=i.data[v];null!==M.setInput?M.setInput(w,c,u,E):w[E]=c}}function uu(i,s,a){const u=ye(s,i);bf(i[11],u,a)}function Bg(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?f=E:1==f?c=le(c,E):2==f&&(u=le(u,E+": "+s[++v]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}function OE(i){const s=Ed(i);gv(s[1],s,i)}function _v(i){!function Vd(i,s){if(0===i.flags&&i.clean==av){let u;i.flags|=s,i.clean=new Promise(c=>u=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,pv(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=av,u(null)})}}(il(Ed(i))[8],1)}const $g=new An("INJECTOR",-1);class PE{get(s,a=ds){if(a===ds){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const jf=new An("Set Injector scope."),Bf={},oC={};let Hg;function kE(){return void 0===Hg&&(Hg=new PE),Hg}function FE(i,s=null,a=null,u){const c=Ud(i,s,a,u);return c._resolveInjectorDefTypes(),c}function Ud(i,s=null,a=null,u){return new LE(i,a,s||kE(),u)}class LE{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Wi(a,E=>this.processProvider(E,s,a)),Wi([s],E=>this.processInjectorType(E,[],f)),this.records.set($g,$f(void 0,this));const v=this.records.get(jf);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ds,u=pt.Default){this.assertNotDestroyed();const c=Le(this),f=qn(void 0);try{if(!(u&pt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const w=function Dv(i){return"function"==typeof i||"object"==typeof i&&i instanceof An}(s)&&$t(s);E=w&&this.injectableDefInScope(w)?$f(Ev(s),Bf):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&pt.Self?kE():this.parent).get(s,a=u&pt.Optional&&a===ds?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ic]=v[ic]||[]).unshift(de(s)),c)throw v;return function Da(i,s,a,u){const c=i[ic];throw s[B]&&c.unshift(s[B]),i.message=function ho(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=de(s);if(Array.isArray(s))c=s.map(de).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):de(E)))}c=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(A,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[ic]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{qn(f),Le(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(de(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processInjectorType(s,a,u){if(!(s=Y(s)))return!1;let c=Ir(s);const f=null==c&&s.ngModule||void 0,v=void 0===f?s:f,E=-1!==u.indexOf(v);if(void 0!==f&&(c=Ir(f)),null==c)return!1;if(null!=c.imports&&!E){let R;u.push(v);try{Wi(c.imports,j=>{this.processInjectorType(j,a,u)&&(void 0===R&&(R=[]),R.push(j))})}finally{}if(void 0!==R)for(let j=0;j<R.length;j++){const{ngModule:W,providers:te}=R[j];Wi(te,Te=>this.processProvider(Te,W,te||mt))}}this.injectorDefTypes.add(v);const w=pr(v)||(()=>new v);this.records.set(v,$f(w,Bf));const M=c.providers;if(null!=M&&!E){const R=s;Wi(M,j=>this.processProvider(j,R,M))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let c=rt(s=Y(s))?s:Y(s&&s.provide);const f=function aC(i,s,a){return UE(i)?$f(void 0,i.useValue):$f(VE(i),Bf)}(s);if(rt(s)||!0!==s.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=$f(void 0,Bf,!0),v.factory=()=>Mt(v.multi),this.records.set(c,v)),c=s,v.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===Bf&&(a.value=oC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Gg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Y(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Ev(i){const s=$t(i),a=null!==s?s.factory:pr(i);if(null!==a)return a;if(i instanceof An)throw new ve(204,!1);if(i instanceof Function)return function Iv(i){const s=i.length;if(s>0)throw Ts(s,"?"),new ve(204,!1);const a=function Gr(i){const s=i&&(i[Ci]||i[Xi]);if(s){const a=function Ji(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ve(204,!1)}function VE(i,s,a){let u;if(rt(i)){const c=Y(i);return pr(c)||Ev(c)}if(UE(i))u=()=>Y(i.useValue);else if(function lu(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Mt(i.deps||[]));else if(function uC(i){return!(!i||!i.useExisting)}(i))u=()=>at(Y(i.useExisting));else{const c=Y(i&&(i.useClass||i.provide));if(!function Lt(i){return!!i.deps}(i))return pr(c)||Ev(c);u=()=>new c(...Mt(i.deps))}return u}function $f(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function UE(i){return null!==i&&"object"==typeof i&&ee in i}function rt(i){return"function"==typeof i}let Ki=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return FE({name:""},u,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return FE({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=ds,i.NULL=new PE,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>at($g)}),i.__NG_ELEMENT_ID__=-1,i})();function Cv(i){jd(i);const s=ti(i);return null===s?null:(void 0===s.component&&(s.component=function mg(i,s){const a=s[1].data[i];return 2&a.flags?s[a.directiveStart]:null}(s.nodeIndex,s.lView)),s.component)}function qg(i){jd(i);const s=ti(i);return null===s?null:s.lView[8]}function jE(i){const s=ti(i);if(null===s)return null;let u,a=s.lView;for(;2===a[1].type&&(u=$n(a));)a=u;return 512&a[2]?null:a[8]}function BE(i){return[...zi(i).components]}function $E(i){const s=ti(i);return null===s?Ki.NULL:new Tn(s.lView[1].data[s.nodeIndex],s.lView)}function Hf(i){if(i instanceof Text)return[];const s=ti(i);if(null===s)return[];const a=s.lView,u=a[1],c=s.nodeIndex;return(null==u?void 0:u.data[c])?(void 0===s.directives&&(s.directives=wf(c,a,!1)),null===s.directives?[]:[...s.directives]):[]}function Fi(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=Zt(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Wn.OnPush:Wn.Default};const u=xn(s);return u?{inputs:u.inputs,outputs:u.outputs}:null}function bv(i){return ti(i).native}function Tv(i){jd(i);const s=ti(i);if(null===s)return[];const a=s.lView,c=a[7],f=a[1].cleanup,v=[];if(f&&c)for(let E=0;E<f.length;){const w=f[E++],M=f[E++];if("string"==typeof w){const R=w,j=b(a[M]),W=c[f[E++]],te=f[E++],Te="boolean"==typeof te||te>=0?"dom":"output",Be="boolean"==typeof te&&te;i==j&&v.push({element:i,name:R,callback:W,useCapture:Be,type:Te})}}return v.sort(HE),v}function HE(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function lC(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function jd(i){if("undefined"!=typeof Element&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}function qE(i){_v(i),BE(i).forEach(s=>OE(s))}let Wg=!1;function gs(){Wg||(Wg=!0,qs("\u0275setProfiler",ta),qs("getDirectiveMetadata",Fi),qs("getComponent",Cv),qs("getContext",qg),qs("getListeners",Tv),qs("getOwningComponent",jE),qs("getHostElement",bv),qs("getInjector",$E),qs("getRootComponents",BE),qs("getDirectives",Hf),qs("applyChanges",qE))}function qs(i,s){if("undefined"==typeof COMPILED||!COMPILED){const a=Kt;if(a){let u=a.ng;u||(u=a.ng={}),u[i]=s}}}function Av(i,s={}){const a=s.rendererFactory||T,u=s.sanitizer||null,c=Zt(i);c.type!=i&&(c.type=i);const f=c.selectors[0][0],E=yE(a.createRenderer(null,null),s.host||f,c.encapsulation),w=c.onPush?576:528,M=xv(s.scheduler,s.playerHandler),R=a.createRenderer(E,c),j=Lg(0,null,null,1,0,null,null,null,null,null),W=Ic(null,j,M,w,null,null,a,R,null,s.injector||null);let te;oo(W);try{a.begin&&a.begin(),te=Mv(Sv(E,c,W,a,R,u),c,W,M,s.hostFeatures||null),Uf(j,W,null),Pd(j,W,null,null)}finally{So(),a.end&&a.end()}return te}function Sv(i,s,a,u,c,f){const v=a[1];a[20]=i;const w=Od(v,20,2,"#host",null),M=w.mergedAttrs=s.hostAttrs;null!==M&&(Bg(w,M,!0),null!==i&&(Uu(c,i,M),null!==w.classes&&jo(c,i,w.classes),null!==w.styles&&Tg(c,i,w.styles)));const R=u.createRenderer(i,s),j=Ic(a,Fd(s),null,s.onPush?64:16,a[20],w,u,R,f||null,null);return v.firstCreatePass&&(ya(ma(w,a),v,s.type),hv(v,w),CE(w,a.length,1)),Ld(a,j),a[20]=j}function Mv(i,s,a,u,c){const f=a[1],v=function IE(i,s,a){const u=kn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),bE(i,u,s,au(i,s,1,null),a));const c=gt(s,i,u.directiveStart,u);gi(c,s);const f=Ne(u,s);return f&&gi(f,s),c}(f,a,s);if(u.components.push(v),i[8]=v,c&&c.forEach(w=>w(v,s)),s.contentQueries){const w=kn();s.contentQueries(1,v,w.directiveStart)}const E=kn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ca(E.index),dv(a[1],E,0,E.directiveStart,E.directiveEnd,s),DE(s,v)),v}function xv(i,s){return{components:[],scheduler:i||$y,clean:PT,playerHandler:s||null,flags:0}}function zg(i,s){as(Xu(i)[1],kn())}function hC(i){return zi(i).clean}function WE(i){return Object.getPrototypeOf(i.prototype).constructor}function al(i){let s=WE(i.type),a=!0;const u=[i];for(;s;){let c;if(Tr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ve(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const v=i;v.inputs=Gf(i.inputs),v.declaredInputs=Gf(i.declaredInputs),v.outputs=Gf(i.outputs);const E=c.hostBindings;E&&ZE(i,E);const w=c.viewQuery,M=c.contentQueries;if(w&&KE(i,w),M&&fC(i,M),ae(i.inputs,c.inputs),ae(i.declaredInputs,c.declaredInputs),ae(i.outputs,c.outputs),Tr(c)&&c.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(i),E===al&&(a=!1)}}s=Object.getPrototypeOf(s)}!function zE(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=fa(c.hostAttrs,a=fa(a,c.hostAttrs))}}(u)}function Gf(i){return i===Dr?{}:i===mt?[]:i}function KE(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function fC(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,f)=>{s(u,c,f),a(u,c,f)}:s}function ZE(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}const Kg=["providersResolver"],Rv=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Zg(i){let a,s=WE(i.type);a=Tr(i)?s.\u0275cmp:s.\u0275dir;const u=i;for(const c of Kg)u[c]=a[c];if(Tr(a))for(const c of Rv)u[c]=a[c]}let Bd=null;function $d(){if(!Bd){const i=Kt.Symbol;if(i&&i.iterator)Bd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Bd=u)}}}return Bd}function QE(i,s){const a=wc(i),u=wc(s);return a&&u?function YE(i,s,a){const u=i[$d()](),c=s[$d()]();for(;;){const f=u.next(),v=c.next();if(f.done&&v.done)return!0;if(f.done||v.done||!a(f.value,v.value))return!1}}(i,s,QE):!(a||!i||"object"!=typeof i&&"function"!=typeof i||u||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function wc(i){return!!Nv(i)&&(Array.isArray(i)||!(i instanceof Map)&&$d()in i)}function Nv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Hn(i,s,a){return i[s]=a}function cu(i,s){return i[s]}function Qi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Ho(i,s,a,u){const c=Qi(i,s,a);return Qi(i,s+1,u)||c}function Qg(i,s,a,u,c){const f=Ho(i,s,a,u);return Qi(i,s+2,c)||f}function mo(i,s,a,u,c,f){const v=Ho(i,s,a,u);return Ho(i,s+2,c,f)||v}function Hd(i,s,a,u){const c=Pe();return Qi(c,Vs(),s)&&(Ht(),go(Bn(),c,i,s,a,u)),Hd}function du(i,s){let a=!1,u=Lr();for(let f=1;f<s.length;f+=2)a=Qi(i,u++,s[f])||a;if(so(u),!a)return xt;let c=s[0];for(let f=1;f<s.length;f+=2)c+=re(s[f])+s[f+1];return c}function ul(i,s,a,u){return Qi(i,Vs(),a)?s+re(a)+u:xt}function ll(i,s,a,u,c,f){const E=Ho(i,Lr(),a,c);return Cs(2),E?s+re(a)+u+re(c)+f:xt}function cl(i,s,a,u,c,f,v,E){const M=Qg(i,Lr(),a,c,v);return Cs(3),M?s+re(a)+u+re(c)+f+re(v)+E:xt}function dl(i,s,a,u,c,f,v,E,w,M){const j=mo(i,Lr(),a,c,v,w);return Cs(4),j?s+re(a)+u+re(c)+f+re(v)+E+re(w)+M:xt}function Dc(i,s,a,u,c,f,v,E,w,M,R,j){const W=Lr();let te=mo(i,W,a,c,v,w);return te=Qi(i,W+4,R)||te,Cs(5),te?s+re(a)+u+re(c)+f+re(v)+E+re(w)+M+re(R)+j:xt}function Cc(i,s,a,u,c,f,v,E,w,M,R,j,W,te){const Te=Lr();let Be=mo(i,Te,a,c,v,w);return Be=Ho(i,Te+4,R,W)||Be,Cs(6),Be?s+re(a)+u+re(c)+f+re(v)+E+re(w)+M+re(R)+j+re(W)+te:xt}function Gd(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be){const Ge=Lr();let ut=mo(i,Ge,a,c,v,w);return ut=Qg(i,Ge+4,R,W,Te)||ut,Cs(7),ut?s+re(a)+u+re(c)+f+re(v)+E+re(w)+M+re(R)+j+re(W)+te+re(Te)+Be:xt}function bc(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut){const ke=Lr();let _t=mo(i,ke,a,c,v,w);return _t=mo(i,ke+4,R,W,Te,Ge)||_t,Cs(8),_t?s+re(a)+u+re(c)+f+re(v)+E+re(w)+M+re(R)+j+re(W)+te+re(Te)+Be+re(Ge)+ut:xt}function Yg(i,s,a,u,c,f){const v=Pe(),E=ul(v,s,a,u);return E!==xt&&go(Bn(),v,i,E,c,f),Yg}function qf(i,s,a,u,c,f,v,E){const w=Pe(),M=ll(w,s,a,u,c,f);return M!==xt&&go(Bn(),w,i,M,v,E),qf}function Jg(i,s,a,u,c,f,v,E,w,M){const R=Pe(),j=cl(R,s,a,u,c,f,v,E);return j!==xt&&go(Bn(),R,i,j,w,M),Jg}function Ov(i,s,a,u,c,f,v,E,w,M,R,j){const W=Pe(),te=dl(W,s,a,u,c,f,v,E,w,M);return te!==xt&&go(Bn(),W,i,te,R,j),Ov}function Wf(i,s,a,u,c,f,v,E,w,M,R,j,W,te){const Te=Pe(),Be=Dc(Te,s,a,u,c,f,v,E,w,M,R,j);return Be!==xt&&go(Bn(),Te,i,Be,W,te),Wf}function zf(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be){const Ge=Pe(),ut=Cc(Ge,s,a,u,c,f,v,E,w,M,R,j,W,te);return ut!==xt&&go(Bn(),Ge,i,ut,Te,Be),zf}function Kf(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut){const ke=Pe(),_t=Gd(ke,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be);return _t!==xt&&go(Bn(),ke,i,_t,Ge,ut),Kf}function jr(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut,ke,_t){const rn=Pe(),En=bc(rn,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut);return En!==xt&&go(Bn(),rn,i,En,ke,_t),jr}function ri(i,s,a,u){const c=Pe(),f=du(c,s);return f!==xt&&go(Bn(),c,i,f,a,u),ri}function em(i,s,a,u,c,f,v,E){const w=Pe(),M=Ht(),R=i+20,j=M.firstCreatePass?function Xg(i,s,a,u,c,f,v,E,w){const M=s.consts,R=Od(s,i,4,v||null,hn(M,E));Vg(s,a,R,hn(M,w)),as(s,R);const j=R.tViews=Lg(2,R,u,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,R),j.queries=s.queries.embeddedTView(R)),R}(R,M,w,s,a,u,c,f,v):M.data[R];xi(j,!1);const W=w[11].createComment("");Cg(M,w,W,j),gi(W,w),Ld(w,w[R]=TE(W,w,W,j)),eo(j)&&uv(M,w,j),null!=v&&lv(w,j,E)}function JE(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}function XE(i){return Qt(function Gl(){return ft.lFrame.contextLView}(),20+i)}const Pv={\u0275\u0275defineInjectable:en,\u0275\u0275defineInjector:tn,\u0275\u0275inject:at,\u0275\u0275invalidFactoryDep:Tt,resolveForwardRef:Y};const mC=ce({provide:String,useValue:ce});function tm(i){return void 0!==i.useClass}function eI(i){return void 0!==i.useFactory}const yC=Ni("Injectable",void 0,void 0,void 0,(i,s)=>function gC(i,s){let a=null,u=null;i.hasOwnProperty(Ci)||Object.defineProperty(i,Ci,{get:()=>(null===a&&(a=Qn().compileInjectable(Pv,`ng:///${i.name}/\u0275prov.js`,function tI(i,s){const a=s||{providedIn:null},u={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(tm(a)||eI(a))&&void 0!==a.deps&&(u.deps=dd(a.deps)),tm(a)?u.useClass=a.useClass:function kv(i){return mC in i}(a)?u.useValue=a.useValue:eI(a)?u.useFactory=a.useFactory:function Fv(i){return void 0!==i.useExisting}(a)&&(u.useExisting=a.useExisting),u}(i,s))),a)}),i.hasOwnProperty(st)||Object.defineProperty(i,st,{get:()=>{if(null===u){const c=Qn();u=c.compileFactory(Pv,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:nu(i),target:c.FactoryTarget.Injectable})}return u},configurable:!0})}(i,s));function Zf(i){return i.length>1?" ("+function nm(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(u=>de(u.token)).join(" -> ")+")":""}function Qf(i,s,a,u){const c=[s],f=a(c),v=u?function Sa(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,u=Error(a);return u[po]=s,u}(f,u):Error(f);return v.addKey=nI,v.keys=c,v.injectors=[i],v.constructResolvingMessage=a,v[po]=u,v}function nI(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function Lv(i,s){const a=[];for(let u=0,c=s.length;u<c;u++){const f=s[u];a.push(f&&0!=f.length?f.map(de).join(" "):"?")}return Error("Cannot resolve all parameters for '"+de(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+de(i)+"' is decorated with Injectable.")}function _C(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class hu{constructor(s,a){if(this.token=s,this.id=a,!s)throw new Error("Token must be defined!");this.displayName=de(this.token)}static get(s){return sI.get(Y(s))}static get numberOfKeys(){return sI.numberOfKeys}}class qd{constructor(){this._allKeys=new Map}get(s){if(s instanceof hu)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new hu(s,hu.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const sI=new qd;class EC{constructor(s){this.reflectionCapabilities=s}updateCapabilities(s){this.reflectionCapabilities=s}factory(s){return this.reflectionCapabilities.factory(s)}parameters(s){return this.reflectionCapabilities.parameters(s)}annotations(s){return this.reflectionCapabilities.annotations(s)}propMetadata(s){return this.reflectionCapabilities.propMetadata(s)}hasLifecycleHook(s,a){return this.reflectionCapabilities.hasLifecycleHook(s,a)}getter(s){return this.reflectionCapabilities.getter(s)}setter(s){return this.reflectionCapabilities.setter(s)}method(s){return this.reflectionCapabilities.method(s)}importUri(s){return this.reflectionCapabilities.importUri(s)}resourceUri(s){return this.reflectionCapabilities.resourceUri(s)}resolveIdentifier(s,a,u,c){return this.reflectionCapabilities.resolveIdentifier(s,a,u,c)}resolveEnum(s,a){return this.reflectionCapabilities.resolveEnum(s,a)}}const hl=new EC(new fi);class Jf{constructor(s,a,u){this.key=s,this.optional=a,this.visibility=u}static fromKey(s){return new Jf(s,!1,null)}}const im=[];class Vv{constructor(s,a,u){this.key=s,this.resolvedFactories=a,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class Wd{constructor(s,a){this.factory=s,this.dependencies=a}}function oI(i){let s,a;if(i.useClass){const u=Y(i.useClass);s=hl.factory(u),a=sm(u)}else i.useExisting?(s=u=>u,a=[Jf.fromKey(hu.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function uI(i,s){if(s){const a=s.map(u=>[u]);return s.map(u=>Uv(i,u,a))}return sm(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=im);return new Wd(s,a)}function ms(i){return new Vv(hu.get(i.provide),[oI(i)],i.multi||!1)}function aI(i){const u=function Xf(i,s){for(let a=0;a<i.length;a++){const u=i[a],c=s.get(u.key.id);if(c){if(u.multiProvider!==c.multiProvider)throw _C(c,u);if(u.multiProvider)for(let f=0;f<u.resolvedFactories.length;f++)c.resolvedFactories.push(u.resolvedFactories[f]);else s.set(u.key.id,u)}else{let f;f=u.multiProvider?new Vv(u.key,u.resolvedFactories.slice(),u.multiProvider):u,s.set(u.key.id,f)}}return s}(ep(i,[]).map(ms),new Map);return Array.from(u.values())}function ep(i,s){return i.forEach(a=>{if(a instanceof $u)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function iI(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);ep(a,s)}}),s}function sm(i){const s=hl.parameters(i);if(!s)return[];if(s.some(a=>null==a))throw Lv(i,s);return s.map(a=>Uv(i,a,s))}function Uv(i,s,a){let u=null,c=!1;if(!Array.isArray(s))return om(s instanceof hs?s.token:s,c,null);let f=null;for(let v=0;v<s.length;++v){const E=s[v];E instanceof $u?u=E:E instanceof hs?u=E.token:E instanceof pi?c=!0:E instanceof fs||E instanceof fo?f=E:E instanceof An&&(u=E)}if(u=Y(u),null!=u)return om(u,c,f);throw Lv(i,a)}function om(i,s,a){return new Jf(hu.get(i),s,a)}const fu={};class fl{static resolve(s){return aI(s)}static resolveAndCreate(s,a){const u=fl.resolve(s);return fl.fromResolvedProviders(u,a)}static fromResolvedProviders(s,a){return new jv(s,a)}}let jv=(()=>{class i{constructor(a,u){this._constructionCounter=0,this._providers=a,this.parent=u||null;const c=a.length;this.keyIds=[],this.objs=[];for(let f=0;f<c;f++)this.keyIds[f]=a[f].key.id,this.objs[f]=fu}get(a,u=ds){return this._getByKey(hu.get(a),null,u)}resolveAndCreateChild(a){const u=fl.resolve(a);return this.createChildFromResolved(u)}createChildFromResolved(a){const u=new i(a);return u.parent=this,u}resolveAndInstantiate(a){return this.instantiateResolved(fl.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function rm(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function Yf(i,s){return Qf(i,s,function(a){return`Cannot instantiate cyclic dependency!${Zf(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const u=[];for(let c=0;c<a.resolvedFactories.length;++c)u[c]=this._instantiate(a,a.resolvedFactories[c]);return u}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,u){const c=u.factory;let f,v;try{f=u.dependencies.map(E=>this._getByReflectiveDependency(E))}catch(E){throw E.addKey&&E.addKey(this,a.key),E}try{v=c(...f)}catch(E){throw function rI(i,s,a,u){return Qf(i,u,function(c){const f=de(c[0].token);return`${s.message}: Error during instantiation of ${f}!${Zf(c)}.`},s)}(this,E,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:ds)}_getByKey(a,u,c){return a===i.INJECTOR_KEY?this:u instanceof fs?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,u)}_getObjByKeyId(a){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===a)return this.objs[u]===fu&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return fu}_throwOrNull(a,u){if(u!==ds)return u;throw function vC(i,s){return Qf(i,s,function(a){return`No provider for ${de(a[0].token)}!${Zf(a)}`})}(this,a)}_getByKeySelf(a,u){const c=this._getObjByKeyId(a.id);return c!==fu?c:this._throwOrNull(a,u)}_getByKeyDefault(a,u,c){let f;for(f=c instanceof fo?this.parent:this;f instanceof i;){const v=f,E=v._getObjByKeyId(a.id);if(E!==fu)return E;f=v.parent}return null!==f?f.get(a.token,u):this._throwOrNull(a,u)}get displayName(){return`ReflectiveInjector(providers: [${function Bv(i,s){const a=[];for(let u=0;u<i._providers.length;++u)a[u]=s(i.getProviderAtIndex(u));return a}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=hu.get(Ki),i})();function pl(i,s=pt.Default){const a=Pe();return null===a?at(i,s):ju(kn(),a,Y(i),s)}function zd(){throw new Error("invalid")}function am(i,s,a){const u=Pe();return Qi(u,Vs(),s)&&Gs(Ht(),Bn(),u,i,s,u[11],a,!1),am}function $v(i,s,a,u,c){const v=c?"class":"style";vv(i,a,s.inputs[v],v,u)}function Tc(i,s,a,u){const c=Pe(),f=Ht(),v=20+i,E=c[11],w=c[v]=pc(E,s,function eg(){return ft.lFrame.currentNamespace}()),M=f.firstCreatePass?function Hv(i,s,a,u,c,f,v){const E=s.consts,M=Od(s,i,2,c,hn(E,f));return Vg(s,a,M,hn(E,v)),null!==M.attrs&&Bg(M,M.attrs,!1),null!==M.mergedAttrs&&Bg(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(v,f,c,0,s,a,u):f.data[v];xi(M,!0);const R=M.mergedAttrs;null!==R&&Uu(E,w,R);const j=M.classes;null!==j&&jo(E,w,j);const W=M.styles;return null!==W&&Tg(E,w,W),64!=(64&M.flags)&&Cg(f,c,w,M),0===function Ds(){return ft.lFrame.elementDepthCount}()&&gi(w,c),function Gi(){ft.lFrame.elementDepthCount++}(),eo(M)&&(uv(f,c,M),kd(f,M,c)),null!==u&&lv(c,M),Tc}function Kd(){let i=kn();Nu()?Ou():(i=i.parent,xi(i,!1));const s=i;!function os(){ft.lFrame.elementDepthCount--}();const a=Ht();return a.firstCreatePass&&(as(a,i),Qo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Yl(i){return 0!=(16&i.flags)}(s)&&$v(a,s,Pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Gh(i){return 0!=(32&i.flags)}(s)&&$v(a,s,Pe(),s.stylesWithoutHost,!1),Kd}function um(i,s,a,u){return Tc(i,s,a,u),Kd(),um}function lm(i,s,a){const u=Pe(),c=Ht(),f=i+20,v=c.firstCreatePass?function lI(i,s,a,u,c){const f=s.consts,v=hn(f,u),E=Od(s,i,8,"ng-container",v);return null!==v&&Bg(E,v,!0),Vg(s,a,E,hn(f,c)),null!==s.queries&&s.queries.elementStart(s,E),E}(f,c,u,s,a):c.data[f];xi(v,!0);const E=u[f]=u[11].createComment("");return Cg(c,u,E,v),gi(E,u),eo(v)&&(uv(c,u,v),kd(c,v,u)),null!=a&&lv(u,v),lm}function gl(){let i=kn();const s=Ht();return Nu()?Ou():(i=i.parent,xi(i,!1)),s.firstCreatePass&&(as(s,i),Qo(i)&&s.queries.elementEnd(i)),gl}function cm(i,s,a){return lm(i,s,a),gl(),cm}function tp(){return Pe()}function Ac(i){return!!i&&"function"==typeof i.then}function ml(i){return!!i&&"function"==typeof i.subscribe}const dm=ml;function Gv(i,s,a,u){const c=Pe(),f=Ht(),v=kn();return hm(f,c,c[11],v,i,s,!!a,u),Gv}function np(i,s){const a=kn(),u=Pe(),c=Ht();return hm(c,u,RE(Ga(c.data),a,u),a,i,s,!1),np}function hm(i,s,a,u,c,f,v,E){const w=eo(u),R=i.firstCreatePass&&yv(i),j=s[8],W=sl(s);let te=!0;if(3&u.type||E){const Ge=Ne(u,s),ut=E?E(Ge):Ge,ke=W.length,_t=E?rn=>E(b(rn[u.index])):u.index;if(mn(a)){let rn=null;if(!E&&w&&(rn=function Zd(i,s,a,u){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const v=c[f];if(v===a&&c[f+1]===u){const E=s[7],w=c[f+2];return E.length>w?E[w]:null}"string"==typeof v&&(f+=2)}return null}(i,s,c,u.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=f,rn.__ngLastListenerFn__=f,te=!1;else{f=fm(u,s,j,f,!1);const En=a.listen(ut,c,f);W.push(f,En),R&&R.push(c,_t,ke,ke+1)}}else f=fm(u,s,j,f,!0),ut.addEventListener(c,f,v),W.push(f),R&&R.push(c,_t,ke,v)}else f=fm(u,s,j,f,!1);const Te=u.outputs;let Be;if(te&&null!==Te&&(Be=Te[c])){const Ge=Be.length;if(Ge)for(let ut=0;ut<Ge;ut+=2){const Qs=s[Be[ut]][Be[ut+1]].subscribe(f),bu=W.length;W.push(f,Qs),R&&R.push(c,u.index,bu,-(bu+1))}}}function yl(i,s,a,u){try{return Fr(6,s,a),!1!==a(u)}catch(c){return NE(i,c),!1}finally{Fr(7,s,a)}}function fm(i,s,a,u,c){return function f(v){if(v===Function)return u;const E=2&i.flags?Bt(i.index,s):s;0==(32&s[2])&&il(E);let w=yl(s,a,u,v),M=f.__ngNextListenerFn__;for(;M;)w=yl(s,a,M,v)&&w,M=M.__ngNextListenerFn__;return c&&!1===w&&(v.preventDefault(),v.returnValue=!1),w}}function cI(i=1){return function $h(i){return(ft.lFrame.contextLView=function Lu(i,s){for(;i>0;)s=s[15],i--;return s}(i,ft.lFrame.contextLView))[8]}(i)}function Sc(i,s){let a=null;const u=function oE(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===u?Ag(i,f,!0):AD(u,f))return c}else a=c}return a}function Ma(i){const s=Pe()[16][6];if(!s.projection){const u=s.projection=Ts(i?i.length:1,null),c=u.slice();let f=s.child;for(;null!==f;){const v=i?Sc(f,i):0;null!==v&&(c[v]?c[v].projectionNext=f:u[v]=f,c[v]=f),f=f.next}}}function rp(i,s=0,a){const u=Pe(),c=Ht(),f=Od(c,20+i,16,null,a||null);null===f.projection&&(f.projection=s),Ou(),64!=(64&f.flags)&&function DD(i,s,a){nE(s[11],0,s,a,Y0(i,a,s),X0(a.parent||s[6],a,s))}(c,u,f)}function Qd(i,s,a){return Mc(i,"",s,"",a),Qd}function Mc(i,s,a,u,c){const f=Pe(),v=ul(f,s,a,u);return v!==xt&&Gs(Ht(),Bn(),f,i,v,f[11],c,!1),Mc}function pm(i,s,a,u,c,f,v){const E=Pe(),w=ll(E,s,a,u,c,f);return w!==xt&&Gs(Ht(),Bn(),E,i,w,E[11],v,!1),pm}function Ln(i,s,a,u,c,f,v,E,w){const M=Pe(),R=cl(M,s,a,u,c,f,v,E);return R!==xt&&Gs(Ht(),Bn(),M,i,R,M[11],w,!1),Ln}function Yd(i,s,a,u,c,f,v,E,w,M,R){const j=Pe(),W=dl(j,s,a,u,c,f,v,E,w,M);return W!==xt&&Gs(Ht(),Bn(),j,i,W,j[11],R,!1),Yd}function qv(i,s,a,u,c,f,v,E,w,M,R,j,W){const te=Pe(),Te=Dc(te,s,a,u,c,f,v,E,w,M,R,j);return Te!==xt&&Gs(Ht(),Bn(),te,i,Te,te[11],W,!1),qv}function Wv(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te){const Be=Pe(),Ge=Cc(Be,s,a,u,c,f,v,E,w,M,R,j,W,te);return Ge!==xt&&Gs(Ht(),Bn(),Be,i,Ge,Be[11],Te,!1),Wv}function xc(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge){const ut=Pe(),ke=Gd(ut,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be);return ke!==xt&&Gs(Ht(),Bn(),ut,i,ke,ut[11],Ge,!1),xc}function Rc(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut,ke){const _t=Pe(),rn=bc(_t,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut);return rn!==xt&&Gs(Ht(),Bn(),_t,i,rn,_t[11],ke,!1),Rc}function zv(i,s,a){const u=Pe(),c=du(u,s);return c!==xt&&Gs(Ht(),Bn(),u,i,c,u[11],a,!1),zv}function dI(i,s,a,u,c){const f=i[a+1],v=null===s;let E=u?Bo(f):su(f),w=!1;for(;0!==E&&(!1===w||v);){const R=i[E+1];bC(i[E],s)&&(w=!0,i[E+1]=u?Jy(R):Yy(R)),E=u?Bo(R):su(R)}w&&(i[a+1]=u?Yy(f):Jy(f))}function bC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Rt(i,s)>=0}const or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pu(i){return i.substring(or.key,or.keyEnd)}function hI(i){return i.substring(or.value,or.valueEnd)}function Kv(i,s){const a=or.textEnd;return a===s?-1:(s=or.keyEnd=function TC(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,or.key=s,a),Nc(i,s,a))}function pI(i,s){const a=or.textEnd;let u=or.key=Nc(i,s,a);return a===u?-1:(u=or.keyEnd=function mI(i,s,a){let u;for(;s<a&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,a),u=Zv(i,u,a),u=or.value=Nc(i,u,a),u=or.valueEnd=function Qv(i,s,a){let u=-1,c=-1,f=-1,v=s,E=v;for(;v<a;){const w=i.charCodeAt(v++);if(59===w)return E;34===w||39===w?E=v=gm(i,w,v,a):s===v-4&&85===f&&82===c&&76===u&&40===w?E=v=gm(i,41,v,a):w>32&&(E=v),f=c,c=u,u=-33&w}return E}(i,u,a),Zv(i,u,a))}function gI(i){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=i.length}function Nc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Zv(i,s,a,u){return(s=Nc(i,s,a))<a&&s++,s}function gm(i,s,a,u){let c=-1,f=a;for(;f<u;){const v=i.charCodeAt(f++);if(v==s&&92!==c)return f;c=92==v&&92===c?0:v}throw new Error}function mm(i,s,a){return ys(i,s,a,!1),mm}function ip(i,s){return ys(i,s,null,!0),ip}function Go(i){xs(vI,SC,i,!1)}function SC(i,s){for(let a=function Jd(i){return gI(i),pI(i,Nc(i,0,or.textEnd))}(s);a>=0;a=pI(s,a))vI(i,pu(s),hI(s))}function yI(i){xs(ir,Ws,i,!0)}function Ws(i,s){for(let a=function fI(i){return gI(i),Kv(i,Nc(i,0,or.textEnd))}(s);a>=0;a=Kv(s,a))ir(i,pu(s),!0)}function ys(i,s,a,u){const c=Pe(),f=Ht(),v=Cs(2);f.firstUpdatePass&&Yv(f,i,v,u),s!==xt&&Qi(c,v,s)&&Jv(f,f.data[Vr()],c,c[11],i,c[v+1]=function _m(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de($s(i)))),i}(s,a),u,v)}function xs(i,s,a,u){const c=Ht(),f=Cs(2);c.firstUpdatePass&&Yv(c,null,f,u);const v=Pe();if(a!==xt&&Qi(v,f,a)){const E=c.data[Vr()];if(e_(E,u)&&!ym(c,f)){let w=u?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(a=le(w,a||"")),$v(c,E,v,a,u)}else!function RC(i,s,a,u,c,f,v,E){c===xt&&(c=mt);let w=0,M=0,R=0<c.length?c[0]:null,j=0<f.length?f[0]:null;for(;null!==R||null!==j;){const W=w<c.length?c[w+1]:void 0,te=M<f.length?f[M+1]:void 0;let Be,Te=null;R===j?(w+=2,M+=2,W!==te&&(Te=j,Be=te)):null===j||null!==R&&R<j?(w+=2,Te=R):(M+=2,Te=j,Be=te),null!==Te&&Jv(i,s,a,u,Te,Be,v,E),R=w<c.length?c[w]:null,j=M<f.length?f[M]:null}}(c,E,v,v[11],v[f+1],v[f+1]=function xC(i,s,a){if(null==a||""===a)return mt;const u=[],c=$s(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(u,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(u,f,c[f]);else"string"==typeof c&&s(u,c);return u}(i,s,a),u,f)}}function ym(i,s){return s>=i.expandoStartIndex}function Yv(i,s,a,u){const c=i.data;if(null===c[a+1]){const f=c[Vr()],v=ym(i,a);e_(f,u)&&null===s&&!v&&(s=!1),s=function sp(i,s,a,u){const c=Ga(i);let f=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=ap(a=vm(null,i,s,a,u),s.attrs,u),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=vm(c,i,s,a,u),null===f){let w=function op(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==su(u))return i[Bo(u)]}(i,s,u);void 0!==w&&Array.isArray(w)&&(w=vm(null,i,s,w[1],u),w=ap(w,s.attrs,u),function MC(i,s,a,u){i[Bo(a?s.classBindings:s.styleBindings)]=u}(i,s,u,w))}else f=function Br(i,s,a){let u;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)u=ap(u,i[f].hostAttrs,a);return ap(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,u),function DC(i,s,a,u,c,f){let v=f?s.classBindings:s.styleBindings,E=Bo(v),w=su(v);i[u]=a;let R,M=!1;if(Array.isArray(a)){const j=a;R=j[1],(null===R||Rt(j,R)>0)&&(M=!0)}else R=a;if(c)if(0!==w){const W=Bo(i[E+1]);i[u+1]=Pf(W,E),0!==W&&(i[W+1]=xg(i[W+1],u)),i[E+1]=function RD(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Pf(E,0),0!==E&&(i[E+1]=xg(i[E+1],u)),E=u;else i[u+1]=Pf(w,0),0===E?E=u:i[w+1]=xg(i[w+1],u),w=u;M&&(i[u+1]=Yy(i[u+1])),dI(i,R,u,!0),dI(i,R,u,!1),function CC(i,s,a,u,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Rt(f,s)>=0&&(a[u+1]=Jy(a[u+1]))}(s,R,i,u,f),v=Pf(E,w),f?s.classBindings=v:s.styleBindings=v}(c,f,s,a,v,u)}}function vm(i,s,a,u,c){let f=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(f=s[E],u=ap(u,f.hostAttrs,c),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function ap(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?c=v:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ir(i,v,!!a||s[++f]))}return void 0===i?null:i}function vI(i,s,a){ir(i,s,$s(a))}function Jv(i,s,a,u,c,f,v,E){if(!(3&s.type))return;const w=i.data,M=w[E+1];up(function kf(i){return 1==(1&i)}(M)?Xv(w,s,a,c,su(M),v):void 0)||(up(f)||function Mg(i){return 2==(2&i)}(M)&&(f=Xv(w,null,a,c,E,v)),function Wy(i,s,a,u,c){const f=mn(i);if(s)c?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:me.DashCase;if(null==c)f?i.removeStyle(a,u,v):a.style.removeProperty(u);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),v|=me.Important),f?i.setStyle(a,u,c,v):a.style.setProperty(u,c,E?"important":"")}}}(u,v,ye(Vr(),a),c,f))}function Xv(i,s,a,u,c,f){const v=null===s;let E;for(;c>0;){const w=i[c],M=Array.isArray(w),R=M?w[1]:w,j=null===R;let W=a[c+1];W===xt&&(W=j?mt:void 0);let te=j?eu(W,u):R===u?W:void 0;if(M&&!up(te)&&(te=eu(w,u)),up(te)&&(E=te,v))return E;const Te=i[c+1];c=v?Bo(Te):su(Te)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(E=eu(w,u))}return E}function up(i){return void 0!==i}function e_(i,s){return 0!=(i.flags&(s?16:32))}function xa(i,s=""){const a=Pe(),u=Ht(),c=i+20,f=u.firstCreatePass?Od(u,c,1,s,null):u.data[c],v=a[c]=ps(a[11],s);Cg(u,a,v,f),xi(f,!1)}function Em(i){return Im("",i,""),Em}function Im(i,s,a){const u=Pe(),c=ul(u,i,s,a);return c!==xt&&uu(u,Vr(),c),Im}function lp(i,s,a,u,c){const f=Pe(),v=ll(f,i,s,a,u,c);return v!==xt&&uu(f,Vr(),v),lp}function Oc(i,s,a,u,c,f,v){const E=Pe(),w=cl(E,i,s,a,u,c,f,v);return w!==xt&&uu(E,Vr(),w),Oc}function wm(i,s,a,u,c,f,v,E,w){const M=Pe(),R=dl(M,i,s,a,u,c,f,v,E,w);return R!==xt&&uu(M,Vr(),R),wm}function cp(i,s,a,u,c,f,v,E,w,M,R){const j=Pe(),W=Dc(j,i,s,a,u,c,f,v,E,w,M,R);return W!==xt&&uu(j,Vr(),W),cp}function Xd(i,s,a,u,c,f,v,E,w,M,R,j,W){const te=Pe(),Te=Cc(te,i,s,a,u,c,f,v,E,w,M,R,j,W);return Te!==xt&&uu(te,Vr(),Te),Xd}function Dm(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te){const Be=Pe(),Ge=Gd(Be,i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te);return Ge!==xt&&uu(Be,Vr(),Ge),Dm}function dp(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge){const ut=Pe(),ke=bc(ut,i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge);return ke!==xt&&uu(ut,Vr(),ke),dp}function eh(i){const s=Pe(),a=du(s,i);return a!==xt&&uu(s,Vr(),a),eh}function _I(i,s,a){xs(ir,Ws,ul(Pe(),i,s,a),!0)}function t_(i,s,a,u,c){xs(ir,Ws,ll(Pe(),i,s,a,u,c),!0)}function th(i,s,a,u,c,f,v){xs(ir,Ws,cl(Pe(),i,s,a,u,c,f,v),!0)}function n_(i,s,a,u,c,f,v,E,w){xs(ir,Ws,dl(Pe(),i,s,a,u,c,f,v,E,w),!0)}function r_(i,s,a,u,c,f,v,E,w,M,R){xs(ir,Ws,Dc(Pe(),i,s,a,u,c,f,v,E,w,M,R),!0)}function Cm(i,s,a,u,c,f,v,E,w,M,R,j,W){xs(ir,Ws,Cc(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W),!0)}function bm(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te){xs(ir,Ws,Gd(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te),!0)}function i_(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge){xs(ir,Ws,bc(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge),!0)}function hp(i){xs(ir,Ws,du(Pe(),i),!0)}function s_(i,s,a){Go(ul(Pe(),i,s,a))}function o_(i,s,a,u,c){Go(ll(Pe(),i,s,a,u,c))}function vl(i,s,a,u,c,f,v){Go(cl(Pe(),i,s,a,u,c,f,v))}function a_(i,s,a,u,c,f,v,E,w){Go(dl(Pe(),i,s,a,u,c,f,v,E,w))}function u_(i,s,a,u,c,f,v,E,w,M,R){Go(Dc(Pe(),i,s,a,u,c,f,v,E,w,M,R))}function l_(i,s,a,u,c,f,v,E,w,M,R,j,W){Go(Cc(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W))}function c_(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te){Go(Gd(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te))}function fp(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge){Go(bc(Pe(),i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge))}function Rs(i){Go(du(Pe(),i))}function Tm(i,s,a,u,c){return ys(i,ul(Pe(),s,a,u),c,!1),Tm}function Am(i,s,a,u,c,f,v){return ys(i,ll(Pe(),s,a,u,c,f),v,!1),Am}function _l(i,s,a,u,c,f,v,E,w){return ys(i,cl(Pe(),s,a,u,c,f,v,E),w,!1),_l}function d_(i,s,a,u,c,f,v,E,w,M,R){return ys(i,dl(Pe(),s,a,u,c,f,v,E,w,M),R,!1),d_}function h_(i,s,a,u,c,f,v,E,w,M,R,j,W){return ys(i,Dc(Pe(),s,a,u,c,f,v,E,w,M,R,j),W,!1),h_}function pp(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te){return ys(i,Cc(Pe(),s,a,u,c,f,v,E,w,M,R,j,W,te),Te,!1),pp}function f_(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge){return ys(i,Gd(Pe(),s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be),Ge,!1),f_}function p_(i,s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut,ke){return ys(i,bc(Pe(),s,a,u,c,f,v,E,w,M,R,j,W,te,Te,Be,Ge,ut),ke,!1),p_}function Sm(i,s,a){return ys(i,du(Pe(),s),a,!1),Sm}function g_(i,s,a){const u=Pe();return Qi(u,Vs(),s)&&Gs(Ht(),Bn(),u,i,s,u[11],a,!0),g_}function nh(i,s,a){const u=Pe();if(Qi(u,Vs(),s)){const f=Ht(),v=Bn();Gs(f,v,u,i,s,RE(Ga(f.data),v,u),a,!0)}return nh}const Pc=void 0;var Li=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EI(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let qo={};function El(i,s,a){"string"!=typeof s&&(a=s,s=i[Dt.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),qo[s]=i,a&&(qo[s][Dt.ExtraData]=a)}function gp(i){const s=function dt(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Ar(s);if(a)return a;const u=s.split("-")[0];if(a=Ar(u),a)return a;if("en"===u)return Li;throw new Error(`Missing locale data for the locale "${i}".`)}function NC(i){return gp(i)[Dt.CurrencyCode]||null}function je(i){return gp(i)[Dt.PluralCase]}function Ar(i){return i in qo||(qo[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),qo[i]}function mp(){qo={}}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Nt=["zero","one","two","few","many"],Je="en-US",Fe={marker:"element"},Sr={marker:"ICU"};var ar=(()=>((ar=ar||{})[ar.SHIFT=2]="SHIFT",ar[ar.APPEND_EAGERLY=1]="APPEND_EAGERLY",ar[ar.COMMENT=2]="COMMENT",ar))();let II=Je;function wI(i){(function ht(i,s){null==i&&Et(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(II=i.toLowerCase().replace(/_/g,"-"))}function DI(i,s,a){const u=s.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?wg(i,0,a):b(a[c])}function m_(i,s,a,u,c){const f=s.insertBeforeIndex;if(Array.isArray(f)){let v=u,E=null;if(3&s.type||(E=v,v=c),null!==v&&0==(2&s.flags))for(let w=1;w<f.length;w++)nl(i,v,a[f[w]],E,!1)}}function CI(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];kC(u)||zs(u,s)&&null===FC(u)&&bI(u,s.index)}}function kC(i){return!(64&i.type)}function zs(i,s){return kC(s)||i.index>s.index}function FC(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function bI(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Gy(DI,m_),i.insertBeforeIndex=s)}function Gt(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Mr(i,s,a){const u=kg(i,a,64,null,null);return CI(s,u),u}function At(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function y_(i){return i>>>17}function Il(i){return(131070&i)>>>1}let Xt=0,vp=0;function $r(i,s,a,u){const c=a[11];let v,f=null;for(let E=0;E<s.length;E++){const w=s[E];if("string"==typeof w){const M=s[++E];null===a[M]&&(a[M]=ps(c,w))}else if("number"==typeof w)switch(1&w){case 0:const M=y_(w);let R,j;if(null===f&&(f=M,v=Rf(c,u)),M===f?(R=u,j=v):(R=null,j=b(a[M])),null!==j){const Be=Il(w);nl(c,j,a[Be],R,!1);const ut=Gt(i,Be);if(null!==ut&&"object"==typeof ut){const ke=At(ut,a);null!==ke&&$r(i,ut.create[ke],a,a[ut.anchorIdx])}}break;case 1:const te=s[++E],Te=s[++E];Ug(c,ye(w>>>1,a),null,null,te,Te,null)}else switch(w){case Sr:const M=s[++E],R=s[++E];null===a[R]&&gi(a[R]=Tf(c,M),a);break;case Fe:const j=s[++E],W=s[++E];null===a[W]&&gi(a[W]=pc(c,j,null),a)}}}function AI(i,s,a,u,c){for(let f=0;f<a.length;f++){const v=a[f],E=a[++f];if(v&c){let w="";for(let M=f+1;M<=f+E;M++){const R=a[M];if("string"==typeof R)w+=R;else if("number"==typeof R)if(R<0)w+=re(s[u-R]);else{const j=R>>>2;switch(3&R){case 1:const W=a[++M],te=a[++M],Te=i.data[j];"string"==typeof Te?Ug(s[11],s[j],null,Te,W,w,te):Gs(i,Te,s,W,w,s[11],te,!1);break;case 0:const Be=s[j];null!==Be&&bf(s[11],Be,w);break;case 2:vr(i,Gt(i,j),s,w);break;case 3:gu(i,Gt(i,j),u,s)}}}}else{const w=a[f+1];if(w>0&&3==(3&w)){const R=Gt(i,w>>>2);s[R.currentCaseLViewIndex]<0&&gu(i,R,u,s)}}f+=E}}function gu(i,s,a,u){let c=u[s.currentCaseLViewIndex];if(null!==c){let f=Xt;c<0&&(c=u[s.currentCaseLViewIndex]=~c,f=-1),AI(i,u,s.update[c],a,f)}}function vr(i,s,a,u){const c=function __(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function OC(i,s){const a=je(s)(parseInt(i,10)),u=Nt[a];return void 0!==u?u:"other"}(s,function PC(){return II}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(At(s,a)!==c&&(wl(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const v=a[s.anchorIdx];v&&$r(i,s.create[c],a,v)}}function wl(i,s,a){let u=At(s,a);if(null!==u){const c=s.remove[u];for(let f=0;f<c.length;f++){const v=c[f];if(v>0){const E=ye(v,a);null!==E&&tE(a[11],E)}else wl(i,Gt(i,~v),a)}}}function SI(){const i=[];let a,u,s=-1;function f(E,w){s=0;const M=At(E,w);u=null!==M?E.remove[M]:mt}function v(){if(s<u.length){const E=u[s++];return E>0?a[E]:(i.push(s,u),f(a[1].data[~E],a),v())}return 0===i.length?null:(u=i.pop(),s=i.pop(),v())}return function c(E,w){for(a=w;i.length;)i.pop();return f(E.value,w),v}}const _p=/\ufffd(\d+):?\d*\ufffd/gi,Ye=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,MI=/\ufffd(\d+)\ufffd/,E_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ra=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ep=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Cl=/\uE500/g;function xm(i,s,a,u,c,f,v){const E=au(i,u,1,null);let w=E<<ar.SHIFT,M=sa();s===M&&(M=null),null===M&&(w|=ar.APPEND_EAGERLY),v&&(w|=ar.COMMENT,function wt(i){void 0===$e&&($e=i())}(SI)),c.push(w,null===f?"":f);const R=kg(i,E,v?32:1,null===f?"":f,null);CI(a,R);const j=R.index;return xi(R,!1),null!==M&&s!==M&&function TI(i,s){let a=i.insertBeforeIndex;null===a?(Gy(DI,m_),a=i.insertBeforeIndex=[null,s]):(function X(i,s,a){i!=s&&Et(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(M,j),R}function uh(i,s,a,u,c,f,v){const E=v.match(_p),w=xm(i,s,a,f,u,E?null:v,!1);E&&Na(c,v,w.index,null,0,null)}function Na(i,s,a,u,c,f){const v=i.length,E=v+1;i.push(null,null);const w=v+2,M=s.split(_p);let R=0;for(let j=0;j<M.length;j++){const W=M[j];if(1&j){const te=c+parseInt(W,10);i.push(-1-te),R|=w_(te)}else""!==W&&i.push(W)}return i.push(a<<2|(u?1:0)),u&&i.push(u,f),i[v]=R,i[E]=i.length-w,R}function RI(i){let s=0;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u&&u<0&&s++}return s}function w_(i){return 1<<Math.min(i,31)}function lh(i){let s,f,a="",u=0,c=!1;for(;null!==(s=Ra.exec(i));)c?s[0]===`\ufffd/*${f}\ufffd`&&(u=s.index,c=!1):(a+=i.substring(u,s.index+s[0].length),f=s[1],c=!0);return a+=i.substr(u),a}function D_(i,s,a,u,c,f){let v=0;const E={type:c.type,currentCaseLViewIndex:au(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function ch(i,s,a){i.push(w_(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,f),function rh(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,f,E);const w=c.values;for(let M=0;M<w.length;M++){const R=w[M],j=[];for(let W=0;W<R.length;W++){const te=R[W];if("string"!=typeof te){const Te=j.push(te)-1;R[W]=`\x3c!--\ufffd${Te}\ufffd--\x3e`}}v=PI(i,E,s,a,u,c.cases[M],R.join(""),j)|v}v&&function Nm(i,s,a){i.push(s,1,a<<2|3)}(a,v,f)}function OI(i){const s=[],a=[];let u=1,c=0;const f=Ei(i=i.replace(E_,function(v,E,w){return u="select"===w?0:1,c=parseInt(E.substr(1),10),""}));for(let v=0;v<f.length;){let E=f[v++].trim();1===u&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&s.push(E);const w=Ei(f[v++]);s.length>a.length&&a.push(w)}return{type:u,mainBinding:c,cases:s,values:a}}function Ei(i){if(!i)return[];let s=0;const a=[],u=[],c=/[{}]/g;let f;for(c.lastIndex=0;f=c.exec(i);){const E=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const w=i.substring(s,E);E_.test(w)?u.push(OI(w)):u.push(w),s=E+1}}else{if(0==a.length){const w=i.substring(s,E);u.push(w),s=E+1}a.push("{")}}const v=i.substring(s);return u.push(v),u}function PI(i,s,a,u,c,f,v,E){const w=[],M=[],R=[];s.cases.push(f),s.create.push(w),s.remove.push(M),s.update.push(R);const W=dg(ws()).getInertBodyElement(v),te=fg(W)||W;return te?Vn(i,s,a,u,w,M,R,te,c,E,0):0}function Vn(i,s,a,u,c,f,v,E,w,M,R){let j=0,W=E.firstChild;for(;W;){const te=au(i,a,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const Te=W,Be=Te.tagName.toLowerCase();if(vd.hasOwnProperty(Be)){kc(c,Fe,Be,w,te),i.data[te]=Be;const _t=Te.attributes;for(let rn=0;rn<_t.length;rn++){const En=_t.item(rn),Qs=En.name.toLowerCase();En.value.match(_p)?hf.hasOwnProperty(Qs)&&Na(v,En.value,te,En.name,0,ac[Qs]?ba:uc[Qs]?Ny:null):kI(c,te,En)}j=Vn(i,s,a,u,c,f,v,W,te,M,R+1)|j,Ip(f,te,R)}break;case Node.TEXT_NODE:const Ge=W.textContent||"",ut=Ge.match(_p);kc(c,null,ut?"":Ge,w,te),Ip(f,te,R),ut&&(j=Na(v,Ge,te,null,0,null)|j);break;case Node.COMMENT_NODE:const ke=MI.exec(W.textContent||"");if(ke){const rn=M[parseInt(ke[1],10)];kc(c,Sr,"",w,te),D_(i,a,u,w,rn,te),C_(f,te,R)}}W=W.nextSibling}return j}function Ip(i,s,a){0===a&&i.push(s)}function C_(i,s,a){0===a&&(i.push(~s),i.push(s))}function kc(i,s,a,u,c){null!==s&&i.push(s),i.push(a,c,function yp(i,s,a){return i|s<<17|a<<1}(0,u,c))}function kI(i,s,a){i.push(s<<1|1,a.name,a.value)}const mu=/\[(\ufffd.+?\ufffd?)\]/,VC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,UC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,LI=/{([A-Z0-9_]+)}/g,Fc=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,jC=/\/\*/,wp=/\d+\:(\d+)/;function dh(i,s,a=-1){const u=Ht(),c=Pe(),f=20+i,v=hn(u.consts,s),E=sa();u.firstCreatePass&&function ah(i,s,a,u,c,f){const v=sa(),E=[],w=[],M=[[]];c=function NI(i,s){if(function Rm(i){return-1===i}(s))return lh(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return lh(i.substring(a,u))}}(c,f);const R=function xI(i){return i.replace(Cl," ")}(c).split(Ep);for(let j=0;j<R.length;j++){let W=R[j];if(0==(1&j)){const te=Ei(W);for(let Te=0;Te<te.length;Te++){let Be=te[Te];if(0==(1&Te)){const Ge=Be;""!==Ge&&uh(i,v,M[0],E,w,a,Ge)}else{const Ge=Be;if("object"!=typeof Ge)throw new Error(`Unable to parse ICU expression in "${c}" message.`);D_(i,a,w,s,Ge,xm(i,v,M[0],a,E,"",!0).index)}}}else{const te=47===W.charCodeAt(0),Be=(W.charCodeAt(te?1:0),20+Number.parseInt(W.substring(te?2:1)));if(te)M.shift(),xi(sa(),!1);else{const Ge=Mr(i,M[0],Be);M.unshift([]),xi(Ge,!0)}}}i.data[u]={create:E,update:w}}(u,null===E?0:E.index,c,f,v,a);const w=u.data[f],R=Hy(u,E===c[6]?null:E,c);(function LC(i,s,a,u){const c=i[11];for(let f=0;f<s.length;f++){const v=s[f++],E=s[f],w=(v&ar.COMMENT)===ar.COMMENT,M=(v&ar.APPEND_EAGERLY)===ar.APPEND_EAGERLY,R=v>>>ar.SHIFT;let j=i[R];null===j&&(j=i[R]=w?c.createComment(E):ps(c,E)),M&&null!==a&&nl(c,a,j,u,!1)}})(c,w.create,R,E&&8&E.type?c[E.index]:null),ql(!0)}function ii(){ql(!1)}function VI(i,s,a){dh(i,s,a),ii()}function UI(i,s){const a=Ht();!function I_(i,s,a){const c=kn().index,f=[];if(i.firstCreatePass&&null===i.data[s]){for(let v=0;v<a.length;v+=2){const E=a[v],w=a[v+1];if(""!==w){if(Ye.test(w))throw new Error(`ICU expressions are not supported in attributes. Message: "${w}".`);Na(f,w,c,E,RI(f),null)}}i.data[s]=f}}(a,i+20,hn(a.consts,s))}function b_(i){return function _i(i){i&&(Xt|=1<<Math.min(vp,31)),vp++}(Qi(Pe(),Vs(),i)),b_}function T_(i){!function ih(i,s,a){if(vp>0){const u=i.data[a];AI(i,s,Array.isArray(u)?u:u.update,Lr()-vp-1,Xt)}Xt=0,vp=0}(Ht(),Pe(),i+20)}function jI(i,s={}){return function Om(i,s={}){let a=i;if(mu.test(i)){const u={},c=[0];a=a.replace(VC,(f,v,E)=>{const w=v||E,M=u[w]||[];if(M.length||(w.split("|").forEach(Be=>{const Ge=Be.match(wp),ut=Ge?parseInt(Ge[1],10):0,ke=jC.test(Be);M.push([ut,ke,Be])}),u[w]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${w}`);const R=c[c.length-1];let j=0;for(let Be=0;Be<M.length;Be++)if(M[Be][0]===R){j=Be;break}const[W,te,Te]=M[j];return te?c.pop():R!==W&&c.push(W),M.splice(j,1),Te})}return Object.keys(s).length&&(a=a.replace(UC,(u,c,f,v,E,w)=>s.hasOwnProperty(f)?`${c}${s[f]}${w}`:u),a=a.replace(LI,(u,c)=>s.hasOwnProperty(c)?s[c]:u),a=a.replace(Fc,(u,c)=>{if(s.hasOwnProperty(c)){const f=s[c];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${c}`);return f.shift()}return u})),a}(i,s)}function A_(i,s,a,u,c){if(i=Y(i),Array.isArray(i))for(let f=0;f<i.length;f++)A_(i[f],s,a,u,c);else{const f=Ht(),v=Pe();let E=rt(i)?i:Y(i.provide),w=VE(i);const M=kn(),R=1048575&M.providerIndexes,j=M.directiveStart,W=M.providerIndexes>>20;if(rt(i)||!i.multi){const te=new Mo(w,c,pl),Te=bl(E,s,c?R:R+W,j);-1===Te?(ya(ma(M,v),f,E),S_(f,i,s.length),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),a.push(te),v.push(te)):(a[Te]=te,v[Te]=te)}else{const te=bl(E,s,R+W,j),Te=bl(E,s,R,R+W),Be=te>=0&&a[te],Ge=Te>=0&&a[Te];if(c&&!Ge||!c&&!Be){ya(ma(M,v),f,E);const ut=function vu(i,s,a,u,c){const f=new Mo(i,a,pl);return f.multi=[],f.index=s,f.componentProviders=0,yu(f,c,u&&!a),f}(c?BI:$C,a.length,c,u,w);!c&&Ge&&(a[Te].providerFactory=ut),S_(f,i,s.length,0),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),a.push(ut),v.push(ut)}else S_(f,i,te>-1?te:Te,yu(a[c?Te:te],w,!c&&u));!c&&u&&Ge&&a[Te].componentProviders++}}}function S_(i,s,a,u){const c=rt(s),f=function wv(i){return!!i.useClass}(s);if(c||f){const w=(f?Y(s.useClass):s).prototype.ngOnDestroy;if(w){const M=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const R=M.indexOf(a);-1===R?M.push(a,[u,w]):M[R+1].push(u,w)}else M.push(a,w)}}}function yu(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function bl(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function $C(i,s,a,u){return Pm(this.multi,[])}function BI(i,s,a,u){const c=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=gt(a,a[1],this.providerFactory.index,u);f=E.slice(0,v),Pm(c,f);for(let w=v;w<E.length;w++)f.push(E[w])}else f=[],Pm(c,f);return f}function Pm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function M_(i,s=[]){return a=>{a.providersResolver=(u,c)=>function BC(i,s,a){const u=Ht();if(u.firstCreatePass){const c=Tr(i);A_(a,u.data,u.blueprint,c,!0),A_(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Lc{}class Vc{}class x_{resolveComponentFactory(s){throw function km(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let _u=(()=>{class i{}return i.NULL=new x_,i})();function yo(){return Uc(kn(),Pe())}function Uc(i,s){return new Eu(Ne(i,s))}let Eu=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=yo,i})();function HI(i){return i instanceof Eu?i.nativeElement:i}class Lm{}let qI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function HC(){const i=Pe(),a=Bt(kn().index,i);return function WI(i){return i[11]}(Qr(a)?a:i)}(),i})(),R_=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class N_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const O_=new N_("13.2.7"),jc={};function Vm(i,s,a,u,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(b(f)),Or(f))for(let E=10;E<f.length;E++){const w=f[E],M=w[1].firstChild;null!==M&&Vm(w[1],w,M,u)}const v=a.type;if(8&v)Vm(i,s,a.child,u);else if(32&v){const E=ot(a,s);let w;for(;w=E();)u.push(w)}else if(16&v){const E=eE(s,a);if(Array.isArray(E))u.push(...E);else{const w=$n(s[16]);Vm(w[1],w,E,u,!0)}}a=c?a.projectionNext:a.next}return u}class hh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Vm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(iu(s,u),Po(a,u))}this._attachedToViewContainer=!1}nn(this._lView[1],this._lView)}onDestroy(s){vE(this._lView[1],this._lView,null,s)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sC(i,s,a){io(!0);try{gv(i,s,a)}finally{io(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eg(i,s){Of(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ve(902,"");this._appRef=s}}class zI extends hh{constructor(s){super(s),this._view=s}detectChanges(){mv(this._view)}checkNoChanges(){!function ME(i){io(!0);try{mv(i)}finally{io(!1)}}(this._view)}get context(){return null}}class Bc extends _u{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Zt(s);return new Dp(a,this.ngModule)}}function Tl(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Dp extends Vc{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function MD(i){return i.map(SD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Tl(this.componentDef.inputs)}get outputs(){return Tl(this.componentDef.outputs)}create(s,a,u,c){const f=(c=c||this.ngModule)?function $c(i,s){return{get:(a,u,c)=>{const f=i.get(a,jc,c);return f!==jc||u===jc?f:s.get(a,u,c)}}}(s,c.injector):s,v=f.get(Lm,T),E=f.get(R_,null),w=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=u?yE(w,u,this.componentDef.encapsulation):pc(v.createRenderer(null,this.componentDef),M,function KI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?To:null}(M)),j=this.componentDef.onPush?576:528,W=xv(),te=Lg(0,null,null,1,0,null,null,null,null,null),Te=Ic(null,te,W,j,null,null,v,w,E,f);let Be,Ge;oo(Te);try{const ut=Sv(R,this.componentDef,Te,v,w);if(R)if(u)Uu(w,R,["ng-version",O_.full]);else{const{attrs:ke,classes:_t}=function xD(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++u]):8===c&&a.push(f);else{if(!Ms(c))break;c=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&Uu(w,R,ke),_t&&_t.length>0&&jo(w,R,_t.join(" "))}if(Ge=dn(te,20),void 0!==a){const ke=Ge.projection=[];for(let _t=0;_t<this.ngContentSelectors.length;_t++){const rn=a[_t];ke.push(null!=rn?Array.from(rn):null)}}Be=Mv(ut,this.componentDef,Te,W,[zg]),Uf(te,Te,null)}finally{So()}return new P_(this.componentType,Be,Uc(Ge,Te),Te,Ge)}}class P_ extends Lc{constructor(s,a,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new zI(c),this.componentType=s}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ph(i,s,a,u){return In(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==u&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?Object.assign(Object.assign({},c.propDecorators),u):u)})}class gh{}class ZI{}const Gn=new Map;function QI(i){const s=new Set;!function a(u){const c=pn(u,!0),f=c.id;if(null!==f){(function Cp(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)})(f,Gn.get(f),u),Gn.set(f,u)}const v=p(c.imports);for(const E of v)s.has(E)||(s.add(E),a(E))}(i)}function JI(i){return Gn.get(i)||Ee[i]}function XI(i,s){return new Um(i,null!=s?s:null)}class Um extends gh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);const u=pn(s);this._bootstrapComponents=p(u.bootstrap),this._r3Injector=Ud(s,a,[{provide:gh,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ki.THROW_IF_NOT_FOUND,u=pt.Default){return s===Ki||s===gh||s===$g?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Al extends ZI{constructor(s){super(),this.moduleType=s,null!==pn(s)&&QI(s)}create(s){return new Um(this.moduleType,s)}}function Sl(i,s,a){const u=Yr()+i,c=Pe();return c[u]===xt?Hn(c,u,a?s.call(a):s()):cu(c,u)}function F_(i,s,a,u){return Iu(Pe(),Yr(),i,s,a,u)}function L_(i,s,a,u,c){return _r(Pe(),Yr(),i,s,a,u,c)}function V_(i,s,a,u,c,f){return bp(Pe(),Yr(),i,s,a,u,c,f)}function mh(i,s,a,u,c,f,v){return Ii(Pe(),Yr(),i,s,a,u,c,f,v)}function jm(i,s,a,u,c,f,v,E){const w=Yr()+i,M=Pe(),R=mo(M,w,a,u,c,f);return Qi(M,w+4,v)||R?Hn(M,w+5,E?s.call(E,a,u,c,f,v):s(a,u,c,f,v)):cu(M,w+5)}function ew(i,s,a,u,c,f,v,E,w){const M=Yr()+i,R=Pe(),j=mo(R,M,a,u,c,f);return Ho(R,M+4,v,E)||j?Hn(R,M+6,w?s.call(w,a,u,c,f,v,E):s(a,u,c,f,v,E)):cu(R,M+6)}function xr(i,s,a,u,c,f,v,E,w,M){const R=Yr()+i,j=Pe();let W=mo(j,R,a,u,c,f);return Qg(j,R+4,v,E,w)||W?Hn(j,R+7,M?s.call(M,a,u,c,f,v,E,w):s(a,u,c,f,v,E,w)):cu(j,R+7)}function ln(i,s,a,u,c,f,v,E,w,M,R){const j=Yr()+i,W=Pe(),te=mo(W,j,a,u,c,f);return mo(W,j+4,v,E,w,M)||te?Hn(W,j+8,R?s.call(R,a,u,c,f,v,E,w,M):s(a,u,c,f,v,E,w,M)):cu(W,j+8)}function U_(i,s,a,u){return Un(Pe(),Yr(),i,s,a,u)}function yh(i,s){const a=i[s];return a===xt?void 0:a}function Iu(i,s,a,u,c,f){const v=s+a;return Qi(i,v,c)?Hn(i,v+1,f?u.call(f,c):u(c)):yh(i,v+1)}function _r(i,s,a,u,c,f,v){const E=s+a;return Ho(i,E,c,f)?Hn(i,E+2,v?u.call(v,c,f):u(c,f)):yh(i,E+2)}function bp(i,s,a,u,c,f,v,E){const w=s+a;return Qg(i,w,c,f,v)?Hn(i,w+3,E?u.call(E,c,f,v):u(c,f,v)):yh(i,w+3)}function Ii(i,s,a,u,c,f,v,E,w){const M=s+a;return mo(i,M,c,f,v,E)?Hn(i,M+4,w?u.call(w,c,f,v,E):u(c,f,v,E)):yh(i,M+4)}function Un(i,s,a,u,c,f){let v=s+a,E=!1;for(let w=0;w<c.length;w++)Qi(i,v++,c[w])&&(E=!0);return E?Hn(i,v,u.apply(f,c)):yh(i,v)}function j_(i,s){const a=Ht();let u;const c=i+20;a.firstCreatePass?(u=function vh(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const f=u.factory||(u.factory=pr(u.type)),v=qn(pl);try{const E=uo(!1),w=f();return uo(E),JE(a,Pe(),c,w),w}finally{qn(v)}}function tw(i,s,a){const u=i+20,c=Pe(),f=Qt(c,u);return Tp(c,u)?Iu(c,Yr(),s,f.transform,a,f):f.transform(a)}function Ks(i,s,a,u){const c=i+20,f=Pe(),v=Qt(f,c);return Tp(f,c)?_r(f,Yr(),s,v.transform,a,u,v):v.transform(a,u)}function nw(i,s,a,u,c){const f=i+20,v=Pe(),E=Qt(v,f);return Tp(v,f)?bp(v,Yr(),s,E.transform,a,u,c,E):E.transform(a,u,c)}function Bm(i,s,a,u,c,f){const v=i+20,E=Pe(),w=Qt(E,v);return Tp(E,v)?Ii(E,Yr(),s,w.transform,a,u,c,f,w):w.transform(a,u,c,f)}function _h(i,s,a){const u=i+20,c=Pe(),f=Qt(c,u);return Tp(c,u)?Un(c,Yr(),s,f.transform,a,f):f.transform.apply(f,a)}function Tp(i,s){return i[1].data[s].pure}function _n(i){return s=>{setTimeout(i,void 0,s)}}const Oa=class qC extends D.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,f,v;let E=s,w=a||(()=>null),M=u;if(s&&"object"==typeof s){const j=s;E=null===(c=j.next)||void 0===c?void 0:c.bind(j),w=null===(f=j.error)||void 0===f?void 0:f.bind(j),M=null===(v=j.complete)||void 0===v?void 0:v.bind(j)}this.__isAsync&&(w=_n(w),E&&(E=_n(E)),M&&(M=_n(M)));const R=super.subscribe({next:E,error:w,complete:M});return s instanceof m.w0&&s.add(R),R}};function $m(){return this._results[$d()]()}class Ml{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$d(),u=Ml.prototype;u[a]||(u[a]=$m)}get changes(){return this._changes||(this._changes=new Oa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=ei(s);(this._changesDetected=!function ad(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],f=s[u];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wu=(()=>{class i{}return i.__NG_ELEMENT_ID__=iw,i})();const Hm=wu,rw=class extends Hm{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Ic(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),Uf(a,u,s),new hh(u)}};function iw(){return Ap(kn(),Pe())}function Ap(i,s){return 4&i.type?new rw(s,i,Uc(i,s)):null}let Gm=(()=>{class i{}return i.__NG_ELEMENT_ID__=sw,i})();function sw(){return Eh(kn(),Pe())}const ow=Gm,aw=class extends ow{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){const s=ls(this._hostTNode,this._hostLView);if(Xl(s)){const a=Ri(s,this._hostLView),u=Dn(s);return new Tn(a[1].data[u+8],a)}return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=uw(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,f){const v=s&&!lo(s);let E;if(v)E=a;else{const j=a||{};E=j.index,u=j.injector,c=j.projectableNodes,f=j.ngModuleRef}const w=v?s:new Dp(Zt(s)),M=u||this.parentInjector;if(!f&&null==w.ngModule){const W=(v?M:this.parentInjector).get(gh,null);W&&(f=W)}const R=w.create(M,c,void 0,f);return this.insert(R.hostView,E),R}insert(s,a){const u=s._lView,c=u[1];if(function vn(i){return Or(i[3])}(u)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const j=u[3],W=new aw(j,j[6],j[3]);W.detach(W.indexOf(s))}}const f=this._adjustIndex(a),v=this._lContainer;!function Z0(i,s,a,u){const c=10+u,f=a.length;u>0&&(a[c-1][4]=s),u<f-10?(s[4]=a[c],Qh(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Q0(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=128}(c,u,v,f);const E=Ad(f,v),w=u[11],M=Rf(w,v[7]);return null!==M&&function Af(i,s,a,u,c,f){u[0]=c,u[6]=s,Of(i,u,a,1,c,f)}(c,v[6],w,u,M,E),s.attachToViewContainerRef(),Qh(B_(v),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=uw(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=iu(this._lContainer,a);u&&(Po(B_(this._lContainer),a),nn(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=iu(this._lContainer,a);return u&&null!=Po(B_(this._lContainer),a)?new hh(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function uw(i){return i[8]}function B_(i){return i[8]||(i[8]=[])}function Eh(i,s){let a;const u=s[i.index];if(Or(u))a=u;else{let c;if(8&i.type)c=b(u);else{const f=s[11];c=f.createComment("");const v=Ne(i,s);nl(f,Rf(f,v),c,function Ig(i,s){return mn(i)?i.nextSibling(s):s.nextSibling}(f,v),!1)}s[i.index]=a=TE(u,s,c,i),Ld(s,a)}return new aw(a,i,s)}class Sp{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<u;f++){const v=a.getByIndex(f);c.push(this.queries[v.indexInDeclarationView].clone())}return new qm(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==W_(s,a).matches&&this.queries[a].setDirty()}}class Ih{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class vo{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,c);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new vo(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mp{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Mp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(s,a,cw(a,f)),this.matchTNodeWithReadOption(s,a,bs(a,s,f,!1,!1))}else u===wu?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,bs(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Eu||c===Gm||c===wu&&4&a.type)this.addMatch(a.index,-2);else{const f=bs(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function cw(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function dw(i,s,a,u){return-1===a?function xp(i,s){return 11&i.type?Uc(i,s):4&i.type?Ap(i,s):null}(s,i):-2===a?function hw(i,s,a){return a===Eu?Uc(s,i):a===wu?Ap(s,i):a===Gm?Eh(s,i):void 0}(i,s,u):gt(i,i[1],a,s)}function $_(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const f=i.data,v=a.matches,E=[];for(let w=0;w<v.length;w+=2){const M=v[w];E.push(M<0?null:dw(s,f[M],v[w+1],a.metadata.read))}c.matches=E}return c.matches}function H_(i,s,a,u){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const v=$_(i,s,c,a);for(let E=0;E<f.length;E+=2){const w=f[E];if(w>0)u.push(v[E/2]);else{const M=f[E+1],R=s[-w];for(let j=10;j<R.length;j++){const W=R[j];W[17]===W[3]&&H_(W[1],W,M,u)}if(null!==R[9]){const j=R[9];for(let W=0;W<j.length;W++){const te=j[W];H_(te[1],te,M,u)}}}}}return u}function fw(i){const s=Pe(),a=Ht(),u=qa();ua(u+1);const c=W_(a,u);if(i.dirty&&Vt(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?H_(a,s,u,[]):$_(a,s,c,u);i.reset(f,HI),i.notifyOnChanges()}return!0}return!1}function wh(i,s,a){const u=Ht();u.firstCreatePass&&(q_(u,new Ih(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),G_(u,Pe(),s)}function Wm(i,s,a,u){const c=Ht();if(c.firstCreatePass){const f=kn();q_(c,new Ih(s,a,u),f.index),function zC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}G_(c,Pe(),a)}function pw(){return function gw(i,s){return i[19].queries[s].queryList}(Pe(),qa())}function G_(i,s,a){const u=new Ml(4==(4&a));vE(i,s,u,u.destroy),null===s[19]&&(s[19]=new qm),s[19].queries.push(new Sp(u))}function q_(i,s,a){null===i.queries&&(i.queries=new vo),i.queries.track(new Mp(s,a))}function W_(i,s){return i.queries.getByIndex(s)}function mw(i,s){return Ap(i,s)}const vs=(()=>({\u0275\u0275attribute:Hd,\u0275\u0275attributeInterpolate1:Yg,\u0275\u0275attributeInterpolate2:qf,\u0275\u0275attributeInterpolate3:Jg,\u0275\u0275attributeInterpolate4:Ov,\u0275\u0275attributeInterpolate5:Wf,\u0275\u0275attributeInterpolate6:zf,\u0275\u0275attributeInterpolate7:Kf,\u0275\u0275attributeInterpolate8:jr,\u0275\u0275attributeInterpolateV:ri,\u0275\u0275defineComponent:jt,\u0275\u0275defineDirective:Pt,\u0275\u0275defineInjectable:en,\u0275\u0275defineInjector:tn,\u0275\u0275defineNgModule:ne,\u0275\u0275definePipe:br,\u0275\u0275directiveInject:pl,\u0275\u0275getInheritedFactory:sd,\u0275\u0275inject:at,\u0275\u0275injectAttribute:Bu,\u0275\u0275invalidFactory:zd,\u0275\u0275invalidFactoryDep:Tt,\u0275\u0275templateRefExtractor:mw,\u0275\u0275NgOnChangesFeature:Ps,\u0275\u0275ProvidersFeature:M_,\u0275\u0275CopyDefinitionFeature:Zg,\u0275\u0275InheritDefinitionFeature:al,\u0275\u0275nextContext:cI,\u0275\u0275namespaceHTML:Xp,\u0275\u0275namespaceMathML:Xc,\u0275\u0275namespaceSVG:Zl,\u0275\u0275enableBindings:ra,\u0275\u0275disableBindings:Ha,\u0275\u0275elementStart:Tc,\u0275\u0275elementEnd:Kd,\u0275\u0275element:um,\u0275\u0275elementContainerStart:lm,\u0275\u0275elementContainerEnd:gl,\u0275\u0275elementContainer:cm,\u0275\u0275pureFunction0:Sl,\u0275\u0275pureFunction1:F_,\u0275\u0275pureFunction2:L_,\u0275\u0275pureFunction3:V_,\u0275\u0275pureFunction4:mh,\u0275\u0275pureFunction5:jm,\u0275\u0275pureFunction6:ew,\u0275\u0275pureFunction7:xr,\u0275\u0275pureFunction8:ln,\u0275\u0275pureFunctionV:U_,\u0275\u0275getCurrentView:tp,\u0275\u0275restoreView:Ao,\u0275\u0275listener:Gv,\u0275\u0275projection:rp,\u0275\u0275syntheticHostProperty:nh,\u0275\u0275syntheticHostListener:np,\u0275\u0275pipeBind1:tw,\u0275\u0275pipeBind2:Ks,\u0275\u0275pipeBind3:nw,\u0275\u0275pipeBind4:Bm,\u0275\u0275pipeBindV:_h,\u0275\u0275projectionDef:Ma,\u0275\u0275hostProperty:g_,\u0275\u0275property:am,\u0275\u0275propertyInterpolate:Qd,\u0275\u0275propertyInterpolate1:Mc,\u0275\u0275propertyInterpolate2:pm,\u0275\u0275propertyInterpolate3:Ln,\u0275\u0275propertyInterpolate4:Yd,\u0275\u0275propertyInterpolate5:qv,\u0275\u0275propertyInterpolate6:Wv,\u0275\u0275propertyInterpolate7:xc,\u0275\u0275propertyInterpolate8:Rc,\u0275\u0275propertyInterpolateV:zv,\u0275\u0275pipe:j_,\u0275\u0275queryRefresh:fw,\u0275\u0275viewQuery:wh,\u0275\u0275loadQuery:pw,\u0275\u0275contentQuery:Wm,\u0275\u0275reference:XE,\u0275\u0275classMap:yI,\u0275\u0275classMapInterpolate1:_I,\u0275\u0275classMapInterpolate2:t_,\u0275\u0275classMapInterpolate3:th,\u0275\u0275classMapInterpolate4:n_,\u0275\u0275classMapInterpolate5:r_,\u0275\u0275classMapInterpolate6:Cm,\u0275\u0275classMapInterpolate7:bm,\u0275\u0275classMapInterpolate8:i_,\u0275\u0275classMapInterpolateV:hp,\u0275\u0275styleMap:Go,\u0275\u0275styleMapInterpolate1:s_,\u0275\u0275styleMapInterpolate2:o_,\u0275\u0275styleMapInterpolate3:vl,\u0275\u0275styleMapInterpolate4:a_,\u0275\u0275styleMapInterpolate5:u_,\u0275\u0275styleMapInterpolate6:l_,\u0275\u0275styleMapInterpolate7:c_,\u0275\u0275styleMapInterpolate8:fp,\u0275\u0275styleMapInterpolateV:Rs,\u0275\u0275styleProp:mm,\u0275\u0275stylePropInterpolate1:Tm,\u0275\u0275stylePropInterpolate2:Am,\u0275\u0275stylePropInterpolate3:_l,\u0275\u0275stylePropInterpolate4:d_,\u0275\u0275stylePropInterpolate5:h_,\u0275\u0275stylePropInterpolate6:pp,\u0275\u0275stylePropInterpolate7:f_,\u0275\u0275stylePropInterpolate8:p_,\u0275\u0275stylePropInterpolateV:Sm,\u0275\u0275classProp:ip,\u0275\u0275advance:Md,\u0275\u0275template:em,\u0275\u0275text:xa,\u0275\u0275textInterpolate:Em,\u0275\u0275textInterpolate1:Im,\u0275\u0275textInterpolate2:lp,\u0275\u0275textInterpolate3:Oc,\u0275\u0275textInterpolate4:wm,\u0275\u0275textInterpolate5:cp,\u0275\u0275textInterpolate6:Xd,\u0275\u0275textInterpolate7:Dm,\u0275\u0275textInterpolate8:dp,\u0275\u0275textInterpolateV:eh,\u0275\u0275i18n:VI,\u0275\u0275i18nAttributes:UI,\u0275\u0275i18nExp:b_,\u0275\u0275i18nStart:dh,\u0275\u0275i18nEnd:ii,\u0275\u0275i18nApply:T_,\u0275\u0275i18nPostprocess:jI,\u0275\u0275resolveWindow:vg,\u0275\u0275resolveDocument:Cf,\u0275\u0275resolveBody:y,\u0275\u0275setComponentScope:z,\u0275\u0275setNgModuleScope:ze,\u0275\u0275sanitizeHtml:pg,\u0275\u0275sanitizeStyle:Ly,\u0275\u0275sanitizeResourceUrl:mf,\u0275\u0275sanitizeScript:yf,\u0275\u0275sanitizeUrl:_d,\u0275\u0275sanitizeUrlOrResourceUrl:Ef,\u0275\u0275trustConstantHtml:Ju,\u0275\u0275trustConstantResourceUrl:vf,forwardRef:G,resolveForwardRef:Y}))();let zo=null;function ZC(){zo=null}const Rp=[];let Hr=!1;function vw(){if(!Hr){Hr=!0;try{for(let i=Rp.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=Rp[i];a.declarations&&a.declarations.every(z_)&&(Rp.splice(i,1),YC(s,a))}}finally{Hr=!1}}}function z_(i){return Array.isArray(i)?i.every(z_):!!Y(i)}function _o(i,s={}){K_(i,s),function yw(i,s){Rp.push({moduleType:i,ngModule:s})}(i,s)}function K_(i,s,a=!1){const u=ei(s.declarations||mt);let c=null;Object.defineProperty(i,Oe,{configurable:!0,get:()=>(null===c&&(c=Qn().compileNgModule(vs,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:ei(s.bootstrap||mt).map(Y),declarations:u.map(Y),imports:ei(s.imports||mt).map(Y).map(Iw),exports:ei(s.exports||mt).map(Y).map(Iw),schemas:s.schemas?ei(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let f=null;Object.defineProperty(i,st,{get:()=>{if(null===f){const E=Qn();f=E.compileFactory(vs,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:nu(i),target:E.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let v=null;Object.defineProperty(i,cr,{get:()=>{if(null===v){const E={name:i.name,type:i,providers:s.providers||mt,imports:[(s.imports||mt).map(Y),(s.exports||mt).map(Y)]};v=Qn().compileInjector(vs,`ng:///${i.name}/\u0275inj.js`,E)}return v},configurable:!1})}let zm=new WeakMap,Q_=new WeakMap;function QC(){zm=new WeakMap,Q_=new WeakMap,Rp.length=0}function YC(i,s){const a=ei(s.declarations||mt),u=Np(i);a.forEach(c=>{c.hasOwnProperty(Cr)?Y_(Zt(c),u):!c.hasOwnProperty(Ut)&&!c.hasOwnProperty(tt)&&(c.ngSelectorScope=i)})}function Y_(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Cr)?Zt(a):xn(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>kt(a)),i.schemas=s.schemas,i.tView=null}function Np(i){if(!J_(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=pn(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return p(s.imports).forEach(u=>{const c=u;if(!J_(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const f=Np(c);f.exported.directives.forEach(v=>a.compilation.directives.add(v)),f.exported.pipes.forEach(v=>a.compilation.pipes.add(v))}),p(s.declarations).forEach(u=>{kt(u)?a.compilation.pipes.add(u):a.compilation.directives.add(u)}),p(s.exports).forEach(u=>{const c=u;if(J_(c)){const f=Np(c);f.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),f.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else kt(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}function Iw(i){return function JC(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function J_(i){return!!pn(i)}let X_=0;function ww(i,s){let a=null;(function wy(i,s){nf(s)&&(ko.set(i,s),Fo.add(i))})(i,s),Dw(i,s),Object.defineProperty(i,Cr,{get:()=>{if(null===a){const u=Qn();if(nf(s)){const M=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&M.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const c=function KC(){return zo}();let f=s.preserveWhitespaces;void 0===f&&(f=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let v=s.encapsulation;void 0===v&&(v=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:zt.Emulated);const E=s.templateUrl||`ng:///${i.name}/template.html`,w=Object.assign(Object.assign({},bw(i,s)),{typeSourceSpan:u.createParseSourceSpan("Component",i.name,E),template:s.template||"",preserveWhitespaces:f,styles:s.styles||mt,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:v,interpolation:s.interpolation,viewProviders:s.viewProviders||null});X_++;try{w.usesInheritance&&n0(i),a=u.compileComponent(vs,E,w)}finally{X_--}if(0===X_&&vw(),function XC(i){return void 0!==i.ngSelectorScope}(i)){const M=Np(i.ngSelectorScope);Y_(a,M)}}return a},configurable:!1})}function e0(i,s){let a=null;Dw(i,s||{}),Object.defineProperty(i,Ut,{get:()=>{if(null===a){const u=t0(i,s||{});a=Qn().compileDirective(vs,u.sourceMapUrl,u.metadata)}return a},configurable:!1})}function t0(i,s){const a=i&&i.name,u=`ng:///${a}/\u0275dir.js`,c=Qn(),f=bw(i,s);return f.typeSourceSpan=c.createParseSourceSpan("Directive",a,u),f.usesInheritance&&n0(i),{metadata:f,sourceMapUrl:u}}function Dw(i,s){let a=null;Object.defineProperty(i,st,{get:()=>{if(null===a){const u=t0(i,s),c=Qn();a=c.compileFactory(vs,`ng:///${i.name}/\u0275fac.js`,{name:u.metadata.name,type:u.metadata.type,typeArgumentCount:0,deps:nu(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function Cw(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function bw(i,s){const a=cd(),u=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||Dr,propMetadata:u,inputs:s.inputs||mt,outputs:s.outputs||mt,queries:Op(i,u,Aw),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Cw(i),exportAs:Ko(s.exportAs),providers:s.providers||null,viewQueries:Op(i,u,bh)}}function n0(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!xn(a)&&!Zt(a)&&Mw(a)&&e0(a,null),a=Object.getPrototypeOf(a)}function Tw(i){return"string"==typeof i?Sw(i):Y(i)}function De(i,s){return{propertyName:i,predicate:Tw(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function Op(i,s,a){const u=[];for(const c in s)if(s.hasOwnProperty(c)){const f=s[c];f.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${c}" of "${Ie(i)}" since the query selector wasn't defined.`);if(f.some(xl))throw new Error("Cannot combine @Input decorators with query decorators");u.push(De(c,v))}})}return u}function Ko(i){return void 0===i?null:Sw(i)}function Aw(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function bh(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function xl(i){return"Input"===i.ngMetadataName}function Sw(i){return i.split(",").map(s=>s.trim())}const Hc=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Mw(i){const s=cd();if(Hc.some(u=>s.hasLifecycleHook(i,u)))return!0;const a=s.propMetadata(i);for(const u in a){const c=a[u];for(let f=0;f<c.length;f++){const v=c[f],E=v.ngMetadataName;if(xl(v)||Aw(v)||bh(v)||"Output"===E||"HostBinding"===E||"HostListener"===E)return!0}}return!1}function Km(i,s){let a=null,u=null;Object.defineProperty(i,st,{get:()=>{if(null===u){const c=r0(i,s),f=Qn();u=f.compileFactory(vs,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:nu(i),target:f.FactoryTarget.Pipe})}return u},configurable:!1}),Object.defineProperty(i,tt,{get:()=>{if(null===a){const c=r0(i,s);a=Qn().compilePipe(vs,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function r0(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure}}const si=Ni("Directive",(i={})=>i,void 0,void 0,(i,s)=>e0(i,s)),s0=Ni("Component",(i={})=>Object.assign({changeDetection:Wn.Default},i),si,void 0,(i,s)=>ww(i,s)),o0=Ni("Pipe",i=>Object.assign({pure:!0},i),void 0,void 0,(i,s)=>Km(i,s)),a0=Oi("Input",i=>({bindingPropertyName:i})),Rl=Oi("Output",i=>({bindingPropertyName:i})),xw=Oi("HostBinding",i=>({hostPropertyName:i})),eb=Oi("HostListener",(i,s)=>({eventName:i,args:s})),Rw=Ni("NgModule",i=>i,void 0,void 0,(i,s)=>_o(i,s));function Gc(...i){}const Nl=new An("Application Initializer");let Ol=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Gc,this.reject=Gc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Ac(f))a.push(f);else if(dm(f)){const v=new Promise((E,w)=>{f.subscribe({complete:E,error:w})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(at(Nl,8))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ah=new An("AppId",{providedIn:"root",factory:u0});function u0(){return`${Pp()}${Pp()}${Pp()}`}const l0={provide:Ah,useFactory:u0,deps:[]};function Pp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const c0=new An("Platform Initializer"),Nw=new An("Platform ID"),d0=new An("appBootstrapListener"),Ow=new An("Application Packages Root URL");let Zm=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();const Pl=new An("LocaleId",{providedIn:"root",factory:()=>Yt(Pl,pt.Optional|pt.SkipSelf)||function kp(){return"undefined"!=typeof $localize&&$localize.locale||Je}()}),tb=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Pw=new An("Translations"),nb=new An("TranslationsFormat");var Pa=(()=>((Pa=Pa||{})[Pa.Error=0]="Error",Pa[Pa.Warning=1]="Warning",Pa[Pa.Ignore=2]="Ignore",Pa))();class kw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Qm=(()=>{class i{compileModuleSync(a){return new Al(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=p(pn(a).declarations).reduce((v,E)=>{const w=Zt(E);return w&&v.push(new Dp(w)),v},[]);return new kw(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Du=new An("compilerOptions");class qc{}const Fw=(()=>Promise.resolve(0))();function h0(i){"undefined"==typeof Zone?Fw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Zs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rb(){let i=Kt.requestAnimationFrame,s=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Fp(i){const s=()=>{!function Lw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Sh(i),i.isCheckStableRunning=!0,f0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Sh(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,f,v,E)=>{try{return Lp(i),a.invokeTask(c,f,v,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),p0(i)}},onInvoke:(a,u,c,f,v,E,w)=>{try{return Lp(i),a.invoke(c,f,v,E,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),p0(i)}},onHasTask:(a,u,c,f)=>{a.hasTask(c,f),u===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Sh(i),f0(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+c,s,Ym,Gc,Gc);try{return f.runTask(v,a,u)}finally{f.cancelTask(v)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ym={};function f0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Sh(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Lp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function p0(i){i._nesting--,f0(i)}class _s{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let g0=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),h0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())h0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(at(Zs))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),Mh=(()=>{class i{constructor(){this._applications=new Map,ka.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ka.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();class m0{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function Vw(i){ka=i}let Yi,ka=new m0;function y0(i,s,a){const u=new Al(a);return Promise.resolve(u)}function Uw(i){return i.isBoundToModule}const kl=new An("AllowMultipleToken");class jw{constructor(s,a){this.name=s,this.token=a}}function Cu(i){if(Yi&&!Yi.destroyed&&!Yi.injector.get(kl,!1))throw new ve(400,"");Yi=i.get(_0);const s=i.get(c0,null);return s&&s.forEach(a=>a()),Yi}function Fl(i,s,a=[]){const u=`Platform: ${s}`,c=new An(u);return(f=[])=>{let v=v0();if(!v||v.injector.get(kl,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const E=a.concat(f).concat({provide:c,useValue:!0},{provide:jf,useValue:"platform"});Cu(Ki.create({providers:E,name:u}))}return Jm()}}function Jm(i){const s=v0();if(!s)throw new ve(401,"");return s}function Bw(){Yi&&!Yi.destroyed&&Yi.destroy()}function v0(){return Yi&&!Yi.destroyed?Yi:null}let _0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function ib(i,s){let a;return a="noop"===i?new _s:("zone.js"===i?void 0:i)||new Zs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),w=[{provide:Zs,useValue:E}];return E.run(()=>{const M=Ki.create({providers:w,parent:this.injector,name:a.moduleType.name}),R=a.create(M),j=R.injector.get(ni,null);if(!j)throw new ve(402,"");return E.runOutsideAngular(()=>{const W=E.onError.subscribe({next:te=>{j.handleError(te)}});R.onDestroy(()=>{E0(this._modules,R),W.unsubscribe()})}),function sb(i,s,a){try{const u=a();return Ac(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(j,E,()=>{const W=R.injector.get(Ol);return W.runInitializers(),W.donePromise.then(()=>(wI(R.injector.get(Pl,Je)||Je),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const c=Vp({},u);return y0(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const u=a.injector.get(Xm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new ve(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(at(Ki))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();function Vp(i,s){return Array.isArray(s)?s.reduce(Vp,i):Object.assign(Object.assign({},i),s)}let Xm=(()=>{class i{constructor(a,u,c,f,v){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),w=new V.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),h0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),j.unsubscribe()}});this.isStable=(0,ie.T)(E,w.pipe((0,J.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ve(405,"");let c;c=a instanceof Vc?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=Uw(c)?void 0:this._injector.get(gh),E=c.create(Ki.NULL,[],u||c.selector,f),w=E.location.nativeElement,M=E.injector.get(g0,null),R=M&&E.injector.get(Mh);return M&&R&&R.registerApplication(w,M),E.onDestroy(()=>{this.detachView(E.hostView),E0(this.components,E),R&&R.unregisterApplication(w)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new ve(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;E0(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(d0,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(at(Zs),at(Ki),at(ni),at(_u),at(Ol))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function E0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Ll=!0,Rh=!1;function Gw(){return Rh=!0,Ll}function qw(){if(Rh)throw new Error("Cannot enable prod mode after platform setup.");Ll=!1}function ob(i){const s=JI(i);if(!s)throw ey(i);return new Al(s)}function Ww(i){const s=JI(i);if(!s)throw ey(i);return s}function ey(i){return new Error(`No module with ID ${i} loaded`)}let ty=(()=>{class i{}return i.__NG_ELEMENT_ID__=Nh,i})();function Nh(i){return function ny(i,s,a){if(Ti(i)&&!a){const u=Bt(i.index,s);return new hh(u,u)}return 47&i.type?new hh(s[16],s):null}(kn(),Pe(),16==(16&i))}class ry extends ty{}class ab extends ry{}class Kw{constructor(s,a){this.name=s,this.callback=a}}function ub(i){return i.map(s=>s.nativeElement)}class iy{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new Oh(s):null}get injector(){return $E(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(Cv(s)||jE(s))}get context(){return Cv(this.nativeNode)||qg(this.nativeNode)}get listeners(){return Tv(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function ol(i){const s=ti(i);return null===s?{}:(void 0===s.localRefs&&(s.localRefs=function wd(i,s){const a=i[1].data[s];if(a&&a.localNames){const u={};let c=a.index+1;for(let f=0;f<a.localNames.length;f+=2)u[a.localNames[f]]=i[c],c++;return u}return null}(s.lView,s.nodeIndex)),s.localRefs||{})}(this.nativeNode)}get providerTokens(){return function ki(i){const s=ti(i);if(null===s)return[];const u=s.lView[1],c=u.data[s.nodeIndex],f=[],E=c.directiveEnd;for(let w=1048575&c.providerIndexes;w<E;w++){let M=u.data[w];lC(M)&&(M=M.type),f.push(M)}return f}(this.nativeNode)}}class Oh extends iy{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=ti(this.nativeNode);return null!==s?s.lView[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=ti(this.nativeNode);if(null===s)return{};const a=s.lView,u=a[1].data,c=u[s.nodeIndex],f={};return function I0(i,s){if(i){let a=Object.getPrototypeOf(i);const u=Node.prototype;for(;null!==a&&a!==u;){const c=Object.getOwnPropertyDescriptors(a);for(let f in c)if(!f.startsWith("__")&&!f.startsWith("on")){const v=i[f];lb(v)&&(s[f]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,f),function Ph(i,s,a,u){let c=s.propertyBindings;if(null!==c)for(let f=0;f<c.length;f++){const v=c[f],w=u[v].split("\ufffd"),M=w[0];if(w.length>1){let R=w[1];for(let j=1;j<w.length-1;j++)R+=re(a[v+j-1])+w[j+1];i[M]=R}else i[M]=a[v]}}(f,c,a,u),f}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const u=ti(a);if(null===u)return{};const f=u.lView[1].data[u.nodeIndex].attrs,v=[];if(f){let w=0;for(;w<f.length;){const M=f[w];if("string"!=typeof M)break;s[M]=f[w+1],v.push(M.toLowerCase()),w+=2}}const E=a.attributes;for(let w=0;w<E.length;w++){const M=E[w],R=M.name.toLowerCase();-1===v.indexOf(R)&&(s[R]=M.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},u=this.nativeElement.className;return("string"!=typeof u?u.baseVal.split(" "):u.split(" ")).forEach(f=>s[f]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let u=0;u<s.length;u++)a.push(zc(s[u]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,u=[];for(let c=0;c<a.length;c++)u.push(zc(a[c]));return u}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return w0(this,s,a,!0),a}queryAllNodes(s){const a=[];return w0(this,s,a,!1),a}triggerEventHandler(s,a){const u=this.nativeNode,c=[];this.listeners.forEach(f=>{if(f.name===s){const v=f.callback;v.call(u,a),c.push(v)}}),"function"==typeof u.eventListeners&&u.eventListeners(s).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const v=f("__ngUnwrap__");return-1===c.indexOf(v)&&v.call(u,a)}})}}function lb(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function w0(i,s,a,u){const c=ti(i.nativeNode);null!==c?Wc(c.lView[1].data[c.nodeIndex],c.lView,s,a,u,i.nativeNode):Vl(i.nativeNode,s,a,u)}function Wc(i,s,a,u,c,f){const v=function Ke(i,s){const a=null===i?-1:i.index;return-1!==a?b(s[a]):null}(i,s);if(11&i.type){if(C0(v,a,u,c,f),Ti(i)){const w=Bt(i.index,s);w&&w[1].firstChild&&Wc(w[1].firstChild,w,a,u,c,f)}else i.child&&Wc(i.child,s,a,u,c,f),v&&Vl(v,a,u,c);const E=s[i.index];Or(E)&&D0(E,a,u,c,f)}else if(4&i.type){const E=s[i.index];C0(E[7],a,u,c,f),D0(E,a,u,c,f)}else if(16&i.type){const E=s[16],M=E[6].projection[i.projection];if(Array.isArray(M))for(let R of M)C0(R,a,u,c,f);else if(M){const R=E[3];Wc(R[1].data[M.index],R,a,u,c,f)}}else i.child&&Wc(i.child,s,a,u,c,f);if(f!==v){const E=4&i.flags?i.projectionNext:i.next;E&&Wc(E,s,a,u,c,f)}}function D0(i,s,a,u,c){for(let f=10;f<i.length;f++){const v=i[f],E=v[1].firstChild;E&&Wc(E,v,s,a,u,c)}}function C0(i,s,a,u,c){if(c!==i){const f=zc(i);if(!f)return;(u&&f instanceof Oh&&s(f)&&-1===a.indexOf(f)||!u&&s(f)&&-1===a.indexOf(f))&&a.push(f)}}function Vl(i,s,a,u){const c=i.childNodes,f=c.length;for(let v=0;v<f;v++){const E=c[v],w=zc(E);w&&((u&&w instanceof Oh&&s(w)&&-1===a.indexOf(w)||!u&&s(w)&&-1===a.indexOf(w))&&a.push(w),Vl(E,s,a,u))}}const kh="__ng_debug__";function zc(i){return i instanceof Node?(i.hasOwnProperty(kh)||(i[kh]=i.nodeType==Node.ELEMENT_NODE?new Oh(i):new iy(i)),i[kh]):null}function Zw(i){return null}class Yw{constructor(){}supports(s){return wc(s)}create(s){return new Jw(s)}}const b0=(i,s)=>s;class Jw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||b0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,f=null;for(;a||u;){const v=!u||a&&a.currentIndex<Xw(u,c,f)?a:u,E=Xw(v,c,f),w=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{f||(f=[]);const M=E-c,R=w-c;if(M!=R){for(let W=0;W<M;W++){const te=W<f.length?f[W]:f[W]=0,Te=te+W;R<=Te&&Te<M&&(f[W]=te+1)}f[v.previousIndex]=R-M}}E!==w&&s(v,E,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wc(s))throw new ve(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,v,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],v=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,f,v,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,v,E),u=!0),a=a._next}else c=0,function pC(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[$d()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{v=this._trackByFn(c,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,c)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new db(a,u),f,c),s}_verifyReinsertion(s,a,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new oi),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oi),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class db{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class oi{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new T0,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xw(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class eD{constructor(){}supports(s){return s instanceof Map||Nv(s)}create(){return new hb}}class hb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Nv(s)))throw new ve(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,v=c._next;return f&&(f._next=v),v&&(v._prev=f),c._next=null,c._prev=null,c}const u=new fb(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class fb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tD(){return new A0([new Yw])}let A0=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||tD()),deps:[[i,new fo,new pi]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new ve(901,"")}}return i.\u0275prov=en({token:i,providedIn:"root",factory:tD}),i})();function S0(){return new sy([new eD])}let sy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||S0()),deps:[[i,new fo,new pi]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new ve(901,"")}}return i.\u0275prov=en({token:i,providedIn:"root",factory:S0}),i})();const M0=[new eD],jp=new A0([new Yw]),ay=new sy(M0),x0=Fl(null,"core",[{provide:Nw,useValue:"unknown"},{provide:_0,deps:[Ki]},{provide:Mh,deps:[]},{provide:Zm,deps:[]}]);let R0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(at(Xm))},i.\u0275mod=ne({type:i}),i.\u0275inj=tn({}),i})();const iD=!0;function pb(i){return Qn().compileDirectiveDeclaration(vs,`ng:///${i.type.name}/\u0275fac.js`,i)}function sD(i){var s,a;ph(i.type,i.decorators,null!==(s=i.ctorParameters)&&void 0!==s?s:null,null!==(a=i.propDecorators)&&void 0!==a?a:null)}function gb(i){return Qn().compileComponentDeclaration(vs,`ng:///${i.type.name}/\u0275cmp.js`,i)}function mb(i){return Qn(function yb(i){switch(i){case Sn.Directive:return"directive";case Sn.Component:return"component";case Sn.Injectable:return"injectable";case Sn.Pipe:return"pipe";case Sn.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(vs,`ng:///${i.type.name}/\u0275fac.js`,i)}function oD(i){return Qn().compileInjectableDeclaration(vs,`ng:///${i.type.name}/\u0275prov.js`,i)}function uy(i){return Qn().compileInjectorDeclaration(vs,`ng:///${i.type.name}/\u0275inj.js`,i)}function Bp(i){return Qn().compileNgModuleDeclaration(vs,`ng:///${i.type.name}/\u0275mod.js`,i)}function N0(i){return Qn().compilePipeDeclaration(vs,`ng:///${i.type.name}/\u0275pipe.js`,i)}},3942:(lt,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>ve});var D=F(2090),m=F(4859),V=F(9681),ie=F(1877);class J{constructor(re,Ie){this._delegate=re,this.firebase=Ie,(0,V._addComponent)(re,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this._delegate.automaticDataCollectionEnabled=re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(re=>{this._delegate.checkDestroyed(),re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(re,Ie=V._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(re);return!He.isInitialized()&&"EXPLICIT"===(null===(We=He.getComponent())||void 0===We?void 0:We.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Ie})}_removeServiceInstance(re,Ie=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(re).clearInstance(Ie)}_addComponent(re){(0,V._addComponent)(this._delegate,re)}_addOrOverwriteComponent(re){(0,V._addOrOverwriteComponent)(this._delegate,re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function le(){const xe=function de(xe){const re={},Ie={__esModule:!0,initializeApp:function Me(Ze,se={}){const X=V.initializeApp(Ze,se);if((0,D.r3)(re,X.name))return re[X.name];const ue=new xe(X,Ie);return re[X.name]=ue,ue},app:He,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ze){const se=Ze.name,X=se.replace("-compat","");if(V._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ue=(we=He())=>{if("function"!=typeof we[X])throw ae.create("invalid-app-argument",{appName:se});return we[X]()};void 0!==Ze.serviceProps&&(0,D.ZB)(ue,Ze.serviceProps),Ie[X]=ue,xe.prototype[X]=function(...we){return this._getService.bind(this,se).apply(this,Ze.multipleInstances?we:[])}}return"PUBLIC"===Ze.type?Ie[X]:null},removeApp:function We(Ze){delete re[Ze]},useAsService:function Qe(Ze,se){return"serverAuth"===se?null:se},modularAPIs:V}};function He(Ze){if(!(0,D.r3)(re,Ze=Ze||V._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ze});return re[Ze]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Ae(){return Object.keys(re).map(Ze=>re[Ze])}}),He.App=xe,Ie}(J);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function re(Ie){(0,D.ZB)(xe,Ie)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),xe}(),G=new ie.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ve=H;!function he(xe){(0,V.registerVersion)("@firebase/app-compat","0.1.21",xe)}()},9681:(lt,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>ai,_apps:()=>Et,_clearComponents:()=>$t,_components:()=>an,_getProvider:()=>Di,_registerComponent:()=>en,_removeServiceInstance:()=>tn,deleteApp:()=>es,getApp:()=>cr,getApps:()=>Xi,initializeApp:()=>Ci,onLog:()=>dr,registerVersion:()=>qr,setLogLevel:()=>qn});var D=F(5861),m=F(4859),V=F(1877),ie=F(2090);class J{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ce(tt){const Oe=tt.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(st)){const yt=st.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(st=>st).join(" ")}}const ae="@firebase/app",le=new V.Yd("@firebase/app"),Mn="[DEFAULT]",ht={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,an=new Map;function cn(tt,Oe){try{tt.container.addComponent(Oe)}catch(st){le.debug(`Component ${Oe.name} failed to register with FirebaseApp ${tt.name}`,st)}}function ai(tt,Oe){tt.container.addOrOverwriteComponent(Oe)}function en(tt){const Oe=tt.name;if(an.has(Oe))return le.debug(`There were multiple attempts to register component ${Oe}.`),!1;an.set(Oe,tt);for(const st of Et.values())cn(st,tt);return!0}function Di(tt,Oe){const st=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),tt.container.getProvider(Oe)}function tn(tt,Oe,st=Mn){Di(tt,Oe).clearInstance(st)}function $t(){an.clear()}const Gr=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ji{constructor(Oe,st,yt){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Ir="9.6.10";function Ci(tt,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const st=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Oe),yt=st.name;if("string"!=typeof yt||!yt)throw Gr.create("bad-app-name",{appName:String(yt)});const Wt=Et.get(yt);if(Wt){if((0,ie.vZ)(tt,Wt.options)&&(0,ie.vZ)(st,Wt.config))return Wt;throw Gr.create("duplicate-app",{appName:yt})}const jt=new m.H0(yt);for(const $ of an.values())jt.addComponent($);const z=new Ji(tt,st,jt);return Et.set(yt,z),z}function cr(tt=Mn){const Oe=Et.get(tt);if(!Oe)throw Gr.create("no-app",{appName:tt});return Oe}function Xi(){return Array.from(Et.values())}function es(tt){return pt.apply(this,arguments)}function pt(){return(pt=(0,D.Z)(function*(tt){const Oe=tt.name;Et.has(Oe)&&(Et.delete(Oe),yield Promise.all(tt.container.getProviders().map(st=>st.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function qr(tt,Oe,st){var yt;let Wt=null!==(yt=ht[tt])&&void 0!==yt?yt:tt;st&&(Wt+=`-${st}`);const jt=Wt.match(/\s|\//),z=Oe.match(/\s|\//);if(jt||z){const $=[`Unable to register library "${Wt}" with version "${Oe}":`];return jt&&$.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),jt&&z&&$.push("and"),z&&$.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void le.warn($.join(" "))}en(new m.wA(`${Wt}-version`,()=>({library:Wt,version:Oe}),"VERSION"))}function dr(tt,Oe){if(null!==tt&&"function"!=typeof tt)throw Gr.create("invalid-log-argument");(0,V.Am)(tt,Oe)}function qn(tt){(0,V.Ub)(tt)}const In="firebase-heartbeat-store";let Wn=null;function wn(){return Wn||(Wn=(0,ie.X3)("firebase-heartbeat-database",1,(tt,Oe)=>{0===Oe&&tt.createObjectStore(In)}).catch(tt=>{throw Gr.create("storage-open",{originalErrorMessage:tt.message})})),Wn}function zt(){return(zt=(0,D.Z)(function*(tt){try{return(yield wn()).transaction(In).objectStore(In).get(zn(tt))}catch(Oe){throw Gr.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ct(tt,Oe){return It.apply(this,arguments)}function It(){return(It=(0,D.Z)(function*(tt,Oe){try{const yt=(yield wn()).transaction(In,"readwrite");return yield yt.objectStore(In).put(Oe,zn(tt)),yt.complete}catch(st){throw Gr.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function zn(tt){return`${tt.name}!${tt.options.appId}`}class Xs{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new mt(st),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Oe=this;return(0,D.Z)(function*(){const yt=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=wr();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Oe._heartbeatsCache.heartbeats.some(jt=>jt.date===Wt))return Oe._heartbeatsCache.heartbeats.push({date:Wt,agent:yt}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(jt=>{const z=new Date(jt.date).valueOf();return Date.now()-z<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,D.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const st=wr(),{heartbeatsToSend:yt,unsentEntries:Wt}=function Dr(tt,Oe=1024){const st=[];let yt=tt.slice();for(const Wt of tt){const jt=st.find(z=>z.agent===Wt.agent);if(jt){if(jt.dates.push(Wt.date),Cr(st)>Oe){jt.dates.pop();break}}else if(st.push({agent:Wt.agent,dates:[Wt.date]}),Cr(st)>Oe){st.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:st,unsentEntries:yt}}(Oe._heartbeatsCache.heartbeats),jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:yt}));return Oe._heartbeatsCache.lastSentHeartbeatDate=st,Wt.length>0?(Oe._heartbeatsCache.heartbeats=Wt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),jt})()}}function wr(){return(new Date).toISOString().substring(0,10)}class mt{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,D.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function zr(tt){return zt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var st=this;return(0,D.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Oe.lastSentHeartbeatDate)&&void 0!==yt?yt:jt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var st=this;return(0,D.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const jt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Oe.lastSentHeartbeatDate)&&void 0!==yt?yt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Oe.heartbeats]})}})()}}function Cr(tt){return(0,ie.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Ut(tt){en(new m.wA("platform-logger",Oe=>new J(Oe),"PRIVATE")),en(new m.wA("heartbeat",Oe=>new Xs(Oe),"PRIVATE")),qr(ae,"0.7.20",tt),qr(ae,"0.7.20","esm2017"),qr("fire-js","")}("")},4859:(lt,Ce,F)=>{"use strict";F.d(Ce,{wA:()=>V,H0:()=>de});var D=F(5861),m=F(2090);class V{constructor(H,G,Y){this.name=H,this.instanceFactory=G,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class J{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Y=new m.BH;if(this.instancesDeferred.set(G,Y),this.isInitialized(G)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:G});qe&&Y.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Y=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),qe=null!==(G=null==H?void 0:H.optional)&&void 0!==G&&G;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(he){if(qe)return null;throw he}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(le){return"EAGER"===le.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(G){}for(const[G,Y]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(G);try{const he=this.getOrInitializeService({instanceIdentifier:qe});Y.resolve(he)}catch(he){}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,D.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...G.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Y,options:G});for(const[he,ve]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(he)&&ve.resolve(qe);return qe}onInit(H,G){var Y;const qe=this.normalizeInstanceIdentifier(G),he=null!==(Y=this.onInitCallbacks.get(qe))&&void 0!==Y?Y:new Set;he.add(H),this.onInitCallbacks.set(qe,he);const ve=this.instances.get(qe);return ve&&H(ve,qe),()=>{he.delete(H)}}invokeOnInitCallbacks(H,G){const Y=this.onInitCallbacks.get(G);if(Y)for(const qe of Y)try{qe(H,G)}catch(he){}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(le=H,le===ie?void 0:le),options:G}),this.instances.set(H,Y),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch(qe){}var le;return Y||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new J(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ce,F)=>{"use strict";F.d(Ce,{in:()=>m,Yd:()=>ae,Ub:()=>de,Am:()=>le});const D=[];var m=(()=>{return(H=m||(m={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",m;var H})();const V={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},ie=m.INFO,J={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},ce=(H,G,...Y)=>{if(G<H.logLevel)return;const qe=(new Date).toISOString(),he=J[G];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[he](`[${qe}]  ${H.name}:`,...Y)};class ae{constructor(G){this.name=G,this._logLevel=ie,this._logHandler=ce,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in m))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?V[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...G),this._logHandler(this,m.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...G),this._logHandler(this,m.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,m.INFO,...G),this._logHandler(this,m.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,m.WARN,...G),this._logHandler(this,m.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...G),this._logHandler(this,m.ERROR,...G)}}function de(H){D.forEach(G=>{G.setLogLevel(H)})}function le(H,G){for(const Y of D){let qe=null;G&&G.level&&(qe=V[G.level]),Y.userLogHandler=null===H?null:(he,ve,...xe)=>{const re=xe.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(We){return null}}).filter(Ie=>Ie).join(" ");ve>=(null!=qe?qe:he.logLevel)&&H({level:m[ve].toLowerCase(),message:re,args:xe,type:he.name})}}}},5861:(lt,Ce,F)=>{"use strict";function D(V,ie,J,ce,ae,de,le){try{var H=V[de](le),G=H.value}catch(Y){return void J(Y)}H.done?ie(G):Promise.resolve(G).then(ce,ae)}function m(V){return function(){var ie=this,J=arguments;return new Promise(function(ce,ae){var de=V.apply(ie,J);function le(G){D(de,ce,ae,le,H,"next",G)}function H(G){D(de,ce,ae,le,H,"throw",G)}le(void 0)})}}F.d(Ce,{Z:()=>m})}},lt=>{lt(lt.s=526)}]);