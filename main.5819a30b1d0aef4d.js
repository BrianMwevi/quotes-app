(self.webpackChunkquotes_app=self.webpackChunkquotes_app||[]).push([[179],{2011:(at,be,F)=>{"use strict";F.d(be,{hO:()=>We,xv:()=>ae,Dh:()=>ce,GT:()=>oe,cc:()=>he,on:()=>G,pX:()=>Y});var w=F(5e3),g=F(127),V=F(5813);at=F.hmd(at);const ie=["ngOnDestroy"],Y=(Ce,He,$e,Se={})=>new Proxy(Ce,{get:(Te,Me)=>$e.runOutsideAngular(()=>{var et;if(Ce[Me])return(null===(et=null==Se?void 0:Se.spy)||void 0===et?void 0:et.get)&&Se.spy.get(Me,Ce[Me]),Ce[Me];if(ie.indexOf(Me)>-1)return()=>{};const Qe=He.toPromise().then(me=>{const X=me&&me[Me];return"function"==typeof X?X.bind(me):X&&X.then?X.then(de=>$e.run(()=>de)):$e.run(()=>X)});return new Proxy(()=>{},{get:(me,X)=>Qe[X],apply:(me,X,de)=>Qe.then(De=>{var fe;const Le=De&&De(...de);return(null===(fe=null==Se?void 0:Se.spy)||void 0===fe?void 0:fe.apply)&&Se.spy.apply(Me,de,Le),Le})})})}),oe=(Ce,He)=>{He.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Se=>{Object.defineProperty(Ce.prototype,Se,Object.getOwnPropertyDescriptor($e.prototype||$e,Se))})})};class le{constructor(He){return He}}const ce=new w.InjectionToken("angularfire2.app.options"),ae=new w.InjectionToken("angularfire2.app.name");function G(Ce,He,$e){const Te="object"==typeof $e&&$e||{};Te.name=Te.name||"string"==typeof $e&&$e||"[DEFAULT]";const et=g.Z.apps.filter(Qe=>Qe&&Qe.name===Te.name)[0]||He.runOutsideAngular(()=>g.Z.initializeApp(Ce,Te));try{JSON.stringify(Ce)!==JSON.stringify(et.options)&&H("error",`${et.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new le(et)}const H=(Ce,...He)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Ce](...He)},J={provide:le,useFactory:G,deps:[ce,w.NgZone,[new w.Optional,ae]]};let We=(()=>{class Ce{constructor($e){g.Z.registerVersion("angularfire",V.q4.full,"core"),g.Z.registerVersion("angularfire",V.q4.full,"app-compat"),g.Z.registerVersion("angular",w.VERSION.full,$e.toString())}static initializeApp($e,Se){return{ngModule:Ce,providers:[{provide:ce,useValue:$e},{provide:ae,useValue:Se}]}}}return Ce.\u0275fac=function($e){return new($e||Ce)(w.\u0275\u0275inject(w.PLATFORM_ID))},Ce.\u0275mod=w.\u0275\u0275defineNgModule({type:Ce}),Ce.\u0275inj=w.\u0275\u0275defineInjector({providers:[J]}),Ce})();function he(Ce,He,$e,Se,Te){const[,Me,et]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===Ce)||[];if(Me)return function Ie(Ce,He){try{return Ce.toString()===He.toString()}catch($e){return Ce===He}}(Te,et)||(se("error",`${He} was already initialized on the ${$e} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),se("warn",{is:Te,was:et})),Me;{const Qe=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Qe,Te]),Qe}}const xe=!!at.hot,se=(Ce,...He)=>{(0,w.isDevMode)()&&"undefined"!=typeof console&&console[Ce](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,be,F)=>{"use strict";F.d(be,{q4:()=>jr,iC:()=>Hl,HU:()=>Yn,vb:()=>lo,JM:()=>As});var w=F(5e3),g=F(5867),V=F(5861),ie=F(9681),Y=F(2090),oe=F(4859),le=F(1877);const ce="@firebase/installations",H="w:0.5.7",J="FIS_v2",Ce=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function He(C){return C instanceof Y.ZR&&C.code.includes("request-failed")}function $e({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Se(C){return{token:C.token,requestStatus:2,expiresIn:de(C.expiresIn),creationTime:Date.now()}}function Te(C,A){return Me.apply(this,arguments)}function Me(){return(Me=(0,V.Z)(function*(C,A){const B=(yield A.json()).error;return Ce.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function et({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Qe(C,{refreshToken:A}){const O=et(C);return O.append("Authorization",function De(C){return`${J} ${C}`}(A)),O}function me(C){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(C){const A=yield C();return A.status>=500&&A.status<600?C():A})).apply(this,arguments)}function de(C){return Number(C.replace("s","000"))}function fe(C,A){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},{fid:O}){const B=$e(C),ee=et(C),ue=A.getImmediate({optional:!0});if(ue){const xt=yield ue.getHeartbeatsHeader();xt&&ee.append("x-firebase-client",xt)}const st={method:"POST",headers:ee,body:JSON.stringify({fid:O,authVersion:J,appId:C.appId,sdkVersion:H})},ht=yield me(()=>fetch(B,st));if(ht.ok){const xt=yield ht.json();return{fid:xt.fid||O,registrationStatus:2,refreshToken:xt.refreshToken,authToken:Se(xt.authToken)}}throw yield Te("Create Installation",ht)})).apply(this,arguments)}function pe(C){return new Promise(A=>{setTimeout(A,C)})}const Jt=/^[cdef][\w-]{21}$/;function ft(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function Et(C){return function rt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Jt.test(O)?O:""}catch(C){return""}}function an(C){return`${C.appName}!${C.appId}`}const ln=new Map;function li(C,A){const O=an(C);en(O,A),function $t(C,A){const O=function Wr(){return!er&&"BroadcastChannel"in self&&(er=new BroadcastChannel("[Firebase] FID Change"),er.onmessage=C=>{en(C.data.key,C.data.fid)}),er}();O&&O.postMessage({key:C,fid:A}),function es(){0===ln.size&&er&&(er.close(),er=null)}()}(O,A)}function en(C,A){const O=ln.get(C);if(O)for(const B of O)B(A)}let er=null;const hr="firebase-installations-store";let ts=null;function ns(){return ts||(ts=(0,Y.X3)("firebase-installations-database",1,(C,A)=>{0===A&&C.createObjectStore(hr)})),ts}function yt(C,A){return zr.apply(this,arguments)}function zr(){return(zr=(0,V.Z)(function*(C,A){const O=an(C),ee=(yield ns()).transaction(hr,"readwrite"),ue=ee.objectStore(hr),Ve=yield ue.get(O);return yield ue.put(A,O),yield ee.complete,(!Ve||Ve.fid!==A.fid)&&li(C,A.fid),A})).apply(this,arguments)}function fr(C){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,V.Z)(function*(C){const A=an(C),B=(yield ns()).transaction(hr,"readwrite");yield B.objectStore(hr).delete(A),yield B.complete})).apply(this,arguments)}function Kr(C,A){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,V.Z)(function*(C,A){const O=an(C),ee=(yield ns()).transaction(hr,"readwrite"),ue=ee.objectStore(hr),Ve=yield ue.get(O),st=A(Ve);return void 0===st?yield ue.delete(O):yield ue.put(st,O),yield ee.complete,st&&(!Ve||Ve.fid!==st.fid)&&li(C,st.fid),st})).apply(this,arguments)}function _n(C){return qn.apply(this,arguments)}function qn(){return(qn=(0,V.Z)(function*(C){let A;const O=yield Kr(C.appConfig,B=>{const ee=En(B),ue=Zr(C,ee);return A=ue.registrationPromise,ue.installationEntry});return""===O.fid?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}})).apply(this,arguments)}function En(C){return Kt(C||{fid:ft(),registrationStatus:0})}function Zr(C,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ce.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function zt(C,A){return dt.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:It(C)}:{installationEntry:A}}function dt(){return(dt=(0,V.Z)(function*(C,A){try{const O=yield fe(C,A);return yt(C.appConfig,O)}catch(O){throw He(O)&&409===O.customData.serverCode?yield fr(C.appConfig):yield yt(C.appConfig,{fid:A.fid,registrationStatus:0}),O}})).apply(this,arguments)}function It(C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,V.Z)(function*(C){let A=yield rs(C.appConfig);for(;1===A.registrationStatus;)yield pe(100),A=yield rs(C.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield _n(C);return B||O}return A})).apply(this,arguments)}function rs(C){return Kr(C,A=>{if(!A)throw Ce.create("installation-not-found");return Kt(A)})}function Kt(C){return function Ys(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Cr(C,A){return br.apply(this,arguments)}function br(){return(br=(0,V.Z)(function*({appConfig:C,heartbeatServiceProvider:A},O){const B=vt(C,O),ee=Qe(C,O),ue=A.getImmediate({optional:!0});if(ue){const xt=yield ue.getHeartbeatsHeader();xt&&ee.append("x-firebase-client",xt)}const st={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},ht=yield me(()=>fetch(B,st));if(ht.ok)return Se(yield ht.json());throw yield Te("Generate Auth Token",ht)})).apply(this,arguments)}function vt(C,{fid:A}){return`${$e(C)}/${A}/authTokens:generate`}function Tr(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,V.Z)(function*(C,A=!1){let O;const B=yield Kr(C.appConfig,ue=>{if(!jt(ue))throw Ce.create("not-registered");const Ve=ue.authToken;if(!A&&W(Ve))return ue;if(1===Ve.requestStatus)return O=nt(C,A),ue;{if(!navigator.onLine)throw Ce.create("app-offline");const st=K(ue);return O=_t(C,st),st}});return O?yield O:B.authToken})).apply(this,arguments)}function nt(C,A){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,V.Z)(function*(C,A){let O=yield it(C.appConfig);for(;1===O.authToken.requestStatus;)yield pe(100),O=yield it(C.appConfig);const B=O.authToken;return 0===B.requestStatus?Tr(C,A):B})).apply(this,arguments)}function it(C){return Kr(C,A=>{if(!jt(A))throw Ce.create("not-registered");return function Ee(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function _t(C,A){return qt.apply(this,arguments)}function qt(){return(qt=(0,V.Z)(function*(C,A){try{const O=yield Cr(C,A),B=Object.assign(Object.assign({},A),{authToken:O});return yield yt(C.appConfig,B),O}catch(O){if(!He(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield yt(C.appConfig,B)}else yield fr(C.appConfig);throw O}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function W(C){return 2===C.requestStatus&&!function $(C){const A=Date.now();return A<C.creationTime||C.creationTime+C.expiresIn<A+36e5}(C)}function K(C){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:A})}function qe(){return(qe=(0,V.Z)(function*(C){const A=C,{installationEntry:O,registrationPromise:B}=yield _n(A);return B?B.catch(console.error):Tr(A).catch(console.error),O.fid})).apply(this,arguments)}function Rt(){return(Rt=(0,V.Z)(function*(C,A=!1){const O=C;return yield Ar(O),(yield Tr(O,A)).token})).apply(this,arguments)}function Ar(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,V.Z)(function*(C){const{registrationPromise:A}=yield _n(C);A&&(yield A)})).apply(this,arguments)}function Kn(C){return Ce.create("missing-app-config-values",{valueName:C})}const Co="installations",Ue=C=>{const A=C.getProvider("app").getImmediate(),O=function Tt(C){if(!C||!C.options)throw Kn("App Configuration");if(!C.name)throw Kn("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!C.options[O])throw Kn(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,ie._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},kt=C=>{const A=C.getProvider("app").getImmediate(),O=(0,ie._getProvider)(A,Co).getImmediate();return{getId:()=>function ne(C){return qe.apply(this,arguments)}(O),getToken:ee=>function Xe(C){return Rt.apply(this,arguments)}(O,ee)}};(function gn(){(0,ie._registerComponent)(new oe.wA(Co,Ue,"PUBLIC")),(0,ie._registerComponent)(new oe.wA("installations-internal",kt,"PRIVATE"))})(),(0,ie.registerVersion)(ce,"0.5.7"),(0,ie.registerVersion)(ce,"0.5.7","esm2017");const An="@firebase/remote-config",Pn=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ua{constructor(A,O,B,ee){this.client=A,this.storage=O,this.storageCache=B,this.logger=ee}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,ee=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ee}.`),ee}fetch(A){var O=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ee&&O.isCachedDataFresh(A.cacheMaxAgeMillis,B))return ee;A.eTag=ee&&ee.eTag;const ue=yield O.client.fetch(A),Ve=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ve.push(O.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ve),ue})()}}function Ko(C=navigator){return C.languages&&C.languages[0]||C.language}class Zo{constructor(A,O,B,ee,ue,Ve){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=B,this.projectId=ee,this.apiKey=ue,this.appId=Ve}fetch(A){var O=this;return(0,V.Z)(function*(){const[B,ee]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ht={sdk_version:O.sdkVersion,app_instance_id:B,app_instance_id_token:ee,app_id:O.appId,language_code:Ko()},xt={method:"POST",headers:st,body:JSON.stringify(ht)},re=fetch(Ve,xt),Dt=new Promise((fs,In)=>{A.signal.addEventListener(()=>{const vr=new Error("The operation was aborted.");vr.name="AbortError",In(vr)})});let $n;try{yield Promise.race([re,Dt]),$n=yield re}catch(fs){let In="fetch-client-network";throw"AbortError"===fs.name&&(In="fetch-timeout"),Pn.create(In,{originalErrorMessage:fs.message})}let mt=$n.status;const Ri=$n.headers.get("ETag")||void 0;let ru,Ss;if(200===$n.status){let fs;try{fs=yield $n.json()}catch(In){throw Pn.create("fetch-client-parse",{originalErrorMessage:In.message})}ru=fs.entries,Ss=fs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ss?mt=500:"NO_CHANGE"===Ss?mt=304:("NO_TEMPLATE"===Ss||"EMPTY_CONFIG"===Ss)&&(ru={}),304!==mt&&200!==mt)throw Pn.create("fetch-status",{httpStatus:mt});return{status:mt,eTag:Ri,config:ru}})()}}class Du{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,V.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:B}){var ee=this;return(0,V.Z)(function*(){yield function kn(C,A){return new Promise((O,B)=>{const ee=Math.max(A-Date.now(),0),ue=setTimeout(O,ee);C.addEventListener(()=>{clearTimeout(ue),B(Pn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const ue=yield ee.client.fetch(A);return yield ee.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function ja(C){if(!(C instanceof Y.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ue))throw ue;const Ve={throttleEndTimeMillis:Date.now()+(0,Y.$s)(B),backoffCount:B+1};return yield ee.storage.setThrottleMetadata(Ve),ee.attemptFetch(A,Ve)}})()}}class Qo{constructor(A,O,B,ee,ue){this.app=A,this._client=O,this._storageCache=B,this._storage=ee,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ao(C,A){const O=C.target.error||void 0;return Pn.create(A,{originalErrorMessage:O&&O.message})}const as="app_namespace_store";class Tu{constructor(A,O,B,ee=function bu(){return new Promise((C,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=B=>{A(Ao(B,"storage-open"))},O.onsuccess=B=>{C(B.target.result)},O.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(as,{keyPath:"compositeKey"})}}catch(O){A(Pn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=A,this.appName=O,this.namespace=B,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,ue)=>{const st=B.transaction([as],"readonly").objectStore(as),ht=O.createCompositeKey(A);try{const xt=st.get(ht);xt.onerror=re=>{ue(Ao(re,"storage-get"))},xt.onsuccess=re=>{const Dt=re.target.result;ee(Dt?Dt.value:void 0)}}catch(xt){ue(Pn.create("storage-get",{originalErrorMessage:xt&&xt.message}))}})})()}set(A,O){var B=this;return(0,V.Z)(function*(){const ee=yield B.openDbPromise;return new Promise((ue,Ve)=>{const ht=ee.transaction([as],"readwrite").objectStore(as),xt=B.createCompositeKey(A);try{const re=ht.put({compositeKey:xt,value:O});re.onerror=Dt=>{Ve(Ao(Dt,"storage-set"))},re.onsuccess=()=>{ue()}}catch(re){Ve(Pn.create("storage-set",{originalErrorMessage:re&&re.message}))}})})()}delete(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ee,ue)=>{const st=B.transaction([as],"readwrite").objectStore(as),ht=O.createCompositeKey(A);try{const xt=st.delete(ht);xt.onerror=re=>{ue(Ao(re,"storage-delete"))},xt.onsuccess=()=>{ee()}}catch(xt){ue(Pn.create("storage-delete",{originalErrorMessage:xt&&xt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class $a{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const O=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),ee=A.storage.getActiveConfig(),ue=yield O;ue&&(A.lastFetchStatus=ue);const Ve=yield B;Ve&&(A.lastSuccessfulFetchTimestampMillis=Ve);const st=yield ee;st&&(A.activeConfig=st)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function to(){return Al.apply(this,arguments)}function Al(){return(Al=(0,V.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Pr(){(0,ie._registerComponent)(new oe.wA("remote-config",function C(A,{instanceIdentifier:O}){const B=A.getProvider("app").getImmediate(),ee=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,Y.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ve,appId:st}=B.options;if(!ue)throw Pn.create("registration-project-id");if(!Ve)throw Pn.create("registration-api-key");if(!st)throw Pn.create("registration-app-id");const ht=new Tu(st,B.name,O=O||"firebase"),xt=new $a(ht),re=new le.Yd(An);re.logLevel=le.in.ERROR;const Dt=new Zo(ee,ie.SDK_VERSION,O,ue,Ve,st),$n=new Du(Dt,ht),mt=new Ua($n,ht,xt,re),Ri=new Qo(B,mt,xt,ht,re);return function Yr(C){const A=(0,Y.m9)(C);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ri),Ri},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(An,"0.3.6"),(0,ie.registerVersion)(An,"0.3.6","esm2017")}();const So="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",mr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Us="google.c.a.c_id",js="google.c.a.c_l",Ha="google.c.a.ts",Yh="google.c.a.e";var Bs=(()=>{return(C=Bs||(Bs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Bs;var C})();function ci(C){const A=new Uint8Array(C);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yo(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),ee=new Uint8Array(B.length);for(let ue=0;ue<B.length;++ue)ee[ue]=B.charCodeAt(ue);return ee}const Jo="fcm_token_details_db",yr="fcm_token_object_Store";function Au(C){return xo.apply(this,arguments)}function xo(){return xo=(0,V.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Jo))return null;let A=null;return(yield(0,Y.X3)(Jo,5,function(){var B=(0,V.Z)(function*(ee,ue,Ve,st){var ht;if(ue<2||!ee.objectStoreNames.contains(yr))return;const xt=st.objectStore(yr),re=yield xt.index("fcmSenderId").get(C);if(yield xt.clear(),re)if(2===ue){const Dt=re;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;A={token:Dt.fcmToken,createTime:null!==(ht=Dt.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:ci(Dt.vapidKey)}}}else if(3===ue){const Dt=re;A={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:ci(Dt.auth),p256dh:ci(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:ci(Dt.vapidKey)}}}else if(4===ue){const Dt=re;A={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:ci(Dt.auth),p256dh:ci(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:ci(Dt.vapidKey)}}}});return function(ee,ue,Ve,st){return B.apply(this,arguments)}}())).close(),yield(0,Y.Lj)(Jo),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),Ga(A)?A:null}),xo.apply(this,arguments)}function Ga(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:A}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const di="firebase-messaging-store";let Is=null;function Xo(){return Is||(Is=(0,Y.X3)("firebase-messaging-database",1,(C,A)=>{0===A&&C.createObjectStore(di)})),Is}function mn(C){return T.apply(this,arguments)}function T(){return(T=(0,V.Z)(function*(C){const A=ve(C),B=yield(yield Xo()).transaction(di).objectStore(di).get(A);if(B)return B;{const ee=yield Au(C.appConfig.senderId);if(ee)return yield N(C,ee),ee}})).apply(this,arguments)}function N(C,A){return b.apply(this,arguments)}function b(){return(b=(0,V.Z)(function*(C,A){const O=ve(C),ee=(yield Xo()).transaction(di,"readwrite");return yield ee.objectStore(di).put(A,O),yield ee.complete,A})).apply(this,arguments)}function P(C){return z.apply(this,arguments)}function z(){return(z=(0,V.Z)(function*(C){const A=ve(C),B=(yield Xo()).transaction(di,"readwrite");yield B.objectStore(di).delete(A),yield B.complete})).apply(this,arguments)}function ve({appConfig:C}){return C.appId}const ze=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cn(C,A){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,V.Z)(function*(C,A){const O=yield Wi(C),B=gt(A),ee={method:"POST",headers:O,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(dn(C.appConfig),ee)).json()}catch(Ve){throw ze.create("token-subscribe-failed",{errorInfo:Ve})}if(ue.error)throw ze.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw ze.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Bt(C,A){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,V.Z)(function*(C,A){const O=yield Wi(C),B=gt(A.subscriptionOptions),ee={method:"PATCH",headers:O,body:JSON.stringify(B)};let ue;try{ue=yield(yield fetch(`${dn(C.appConfig)}/${A.token}`,ee)).json()}catch(Ve){throw ze.create("token-update-failed",{errorInfo:Ve})}if(ue.error)throw ze.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw ze.create("token-update-no-token");return ue.token})).apply(this,arguments)}function Rn(C,A){return vn.apply(this,arguments)}function vn(){return(vn=(0,V.Z)(function*(C,A){const B={method:"DELETE",headers:yield Wi(C)};try{const ue=yield(yield fetch(`${dn(C.appConfig)}/${A}`,B)).json();if(ue.error)throw ze.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(ee){throw ze.create("token-unsubscribe-failed",{errorInfo:ee})}})).apply(this,arguments)}function dn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Wi(C){return hi.apply(this,arguments)}function hi(){return(hi=(0,V.Z)(function*({appConfig:C,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function gt({p256dh:C,auth:A,endpoint:O,vapidKey:B}){const ee={web:{endpoint:O,auth:A,p256dh:C}};return B!==mr&&(ee.web.applicationPubKey=B),ee}const Si=6048e5;function ws(C){return zi.apply(this,arguments)}function zi(){return(zi=(0,V.Z)(function*(C){const A=yield Ro(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:A.endpoint,auth:ci(A.getKey("auth")),p256dh:ci(A.getKey("p256dh"))},B=yield mn(C.firebaseDependencies);if(B){if(ta(B.subscriptionOptions,O))return Date.now()>=B.createTime+Si?ea(C,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield Rn(C.firebaseDependencies,B.token)}catch(ee){console.warn(ee)}return Pe(C.firebaseDependencies,O)}return Pe(C.firebaseDependencies,O)})).apply(this,arguments)}function us(C){return Su.apply(this,arguments)}function Su(){return(Su=(0,V.Z)(function*(C){const A=yield mn(C.firebaseDependencies);A&&(yield Rn(C.firebaseDependencies,A.token),yield P(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function ea(C,A){return qa.apply(this,arguments)}function qa(){return(qa=(0,V.Z)(function*(C,A){try{const O=yield Bt(C.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield N(C.firebaseDependencies,B),O}catch(O){throw yield us(C),O}})).apply(this,arguments)}function Pe(C,A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,V.Z)(function*(C,A){const B={token:yield cn(C,A),createTime:Date.now(),subscriptionOptions:A};return yield N(C,B),B.token})).apply(this,arguments)}function Ro(C,A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,V.Z)(function*(C,A){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yo(A)})})).apply(this,arguments)}function ta(C,A){return A.vapidKey===C.vapidKey&&A.endpoint===C.endpoint&&A.auth===C.auth&&A.p256dh===C.p256dh}function na(C){const A={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Mi(C,A){if(!A.notification)return;C.notification={};const O=A.notification.title;O&&(C.notification.title=O);const B=A.notification.body;B&&(C.notification.body=B);const ee=A.notification.image;ee&&(C.notification.image=ee)}(A,C),function Mu(C,A){!A.data||(C.data=A.data)}(A,C),function xu(C,A){if(!A.fcmOptions)return;C.fcmOptions={};const O=A.fcmOptions.link;O&&(C.fcmOptions.link=O);const B=A.fcmOptions.analytics_label;B&&(C.fcmOptions.analyticsLabel=B)}(A,C),A}function Ru(C){return"object"==typeof C&&!!C&&Us in C}function Sl(C,A){const O=[];for(let B=0;B<C.length;B++)O.push(C.charAt(B)),B<A.length&&O.push(A.charAt(B));return O.join("")}function no(C){return ze.create("missing-app-config-values",{valueName:C})}Sl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xr{constructor(A,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function ra(C){if(!C||!C.options)throw no("App Configuration Object");if(!C.name)throw no("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const B of A)if(!O[B])throw no(B);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ee,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Lr(C){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(So,{scope:Ti}),C.swRegistration.update().catch(()=>{})}catch(A){throw ze.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function Hs(C,A){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,V.Z)(function*(C,A){if(!A&&!C.swRegistration&&(yield Lr(C)),A||!C.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw ze.create("invalid-sw-registration");C.swRegistration=A}})).apply(this,arguments)}function nd(C,A){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,V.Z)(function*(C,A){A?C.vapidKey=A:C.vapidKey||(C.vapidKey=mr)})).apply(this,arguments)}function Rl(){return(Rl=(0,V.Z)(function*(C,A){if(!navigator)throw ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ze.create("permission-blocked");return yield nd(C,null==A?void 0:A.vapidKey),yield Hs(C,null==A?void 0:A.serviceWorkerRegistration),ws(C)})).apply(this,arguments)}function ia(C,A,O){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,V.Z)(function*(C,A,O){const B=za(A);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[Us],message_name:O[js],message_time:O[Ha],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function za(C){switch(C){case Bs.NOTIFICATION_CLICKED:return"notification_open";case Bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ka(){return(Ka=(0,V.Z)(function*(C,A){const O=A.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===Bs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(na(O)):C.onMessageHandler.next(na(O)));const B=O.data;Ru(B)&&"1"===B[Yh]&&(yield ia(C,O.messageType,B))})).apply(this,arguments)}const Nu="@firebase/messaging",rd=C=>{const A=new Xr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function sa(C,A){return Ka.apply(this,arguments)}(A,O)),A},oa=C=>{const A=C.getProvider("messaging").getImmediate();return{getToken:B=>function xl(C,A){return Rl.apply(this,arguments)}(A,B)}};function Nl(){return No.apply(this,arguments)}function No(){return(No=(0,V.Z)(function*(){try{yield(0,Y.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ou(){(0,ie._registerComponent)(new oe.wA("messaging",rd,"PUBLIC")),(0,ie._registerComponent)(new oe.wA("messaging-internal",oa,"PRIVATE")),(0,ie.registerVersion)(Nu,"0.9.11"),(0,ie.registerVersion)(Nu,"0.9.11","esm2017")}();const Za="analytics",cg="firebase_id",ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",la="https://www.googletagmanager.com/gtag/js",rr=new le.Yd("@firebase/analytics");function ku(C){return Promise.all(C.map(A=>A.catch(O=>O)))}function Xh(C,A){const O=document.createElement("script");O.src=`${la}?l=${C}&id=${A}`,O.async=!0,document.head.appendChild(O)}function Oo(C,A,O,B,ee,ue){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,V.Z)(function*(C,A,O,B,ee,ue){const Ve=B[ee];try{if(Ve)yield A[Ve];else{const ht=(yield ku(O)).find(xt=>xt.measurementId===ee);ht&&(yield A[ht.appId])}}catch(st){rr.error(st)}C("config",ee,ue)})).apply(this,arguments)}function Ya(C,A,O,B,ee){return so.apply(this,arguments)}function so(){return(so=(0,V.Z)(function*(C,A,O,B,ee){try{let ue=[];if(ee&&ee.send_to){let Ve=ee.send_to;Array.isArray(Ve)||(Ve=[Ve]);const st=yield ku(O);for(const ht of Ve){const xt=st.find(Dt=>Dt.measurementId===ht),re=xt&&A[xt.appId];if(!re){ue=[];break}ue.push(re)}}0===ue.length&&(ue=Object.values(A)),yield Promise.all(ue),C("event",B,ee||{})}catch(ue){rr.error(ue)}})).apply(this,arguments)}function ef(){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(la))return A;return null}const ei=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ca=new class Fl{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function da(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ll(C){return wn.apply(this,arguments)}function wn(){return(wn=(0,V.Z)(function*(C){var A;const{appId:O,apiKey:B}=C,ee={method:"GET",headers:da(B)},ue=ua.replace("{app-id}",O),Ve=yield fetch(ue,ee);if(200!==Ve.status&&304!==Ve.status){let st="";try{const ht=yield Ve.json();(null===(A=ht.error)||void 0===A?void 0:A.message)&&(st=ht.error.message)}catch(ht){}throw ei.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:st})}return Ve.json()})).apply(this,arguments)}function tf(C){return xi.apply(this,arguments)}function xi(){return(xi=(0,V.Z)(function*(C,A=ca,O){const{appId:B,apiKey:ee,measurementId:ue}=C.options;if(!B)throw ei.create("no-app-id");if(!ee){if(ue)return{measurementId:ue,appId:B};throw ei.create("no-api-key")}const Ve=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new ha;return setTimeout((0,V.Z)(function*(){st.abort()}),void 0!==O?O:6e4),Ja({appId:B,apiKey:ee,measurementId:ue},Ve,st,A)})).apply(this,arguments)}function Ja(C,A,O){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:O},B,ee=ca){const{appId:ue,measurementId:Ve}=C;try{yield nf(B,A)}catch(st){if(Ve)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ue,measurementId:Ve};throw st}try{const st=yield Ll(C);return ee.deleteThrottleMetadata(ue),st}catch(st){if(!od(st)){if(ee.deleteThrottleMetadata(ue),Ve)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:ue,measurementId:Ve};throw st}const ht=503===Number(st.customData.httpStatus)?(0,Y.$s)(O,ee.intervalMillis,30):(0,Y.$s)(O,ee.intervalMillis),xt={throttleEndTimeMillis:Date.now()+ht,backoffCount:O+1};return ee.setThrottleMetadata(ue,xt),rr.debug(`Calling attemptFetch again in ${ht} millis`),Ja(C,xt,B,ee)}})).apply(this,arguments)}function nf(C,A){return new Promise((O,B)=>{const ee=Math.max(A-Date.now(),0),ue=setTimeout(O,ee);C.addEventListener(()=>{clearTimeout(ue),B(ei.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function od(C){if(!(C instanceof Y.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}class ha{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function rf(){return Po.apply(this,arguments)}function Po(){return(Po=(0,V.Z)(function*(){if(!(0,Y.hl)())return rr.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(C){return rr.warn(ei.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function cs(){return(cs=(0,V.Z)(function*(C,A,O,B,ee,ue,Ve){var st;const ht=tf(C);ht.then(mt=>{O[mt.measurementId]=mt.appId,C.options.measurementId&&mt.measurementId!==C.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${mt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mt=>rr.error(mt)),A.push(ht);const xt=rf().then(mt=>{if(mt)return B.getId()}),[re,Dt]=yield Promise.all([ht,xt]);ef()||Xh(ue,re.measurementId),ee("js",new Date);const $n=null!==(st=null==Ve?void 0:Ve.config)&&void 0!==st?st:{};return $n.origin="firebase",$n.update=!0,null!=Dt&&($n[cg]=Dt),ee("config",re.measurementId,$n),re.measurementId})).apply(this,arguments)}class Xa{constructor(A){this.app=A}_delete(){return delete ds[this.app.options.appId],Promise.resolve()}}let ds={},pa=[];const Vl={};let Lu,ga,ko="dataLayer",ud=!1;function Cs(C,A,O){!function Vu(){const C=[];if((0,Y.ru)()&&C.push("This is a browser extension environment."),(0,Y.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((B,ee)=>`(${ee+1}) ${B}`).join(" "),O=ei.create("invalid-analytics-context",{errorInfo:A});rr.warn(O.message)}}();const B=C.options.appId;if(!B)throw ei.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ei.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ds[B])throw ei.create("already-exists",{id:B});if(!ud){!function Ki(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(ko);const{wrappedGtag:ue,gtagCore:Ve}=function kl(C,A,O,B,ee){let ue=function(...Ve){window[B].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ue=window[ee]),window[ee]=function sd(C,A,O,B){function ue(){return(ue=(0,V.Z)(function*(Ve,st,ht){try{"event"===Ve?yield Ya(C,A,O,st,ht):"config"===Ve?yield Oo(C,A,O,B,st,ht):C("set",st)}catch(xt){rr.error(xt)}})).apply(this,arguments)}return function ee(Ve,st,ht){return ue.apply(this,arguments)}}(ue,C,A,O),{gtagCore:ue,wrappedGtag:window[ee]}}(ds,pa,Vl,ko,"gtag");ga=ue,Lu=Ve,ud=!0}return ds[B]=function fa(C,A,O,B,ee,ue,Ve){return cs.apply(this,arguments)}(C,pa,Vl,A,Lu,ko,O),new Xa(C)}function Uu(){return(Uu=(0,V.Z)(function*(C,A,O,B,ee){if(ee&&ee.global)C("event",O,B);else{const ue=yield A;C("event",O,Object.assign(Object.assign({},B),{send_to:ue}))}})).apply(this,arguments)}function bs(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,V.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(C){return!1}})).apply(this,arguments)}const $u="@firebase/analytics";!function af(){(0,ie._registerComponent)(new oe.wA(Za,(A,{options:O})=>Cs(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ie._registerComponent)(new oe.wA("analytics-internal",function C(A){try{const O=A.getProvider(Za).getImmediate();return{logEvent:(B,ee,ue)=>function Gs(C,A,O,B){C=(0,Y.m9)(C),function sf(C,A,O,B,ee){return Uu.apply(this,arguments)}(ga,ds[C.app.options.appId],A,O,B).catch(ee=>rr.error(ee))}(O,B,ee,ue)}}catch(O){throw ei.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ie.registerVersion)($u,"0.7.7"),(0,ie.registerVersion)($u,"0.7.7","esm2017")}();var hg=F(4408),uf=F(7565);const jl=new class Qn extends uf.v{}(class Tn extends hg.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,O,B):A.flush(this)}});var fg=F(4986),eu=F(8505),ri=F(9468),ii=F(5363);const jr=new w.Version("7.3.0"),uo="__angularfire_symbol__analyticsIsSupportedValue",hs="__angularfire_symbol__analyticsIsSupported",Ts="__angularfire_symbol__remoteConfigIsSupportedValue",Ia="__angularfire_symbol__remoteConfigIsSupported",Bl="__angularfire_symbol__messagingIsSupportedValue",tu="__angularfire_symbol__messagingIsSupported";function As(C,A,O){if(A){if(1===A.length)return A[0];const ue=A.filter(Ve=>Ve.app===O);if(1===ue.length)return ue[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[hs]||(globalThis[hs]=bs().then(C=>globalThis[uo]=C).catch(()=>globalThis[uo]=!1)),globalThis[tu]||(globalThis[tu]=Nl().then(C=>globalThis[Bl]=C).catch(()=>globalThis[Bl]=!1)),globalThis[Ia]||(globalThis[Ia]=to().then(C=>globalThis[Ts]=C).catch(()=>globalThis[Ts]=!1));const lo=(C,A)=>{const O=A?[A]:(0,g.C6)(),B=[];return O.forEach(ee=>{ee.container.getProvider(C).instances.forEach(Ve=>{B.includes(Ve)||B.push(Ve)})}),B};function qs(){}class nu{constructor(A,O=jl){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,B){const ee=this.zone;return this.delegate.schedule(function(Ve){ee.runGuarded(()=>{A.apply(this,[Ve])})},O,B)}}class $l{constructor(A){this.zone=A,this.task=null}call(A,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qs,{},qs,qs)),O.pipe((0,eu.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yn=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new nu(Zone.current)),this.insideAngular=O.run(()=>new nu(Zone.current,fg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(w.\u0275\u0275inject(w.NgZone))},C.\u0275prov=w.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function sr(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Hl(C){return sr(),function Qi(C){return function(O){return(O=O.lift(new $l(C.ngZone))).pipe((0,ri.R)(C.outsideAngular),(0,ii.Q)(C.insideAngular))}}(sr())(C)}},2090:(at,be,F)=>{"use strict";F.d(be,{BH:()=>he,LL:()=>rt,ZR:()=>pe,zI:()=>De,US:()=>le,tV:()=>G,L:()=>ae,$s:()=>Ys,r3:()=>en,Sg:()=>Ie,ne:()=>yt,vZ:()=>es,ZB:()=>J,Lj:()=>qt,pd:()=>ts,m9:()=>vt,z$:()=>xe,jU:()=>He,ru:()=>$e,d:()=>Te,xb:()=>er,w1:()=>Me,hl:()=>X,uI:()=>se,UG:()=>Ce,b$:()=>Se,G6:()=>me,Mn:()=>et,X3:()=>_t,xO:()=>Di,zd:()=>hr,eu:()=>de});var w=F(5861);const Y=function(W){const $=[];let K=0;for(let Ee=0;Ee<W.length;Ee++){let ne=W.charCodeAt(Ee);ne<128?$[K++]=ne:ne<2048?($[K++]=ne>>6|192,$[K++]=63&ne|128):55296==(64512&ne)&&Ee+1<W.length&&56320==(64512&W.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&W.charCodeAt(++Ee)),$[K++]=ne>>18|240,$[K++]=ne>>12&63|128,$[K++]=ne>>6&63|128,$[K++]=63&ne|128):($[K++]=ne>>12|224,$[K++]=ne>>6&63|128,$[K++]=63&ne|128)}return $},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,$){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<W.length;ne+=3){const qe=W[ne],Xe=ne+1<W.length,Rt=Xe?W[ne+1]:0,Ar=ne+2<W.length,Zt=Ar?W[ne+2]:0;let pn=(15&Rt)<<2|Zt>>6,tr=63&Zt;Ar||(tr=64,Xe||(pn=64)),Ee.push(K[qe>>2],K[(3&qe)<<4|Rt>>4],K[pn],K[tr])}return Ee.join("")},encodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(W):this.encodeByteArray(Y(W),$)},decodeString(W,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(W):function(W){const $=[];let K=0,Ee=0;for(;K<W.length;){const ne=W[K++];if(ne<128)$[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const qe=W[K++];$[Ee++]=String.fromCharCode((31&ne)<<6|63&qe)}else if(ne>239&&ne<365){const Ar=((7&ne)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;$[Ee++]=String.fromCharCode(55296+(Ar>>10)),$[Ee++]=String.fromCharCode(56320+(1023&Ar))}else{const qe=W[K++],Xe=W[K++];$[Ee++]=String.fromCharCode((15&ne)<<12|(63&qe)<<6|63&Xe)}}return $.join("")}(this.decodeStringToByteArray(W,$))},decodeStringToByteArray(W,$){this.init_();const K=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<W.length;){const qe=K[W.charAt(ne++)],Rt=ne<W.length?K[W.charAt(ne)]:0;++ne;const Zt=ne<W.length?K[W.charAt(ne)]:64;++ne;const Pt=ne<W.length?K[W.charAt(ne)]:64;if(++ne,null==qe||null==Rt||null==Zt||null==Pt)throw Error();Ee.push(qe<<2|Rt>>4),64!==Zt&&(Ee.push(Rt<<4&240|Zt>>2),64!==Pt&&Ee.push(Zt<<6&192|Pt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ae=function(W){return function(W){const $=Y(W);return le.encodeByteArray($,!0)}(W).replace(/\./g,"")},G=function(W){try{return le.decodeString(W,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function J(W,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return $}for(const K in $)!$.hasOwnProperty(K)||!We(K)||(W[K]=J(W[K],$[K]));return W}function We(W){return"__proto__"!==W}class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,K)=>{this.resolve=$,this.reject=K})}wrapCallback($){return(K,Ee)=>{K?this.reject(K):this.resolve(Ee),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(K):$(K,Ee))}}}function Ie(W,$){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=$||"demo-project",ne=W.iat||0,qe=W.sub||W.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Xe)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function He(){return"object"==typeof self&&self.self===self}function $e(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return xe().indexOf("Electron/")>=0}function Me(){const W=xe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function et(){return xe().indexOf("MSAppHost/")>=0}function me(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function de(){return new Promise((W,$)=>{try{let K=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),K||self.indexedDB.deleteDatabase(Ee),W(!0)},ne.onupgradeneeded=()=>{K=!1},ne.onerror=()=>{var qe;$((null===(qe=ne.error)||void 0===qe?void 0:qe.message)||"")}}catch(K){$(K)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pe extends Error{constructor($,K,Ee){super(K),this.code=$,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor($,K,Ee){this.service=$,this.serviceName=K,this.errors=Ee}create($,...K){const Ee=K[0]||{},ne=`${this.service}/${$}`,qe=this.errors[$],Xe=qe?function Jt(W,$){return W.replace(Sn,(K,Ee)=>{const ne=$[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(qe,Ee):"Error";return new pe(ne,`${this.serviceName}: ${Xe} (${ne}).`,Ee)}}const Sn=/\{\$([^}]+)}/g;function en(W,$){return Object.prototype.hasOwnProperty.call(W,$)}function er(W){for(const $ in W)if(Object.prototype.hasOwnProperty.call(W,$))return!1;return!0}function es(W,$){if(W===$)return!0;const K=Object.keys(W),Ee=Object.keys($);for(const ne of K){if(!Ee.includes(ne))return!1;const qe=W[ne],Xe=$[ne];if(Dr(qe)&&Dr(Xe)){if(!es(qe,Xe))return!1}else if(qe!==Xe)return!1}for(const ne of Ee)if(!K.includes(ne))return!1;return!0}function Dr(W){return null!==W&&"object"==typeof W}function Di(W){const $=[];for(const[K,Ee]of Object.entries(W))Array.isArray(Ee)?Ee.forEach(ne=>{$.push(encodeURIComponent(K)+"="+encodeURIComponent(ne))}):$.push(encodeURIComponent(K)+"="+encodeURIComponent(Ee));return $.length?"&"+$.join("&"):""}function hr(W){const $={};return W.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,qe]=Ee.split("=");$[decodeURIComponent(ne)]=decodeURIComponent(qe)}}),$}function ts(W){const $=W.indexOf("?");if(!$)return"";const K=W.indexOf("#",$);return W.substring($,K>0?K:void 0)}function yt(W,$){const K=new zr(W,$);return K.subscribe.bind(K)}class zr{constructor($,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{$(this)}).catch(Ee=>{this.error(Ee)})}next($){this.forEachObserver(K=>{K.next($)})}error($){this.forEachObserver(K=>{K.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,K,Ee){let ne;if(void 0===$&&void 0===K&&void 0===Ee)throw new Error("Missing Observer.");ne=function Gn(W,$){if("object"!=typeof W||null===W)return!1;for(const K of $)if(K in W&&"function"==typeof W[K])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:K,complete:Ee},void 0===ne.next&&(ne.next=Kr),void 0===ne.error&&(ne.error=Kr),void 0===ne.complete&&(ne.complete=Kr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(Xe){}}),this.observers.push(ne),qe}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,$)}sendOne($,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{K(this.observers[$])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kr(){}function Ys(W,$=1e3,K=2){const Ee=$*Math.pow(K,W),ne=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ne)}function vt(W){return W&&W._delegate?W._delegate:W}function Tr(W,$){return new Promise((K,Ee)=>{W.onsuccess=ne=>{K(ne.target.result)},W.onerror=ne=>{var qe;Ee(`${$}: ${null===(qe=ne.target.error)||void 0===qe?void 0:qe.message}`)}})}class Ut{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,K){return new nt(this._db.transaction.call(this._db,$,K))}createObjectStore($,K){return new Oe(this._db.createObjectStore($,K))}close(){this._db.close()}}class nt{constructor($){this._transaction=$,this.complete=new Promise((K,Ee)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{Ee(this._transaction.error)},this._transaction.onabort=()=>{Ee(this._transaction.error)}})}objectStore($){return new Oe(this._transaction.objectStore($))}}class Oe{constructor($){this._store=$}index($){return new it(this._store.index($))}createIndex($,K,Ee){return new it(this._store.createIndex($,K,Ee))}get($){return Tr(this._store.get($),"Error reading from IndexedDB")}put($,K){return Tr(this._store.put($,K),"Error writing to IndexedDB")}delete($){return Tr(this._store.delete($),"Error deleting from IndexedDB")}clear(){return Tr(this._store.clear(),"Error clearing IndexedDB object store")}}class it{constructor($){this._index=$}get($){return Tr(this._index.get($),"Error reading from IndexedDB")}}function _t(W,$,K){return new Promise((Ee,ne)=>{try{const qe=indexedDB.open(W,$);qe.onsuccess=Xe=>{Ee(new Ut(Xe.target.result))},qe.onerror=Xe=>{var Rt;ne(`Error opening indexedDB: ${null===(Rt=Xe.target.error)||void 0===Rt?void 0:Rt.message}`)},qe.onupgradeneeded=Xe=>{K(new Ut(qe.result),Xe.oldVersion,Xe.newVersion,new nt(qe.transaction))}}catch(qe){ne(`Error opening indexedDB: ${qe.message}`)}})}function qt(W){return jt.apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(W){return new Promise(($,K)=>{try{const Ee=indexedDB.deleteDatabase(W);Ee.onsuccess=()=>{$()},Ee.onerror=ne=>{var qe;K(`Error deleting indexedDB database "${W}": ${null===(qe=ne.target.error)||void 0===qe?void 0:qe.message}`)}}catch(Ee){K(`Error deleting indexedDB database "${W}": ${Ee.message}`)}})})).apply(this,arguments)}},4619:(at,be,F)=>{"use strict";var w=F(9808),g=F(5e3);class V extends w.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends V{static makeCurrent(){(0,w.\u0275setRootDomAdapter)(new ie)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function oe(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==t?null:function ce(n){le=le||document.createElement("a"),le.setAttribute("href",n);const e=le.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,w.\u0275parseCookieValue)(document.cookie,e)}}let le,Y=null;const ae=new g.InjectionToken("TRANSITION_ID"),H=[{provide:g.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(g.ApplicationInitStatus).donePromise.then(()=>{const r=(0,w.\u0275getDOM)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[ae,w.DOCUMENT,g.Injector],multi:!0}];class J{static init(){(0,g.setTestabilityGetter)(new J)}addToWindow(e){g.\u0275global.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},g.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),g.\u0275global.frameworkStabilizers||(g.\u0275global.frameworkStabilizers=[]),g.\u0275global.frameworkStabilizers.push(r=>{const o=g.\u0275global.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(I){h=h||I,l--,0==l&&r(h)};o.forEach(function(I){I.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,w.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let We=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const he=new g.InjectionToken("EventManagerPlugins");let Ie=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(he),g.\u0275\u0275inject(g.NgZone))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class xe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,w.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let se=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(He),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(He))}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function He(n){(0,w.\u0275getDOM)().remove(n)}const $e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Se=/%COMP%/g;function de(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?de(n,o,t):(o=o.replace(Se,n),t.push(o))}return t}function De(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Le=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new pe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ViewEncapsulation.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Sn(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case g.ViewEncapsulation.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=de(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(Ie),g.\u0275\u0275inject(Ce),g.\u0275\u0275inject(g.APP_ID))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class pe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS($e[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=$e[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=$e[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.RendererStyleFlags2.DashCase|g.RendererStyleFlags2.Important)?e.style.setProperty(t,r,o&g.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,De(r)):this.eventManager.addEventListener(e,t,De(r))}}class Sn extends pe{constructor(e,t,r,o){super(e),this.component=r;const l=de(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function me(n){return"_ngcontent-%COMP%".replace(Se,n)}(o+"-"+r.id),this.hostAttr=function X(n){return"_nghost-%COMP%".replace(Se,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ft extends pe{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=de(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Et=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const an=["alt","control","meta","shift"],li={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let en=(()=>{class n extends xe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.\u0275getDOM)().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(an.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),h+=I+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(t){let r="",o=function $t(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xt.hasOwnProperty(e)&&(e=Xt[e]))}return li[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),an.forEach(l=>{l!=o&&wi[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(w.DOCUMENT))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Di=(0,g.createPlatformFactory)(g.platformCore,"browser",[{provide:g.PLATFORM_ID,useValue:w.\u0275PLATFORM_BROWSER_ID},{provide:g.PLATFORM_INITIALIZER,useValue:function er(){ie.makeCurrent(),J.init()},multi:!0},{provide:w.DOCUMENT,useFactory:function es(){return(0,g.\u0275setDocument)(document),document},deps:[]}]),hr=[{provide:g.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:g.ErrorHandler,useFactory:function Wr(){return new g.ErrorHandler},deps:[]},{provide:he,useClass:Et,multi:!0,deps:[w.DOCUMENT,g.NgZone,g.PLATFORM_ID]},{provide:he,useClass:en,multi:!0,deps:[w.DOCUMENT]},{provide:Le,useClass:Le,deps:[Ie,Ce,g.APP_ID]},{provide:g.RendererFactory2,useExisting:Le},{provide:se,useExisting:Ce},{provide:Ce,useClass:Ce,deps:[w.DOCUMENT]},{provide:g.Testability,useClass:g.Testability,deps:[g.NgZone]},{provide:Ie,useClass:Ie,deps:[he,g.NgZone]},{provide:w.XhrFactory,useClass:We,deps:[]}];let ts=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.APP_ID,useValue:t.appId},{provide:ae,useExisting:g.APP_ID},H]}}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(n,12))},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({providers:hr,imports:[w.CommonModule,g.ApplicationModule]}),n})();"undefined"!=typeof window&&window;var Xe=F(8996),Rt=F(8306);const{isArray:Ar}=Array,{getPrototypeOf:Zt,prototype:Mn,keys:Pt}=Object;function pn(n){if(1===n.length){const e=n[0];if(Ar(e))return{args:e,keys:null};if(function tr(n){return n&&"object"==typeof n&&Zt(n)===Mn}(e)){const t=Pt(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Hi=F(8421),is=F(3269),zn=F(5403),Tt=F(4004);const{isArray:Kn}=Array;function Nr(n){return(0,Tt.U)(e=>function Co(n,e){return Kn(e)?n(...e):n(e)}(n,e))}function Ue(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let gn=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275directiveInject(g.ElementRef))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n}),n})(),An=(()=>{class n extends gn{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=g.\u0275\u0275defineDirective({type:n,features:[g.\u0275\u0275InheritDefinitionFeature]}),n})();const nr=new g.InjectionToken("NgValueAccessor"),un={provide:nr,useExisting:(0,g.forwardRef)(()=>St),multi:!0},ss=new g.InjectionToken("CompositionEventMode");let St=(()=>{class n extends gn{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pn(){const n=(0,w.\u0275getDOM)()?(0,w.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(ss,8))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[g.\u0275\u0275ProvidersFeature([un]),g.\u0275\u0275InheritDefinitionFeature]}),n})();function Qr(n){return null==n||0===n.length}const xn=new g.InjectionToken("NgValidators"),pr=new g.InjectionToken("NgAsyncValidators");function sn(n){return Qr(n.value)?{required:!0}:null}function bi(n){return null}function Js(n){return null!=n}function Sr(n){const e=(0,g.\u0275isPromise)(n)?(0,Xe.D)(n):n;return(0,g.\u0275isObservable)(e),e}function Ua(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ko(n,e){return e.map(t=>t(n))}function kn(n){return n.map(e=>function Zo(n){return!n.validate}(e)?e:t=>e.validate(t))}function Du(n){return null!=n?function ja(n){if(!n)return null;const e=n.filter(Js);return 0==e.length?null:function(t){return Ua(Ko(t,e))}}(kn(n)):null}function Cu(n){return null!=n?function qi(n){if(!n)return null;const e=n.filter(Js);return 0==e.length?null:function(t){return function kt(...n){const e=(0,is.jO)(n),{args:t,keys:r}=pn(n),o=new Rt.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let I=h,S=h;for(let L=0;L<h;L++){let U=!1;(0,Hi.Xf)(t[L]).subscribe((0,zn.x)(l,Q=>{U||(U=!0,S--),m[L]=Q},()=>I--,void 0,()=>{(!I||!U)&&(S||l.next(r?Ue(r,m):m),l.complete())}))}});return e?o.pipe(Nr(e)):o}(Ko(t,e).map(Sr)).pipe((0,Tt.U)(Ua))}}(kn(n)):null}function Qo(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ba(n){return n?Array.isArray(n)?n:[n]:[]}function Xs(n,e){return Array.isArray(n)?n.includes(e):n===e}function bu(n,e){const t=Ba(e);return Ba(n).forEach(o=>{Xs(t,o)||t.push(o)}),t}function Tu(n,e){return Ba(e).filter(t=>!Xs(n,t))}class $a{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Du(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pr extends $a{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr extends $a{get formDirective(){return null}get path(){return null}}class eo{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let So=(()=>{class n extends eo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(Pr,2))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[g.\u0275\u0275InheritDefinitionFeature]}),n})(),Ti=(()=>{class n extends eo{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(kr,10))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.\u0275\u0275classProp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[g.\u0275\u0275InheritDefinitionFeature]}),n})();function Es(n,e){mn(n,e),e.valueAccessor.writeValue(n.value),function N(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P(n,e)})}(n,e),function z(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function b(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Xo(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Is(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mn(n,e){const t=function Ao(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Qo(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function as(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Qo(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Is(e._rawValidators,o),Is(e._rawAsyncValidators,o)}function P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wi(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Si="VALID",ws="INVALID",zi="PENDING",us="DISABLED";function ea(n){return(Ro(n)?n.validators:n)||null}function qa(n){return Array.isArray(n)?Du(n):n||null}function Pe(n,e){return(Ro(e)?e.asyncValidators:n)||null}function Ht(n){return Array.isArray(n)?Cu(n):n||null}function Ro(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ta=n=>n instanceof ra;function Mi(n){return(n=>n instanceof Sl)(n)?n.value:n.getRawValue()}function Mu(n,e){const t=ta(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new g.\u0275RuntimeError(1e3,"");if(!r[e])throw new g.\u0275RuntimeError(1001,"")}function xu(n,e){ta(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new g.\u0275RuntimeError(1002,"")})}class Ru{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=qa(this._rawValidators),this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Si}get invalid(){return this.status===ws}get pending(){return this.status==zi}get disabled(){return this.status===us}get enabled(){return this.status!==us}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=qa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ht(e)}addValidators(e){this.setValidators(bu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tu(e,this._rawAsyncValidators))}hasValidator(e){return Xs(this._rawValidators,e)}hasAsyncValidator(e){return Xs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=us,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Si,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Si||this.status===zi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?us:Si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zi,this._hasOwnPendingAsyncValidator=!0;const t=Sr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Su(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=ta(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof no)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.EventEmitter,this.statusChanges=new g.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?us:this.errors?ws:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zi)?zi:this._anyControlsHaveStatus(ws)?ws:Si}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ro(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Sl extends Ru{constructor(e=null,t,r){super(ea(t),Pe(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ro(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ra extends Ru{constructor(e,t,r){super(ea(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xu(this,e),Object.keys(e).forEach(r=>{Mu(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Mi(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class no extends Ru{constructor(e,t,r){super(ea(t),Pe(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xu(this,e),e.forEach((r,o)=>{Mu(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Mi(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Xr={provide:kr,useExisting:(0,g.forwardRef)(()=>ro)},Lr=(()=>Promise.resolve(null))();let ro=(()=>{class n extends kr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.EventEmitter,this.form=new ra({},Du(t),Cu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lr.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Es(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lr.then(()=>{const r=this._findContainer(t.path),o=new ra({});(function ve(n,e){mn(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lr.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lr.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function vn(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(xn,10),g.\u0275\u0275directiveInject(pr,10))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&g.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.\u0275\u0275ProvidersFeature([Xr]),g.\u0275\u0275InheritDefinitionFeature]}),n})();const Wa={provide:Pr,useExisting:(0,g.forwardRef)(()=>sa)},za=(()=>Promise.resolve(null))();let sa=(()=>{class n extends Pr{constructor(t,r,o,l,h){super(),this._changeDetectorRef=h,this.control=new Sl,this._registered=!1,this.update=new g.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function dn(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===St?t=l:function Rn(n){return Object.getPrototypeOf(n.constructor)===An}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Lt(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Es(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){za.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;za.then(()=>{var l;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function $s(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(kr,9),g.\u0275\u0275directiveInject(xn,10),g.\u0275\u0275directiveInject(pr,10),g.\u0275\u0275directiveInject(nr,10),g.\u0275\u0275directiveInject(g.ChangeDetectorRef,8))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g.\u0275\u0275ProvidersFeature([Wa]),g.\u0275\u0275InheritDefinitionFeature,g.\u0275\u0275NgOnChangesFeature]}),n})(),Ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({}),n})();let ti=(()=>{class n{constructor(){this._validator=bi}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bi,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,features:[g.\u0275\u0275NgOnChangesFeature]}),n})();const wn={provide:xn,useExisting:(0,g.forwardRef)(()=>xi),multi:!0};let xi=(()=>{class n extends ti{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function ei(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>sn}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&g.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[g.\u0275\u0275ProvidersFeature([wn]),g.\u0275\u0275InheritDefinitionFeature]}),n})();const od={provide:xn,useExisting:(0,g.forwardRef)(()=>ha),multi:!0};let ha=(()=>{class n extends ti{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function dg(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Jr(n){return e=>Qr(e.value)||!function os(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&g.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[g.\u0275\u0275ProvidersFeature([od]),g.\u0275\u0275InheritDefinitionFeature]}),n})();const fa={provide:xn,useExisting:(0,g.forwardRef)(()=>cs),multi:!0};let cs=(()=>{class n extends ti{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>function zo(n){if(!n)return bi;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Qr(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&g.\u0275\u0275attribute("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[g.\u0275\u0275ProvidersFeature([fa]),g.\u0275\u0275InheritDefinitionFeature]}),n})(),Vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({imports:[[Ou]]}),n})(),ko=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({imports:[Vl]}),n})();function Mt(...n){const e=(0,is.yG)(n);return(0,Xe.D)(n,e)}var Vu=F(4986),Cs=F(3532);var ao=F(515),Zn=F(7579),ni=F(4482),ma=F(2733);function ir(n,e){return(0,ni.e)((t,r)=>{let o=0;t.subscribe((0,zn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}class Gs{}let $u=(()=>{class n extends Gs{tick(t){return Mt(0).pipe(function ju(n,e=1/0,t){return e=(e||0)<1?1/0:e,(0,ni.e)((r,o)=>(0,ma.p)(r,o,n,e,void 0,!0,t))}(()=>{const r=Date.now(),o=Math.round(Math.abs(r-t)/1e3),l=o<60?1e3:o<3600?6e4:o<86400?36e5:0;return l?function Uu(n=0,e,t=Vu.P){let r=-1;return null!=e&&((0,Cs.K)(e)?t=e:r=e),new Rt.y(o=>{let l=function sf(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}(l):(0,ao.c)()}),function ya(n){return ir((e,t)=>n<=t)}(1))}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ul=(()=>{class n{constructor(){this.changes=new Zn.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Tn{}let uf=(()=>{class n extends Tn{format(t){const{suffix:r,value:o,unit:l}=function(n){const e=Date.now(),t=Math.round(Math.abs(e-n)/1e3),r=n<e?"ago":"from now",[o,l]=t<60?[Math.round(t),"second"]:t<3600?[Math.round(t/60),"minute"]:t<86400?[Math.round(t/3600),"hour"]:t<604800?[Math.round(t/86400),"day"]:t<2592e3?[Math.round(t/604800),"week"]:t<31536e3?[Math.round(t/2592e3),"month"]:[Math.round(t/31536e3),"year"];return{value:o,unit:l,suffix:r}}(t);return this.parse(o,l,r)}parse(t,r,o){return 1!==t&&(r+="s"),t+" "+r+" "+o}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),Ea=(()=>{class n{constructor(t,r,o,l){this.clock=l,this.live=!0,this.stateChanges=new Zn.x,t&&(this.intlSubscription=t.changes.subscribe(()=>this.stateChanges.next())),this.stateChanges.subscribe(()=>{this.value=o.format(this.date),r.markForCheck()})}transform(t,...r){const o=function Bu(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(null===t||t.length<=2)return e;{const[r,o,...l]=t.map(h=>parseInt(h,10));return new Date(Date.UTC(r,o-1,...l))}}(t).valueOf();let l;if(l=function Zi(n){return null!=n}(r[0])?function va(n){return null!=n&&"false"!=`${n}`}(r[0]):this.live,this.date===o&&this.live===l)return this.value;if(this.date=o,this.live=l,!this.date)throw new SyntaxError(`Wrong parameter in TimeagoPipe. Expected a valid date, received: ${t}`);return this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.clockSubscription=this.clock.tick(this.date).pipe(ir(()=>this.live,this)).subscribe(()=>this.stateChanges.next()),this.stateChanges.next(),this.value}ngOnDestroy(){this.intlSubscription&&(this.intlSubscription.unsubscribe(),this.intlSubscription=void 0),this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(Ul,24),g.\u0275\u0275directiveInject(g.ChangeDetectorRef,16),g.\u0275\u0275directiveInject(Tn,16),g.\u0275\u0275directiveInject(Gs,16))},n.\u0275pipe=g.\u0275\u0275definePipe({name:"timeago",type:n,pure:!1}),n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),fg=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.clock||{provide:Gs,useClass:$u},t.intl||[],t.formatter||{provide:Tn,useClass:uf}]}}static forChild(t={}){return{ngModule:n,providers:[t.clock||{provide:Gs,useClass:$u},t.intl||[],t.formatter||{provide:Tn,useClass:uf}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({}),n})();var eu=F(3241),ri=F(6451),ii=F(5363);function jr(n,e){return(0,ni.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,zn.x)(r,I=>{null==o||o.unsubscribe();let S=0;const L=l++;(0,Hi.Xf)(n(I,L)).subscribe(o=(0,zn.x)(r,U=>r.next(e?e(I,U,L,S++):U),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var uo=F(6063);class hs extends Zn.x{constructor(e=1/0,t=1/0,r=uo.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let I=1;I<r.length&&r[I]<=h;I+=2)m=I;m&&r.splice(0,m+1)}}}var Ts=F(3099);function Ia(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Ts.B)({connector:()=>new hs(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const tu=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hu=F(5698);function Gu(n){return(0,ni.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function fi(n=cd){return(0,ni.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function cd(){return new tu}var As=F(4671);function lo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((o,l)=>n(o,l,r)):As.y,(0,Hu.q)(1),t?Gu(e):fi(()=>new tu))}var qs=F(576);function nu(n,e){return(0,qs.m)(e)?jr(()=>n,e):jr(()=>n)}var $l=F(9468),Yn=F(5813),sr=F(2011);F(5867);var re=F(5861),Dt=F(9681),$n=F(4859),mt=F(2090),Ri=F(1877);const ru=new Map,Ss={activated:!1,tokenObservers:[]},fs={initialized:!1,enabled:!1};function In(n){return ru.get(n)||Ss}function vr(n,e){ru.set(n,e)}function Wu(){return fs}class wa{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,re.Z)(function*(){t.stop();try{t.pending=new mt.BH,yield function Gl(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ni=new mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ku(n){if(!In(n).activated)throw Ni.create("use-before-activation",{appName:n.name})}function cf(n,e){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,re.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const l={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,l)}catch(U){throw Ni.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==h.status)throw Ni.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(U){throw Ni.create("fetch-parse-error",{originalErrorMessage:U.message})}const I=m.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ni.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const S=1e3*Number(I[1]),L=Date.now();return{token:m.attestationToken,expireTimeMillis:L+S,issuedAtTimeMillis:L}})).apply(this,arguments)}function Oy(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Da="firebase-app-check-store";let Wl=null;function ff(){return Wl||(Wl=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Ni.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Da,{keyPath:"compositeKey"})}}catch(t){e(Ni.create("storage-open",{originalErrorMessage:t.message}))}}),Wl)}function zl(){return(zl=(0,re.Z)(function*(n,e){const r=(yield ff()).transaction(Da,"readwrite"),l=r.objectStore(Da).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=I=>{h()},r.onerror=I=>{var S;m(Ni.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const ou=new Ri.Yd("@firebase/app-check");function _g(n,e){return(0,mt.hl)()?function iu(n,e){return function yg(n,e){return zl.apply(this,arguments)}(function su(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ou.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gf(){return Wu().enabled}function Ig(){return mf.apply(this,arguments)}function mf(){return(mf=(0,re.Z)(function*(){const n=Wu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const au={error:"UNKNOWN_ERROR"};function K0(n){return mt.US.encodeString(JSON.stringify(n),!1)}function Ed(n){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,re.Z)(function*(n,e=!1){const t=n.app;Ku(t);const r=In(t);let l,o=r.token;if(!o){const I=yield r.cachedTokenPromise;I&&Ql(I)&&(o=I)}if(!e&&o&&Ql(o))return{token:o.token};let m,h=!1;if(gf()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cf(Oy(t,yield Ig()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),h=!0);const I=yield r.exchangeTokenPromise;return yield _g(t,I),vr(t,Object.assign(Object.assign({},r),{token:I})),{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(I=>(r.exchangeTokenPromise=void 0,I)),h=!0),o=yield r.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?ou.warn(I.message):ou.error(I),l=I}return o?(m={token:o.token},vr(t,Object.assign(Object.assign({},r),{token:o})),yield _g(t,o)):m=Z0(l),h&&Zl(t,m),m})).apply(this,arguments)}function Yi(n,e){const t=In(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vr(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Yu(n){const{app:e}=n,t=In(e);let r=t.tokenRefresher;r||(r=function wg(n){const{app:e}=n;return new wa((0,re.Z)(function*(){let r;if(r=In(e).token?yield Ed(n,!0):yield Ed(n),r.error)throw r.error}),()=>!0,()=>{const t=In(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),vr(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Zl(n,e){const t=In(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Ql(n){return n.expireTimeMillis-Date.now()>0}function Z0(n){return{token:K0(au),error:n}}class Dg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=In(this.app);for(const t of e)Yi(this.app,t.next);return Promise.resolve()}}const By="app-check-internal";!function Jl(){(0,Dt._registerComponent)(new $n.wA("app-check",n=>function Q0(n,e){return new Dg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(By).initialize()})),(0,Dt._registerComponent)(new $n.wA(By,n=>function yf(n){return{getToken:e=>Ed(n,e),addTokenListener:e=>function Id(n,e,t,r){const{app:o}=n,l=In(o),h={next:t,error:r,type:e};if(vr(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Ql(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),Yu(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Yu(n))}(n,"INTERNAL",e),removeTokenListener:e=>Yi(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Dt.registerVersion)("@firebase/app-check","0.5.5")}();class Ju{constructor(){return(0,Yn.vb)("app-check")}}"undefined"!=typeof window&&window;var Sg=F(127);const Mg=new g.InjectionToken("angularfire2.auth.use-emulator"),Af=new g.InjectionToken("angularfire2.auth.settings"),Hr=new g.InjectionToken("angularfire2.auth.tenant-id"),ec=new g.InjectionToken("angularfire2.auth.langugage-code"),tc=new g.InjectionToken("angularfire2.auth.use-device-language"),xg=new g.InjectionToken("angularfire.auth.persistence"),co=(n,e,t,r,o,l,h,m)=>(0,sr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=o,l&&I.useDeviceLanguage(),h)for(const[S,L]of Object.entries(h))I.settings[S]=L;return m&&I.setPersistence(m),I},[t,r,o,l,h,m]);let Ca=(()=>{class n{constructor(t,r,o,l,h,m,I,S,L,U,Q,ge){const Re=new Zn.x,Je=Mt(void 0).pipe((0,ii.Q)(h.outsideAngular),jr(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4087)))),(0,Tt.U)(()=>(0,sr.on)(t,l,r)),(0,Tt.U)(bt=>co(bt,l,m,S,L,U,I,Q)),Ia({bufferSize:1,refCount:!1}));if((0,w.isPlatformServer)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Mt(null);else{Je.pipe(lo()).subscribe();const bn=Je.pipe(jr(Gt=>Gt.getRedirectResult().then(fn=>fn,()=>null)),Yn.iC,Ia({bufferSize:1,refCount:!1})),Ot=Je.pipe(jr(Gt=>new Rt.y(fn=>({unsubscribe:l.runOutsideAngular(()=>Gt.onAuthStateChanged(rn=>fn.next(rn),rn=>fn.error(rn),()=>fn.complete()))})))),dr=Je.pipe(jr(Gt=>new Rt.y(fn=>({unsubscribe:l.runOutsideAngular(()=>Gt.onIdTokenChanged(rn=>fn.next(rn),rn=>fn.error(rn),()=>fn.complete()))}))));this.authState=bn.pipe(nu(Ot),(0,$l.R)(h.outsideAngular),(0,ii.Q)(h.insideAngular)),this.user=bn.pipe(nu(dr),(0,$l.R)(h.outsideAngular),(0,ii.Q)(h.insideAngular)),this.idToken=this.user.pipe(jr(Gt=>Gt?(0,Xe.D)(Gt.getIdToken()):Mt(null))),this.idTokenResult=this.user.pipe(jr(Gt=>Gt?(0,Xe.D)(Gt.getIdTokenResult()):Mt(null))),this.credential=(0,ri.T)(bn,Re,this.authState.pipe(ir(Gt=>!Gt))).pipe((0,Tt.U)(Gt=>(null==Gt?void 0:Gt.user)?Gt:null),(0,$l.R)(h.outsideAngular),(0,ii.Q)(h.insideAngular))}return(0,sr.pX)(this,Je,l,{spy:{apply:(bt,bn,Ot)=>{(bt.startsWith("signIn")||bt.startsWith("createUser"))&&Ot.then(dr=>Re.next(dr))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(sr.Dh),g.\u0275\u0275inject(sr.xv,8),g.\u0275\u0275inject(g.PLATFORM_ID),g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(Yn.HU),g.\u0275\u0275inject(Mg,8),g.\u0275\u0275inject(Af,8),g.\u0275\u0275inject(Hr,8),g.\u0275\u0275inject(ec,8),g.\u0275\u0275inject(tc,8),g.\u0275\u0275inject(xg,8),g.\u0275\u0275inject(Ju,8))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sf=(()=>{class n{constructor(){Sg.Z.registerVersion("angularfire",Yn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({providers:[Ca]}),n})();class xs extends Zn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var qy=F(9672);function Rg(n,e,t){n?(0,qy.f)(t,n,e):e()}function nc(n,e){const t=(0,qs.m)(n)?n:()=>n,r=o=>o.error(t());return new Rt.y(e?o=>e.schedule(r,0,o):r)}var rc=F(8189);function d(...n){return function y(){return(0,rc.J)(1)}()((0,Xe.D)(n,(0,is.yG)(n)))}function p(n){return new Rt.y(e=>{(0,Hi.Xf)(n()).subscribe(e)})}var _=F(727);function x(){return(0,ni.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class k extends Rt.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ni.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_.w0.EMPTY)}return e}refCount(){return x()(this)}}function Z(...n){const e=(0,is.yG)(n);return(0,ni.e)((t,r)=>{(e?d(n,t,e):d(n,t)).subscribe(r)})}function ye(n,e,t,r,o){return(l,h)=>{let m=t,I=e,S=0;l.subscribe((0,zn.x)(h,L=>{const U=S++;I=m?n(I,L,U):(m=!0,L),r&&h.next(I)},o&&(()=>{m&&h.next(I),h.complete()})))}}function Ge(n,e){return(0,ni.e)(ye(n,e,arguments.length>=2,!0))}function tt(n){return(0,ni.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,zn.x)(t,void 0,void 0,h=>{l=(0,Hi.Xf)(n(h,tt(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var ot=F(6099);function pt(n,e){return(0,qs.m)(e)?(0,ot.z)(n,e,1):(0,ot.z)(n,1)}function Nn(n){return n<=0?()=>ao.E:(0,ni.e)((e,t)=>{let r=[];e.subscribe((0,zn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}var oi=F(8505);class gs{constructor(e,t){this.id=e,this.url=t}}class ic extends gs{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sc extends gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vo extends gs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends gs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xf extends gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rf extends gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pd extends gs{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zy extends gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nf extends gs{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ng{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TD{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AD{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nE{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ky{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qt="primary";class SD{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kd(n){return new SD(n)}const Qy="ngNavigationCancelingError";function Og(n){const e=Error("NavigationCancelingError: "+n);return e[Qy]=!0,e}function rE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ba(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Of(n[o],e[o]))return!1;return!0}function Of(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function sE(n){return Array.prototype.concat.apply([],n)}function Yy(n){return n.length>0?n[n.length-1]:null}function pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ho(n){return(0,g.\u0275isObservable)(n)?n:(0,g.\u0275isPromise)(n)?(0,Xe.D)(Promise.resolve(n)):Mt(n)}const Pg={exact:function ev(n,e,t){if(!el(n.segments,e.segments)||!kf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ev(n.children[r],e.children[r],t))return!1;return!0},subset:Fd},Pf={exact:function Xy(n,e){return ba(n,e)},subset:function tv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Of(n[t],e[t]))},ignored:()=>!0};function Jy(n,e,t){return Pg[t.paths](n.root,e.root,t.matrixParams)&&Pf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fd(n,e,t){return aE(n,e,e.segments,t)}function aE(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!el(o,t)||e.hasChildren()||!kf(o,t,r))}if(n.segments.length===t.length){if(!el(n.segments,t)||!kf(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Fd(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(el(n.segments,o)&&kf(n.segments,o,r)&&n.children[Qt])&&aE(n.children[Qt],e,l,r)}}function kf(n,e,t){return e.every((r,o)=>Pf[t](n[o].parameters,r.parameters))}class ac{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kd(this.queryParams)),this._queryParamMap}toString(){return lE.serialize(this)}}class on{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kg(this)}}class Ld{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kd(this.parameters)),this._parameterMap}toString(){return hE(this)}}function el(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class rv{}class uE{parse(e){const t=new Ug(e);return new ac(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ff(e.root,!0)}`,r=function xD(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Fg(t)}=${Fg(o)}`).join("&"):`${Fg(t)}=${Fg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function cE(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lE=new uE;function kg(n){return n.segments.map(e=>hE(e)).join("/")}function Ff(n,e){if(!n.hasChildren())return kg(n);if(e){const t=n.children[Qt]?Ff(n.children[Qt],!1):"",r=[];return pi(n.children,(o,l)=>{l!==Qt&&r.push(`${l}:${Ff(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function kT(n,e){let t=[];return pi(n.children,(r,o)=>{o===Qt&&(t=t.concat(e(r,o)))}),pi(n.children,(r,o)=>{o!==Qt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Qt?[Ff(n.children[Qt],!1)]:[`${o}:${Ff(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${kg(n)}/${t[0]}`:`${kg(n)}/(${t.join("//")})`}}function fo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fg(n){return fo(n).replace(/%3B/gi,";")}function iv(n){return fo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lg(n){return decodeURIComponent(n)}function dE(n){return Lg(n.replace(/\+/g,"%20"))}function hE(n){return`${iv(n.path)}${function fE(n){return Object.keys(n).map(e=>`;${iv(e)}=${iv(n[e])}`).join("")}(n.parameters)}`}const RD=/^[^\/()?;=#]+/;function Vg(n){const e=n.match(RD);return e?e[0]:""}const Ft=/^[^=?&#]+/,gE=/^[^&#]+/;class Ug{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qt]=new on(e,t)),r}parseSegment(){const e=Vg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ld(Lg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Vg(this.remaining);o&&(r=o,this.capture(r))}e[Lg(t)]=Lg(r)}parseQueryParam(e){const t=function pE(n){const e=n.match(Ft);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function mE(n){const e=n.match(gE);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=dE(t),l=dE(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Qt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Qt]:new on([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class po{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return sv(e,this._root).map(t=>t.value)}}function jg(n,e){if(n===e.value)return e;for(const t of e.children){const r=jg(n,t);if(r)return r}return null}function sv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sv(n,t);if(r.length)return r.unshift(e),r}return[]}class Uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ns(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bg extends po{constructor(e,t){super(e),this.snapshot=t,Uf(this,e)}toString(){return this.snapshot.toString()}}function ov(n,e){const t=function av(n,e){const h=new uc([],{},{},"",{},Qt,e,null,n.root,-1,{});return new Vf("",new Uo(h,[]))}(n,e),r=new xs([new Ld("",{})]),o=new xs({}),l=new xs({}),h=new xs({}),m=new xs(""),I=new Lf(r,o,h,m,l,Qt,e,t.root);return I.snapshot=t.root,new Bg(new Uo(I,[]),t)}class Lf{constructor(e,t,r,o,l,h,m,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>kd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>kd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function FT(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uc{constructor(e,t,r,o,l,h,m,I,S,L,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=L,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vf extends po{constructor(e,t){super(t),this.url=e,Uf(this,t)}toString(){return $g(this._root)}}function Uf(n,e){e.value._routerState=n,e.children.forEach(t=>Uf(n,t))}function $g(n){const e=n.children.length>0?` { ${n.children.map($g).join(", ")} } `:"";return`${n.value}${e}`}function jf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ba(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ba(e.params,t.params)||n.params.next(t.params),function iE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ba(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ba(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yE(n,e){const t=ba(n.params,e.params)&&function nv(n,e){return el(n,e)&&n.every((t,r)=>ba(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yE(n.parent,e.parent))}function Bf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function OD(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Bf(n,r,o);return Bf(n,r)})}(n,e,t);return new Uo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>Bf(n,m)),h}}const r=function PD(n){return new Lf(new xs(n.url),new xs(n.params),new xs(n.queryParams),new xs(n.fragment),new xs(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Bf(n,l));return new Uo(r,o)}}function lv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $f(n){return"object"==typeof n&&null!=n&&n.outlets}function _E(n,e,t,r,o){let l={};if(r&&pi(r,(m,I)=>{l[I]=Array.isArray(m)?m.map(S=>`${S}`):`${m}`}),n===e)return new ac(t,l,o);const h=cv(n,e,t);return new ac(h,l,o)}function cv(n,e,t){const r={};return pi(n.children,(o,l)=>{r[l]=o===e?t:cv(o,e,t)}),new on(n.segments,r)}class dv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lv(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find($f);if(o&&o!==Yy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function FD(n,e,t){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return hv(n,e,t);const r=function jT(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if($f(m))break;const I=`${m}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!VD(I,S,h))return l;r+=2}else{if(!VD(I,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new on(n.segments.slice(0,r.pathIndex),{});return l.children[Qt]=new on(n.segments.slice(r.pathIndex),n.children),hv(l,0,o)}return r.match&&0===o.length?new on(n.segments,{}):r.match&&!n.hasChildren()?EE(n,e,t):r.match?hv(n,0,o):EE(n,e,t)}function hv(n,e,t){if(0===t.length)return new on(n.segments,{});{const r=function UT(n){return $f(n[0])?n[0].outlets:{[Qt]:n}}(t),o={};return pi(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=FD(n.children[h],e,l))}),pi(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new on(n.segments,o)}}function EE(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if($f(l)){const I=BT(l.outlets);return new on(r,I)}if(0===o&&lv(t[0])){r.push(new Ld(n.segments[e].path,LD(t[0]))),o++;continue}const h=$f(l)?l.outlets[Qt]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&lv(m)?(r.push(new Ld(h,LD(m))),o+=2):(r.push(new Ld(h,{})),o++)}return new on(r,{})}function BT(n){const e={};return pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=EE(new on([],{}),0,t))}),e}function LD(n){const e={};return pi(n,(t,r)=>e[r]=`${t}`),e}function VD(n,e,t){return n==t.path&&ba(e,t.parameters)}class fv{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ns(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),pi(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Ns(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Ns(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ns(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Ky(l.value.snapshot))}),e.children.length&&this.forwardEvent(new AD(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(jf(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),jf(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=function UD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),I=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=I,h.outlet&&h.outlet.activateWith(o,I),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Hg{constructor(e,t){this.routes=e,this.module=t}}function Ta(n){return"function"==typeof n}function lu(n){return n instanceof ac}const lc=Symbol("INITIAL_VALUE");function Gf(){return jr(n=>function Mf(...n){const e=(0,is.yG)(n),t=(0,is.jO)(n),{args:r,keys:o}=pn(n);if(0===r.length)return(0,Xe.D)([],e);const l=new Rt.y(function Wy(n,e,t=As.y){return r=>{Rg(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let I=0;I<o;I++)Rg(e,()=>{const S=(0,Xe.D)(n[I],e);let L=!1;S.subscribe((0,zn.x)(r,U=>{l[I]=U,L||(L=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ue(o,h):As.y));return t?l.pipe(Nr(t)):l}(n.map(e=>e.pipe((0,Hu.q)(1),Z(lc)))).pipe(Ge((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==lc?o:(l===lc&&(r=!0),r||!1!==l&&h!==t.length-1&&!lu(l)?o:l),e)},lc),ir(e=>e!==lc),(0,Tt.U)(e=>lu(e)?e:!0===e),(0,Hu.q)(1)))}class DE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qf,this.attachRef=null}}class qf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new DE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let pv=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.EventEmitter,this.deactivateEvents=new g.EventEmitter,this.attachEvents=new g.EventEmitter,this.detachEvents=new g.EventEmitter,this.name=l||Qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,I=new Wf(t,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(qf),g.\u0275\u0275directiveInject(g.ViewContainerRef),g.\u0275\u0275directiveInject(g.ComponentFactoryResolver),g.\u0275\u0275injectAttribute("name"),g.\u0275\u0275directiveInject(g.ChangeDetectorRef))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lf?this.route:e===qf?this.childContexts:this.parent.get(e,t)}}let cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&g.\u0275\u0275element(0,"router-outlet")},directives:[pv],encapsulation:2}),n})();function Gg(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Vd(r,zf(e,r))}}function Vd(n,e){n.children&&Gg(n.children,e)}function zf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function rl(n){const e=n.children&&n.children.map(rl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=cc),t}function go(n){return n.outlet||Qt}function gv(n,e){const t=n.filter(r=>go(r)===e);return t.push(...n.filter(r=>go(r)!==e)),t}const mv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ud(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},mv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||rE)(t,n,e);if(!l)return Object.assign({},mv);const h={};pi(l.posParams,(I,S)=>{h[S]=I.path});const m=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function jd(n,e,t,r,o="corrected"){if(t.length>0&&function $D(n,e,t){return t.some(r=>yv(n,e,r)&&go(r)!==Qt)}(n,t,r)){const h=new on(e,function qg(n,e,t,r){const o={};o[Qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&go(l)!==Qt){const h=new on([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[go(l)]=h}return o}(n,e,r,new on(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function bE(n,e,t){return t.some(r=>yv(n,e,r))}(n,t,r)){const h=new on(n.segments,function CE(n,e,t,r,o,l){const h={};for(const m of r)if(yv(n,t,m)&&!o[go(m)]){const I=new on([],{});I._sourceSegment=n,I._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[go(m)]=I}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new on(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function yv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vv(n,e,t,r){return!!(go(n)===r||r!==Qt&&yv(e,t,n))&&("**"===n.path||Ud(e,n,t).matched)}function _v(n,e,t){return 0===e.length&&!n.children[t]}class Wg{constructor(e){this.segmentGroup=e||null}}class Ev{constructor(e){this.urlTree=e}}function Kf(n){return nc(new Wg(n))}function TE(n){return nc(new Ev(n))}class $T{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(g.NgModuleRef)}apply(){const e=jd(this.urlTree.root,[],[],this.config).segmentGroup,t=new on(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Qt).pipe((0,Tt.U)(l=>this.createUrlTree(zg(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tt(l=>{if(l instanceof Ev)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Wg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Qt).pipe((0,Tt.U)(o=>this.createUrlTree(zg(o),e.queryParams,e.fragment))).pipe(tt(o=>{throw o instanceof Wg?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new on([],{[Qt]:e}):e;return new ac(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(l=>new on([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Xe.D)(o).pipe(pt(l=>{const h=r.children[l],m=gv(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,Tt.U)(I=>({segment:I,outlet:l})))}),Ge((l,h)=>(l[h.outlet]=h.segment,l),{}),function Rs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((o,l)=>n(o,l,r)):As.y,Nn(1),t?Gu(e):fi(()=>new tu))}())}expandSegment(e,t,r,o,l,h){return(0,Xe.D)(r).pipe(pt(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(tt(S=>{if(S instanceof Wg)return Mt(null);throw S}))),lo(m=>!!m),tt((m,I)=>{if(m instanceof tu||"EmptyError"===m.name)return _v(t,o,l)?Mt(new on([],{})):Kf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return vv(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):Kf(t):Kf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?TE(l):this.lineralizeSegments(r,l).pipe((0,ot.z)(h=>{const m=new on(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:I,remainingSegments:S,positionalParamSegments:L}=Ud(t,o,l);if(!m)return Kf(t);const U=this.applyRedirectCommands(I,o.redirectTo,L);return o.redirectTo.startsWith("/")?TE(U):this.lineralizeSegments(o,U).pipe((0,ot.z)(Q=>this.expandSegment(e,t,r,Q.concat(S),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Tt.U)(U=>(r._loadedConfig=U,new on(o,{})))):Mt(new on(o,{}));const{matched:h,consumedSegments:m,remainingSegments:I}=Ud(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,ot.z)(L=>{const U=L.module,Q=L.routes,{segmentGroup:ge,slicedSegments:Re}=jd(t,m,I,Q),Je=new on(ge.segments,ge.children);if(0===Re.length&&Je.hasChildren())return this.expandChildren(U,Q,Je).pipe((0,Tt.U)(dr=>new on(m,dr)));if(0===Q.length&&0===Re.length)return Mt(new on(m,{}));const bt=go(r)===l;return this.expandSegment(U,Je,Q,Re,bt?Qt:l,!0).pipe((0,Tt.U)(Ot=>new on(m.concat(Ot.segments),Ot.children)))})):Kf(t)}getChildConfig(e,t,r){return t.children?Mt(new Hg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ot.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Tt.U)(l=>(t._loadedConfig=l,l))):function HD(n){return nc(Og(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Mt(new Hg([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Mt(o.map(h=>{const m=e.get(h);let I;if(function jD(n){return n&&Ta(n.canLoad)}(m))I=m.canLoad(t,r);else{if(!Ta(m))throw new Error("Invalid CanLoad guard");I=m(t,r)}return ho(I)})).pipe(Gf(),(0,oi.b)(h=>{if(!lu(h))return;const m=Og(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Tt.U)(h=>!0===h)):Mt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Mt(r);if(o.numberOfChildren>1||!o.children[Qt])return nc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ac(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pi(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return pi(t.children,(m,I)=>{h[I]=this.createSegmentGroup(e,m,r,o)}),new on(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function zg(n){const e={};for(const r of Object.keys(n.children)){const l=zg(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function HT(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new on(n.segments.concat(e.segments),e.children)}return n}(new on(n.segments,e))}class AE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bd{constructor(e,t){this.component=e,this.route=t}}function SE(n,e,t){const r=n._root;return $d(r,e?e._root:null,t,[r.value])}function Kg(n,e,t){const r=function WD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function $d(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ns(e);return n.children.forEach(h=>{(function zD(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const I=function ME(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!el(n.url,e.url);case"pathParamsOrQueryParamsChange":return!el(n.url,e.url)||!ba(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yE(n,e)||!ba(n.queryParams,e.queryParams);default:return!yE(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);I?o.canActivateChecks.push(new AE(r)):(l.data=h.data,l._resolvedData=h._resolvedData),$d(n,e,l.component?m?m.children:null:t,r,o),I&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Bd(m.outlet.component,h))}else h&&Zf(e,m,o),o.canActivateChecks.push(new AE(r)),$d(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),pi(l,(h,m)=>Zf(h,t.getContext(m),o)),o}function Zf(n,e,t){const r=Ns(n),o=n.value;pi(r,(l,h)=>{Zf(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Bd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class qT{}function wv(n){return new Rt.y(e=>e.error(n))}class XD{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=jd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Qt);if(null===t)return null;const r=new uc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Uo(r,t),l=new Vf(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=uv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],m=gv(e,l),I=this.processSegmentGroup(m,h,l);if(null===I)return null;r.push(...I)}const o=NE(r);return function eC(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return _v(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!vv(e,t,r,o))return null;let l,h=[],m=[];if("**"===e.path){const ge=r.length>0?Yy(r).parameters:{};l=new uc(r,ge,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qg(e),go(e),e.component,e,Zg(t),OE(t)+r.length,Yg(e))}else{const ge=Ud(t,e,r);if(!ge.matched)return null;h=ge.consumedSegments,m=ge.remainingSegments,l=new uc(h,ge.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qg(e),go(e),e.component,e,Zg(t),OE(t)+h.length,Yg(e))}const I=function Dv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:S,slicedSegments:L}=jd(t,h,m,I.filter(ge=>void 0===ge.redirectTo),this.relativeLinkResolution);if(0===L.length&&S.hasChildren()){const ge=this.processChildren(I,S);return null===ge?null:[new Uo(l,ge)]}if(0===I.length&&0===L.length)return[new Uo(l,[])];const U=go(e)===o,Q=this.processSegment(I,S,L,U?Qt:o);return null===Q?null:[new Uo(l,Q)]}}function tC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function NE(n){const e=[],t=new Set;for(const r of n){if(!tC(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=NE(r.children);e.push(new Uo(r.value,o))}return e.filter(r=>!t.has(r))}function Zg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function OE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Qg(n){return n.data||{}}function Yg(n){return n.resolve||{}}function iC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jg(n){return jr(e=>{const t=n(e);return t?(0,Xe.D)(t).pipe((0,Tt.U)(()=>e)):Mt(e)})}class LE extends class FE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xg=new g.InjectionToken("ROUTES");class Sa{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Tt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new Hg(sE(h.injector.get(Xg,void 0,g.InjectFlags.Self|g.InjectFlags.Optional)).map(rl),h)}),tt(l=>{throw t._loader$=void 0,l}));return t._loader$=new k(o,()=>new Zn.x).pipe(x()),t._loader$}loadModuleFactory(e){return ho(e()).pipe((0,ot.z)(t=>t instanceof g.NgModuleFactory?Mt(t):(0,Xe.D)(this.compiler.compileModuleAsync(t))))}}class VE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function UE(n){throw n}function WT(n,e,t){return e.parse("/")}function Qf(n,e){return Mt(null)}const jE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class n{constructor(t,r,o,l,h,m,I){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zn.x,this.errorHandler=UE,this.malformedUriErrorHandler=WT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qf,afterPreactivation:Qf},this.urlHandlingStrategy=new VE,this.routeReuseStrategy=new LE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(g.NgModuleRef),this.console=h.get(g.\u0275Console);const U=h.get(g.NgZone);this.isNgZoneEnabled=U instanceof g.NgZone&&g.NgZone.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function oE(){return new ac(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sa(h,m,Q=>this.triggerEvent(new Ng(Q)),Q=>this.triggerEvent(new tE(Q))),this.routerState=ov(this.currentUrlTree,this.rootComponentType),this.transitions=new xs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ir(o=>0!==o.id),(0,Tt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jr(o=>{let l=!1,h=!1;return Mt(o).pipe((0,oi.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jr(m=>{const I=this.browserUrlTree.toString(),S=!this.navigated||m.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return tm(m.source)&&(this.browserUrlTree=m.extractedUrl),Mt(m).pipe(jr(U=>{const Q=this.transitions.getValue();return r.next(new ic(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Q!==this.transitions.getValue()?ao.E:Promise.resolve(U)}),function GT(n,e,t,r){return jr(o=>function GD(n,e,t,r,o){return new $T(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Tt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,oi.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function PE(n,e,t,r,o){return(0,ot.z)(l=>function JD(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new XD(n,e,t,r,o,l).recognize();return null===h?wv(new qT):Mt(h)}catch(h){return wv(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Tt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,oi.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ge,U)}this.browserUrlTree=U.urlAfterRedirects}const Q=new xf(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ge,source:Re,restoredState:Je,extras:bt}=m,bn=new ic(Q,this.serializeUrl(ge),Re,Je);r.next(bn);const Ot=ov(ge,this.rootComponentType).snapshot;return Mt(Object.assign(Object.assign({},m),{targetSnapshot:Ot,urlAfterRedirects:ge,extras:Object.assign(Object.assign({},bt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),ao.E}),Jg(m=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=m;return this.hooks.beforePreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,oi.b)(m=>{const I=new Rf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(I)}),(0,Tt.U)(m=>Object.assign(Object.assign({},m),{guards:SE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function KD(n,e){return(0,ot.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?Mt(Object.assign(Object.assign({},t),{guardsResult:!0})):function xE(n,e,t,r){return(0,Xe.D)(n).pipe((0,ot.z)(o=>function YD(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Mt(l.map(m=>{const I=Kg(m,e,o);let S;if(function BD(n){return n&&Ta(n.canDeactivate)}(I))S=ho(I.canDeactivate(n,e,t,r));else{if(!Ta(I))throw new Error("Invalid CanDeactivate guard");S=ho(I(n,e,t,r))}return S.pipe(lo())})).pipe(Gf()):Mt(!0)}(o.component,o.route,t,e,r)),lo(o=>!0!==o,!0))}(h,r,o,n).pipe((0,ot.z)(m=>m&&function IE(n){return"boolean"==typeof n}(m)?function RE(n,e,t,r){return(0,Xe.D)(e).pipe(pt(o=>d(function Aa(n,e){return null!==n&&e&&e(new TD(n)),Mt(!0)}(o.route.parent,r),function ZD(n,e){return null!==n&&e&&e(new nE(n)),Mt(!0)}(o.route,r),function QD(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function qD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>p(()=>Mt(h.guards.map(I=>{const S=Kg(I,h.node,t);let L;if(function wE(n){return n&&Ta(n.canActivateChild)}(S))L=ho(S.canActivateChild(r,n));else{if(!Ta(S))throw new Error("Invalid CanActivateChild guard");L=ho(S(r,n))}return L.pipe(lo())})).pipe(Gf())));return Mt(l).pipe(Gf())}(n,o.path,t),function Iv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Mt(!0);const o=r.map(l=>p(()=>{const h=Kg(l,e,t);let m;if(function nl(n){return n&&Ta(n.canActivate)}(h))m=ho(h.canActivate(e,n));else{if(!Ta(h))throw new Error("Invalid CanActivate guard");m=ho(h(e,n))}return m.pipe(lo())}));return Mt(o).pipe(Gf())}(n,o.route,t))),lo(o=>!0!==o,!0))}(r,l,n,e):Mt(m)),(0,Tt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,oi.b)(m=>{if(lu(m.guardsResult)){const S=Og(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw S.url=m.guardsResult,S}const I=new Pd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(I)}),ir(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Jg(m=>{if(m.guards.canActivateChecks.length)return Mt(m).pipe((0,oi.b)(I=>{const S=new zy(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}),jr(I=>{let S=!1;return Mt(I).pipe(function nC(n,e){return(0,ot.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Mt(t);let l=0;return(0,Xe.D)(o).pipe(pt(h=>function rC(n,e,t,r){return function bv(n,e,t,r){const o=iC(n);if(0===o.length)return Mt({});const l={};return(0,Xe.D)(o).pipe((0,ot.z)(h=>function sC(n,e,t,r){const o=Kg(n,e,r);return ho(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,oi.b)(m=>{l[h]=m}))),Nn(1),(0,ot.z)(()=>iC(l).length===o.length?Mt(l):ao.E))}(n._resolve,n,e,r).pipe((0,Tt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),uv(n,t).resolve),null)))}(h.route,r,n,e)),(0,oi.b)(()=>l++),Nn(1),(0,ot.z)(h=>l===o.length?Mt(t):ao.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,oi.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,oi.b)(I=>{const S=new Nf(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(S)}))}),Jg(m=>{const{targetSnapshot:I,id:S,extractedUrl:L,rawUrl:U,extras:{skipLocationChange:Q,replaceUrl:ge}}=m;return this.hooks.afterPreactivation(I,{navigationId:S,appliedUrlTree:L,rawUrlTree:U,skipLocationChange:!!Q,replaceUrl:!!ge})}),(0,Tt.U)(m=>{const I=function ND(n,e,t){const r=Bf(n,e._root,t?t._root:void 0);return new Bg(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:I})}),(0,oi.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new fv(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,oi.b)({next(){l=!0},complete(){l=!0}}),function Nd(n){return(0,ni.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),tt(m=>{if(h=!0,function oc(n){return n&&n[Qy]}(m)){const I=lu(m.url);I||(this.navigated=!0,this.restoreHistory(o,!0));const S=new Vo(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(S),I?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tm(o.source)};this.scheduleNavigation(L,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const I=new Od(o.id,this.serializeUrl(o.extractedUrl),m);r.next(I);try{o.resolve(this.errorHandler(m))}catch(S){o.reject(S)}}return ao.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const I=Object.assign({},h);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(l.state=I)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gg(t),this.config=t.map(rl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:I}=r,S=o||this.routerState.root,L=I?this.currentUrlTree.fragment:h;let U=null;switch(m){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=l||null}return null!==U&&(U=this.removeEmptyProps(U)),function vE(n,e,t,r,o){if(0===t.length)return _E(e.root,e.root,e.root,r,o);const l=function kD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dv(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return pi(l.outlets,(I,S)=>{m[S]="string"==typeof I?I.split("/"):I}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,I)=>{0==I&&"."===m||(0==I&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new dv(t,e,r)}(t);if(l.toRoot())return _E(e.root,e.root,new on([],{}),r,o);const h=function LT(n,e,t){if(n.isAbsolute)return new Hf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Hf(l,l===e.root,0)}const r=lv(n.commands[0])?0:1;return function VT(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Hf(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=h.processChildren?hv(h.segmentGroup,h.index,l.commands):FD(h.segmentGroup,h.index,l.commands);return _E(e.root,h.segmentGroup,m,r,o)}(S,this.currentUrlTree,t,U,null!=L?L:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=lu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},jE):!1===r?Object.assign({},Tv):r,lu(t))return Jy(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Jy(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var m,I;if(this.disposed)return Promise.resolve(!1);let S,L,U;h?(S=h.resolve,L=h.reject,U=h.promise):U=new Promise((Re,Je)=>{S=Re,L=Je});const Q=++this.navigationId;let ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):ge=0,this.setTransition({id:Q,targetPageId:ge,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:S,reject:L,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(Re=>Promise.reject(Re))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Vo(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){g.\u0275\u0275invalidFactory()},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function tm(n){return"imperative"!==n}let cu=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Zn.x,this.subscription=t.events.subscribe(l=>{l instanceof sc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){if(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:dc(this.skipLocationChange),replaceUrl:dc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:dc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(Gr),g.\u0275\u0275directiveInject(Lf),g.\u0275\u0275directiveInject(w.LocationStrategy))},n.\u0275dir=g.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&g.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&g.\u0275\u0275attribute("target",r.target)("href",r.href,g.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.\u0275\u0275NgOnChangesFeature]}),n})();function dc(n){return""===n||!!n}class BE{}class Sv{preload(e,t){return Mt(null)}}let hc=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new Sa(o,r,I=>t.triggerEvent(new Ng(I)),I=>t.triggerEvent(new tE(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof sc),pt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(g.NgModuleRef);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Xe.D)(o).pipe((0,rc.J)(),(0,Tt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ot.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(Gr),g.\u0275\u0275inject(g.Compiler),g.\u0275\u0275inject(g.Injector),g.\u0275\u0275inject(BE))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),rm=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ic?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Zy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){g.\u0275\u0275invalidFactory()},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const fc=new g.InjectionToken("ROUTER_CONFIGURATION"),pc=new g.InjectionToken("ROUTER_FORROOT_GUARD"),lC=[w.Location,{provide:rv,useClass:uE},{provide:Gr,useFactory:function HE(n,e,t,r,o,l,h={},m,I){const S=new Gr(null,n,e,t,r,o,sE(l));return m&&(S.urlHandlingStrategy=m),I&&(S.routeReuseStrategy=I),function GE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,S),h.enableTracing&&S.events.subscribe(L=>{var U,Q;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),S},deps:[rv,qf,w.Location,g.Injector,g.Compiler,Xg,fc,[class em{},new g.Optional],[class kE{},new g.Optional]]},qf,{provide:Lf,useFactory:function qE(n){return n.routerState.root},deps:[Gr]},hc,Sv,class uC{preload(e,t){return t().pipe(tt(()=>Mt(null)))}},{provide:fc,useValue:{enableTracing:!1}}];function cC(){return new g.NgProbeToken("Router",Gr)}let $E=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[lC,xv(t),{provide:pc,useFactory:Mv,deps:[[Gr,new g.Optional,new g.SkipSelf]]},{provide:fc,useValue:r||{}},{provide:w.LocationStrategy,useFactory:mo,deps:[w.PlatformLocation,[new g.Inject(w.APP_BASE_HREF),new g.Optional],fc]},{provide:rm,useFactory:dC,deps:[Gr,w.ViewportScroller,fc]},{provide:BE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Sv},{provide:g.NgProbeToken,multi:!0,useFactory:cC},[Rv,{provide:g.APP_INITIALIZER,multi:!0,useFactory:WE,deps:[Rv]},{provide:zE,useFactory:hC,deps:[Rv]},{provide:g.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:zE}]]}}static forChild(t){return{ngModule:n,providers:[xv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(pc,8),g.\u0275\u0275inject(Gr,8))},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({}),n})();function dC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new rm(n,e,t)}function mo(n,e,t={}){return t.useHash?new w.HashLocationStrategy(n,e):new w.PathLocationStrategy(n,e)}function Mv(n){return"guarded"}function xv(n){return[{provide:g.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:n},{provide:Xg,multi:!0,useValue:n}]}let Rv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zn.x}appInitializer(){return this.injector.get(w.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Gr),h=this.injector.get(fc);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(fc),o=this.injector.get(hc),l=this.injector.get(rm),h=this.injector.get(Gr),m=this.injector.get(g.ApplicationRef);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(g.Injector))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function WE(n){return n.appInitializer.bind(n)}function hC(n){return n.bootstrapListener.bind(n)}const zE=new g.InjectionToken("Router Initializer");let gc=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r}signup(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{var o;null===(o=r.user)||void 0===o||o.updateProfile({displayName:t.username}),this.logout()})}login(t,r){return new Promise((o,l)=>{this.afAuth.signInWithEmailAndPassword(t,r).then(h=>o(h)).catch(h=>l(h))})}logout(){return new Promise((t,r)=>{this.afAuth.signOut().then(o=>{t(o),this.router.navigate(["/account"])}).catch(o=>t(o))})}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(Ca),g.\u0275\u0275inject(Gr))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KE_firebase={apiKey:"AIzaSyBk6h8dtnKrSyWfCvfMbI_xVf7Uhy_NMNc",authDomain:"quotes-app-8441f.firebaseapp.com",databaseURL:"https://quotes-app-8441f-default-rtdb.firebaseio.com",projectId:"quotes-app-8441f",storageBucket:"quotes-app-8441f.appspot.com",messagingSenderId:"577153700535",appId:"1:577153700535:web:6019a81e6b3c7c753a3332",measurementId:"G-GHN65XX4GJ"};function Ov(){return(0,ni.e)((n,e)=>{let t,r=!1;n.subscribe((0,zn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function ZT(n,e){return n===e}F(4087);var ut,fC=F(3942),QE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ma={},Os=Os||{},Vt=QE||self;function im(){}function sm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var om="closure_uid_"+(1e9*Math.random()>>>0),pC=0;function JE(n,e,t){return n.call.apply(n.bind,arguments)}function Pv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Oi(n,e,t){return(Oi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JE:Pv).apply(null,arguments)}function Gd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function il(){this.s=this.s,this.o=this.o}var mC={};il.prototype.s=!1,il.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function YE(n){return Object.prototype.hasOwnProperty.call(n,om)&&n[om]||(n[om]=++pC)}(this);delete mC[n]}},il.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},kv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function mc(n){return Array.prototype.concat.apply([],arguments)}function um(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sl(n){return/^[\s\xa0]*$/.test(n)}var Xn,eI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ms(n,e){return-1!=n.indexOf(e)}function Yf(n,e){return n<e?-1:n>e?1:0}e:{var qd=Vt.navigator;if(qd){var ki=qd.userAgent;if(ki){Xn=ki;break e}}Xn=""}function du(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Jf(n){const e={};for(const t in n)e[t]=n[t];return e}var zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lm(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<zs.length;l++)t=zs[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ol(n){return ol[" "](n),n}ol[" "]=im;var Zd,n,zd=ms(Xn,"Opera"),jo=ms(Xn,"Trident")||ms(Xn,"MSIE"),yc=ms(Xn,"Edge"),al=yc||jo,vc=ms(Xn,"Gecko")&&!(ms(Xn.toLowerCase(),"webkit")&&!ms(Xn,"Edge"))&&!(ms(Xn,"Trident")||ms(Xn,"MSIE"))&&!ms(Xn,"Edge"),Kd=ms(Xn.toLowerCase(),"webkit")&&!ms(Xn,"Edge");function _c(){var n=Vt.document;return n?n.documentMode:void 0}e:{var Xf="",ep=(n=Xn,vc?/rv:([^\);]+)(\)|;)/.exec(n):yc?/Edge\/([\d\.]+)/.exec(n):jo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kd?/WebKit\/(\S+)/.exec(n):zd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ep&&(Xf=ep?ep[1]:""),jo){var tp=_c();if(null!=tp&&tp>parseFloat(Xf)){Zd=String(tp);break e}}Zd=Xf}var Fv={};var Vv=Vt.document&&jo&&(_c()||parseInt(Zd,10))||void 0,yC=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",im,e),Vt.removeEventListener("test",im,e)}catch(t){}return n}();function Fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Qd(n,e){if(Fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vc){e:{try{ol(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qd.Z.h.call(this)}}Fi.prototype.h=function(){this.defaultPrevented=!0},Pi(Qd,Fi);var tI={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),vC=0;function _C(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++vC,this.ca=this.fa=!1}function rp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function dm(n){this.src=n,this.g={},this.h=0}function hm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=XE(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(rp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Uv(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}dm.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Uv(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new _C(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var jv="closure_lm_"+(1e6*Math.random()|0),Bv={};function nI(n,e,t,r,o){if(r&&r.once)return rI(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)nI(n,e[l],t,r,o);return null}return t=qv(t),n&&n[Yd]?n.N(e,t,Hd(r)?!!r.capture:!!r,o):fm(n,e,t,!1,r,o)}function fm(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Hd(o)?!!o.capture:!!o,m=pm(n);if(m||(n[jv]=m=new dm(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function $v(){var e=EC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yC||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(sI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rI(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)rI(n,e[l],t,r,o);return null}return t=qv(t),n&&n[Yd]?n.O(e,t,Hd(r)?!!r.capture:!!r,o):fm(n,e,t,!0,r,o)}function iI(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)iI(n,e[l],t,r,o);else r=Hd(r)?!!r.capture:!!r,t=qv(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Uv(l=n.g[e],t,r,o))&&(rp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=pm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Uv(e,t,r,o)),(t=-1<n?e[n]:null)&&Hv(t))}function Hv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Yd])hm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pm(e))?(hm(t,n),0==t.h&&(t.src=null,e[jv]=null)):rp(n)}}}function sI(n){return n in Bv?Bv[n]:Bv[n]="on"+n}function EC(n,e){if(n.ca)n=!0;else{e=new Qd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Hv(n),n=t.call(r,e)}return n}function pm(n){return(n=n[jv])instanceof dm?n:null}var Gv="__closure_events_fn_"+(1e9*Math.random()>>>0);function qv(n){return"function"==typeof n?n:(n[Gv]||(n[Gv]=function(e){return n.handleEvent(e)}),n[Gv])}function Ln(){il.call(this),this.i=new dm(this),this.P=this,this.I=null}function Li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Fi(e,n);else if(e instanceof Fi)e.target=e.target||n;else{var o=e;lm(e=new Fi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=ip(h,r,!0,e)&&o}if(o=ip(h=e.g=n,r,!0,e)&&o,o=ip(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=ip(h=e.g=t[l],r,!1,e)&&o}function ip(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var m=h.listener,I=h.ia||h.src;h.fa&&hm(n.i,h),o=!1!==m.call(I,r)&&o}}return o&&!r.defaultPrevented}Pi(Ln,il),Ln.prototype[Yd]=!0,Ln.prototype.removeEventListener=function(n,e,t,r){iI(this,n,e,t,r)},Ln.prototype.M=function(){if(Ln.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)rp(t[r]);delete n.g[e],n.h--}}this.I=null},Ln.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ln.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Wv=Vt.JSON.stringify;function oI(){var n=Qv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kv,aI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uI,n=>n.reset());class uI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lI(n){Vt.setTimeout(()=>{throw n},0)}function zv(n,e){Kv||function IC(){var n=Vt.Promise.resolve(void 0);Kv=function(){n.then(wC)}}(),Zv||(Kv(),Zv=!0),Qv.add(n,e)}var Zv=!1,Qv=new class gm{constructor(){this.h=this.g=null}add(e,t){const r=aI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wC(){for(var n;n=oI();){try{n.h.call(n.g)}catch(t){lI(t)}var e=aI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zv=!1}function sp(n,e){Ln.call(this),this.h=n||1,this.g=e||Vt,this.j=Oi(this.kb,this),this.l=Date.now()}function mm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function op(n,e,t){if("function"==typeof n)t&&(n=Oi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Oi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Jd(n){n.g=op(()=>{n.g=null,n.i&&(n.i=!1,Jd(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pi(sp,Ln),(ut=sp.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Li(this,"tick"),this.da&&(mm(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){sp.Z.M.call(this),mm(this),delete this.g};class Xd extends il{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jd(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ap(n){il.call(this),this.h=n,this.g={}}Pi(ap,il);var cI=[];function eh(n,e,t,r){Array.isArray(t)||(t&&(cI[0]=t.toString()),t=cI);for(var o=0;o<t.length;o++){var l=nI(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Yv(n){du(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hv(e)},n),n.g={}}function th(){this.g=!0}function hu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Wv(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}ap.prototype.M=function(){ap.Z.M.call(this),Yv(this)},ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},th.prototype.Aa=function(){this.g=!1},th.prototype.info=function(){};var nh={},dI=null;function Ec(){return dI=dI||new Ln}function up(n){Fi.call(this,nh.Ma,n)}function Ic(n){const e=Ec();Li(e,new up(e,n))}function e_(n,e){Fi.call(this,nh.STAT_EVENT,n),this.stat=e}function Vi(n){const e=Ec();Li(e,new e_(e,n))}function t_(n,e){Fi.call(this,nh.Na,n),this.size=e}function rh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}nh.Ma="serverreachability",Pi(up,Fi),nh.STAT_EVENT="statevent",Pi(e_,Fi),nh.Na="timingevent",Pi(t_,Fi);var ih={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function n_(){}function i_(){}n_.prototype.h=null;var Em,wc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _m(){Fi.call(this,"d")}function s_(){Fi.call(this,"c")}function lp(){}function Dc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ap(this),this.P=o_,this.W=new sp(n=al?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cp}function cp(){this.i=null,this.g="",this.h=!1}Pi(_m,Fi),Pi(s_,Fi),Pi(lp,n_),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},Em=new lp;var o_=45e3,dp={},sh={};function hp(n,e,t){n.K=1,n.v=uh(fu(e)),n.s=t,n.U=!0,Im(n,null)}function Im(n,e){n.F=Date.now(),Cm(n),n.A=fu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ch(t.h,"t",r),n.C=0,t=n.l.H,n.h=new cp,n.g=RI(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Xd(Oi(n.Ia,n,n.g),n.O)),eh(n.V,n.g,"readystatechange",n.gb),e=n.H?Jf(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ic(1),function Jv(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),I=0;I<m.length;I++){var S=m[I].split("=");if(1<S.length){var L=S[0];S=S[1];var U=L.split("_");h=2<=U.length&&"type"==U[1]?h+(L+"=")+S+"&":h+(L+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Dm(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=a_(n,t),o==sh){4==e&&(n.o=4,Vi(14),r=!1),hu(n.j,n.m,null,"[Incomplete Response]");break}if(o==dp){n.o=4,Vi(15),hu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hu(n.j,n.m,o,null),Mr(n,o)}wm(n)&&o!=sh&&o!=dp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),cl(e),e.L=!0,Vi(11))):(hu(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),oh(n))}function a_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sh:(t=Number(e.substring(t,r)),isNaN(t)?dp:(r+=1)+t>e.length?sh:(e=e.substr(r,t),n.C=r+t,e))}function Cm(n){n.Y=Date.now()+n.P,hI(n,n.P)}function hI(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rh(Oi(n.eb,n),e)}function bm(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function oh(n){0==n.l.G||n.I||MI(n.l,n)}function Cc(n){bm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,mm(n.W),Yv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Mr(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xm(t.i,n)))if(t.I=n.N,!n.J&&xm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(S){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=rh(Oi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;vh(t),mh(t)}C_(t),Vi(18)}if(1>=EI(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else dl(t,11)}else if((n.J||t.g==n)&&vh(t),!sl(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const L=S[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const U=S[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Q=S[5];null!=Q&&"number"==typeof Q&&0<Q&&(t.K=r=1.5*Q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ge=n.g;if(ge){const Re=ge.g?ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Re){var l=r.i;!l.g&&(ms(Re,"spdy")||ms(Re,"quic")||ms(Re,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Rm(l,l.h),l.h=null))}if(r.D){const Je=ge.g?ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Je&&(r.sa=Je,or(r.F,r.D,Je))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=At(r,r.H?r.la:null,r.W),h.J){Nm(r.i,h);var m=h,I=r.K;I&&m.setTimeout(I),m.B&&(bm(m),Cm(m)),r.g=h}else AI(r);0<t.l.length&&yh(t)}else"stop"!=S[0]&&"close"!=S[0]||dl(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?dl(t,7):wp(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}Ic(4)}catch(S){}}function u_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sm(n)||"string"==typeof n)kv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(sm(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function fI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(sm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function ah(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ah)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Tm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];bc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)bc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function bc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=Dc.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const L=Ra(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>L)&&(3!=L||al||this.g&&(this.h.h||this.g.ga()||w_(this.g)))){this.I||4!=L||7==e||Ic(8==e||0>=U?3:2),bm(this);var t=this.g.ba();this.N=t;t:if(wm(this)){var r=w_(this.g);n="";var o=r.length,l=4==Ra(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Cc(this),oh(this);var h="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function DC(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,I=this.g;if((m=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sl(m)){var S=m;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Vi(12),Cc(this),oh(this);break e}hu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mr(this,t)}this.U?(Dm(this,L,h),al&&this.i&&3==L&&(eh(this.V,this.W,"tick",this.fb),this.W.start())):(hu(this.j,this.m,h,null),Mr(this,h)),4==L&&Cc(this),this.i&&!this.I&&(4==L?MI(this.l,this):(this.i=!1,Cm(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),Cc(this),oh(this)}}}catch(L){}},ut.fb=function(){if(this.g){var n=Ra(this.g),e=this.g.ga();this.C<e.length&&(bm(this),Dm(this,n,e),this.i&&4!=n&&Cm(this))}},ut.cancel=function(){this.I=!0,Cc(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ym(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ic(3),Vi(17)),Cc(this),this.o=2,oh(this)):hI(this,this.Y-n)},(ut=ah.prototype).R=function(){Tm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Tm(this),this.g.concat()},ut.get=function(n,e){return bc(this.h,n)?this.h[n]:e},ut.set=function(n,e){bc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var l_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof yo){this.g=void 0!==e?e:n.g,Am(this,n.j),this.s=n.s,fp(this,n.i),Sm(this,n.m),this.l=n.l,e=n.h;var t=new gp;t.i=e.i,e.g&&(t.g=new ah(e.g),t.h=e.h),c_(this,t),this.o=n.o}else n&&(t=String(n).match(l_))?(this.g=!!e,Am(this,t[1]||"",!0),this.s=pp(t[2]||""),fp(this,t[3]||"",!0),Sm(this,t[4]),this.l=pp(t[5]||"",!0),c_(this,t[6]||"",!0),this.o=pp(t[7]||"")):(this.g=!!e,this.h=new gp(null,this.g))}function fu(n){return new yo(n)}function Am(n,e,t){n.j=t?pp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fp(n,e,t){n.i=t?pp(e,!0):e}function Sm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c_(n,e,t){e instanceof gp?(n.h=e,function vI(n,e){e&&!n.j&&(ul(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(yI(this,r),ch(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=lh(e,mI)),n.h=new gp(e,n.g))}function or(n,e,t){n.h.set(e,t)}function uh(n){return or(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xa),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xa(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lh(e,vo,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lh(e,vo,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(lh(t,"/"==t.charAt(0)?gI:$o,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lh(t,CC)),n.join("")};var vo=/[#\/\?@]/g,$o=/[#\?:]/g,gI=/[#\?]/g,mI=/[#\?@]/g,CC=/#/g;function gp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ul(n){n.g||(n.g=new ah,n.h=0,n.i&&function pI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yI(n,e){ul(n),e=dh(n,e),bc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,bc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Tm(n)))}function Mm(n,e){return ul(n),e=dh(n,e),bc(n.g.h,e)}function ch(n,e,t){yI(n,e),0<t.length&&(n.i=null,n.g.set(dh(n,e),um(t)),n.h+=t.length)}function dh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h_(n){this.l=n||_I,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=gp.prototype).add=function(n,e){ul(this),this.i=null,n=dh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){ul(this),this.g.forEach(function(t,r){kv(t,function(o){n.call(e,o,r,this)},this)},this)},ut.T=function(){ul(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},ut.R=function(n){ul(this);var e=[];if("string"==typeof n)Mm(this,n)&&(e=mc(e,this.g.get(dh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=mc(e,n[t])}return e},ut.set=function(n,e){return ul(this),this.i=null,Mm(this,n=dh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var _I=10;function mp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EI(n){return n.h?1:n.g?n.g.size:0}function xm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rm(n,e){n.g?n.g.add(e):n.h=e}function Nm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return um(n.i)}function vp(){}function f_(){this.g=new vp}function p_(n,e,t){const r=t||"";try{u_(n,function(o,l){let h=o;Hd(o)&&(h=Wv(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function hh(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Tc(n){this.l=n.$b||null,this.j=n.ib||!1}function fh(n,e){Ln.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=_p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h_.prototype.cancel=function(){if(this.i=yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vp.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},vp.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},Pi(Tc,n_),Tc.prototype.g=function(){return new fh(this.l,this.j)},Tc.prototype.i=function(n){return function(){return n}}({}),Pi(fh,Ln);var _p=0;function m_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ph(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gh(n)}function gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=fh.prototype).open=function(n,e){if(this.readyState!=_p)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gh(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ph(this)),this.readyState=_p},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gh(this)),this.g&&(this.readyState=3,gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ph(this):gh(this),3==this.readyState&&m_(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,ph(this))},ut.Ta=function(n){this.g&&(this.response=n,ph(this))},ut.ha=function(){this.g&&ph(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var II=Vt.JSON.parse;function xr(n){Ln.call(this),this.headers=new ah,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y_,this.K=this.L=!1}Pi(xr,Ln);var y_="",wI=/^https?$/i,DI=["POST","PUT"];function bI(n){return"content-type"==n.toLowerCase()}function v_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,__(n),Ep(n)}function __(n){n.D||(n.D=!0,Li(n,"complete"),Li(n,"error"))}function E_(n){if(n.h&&void 0!==Os&&(!n.C[1]||4!=Ra(n)||2!=n.ba()))if(n.v&&4==Ra(n))op(n.Fa,0,n);else if(Li(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(l_)[1]||null;if(!o&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;o=l.substr(0,l.length-1)}r=!wI.test(o?o.toLowerCase():"")}t=r}if(t)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var h=2<Ra(n)?n.g.statusText:""}catch(I){h=""}n.j=h+" ["+n.ba()+"]",__(n)}}finally{Ep(n)}}}function Ep(n,e){if(n.g){I_(n);const t=n.g,r=n.C[0]?im:null;n.g=null,n.C=null,e||Li(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function I_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function w_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case y_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ip(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function TI(n){let e="";return du(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):or(n,e,t))}function Ac(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Om(n){this.za=0,this.l=[],this.h=new th,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ac("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ac("baseRetryDelayMs",5e3,n),this.$a=Ac("retryDelaySeedMs",1e4,n),this.Ya=Ac("forwardChannelMaxRetries",2,n),this.ra=Ac("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new h_(n&&n.concurrentRequestLimit),this.Ca=new f_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function wp(n){if(Pm(n),3==n.G){var e=n.V++,t=fu(n.F);or(t,"SID",n.J),or(t,"RID",e),or(t,"TYPE","terminate"),Sc(n,t),(e=new Dc(n,n.h,e,void 0)).K=2,e.v=uh(fu(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=RI(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cm(e)}xI(n)}function mh(n){n.g&&(cl(n),n.g.cancel(),n.g=null)}function Pm(n){mh(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),vh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function Dp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&yh(n)}function yh(n){mp(n.i)||n.m||(n.m=!0,zv(n.Ha,n),n.C=0)}function km(n,e){var t;t=e?e.m:n.V++;const r=fu(n.F);or(r,"SID",n.J),or(r,"RID",t),or(r,"AID",n.U),Sc(n,r),n.o&&n.s&&Ip(r,n.o,n.s),t=new Dc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ll(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Rm(n.i,t),hp(t,r,e)}function Sc(n,e){n.j&&u_({},function(t,r){or(e,r,t)})}function ll(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Oi(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let I=0;I<t;I++){let S=o[I].h;const L=o[I].g;if(S-=l,0>S)l=Math.max(0,o[I].h-100),m=!1;else try{p_(L,h,"req"+S+"_")}catch(U){r&&r(L)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function AI(n){n.g||n.u||(n.Y=1,zv(n.Ga,n),n.A=0)}function C_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rh(Oi(n.Ga,n),b_(n,n.A)),n.A++,0))}function cl(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function SI(n){n.g=new Dc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=fu(n.oa);or(e,"RID","rpc"),or(e,"SID",n.J),or(e,"CI",n.N?"0":"1"),or(e,"AID",n.U),Sc(n,e),or(e,"TYPE","xmlhttp"),n.o&&n.s&&Ip(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=uh(fu(e)),t.s=null,t.U=!0,Im(t,n)}function vh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function MI(n,e){var t=null;if(n.g==e){vh(n),cl(n),n.g=null;var r=2}else{if(!xm(n.i,e))return;t=e.D,Nm(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Li(r=Ec(),new t_(r,t,e,o)),yh(n)}else AI(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function D_(n,e){return!(EI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rh(Oi(n.Ha,n,e),b_(n,n.C)),n.C++,0)))}(n,e)||2==r&&C_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:dl(n,5);break;case 4:dl(n,10);break;case 3:dl(n,6);break;default:dl(n,2)}}function b_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function dl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Oi(n.jb,n);t||(t=new yo("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||Am(t,"https"),uh(t)),function g_(n,e){const t=new th;if(Vt.Image){const r=new Image;r.onload=Gd(hh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gd(hh,t,r,"TestLoadImage: error",!1,e),r.onabort=Gd(hh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gd(hh,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Vi(2);n.G=0,n.j&&n.j.va(e),xI(n),Pm(n)}function xI(n){n.G=0,n.I=-1,n.j&&((0!=yp(n.i).length||0!=n.l.length)&&(n.i.i.length=0,um(n.l),n.l.length=0),n.j.ua())}function At(n,e,t){let r=function d_(n){return n instanceof yo?fu(n):new yo(n,void 0)}(t);if(""!=r.i)e&&fp(r,e+"."+r.i),Sm(r,r.m);else{const o=Vt.location;r=function Bo(n,e,t,r){var o=new yo(null,void 0);return n&&Am(o,n),e&&fp(o,e),t&&Sm(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&du(n.aa,function(o,l){or(r,l,o)}),t=n.sa,(e=n.D)&&t&&or(r,e,t),or(r,"VER",n.ma),Sc(n,r),r}function RI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xr(t&&n.Ba&&!n.qa?new Tc({ib:!0}):n.qa)).L=n.H,e}function NI(){}function Fm(){if(jo&&!(10<=Number(Vv)))throw Error("Environmental error: no available transport.")}function Ui(n,e){Ln.call(this),this.g=new Om(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new pu(this)}function OI(n){_m.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cp(){s_.call(this),this.status=1}function pu(n){this.g=n}(ut=xr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Em.g(),this.C=function r_(n){return n.h||(n.h=n.i())}(this.u?this.u:Em),this.g.onreadystatechange=Oi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void v_(this,l)}n=t||"";const o=new ah(this.headers);r&&u_(r,function(l,h){o.set(h,l)}),r=function am(n){e:{var e=bI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=XE(DI,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{I_(this),0<this.B&&((this.K=function CI(n){return jo&&function Lv(){return function Wd(n){var e=Fv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=eI(String(Zd)).split("."),t=eI("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Yf(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Yf(0==o[2].length,0==l[2].length)||Yf(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oi(this.pa,this)):this.A=op(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){v_(this,l)}},ut.pa=function(){void 0!==Os&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),Ep(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ep(this,!0)),xr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?E_(this):this.cb())},ut.cb=function(){E_(this)},ut.ba=function(){try{return 2<Ra(this)?this.g.status:-1}catch(n){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),II(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=Om.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Dc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Jf(l),lm(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ll(this,o,e),or(t=fu(this.F),"RID",n),or(t,"CVER",22),this.D&&or(t,"X-HTTP-Session-Id",this.D),Sc(this,t),this.o&&l&&Ip(t,this.o,l),Rm(this.i,o),this.Ra&&or(t,"TYPE","init"),this.ja?(or(t,"$req",e),or(t,"SID","null"),o.$=!0,hp(o,t,null)):hp(o,t,e),this.G=2}}else 3==this.G&&(n?km(this,n):0==this.l.length||mp(this.i)||km(this))},ut.Ga=function(){if(this.u=null,SI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rh(Oi(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vi(10),mh(this),SI(this))},ut.ab=function(){null!=this.v&&(this.v=null,mh(this),C_(this),Vi(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Vi(2)):(this.h.info("Failed to ping google.com"),Vi(1))},(ut=NI.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},Fm.prototype.g=function(n,e){return new Ui(n,e)},Pi(Ui,Ln),Ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zv(Oi(n.hb,n,e))),Vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=At(n,null,n.W),yh(n)},Ui.prototype.close=function(){wp(this.g)},Ui.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Dp(this.g,e)}else this.v?((e={}).__data__=Wv(n),Dp(this.g,e)):Dp(this.g,n)},Ui.prototype.M=function(){this.g.j=null,delete this.j,wp(this.g),delete this.g,Ui.Z.M.call(this)},Pi(OI,_m),Pi(Cp,s_),Pi(pu,NI),pu.prototype.xa=function(){Li(this.g,"a")},pu.prototype.wa=function(n){Li(this.g,new OI(n))},pu.prototype.va=function(n){Li(this.g,new Cp(n))},pu.prototype.ua=function(){Li(this.g,"b")},Fm.prototype.createWebChannel=Fm.prototype.g,Ui.prototype.send=Ui.prototype.u,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,ih.NO_ERROR=0,ih.TIMEOUT=8,ih.HTTP_ERROR=6,vm.COMPLETE="complete",i_.EventType=wc,wc.OPEN="a",wc.CLOSE="b",wc.ERROR="c",wc.MESSAGE="d",Ln.prototype.listen=Ln.prototype.N,xr.prototype.listenOnce=xr.prototype.O,xr.prototype.getLastError=xr.prototype.La,xr.prototype.getLastErrorCode=xr.prototype.Da,xr.prototype.getStatus=xr.prototype.ba,xr.prototype.getResponseJson=xr.prototype.Qa,xr.prototype.getResponseText=xr.prototype.ga,xr.prototype.send=xr.prototype.ea;var _r=Ma.createWebChannelTransport=function(){return new Fm},QT=Ma.getStatEventTarget=function(){return Ec()},Lm=Ma.ErrorCode=ih,PI=Ma.EventType=vm,TC=Ma.Event=nh,T_=Ma.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kI=Ma.FetchXmlHttpFactory=Tc,bp=Ma.WebChannel=i_,FI=Ma.XhrIo=xr;const LI="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let _h="9.6.10";const _o=new Ri.Yd("@firebase/firestore");function A_(){return _o.logLevel}function Be(n,...e){if(_o.logLevel<=Ri.in.DEBUG){const t=e.map(Vm);_o.debug(`Firestore (${_h}): ${n}`,...t)}}function ar(n,...e){if(_o.logLevel<=Ri.in.ERROR){const t=e.map(Vm);_o.error(`Firestore (${_h}): ${n}`,...t)}}function Eh(n,...e){if(_o.logLevel<=Ri.in.WARN){const t=e.map(Vm);_o.warn(`Firestore (${_h}): ${n}`,...t)}}function Vm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function Nt(n,e){n||ct()}function Ye(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class S_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class UI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SC{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const S=h;e.enqueueRetryable((0,re.Z)(function*(){yield S.promise,yield l(r.currentUser)}))},I=S=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(S=>I(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?I(S):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new S_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new ji(e)}}class jI{constructor(e,t,r){this.type="FirstParty",this.user=ji.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class MC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new jI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,Be("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new BI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Eo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function JT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Eo.A=-1;class M_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=JT(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function Ih(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function $I(n){return n+"\0"}class Er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Er(0,0))}static max(){return new Ct(new Er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function HI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ap{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ap.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ap?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends Ap{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Ap{construct(e,t,r){return new mi(e,t,r)}static isValidIdentifier(e){return qI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[o+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(t)}static emptyPath(){return new mi([])}}class wh{constructor(e){this.fields=e,e.sort(mi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=WI.exec(n);if(Nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xc(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function Um(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zI(n){const e=n.mapValue.fields.__previous_value__;return Um(e)?zI(e):e}function Rc(n){const e=hl(n.mapValue.fields.__local_write_time__.timestampValue);return new Er(e.seconds,e.nanos)}class xC{constructor(e,t,r,o,l,h,m,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=I}}class Na{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Na("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}function fl(n){return null==n}function Sp(n){return 0===n&&1/n==-1/0}function KI(n){return"number"==typeof n&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(hn.fromString(e))}static fromName(e){return new Ke(hn.fromString(e).popFirst(5))}static empty(){return new Ke(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new hn(e.slice()))}}const jm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZI={nullValue:"NULL_VALUE"};function pl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Um(n)?4:O_(n)?9:10:ct()}function Oa(n,e){if(n===e)return!0;const t=pl(n);if(t!==pl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rc(n).isEqual(Rc(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=hl(r.timestampValue),h=hl(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,xc(n.bytesValue).isEqual(xc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return ur(r.geoPointValue.latitude)===ur(o.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ur(r.integerValue)===ur(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=ur(r.doubleValue),h=ur(o.doubleValue);return l===h?Sp(l)===Sp(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(HI(l)!==HI(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Oa(l[m],h[m])))return!1;return!0}(n,e);default:return ct()}var o}function Mp(n,e){return void 0!==(n.values||[]).find(t=>Oa(t,e))}function gl(n,e){if(n===e)return 0;const t=pl(n),r=pl(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=ur(o.integerValue||o.doubleValue),m=ur(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return QI(n.timestampValue,e.timestampValue);case 4:return QI(Rc(n),Rc(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=xc(o),m=xc(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let I=0;I<h.length&&I<m.length;I++){const S=Wt(h[I],m[I]);if(0!==S)return S}return Wt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Wt(ur(o.latitude),ur(l.latitude));return 0!==h?h:Wt(ur(o.longitude),ur(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let I=0;I<h.length&&I<m.length;++I){const S=gl(h[I],m[I]);if(S)return S}return Wt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),I=l.fields||{},S=Object.keys(I);m.sort(),S.sort();for(let L=0;L<m.length&&L<S.length;++L){const U=Wt(m[L],S[L]);if(0!==U)return U;const Q=gl(h[m[L]],I[S[L]]);if(0!==Q)return Q}return Wt(m.length,S.length)}(n.mapValue,e.mapValue);default:throw ct()}}function QI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=hl(n),r=hl(e),o=Wt(t.seconds,r.seconds);return 0!==o?o:Wt(t.nanos,r.nanos)}function Ch(n){return x_(n)}function x_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=hl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xc(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=x_(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${x_(r.fields[m])}`;return l+"}"}(n.mapValue):ct();var e}function bh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function R_(n){return!!n&&"integerValue"in n}function Nc(n){return!!n&&"arrayValue"in n}function Bm(n){return!!n&&"nullValue"in n}function N_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xp(n){return!!n&&"mapValue"in n}function Oc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function P_(n,e){return void 0===n?e:void 0===e||gl(n,e)>0?n:e}function YI(n,e){return void 0===n?e:void 0===e||gl(n,e)<0?n:e}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(t)}setAll(e){let t=mi.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const I=this.getFieldsMap(t);this.applyChanges(I,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Oc(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());xp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];xp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Mc(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new yi(Oc(this.value))}}function $m(n){const e=[];return Mc(n.fields,(t,r)=>{const o=new mi([t]);if(xp(r)){const l=$m(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new wh(e)}class Vn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Vn(e,0,Ct.min(),Ct.min(),yi.empty(),0)}static newFoundDocument(e,t,r){return new Vn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new Vn(e,2,t,Ct.min(),yi.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,Ct.min(),yi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function k_(n){return n.fields.find(e=>2===e.kind)}function Ah(n){return n.fields.filter(e=>2!==e.kind)}Th.UNKNOWN_ID=-1;class Sh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rp(0,Io.min())}}function F_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(1e9===r?new Er(t+1,0):new Er(t,r));return new Io(o,Ke.empty(),e)}function JI(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Io(Ct.min(),Ke.empty(),-1)}static max(){return new Io(Ct.max(),Ke.empty(),-1)}}function RC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}class XI{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.P=null}}function NC(n,e=null,t=[],r=[],o=null,l=null,h=null){return new XI(n,e,t,r,o,l,h)}function Pc(n){const e=Ye(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Ch(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ch(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ch(r)).join(",")),e.P=t}return e.P}function Np(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Mh(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Oa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L_(n.startAt,e.startAt)&&L_(n.endAt,e.endAt)}function gu(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ml(n,e){return n.filters.filter(t=>t instanceof Bi&&t.field.isEqual(e))}class Bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new XT(e,t,r):"array-contains"===t?new PC(e,r):"in"===t?new nw(e,r):"not-in"===t?new rw(e,r):"array-contains-any"===t?new iw(e,r):new Bi(e,t,r)}static V(e,t,r){return"in"===t?new ew(e,r):new OC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(gl(t,this.value)):null!==t&&pl(this.value)===pl(t)&&this.v(gl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class XT extends Bi{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.v(t)}}class ew extends Bi{constructor(e,t){super(e,"in",t),this.keys=tw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OC extends Bi{constructor(e,t){super(e,"not-in",t),this.keys=tw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class PC extends Bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nc(t)&&Mp(t.arrayValue,this.value)}}class nw extends Bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mp(this.value.arrayValue,t)}}class rw extends Bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mp(this.value.arrayValue,t)}}class iw extends Bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mp(this.value.arrayValue,r))}}class Ho{constructor(e,t){this.position=e,this.inclusive=t}}class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mh(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function sw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Ke.comparator(Ke.fromName(h.referenceValue),t.key):gl(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function L_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oa(n.position[t],e.position[t]))return!1;return!0}class Pa{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=I,this.D=null,this.C=null}}function ow(n,e,t,r,o,l,h,m){return new Pa(n,e,t,r,o,l,h,m)}function xh(n){return new Pa(n)}function kc(n){return!fl(n.limit)&&"F"===n.limitType}function Gm(n){return!fl(n.limit)&&"L"===n.limitType}function aw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Wm(n){return null!==n.collectionGroup}function Go(n){const e=Ye(n);if(null===e.D){e.D=[];const t=qm(e),r=aw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new mu(t)),e.D.push(new mu(mi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new mu(mi.keyField(),l))}}}return e.D}function Ks(n){const e=Ye(n);if(!e.C)if("F"===e.limitType)e.C=NC(e.path,e.collectionGroup,Go(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Go(e))t.push(new mu(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ho(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Ho(e.startAt.position,!e.startAt.inclusive):null;e.C=NC(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Fc(n,e,t){return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zm(n,e){return Np(Ks(n),Ks(e))&&n.limitType===e.limitType}function V_(n){return`${Pc(Ks(n))}|lt:${n.limitType}`}function Km(n){return`Query(target=${function Hm(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ch(r.value)}`;var r}).join(", ")}]`),fl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ch(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ch(t)).join(",")),`Target(${e})`}(Ks(n))}; limitType=${n.limitType})`}function uw(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const m=sw(o,l,h);return o.inclusive?m<=0:m<0}(t.startAt,Go(t),r)||t.endAt&&!function(o,l,h){const m=sw(o,l,h);return o.inclusive?m>=0:m>0}(t.endAt,Go(t),r)));var t,r}function U_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lw(n){return(e,t)=>{let r=!1;for(const o of Go(n)){const l=j_(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function j_(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),I=h.data.field(o);return null!==m&&null!==I?gl(m,I):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function Op(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function B_(n){return{integerValue:""+n}}function $_(n,e){return KI(e)?B_(e):Op(n,e)}class Pp{constructor(){this._=void 0}}function cw(n,e,t){return n instanceof Lc?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof yl?G_(n,e):n instanceof vl?Rh(n,e):function(r,o){const l=H_(r,o),h=q_(l)+q_(r.k);return R_(l)&&R_(r.k)?B_(h):Op(r.M,h)}(n,e)}function dw(n,e,t){return n instanceof yl?G_(n,e):n instanceof vl?Rh(n,e):t}function H_(n,e){return n instanceof Vc?R_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lc extends Pp{}class yl extends Pp{constructor(e){super(),this.elements=e}}function G_(n,e){const t=W_(e);for(const r of n.elements)t.some(o=>Oa(o,r))||t.push(r);return{arrayValue:{values:t}}}class vl extends Pp{constructor(e){super(),this.elements=e}}function Rh(n,e){let t=W_(e);for(const r of n.elements)t=t.filter(o=>!Oa(o,r));return{arrayValue:{values:t}}}class Vc extends Pp{constructor(e,t){super(),this.M=e,this.k=t}}function q_(n){return ur(n.integerValue||n.doubleValue)}function W_(n){return Nc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Nh{constructor(e,t){this.field=e,this.transform=t}}class fw{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fp{}function pw(n,e,t){n instanceof Uc?function(r,o,l){const h=r.value.clone(),m=Lp(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(r,o,l){if(!kp(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Lp(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(yw(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zm(n,e,t){var o;n instanceof Uc?function(r,o,l){if(!kp(r.precondition,o))return;const h=r.value.clone(),m=Ph(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(mw(o),h).setHasLocalMutations()}(n,e,t):n instanceof Ji?function(r,o,l){if(!kp(r.precondition,o))return;const h=Ph(r.fieldTransforms,l,o),m=o.data;m.setAll(yw(r)),m.setAll(h),o.convertToFoundDocument(mw(o),m).setHasLocalMutations()}(n,e,t):kp(n.precondition,o=e)&&o.convertToNoDocument(Ct.min())}function gw(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=H_(r.transform,o||null);null!=l&&(null==t&&(t=yi.empty()),t.set(r.field,l))}return t||null}function Oh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ih(t,r,(o,l)=>function hw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yl&&r instanceof yl||t instanceof vl&&r instanceof vl?Ih(t.elements,r.elements,Oa):t instanceof Vc&&r instanceof Vc?Oa(t.k,r.k):t instanceof Lc&&r instanceof Lc);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function mw(n){return n.isFoundDocument()?n.version:Ct.min()}class Uc extends Fp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Ji extends Fp{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function yw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lp(n,e,t){const r=new Map;Nt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,dw(h,m,t[o]))}return r}function Ph(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,cw(l,h,e))}return r}class Vp extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class z_ extends Fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kC{constructor(e){this.count=e}}var lr,tn;function vw(n){switch(n){default:return ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function _w(n){if(void 0===n)return ar("GRPC error has no .code"),_e.UNKNOWN;switch(n){case lr.OK:return _e.OK;case lr.CANCELLED:return _e.CANCELLED;case lr.UNKNOWN:return _e.UNKNOWN;case lr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case lr.INTERNAL:return _e.INTERNAL;case lr.UNAVAILABLE:return _e.UNAVAILABLE;case lr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case lr.NOT_FOUND:return _e.NOT_FOUND;case lr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case lr.ABORTED:return _e.ABORTED;case lr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case lr.DATA_LOSS:return _e.DATA_LOSS;default:return ct()}}(tn=lr||(lr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class yu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mc(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return GI(this.inner)}size(){return this.innerSize}}class Ir{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new Ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new Ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:vi.RED,this.left=null!=o?o:vi.EMPTY,this.right=null!=l?l:vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new vi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return vi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,o){return this}insert(n,e,t){return new vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new Ir(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ew(this.data.getIterator())}getIteratorFrom(e){return new Ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class Ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Up(n){return n.hasNext()?n.getNext():void 0}const K_=new Ir(Ke.comparator);function Ps(){return K_}const Iw=new Ir(Ke.comparator);function jp(){return Iw}function jc(){return new yu(n=>n.toString(),(n,e)=>n.isEqual(e))}const FC=new Ir(Ke.comparator),LC=new Hn(Ke.comparator);function Dn(...n){let e=LC;for(const t of n)e=e.add(t);return e}const VC=new Hn(Wt);function Bp(){return VC}class Bc{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Fh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Bc(Ct.min(),r,Bp(),Ps(),Dn())}}class Fh{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Fh(ai.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class $p{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Z_{constructor(e,t){this.targetId=e,this.$=t}}class Q_{constructor(e,t,r=ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ww{constructor(){this.B=0,this.L=Cw(),this.U=ai.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Dn(),t=Dn(),r=Dn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ct()}}),new Fh(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=Cw()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Dw{constructor(e){this.nt=e,this.st=new Map,this.it=Ps(),this.rt=Y_(),this.ot=new Hn(Wt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(gu(l))if(0===r){const h=new Ke(l.path);this.ct(t,h,Vn.newNoDocument(h,Ct.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&gu(m.target)){const I=new Ke(m.target.path);null!==this.it.get(I)||this.It(h,I)||this.ct(h,I,Vn.newNoDocument(I,e))}l.j&&(t.set(h,l.H()),l.J())}});let r=Dn();this.rt.forEach((l,h)=>{let m=!0;h.forEachWhile(I=>{const S=this.wt(I);return!S||2===S.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new Bc(e,t,this.ot,this.it,r);return this.it=Ps(),this.rt=Y_(),this.ot=new Hn(Wt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ww,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Hn(Wt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new ww),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Y_(){return new Ir(Ke.comparator)}function Cw(){return new Ir(Ke.comparator)}const bw={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ys{constructor(e,t){this.databaseId=e,this.N=t}}function ka(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(n,e){return n.N?e.toBase64():e.toUint8Array()}function UC(n,e){return ka(n,e.toTimestamp())}function _i(n){return Nt(!!n),Ct.fromTimestamp(function(e){const t=hl(e);return new Er(t.seconds,t.nanos)}(n))}function $c(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Sw(n){const e=hn.fromString(n);return Nt(s0(e)),e}function Hc(n,e){return $c(n.databaseId,e.path)}function qo(n,e){const t=Sw(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(Ym(t))}function Qm(n,e){return $c(n.databaseId,e)}function J_(n){const e=Sw(n);return 4===e.length?hn.emptyPath():Ym(e)}function Lh(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ym(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function X_(n,e,t){return{name:Hc(n,e),fields:t.value.mapValue.fields}}function e0(n,e,t){const r=qo(n,e.name),o=_i(e.updateTime),l=new yi({mapValue:{fields:e.fields}}),h=Vn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Hp(n,e){let t;if(e instanceof Uc)t={update:X_(n,e.key,e.value)};else if(e instanceof Vp)t={delete:Hc(n,e.key)};else if(e instanceof Ji)t={update:X_(n,e.key,e.data),updateMask:$C(e.fieldMask)};else{if(!(e instanceof z_))return ct();t={verify:Hc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Lc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vc)return{fieldPath:l.field.canonicalString(),increment:h.k};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:UC(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ct()),t;var o}function Xm(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?qr.updateTime(_i(o.updateTime)):void 0!==o.exists?qr.exists(o.exists):qr.none():qr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(Nt("REQUEST_TIME"===h.setToServerValue),m=new Lc):"appendMissingElements"in h?m=new yl(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new vl(h.removeAllFromArray.values||[]):"increment"in h?m=new Vc(l,h.increment):ct();const I=mi.fromServerFormat(h.fieldPath);return new Nh(I,m)}(n,o)):[];var o;if(e.update){const o=qo(n,e.update.name),l=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new wh((e.updateMask.fieldPaths||[]).map(S=>mi.fromServerFormat(S)));return new Ji(o,l,h,t,r)}return new Uc(o,l,t,r)}if(e.delete){const o=qo(n,e.delete);return new Vp(o,t)}if(e.verify){const o=qo(n,e.verify);return new z_(o,t)}return ct()}function ey(n,e){return{documents:[Qm(n,e.path)]}}function Vh(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Qm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(I){if(0===I.length)return;const S=I.map(L=>function(U){if("=="===U.op){if(N_(U.value))return{unaryFilter:{field:Uh(U.field),op:"IS_NAN"}};if(Bm(U.value))return{unaryFilter:{field:Uh(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(N_(U.value))return{unaryFilter:{field:Uh(U.field),op:"IS_NOT_NAN"}};if(Bm(U.value))return{unaryFilter:{field:Uh(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uh(U.field),op:Mw(U.op),value:U.value}}}(L));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(I){if(0!==I.length)return I.map(S=>{return{field:Uh((L=S).field),direction:r0(L.dir)};var L})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.N||fl(S)?S:{value:S});var S,m,I;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function n0(n){let e=J_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Nt(1===r);const L=t.from[0];L.allDescendants?o=L.collectionId:e=e.child(L.collectionId)}let l=[];t.where&&(l=ty(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new mu(_l((U=L).field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let m=null;t.limit&&(m=function(L){let U;return U="object"==typeof L?L.value:L,fl(U)?null:U}(t.limit));let I=null;var L;t.startAt&&(I=new Ho((L=t.startAt).values||[],!!L.before));let S=null;return t.endAt&&(S=function(L){return new Ho(L.values||[],!L.before)}(t.endAt)),ow(e,o,h,l,m,"F",I,S)}function ty(n){return n?void 0!==n.unaryFilter?[Rw(n)]:void 0!==n.fieldFilter?[xw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>ty(e)).reduce((e,t)=>e.concat(t)):ct():[]}function r0(n){return bw[n]}function Mw(n){return Tw[n]}function Uh(n){return{fieldPath:n.canonicalString()}}function _l(n){return mi.fromServerFormat(n.fieldPath)}function xw(n){return Bi.create(_l(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function Rw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_l(n.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_l(n.unaryFilter.field);return Bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_l(n.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_l(n.unaryFilter.field);return Bi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function $C(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function s0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ui(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Nw(e)),e=HC(n.get(t),e);return Nw(e)}function HC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Nw(n){return n+"\x01\x01"}function wo(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&ct(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let I;0===o.length?I=m:(o+=m,I=o,o=""),r.push(I);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ct()}l=h+2}return new hn(r)}const Ow=["userId","batchId"];function Gp(n,e){return[n,ui(e)]}function o0(n,e,t){return[n,ui(e),t]}const Pw={},kw=["prefixPath","collectionGroup","readTime","documentId"],GC=["prefixPath","collectionGroup","documentId"],qC=["collectionGroup","readTime","prefixPath","documentId"],Fw=["canonicalId","targetId"],Lw=["targetId","path"],Vw=["path","targetId"],WC=["collectionId","parent"],zC=["indexId","uid"],KC=["uid","sequenceNumber"],ZC=["indexId","uid","arrayValue","directionalValue","documentKey"],QC=["indexId","uid","documentKey"],YC=["userId","collectionPath","documentId"],JC=["userId","collectionPath","largestBatchId"],ny=["userId","collectionGroup","largestBatchId"],XC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uw=[...XC,"documentOverlays"],ry=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jw=[...ry,"indexConfiguration","indexState","indexEntries"],a0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},I=>r(I))}),h=!0,l===o&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(o=>o?we.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class qp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new gi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Wp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=u0(r.target.error);this.At.reject(new Wp(e,o))}}static open(e,t,r,o){try{return new qp(t,e.transaction(o,r))}catch(l){throw new Wp(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eb(t)}}class Do{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Do.Vt((0,mt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),vu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,mt.hl)())return!1;if(Do.St())return!0;const e=(0,mt.z$)(),t=Do.Vt(e),r=0<t&&t<10,o=Do.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,re.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Wp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Wp(e,m))},l.onupgradeneeded=h=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,re.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const I=qp.open(l.db,e,h?"readonly":"readwrite",r),S=o(I).next(L=>(I.bt(),L)).catch(L=>(I.abort(L),we.reject(L))).toPromise();return S.catch(()=>{}),yield I.Rt,S}catch(I){const S="FirebaseError"!==I.name&&m<3;if(Be("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),l.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $w{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return vu(this.Ft.delete())}}class Wp extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function El(n){return"IndexedDbTransactionError"===n.name}class eb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),vu(this.store.add(e))}get(e){return vu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),vu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),vu(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(h,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new we((l,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new we((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,h,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new we((r,o)=>{t.onerror=l=>{const h=u0(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Gt(e,t){const r=[];return new we((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const I=new $w(m),S=t(m.primaryKey,m.value,I);if(S instanceof we){const L=S.catch(U=>(I.done(),we.reject(U)));r.push(L)}I.isDone?o():null===I.Lt?m.continue():m.continue(I.Lt)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vu(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=u0(r.target.error);t(o)}})}let Hw=!1;function u0(n){const e=Do.Vt((0,mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hw||(Hw=!0,setTimeout(()=>{throw r},0)),r}}return n}class Gw extends Bw{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function On(n,e){const t=Ye(n);return Do.xt(t.Ht,e)}class iy{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pw(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(t,r)=>Oh(t,r))&&Ih(this.baseMutations,e.baseMutations,(t,r)=>Oh(t,r))}}class l0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Nt(e.mutations.length===r.length);let o=FC;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new l0(e,t,r,o)}}class sy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Il{constructor(e,t,r,o,l=Ct.min(),h=Ct.min(),m=ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qw{constructor(e){this.Jt=e}}function Ww(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ks(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Hc(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:ka(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gc(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:Gc(e.version)}}var o,l;return r}function ks(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _u(n){const e=new Er(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function jh(n,e){const t=(e.baseMutations||[]).map(l=>Xm(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Xm(n.Jt,l)),o=Er.fromMillis(e.localWriteTimeMs);return new iy(e.batchId,o,t,r)}function zp(n){const e=_u(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_u(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var o;return void 0!==n.query.documents?(Nt(1===(o=n.query).documents.length),r=Ks(xh(J_(o.documents[0])))):r=Ks(n0(n.query)),new Il(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function oy(n,e){const t=Gc(e.snapshotVersion),r=Gc(e.lastLimboFreeSnapshotVersion);let o;o=gu(e.target)?ey(n.Jt,e.target):Vh(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function ay(n){const e=n0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fc(e,e.limit,"L"):e}function uy(n,e){return new sy(e.largestBatchId,Xm(n.Jt,e.overlayMutation))}function d0(n,e){const t=e.path.lastSegment();return[n,ui(e.path.popLast()),t]}class zw{getBundleMetadata(e,t){return ly(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:_u(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ly(e).put({bundleId:(r=t).id,createTime:Gc(_i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Kw(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:ay(o.bundledQuery),readTime:_u(o.readTime)};var o})}saveNamedQuery(e,t){return Kw(e).put({name:(r=t).name,readTime:Gc(_i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ly(n){return On(n,"bundles")}function Kw(n){return On(n,"namedQueries")}class h0{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new h0(e,t.uid||"")}getOverlay(e,t){return qc(e).get(d0(this.userId,t)).next(r=>r?uy(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const m=new sy(t,h);o.push(this.Xt(e,m))}),we.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(ui(h.getCollectionPath())));const l=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(qc(e).Qt("collectionPathOverlayIndex",m))}),we.waitFor(l)}getOverlaysForCollection(e,t,r){const o=jc(),l=ui(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return qc(e).qt("collectionPathOverlayIndex",h).next(m=>{for(const I of m){const S=uy(this.M,I);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=jc();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qc(e).Wt({index:"collectionGroupOverlayIndex",range:m},(I,S,L)=>{const U=uy(this.M,S);l.size()<o||U.largestBatchId===h?(l.set(U.getKey(),U),h=U.largestBatchId):L.done()}).next(()=>l)}Xt(e,t){return qc(e).put(function(r,o,l){const[h,m,I]=d0(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:I,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Hp(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function qc(n){return On(n,"documentOverlays")}class Xi{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ur(e.integerValue));else if("doubleValue"in e){const r=ur(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Sp(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(xc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?O_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ct()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Ke.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Zw(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function tb(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=Zw(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Xi.fe=new Xi;class Qw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=tb(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=tb(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class f0{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class nb{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Kp{constructor(){this.De=new Qw,this.Ce=new f0(this.De),this.xe=new nb(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Eu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Eu(this.indexId,this.documentKey,this.arrayValue,r)}}function wl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Yw(n.arrayValue,e.arrayValue),0!==t?t:(t=Yw(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function Yw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class p0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=k_(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ah(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class g0{constructor(){this.qe=new m0}addToCollectionParentIndex(e,t){return this.qe.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getFieldIndex(e,t){return we.resolve(null)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class m0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Hn(hn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Hn(hn.comparator)).toArray()}}const cy=new Uint8Array(0);class Jw{constructor(e){this.user=e,this.Ge=new m0,this.Ke=new yu(t=>Pc(t),(t,r)=>Np(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:ui(o)};return dy(e).put(l)}return we.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[$I(t),""],!1,!0);return dy(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(wo(h.parent))}return r})}addFieldIndex(e,t){const r=Zp(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Zp(e),o=hy(e),l=Wc(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Wc(e);let o=!0;const l=new Map;return we.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(m=>{o&&(o=!!m),l.set(h,m)})).next(()=>{if(o){let h=Dn();return we.forEach(l,(m,I)=>{var S;Be("IndexedDbIndexManager",`Using index ${S=m,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Ot=>`${Ot.fieldPath}:${Ot.kind}`).join(",")}`} to execute ${Pc(t)}`);const L=function(Ot,dr){const Gt=k_(dr);if(void 0===Gt)return null;for(const fn of ml(Ot,Gt.fieldPath))switch(fn.op){case"array-contains-any":return fn.value.arrayValue.values||[];case"array-contains":return[fn.value]}return null}(I,m),U=function(Ot,dr){const Gt=new Map;for(const fn of Ah(dr))for(const rn of ml(Ot,fn.fieldPath))switch(rn.op){case"==":case"in":Gt.set(fn.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return Gt.set(fn.fieldPath.canonicalString(),rn.value),Array.from(Gt.values())}return null}(I,m),Q=function(Ot,dr){const Gt=[];let fn=!0;for(const Tl of Ah(dr)){let Wo,ug=!0;for(const $i of ml(Ot,Tl.fieldPath)){let Rr,Ry=!0;switch($i.op){case"<":case"<=":Rr="nullValue"in(rn=$i.value)?ZI:"booleanValue"in rn?{booleanValue:!1}:"integerValue"in rn||"doubleValue"in rn?{doubleValue:NaN}:"timestampValue"in rn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in rn?{stringValue:""}:"bytesValue"in rn?{bytesValue:""}:"referenceValue"in rn?bh(Na.empty(),Ke.empty()):"geoPointValue"in rn?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in rn?{arrayValue:{}}:"mapValue"in rn?{mapValue:{}}:ct();break;case"==":case"in":case">=":Rr=$i.value;break;case">":Rr=$i.value,Ry=!1;break;case"!=":case"not-in":Rr=ZI}P_(Wo,Rr)===Rr&&(Wo=Rr,ug=Ry)}if(null!==Ot.startAt)for(let $i=0;$i<Ot.orderBy.length;++$i)if(Ot.orderBy[$i].field.isEqual(Tl.fieldPath)){const Rr=Ot.startAt.position[$i];P_(Wo,Rr)===Rr&&(Wo=Rr,ug=Ot.startAt.inclusive);break}if(void 0===Wo)return null;Gt.push(Wo),fn&&(fn=ug)}var rn;return new Ho(Gt,fn)}(I,m),ge=function(Ot,dr){const Gt=[];let fn=!0;for(const Tl of Ah(dr)){let Wo,ug=!0;for(const $i of ml(Ot,Tl.fieldPath)){let Rr,Ry=!0;switch($i.op){case">=":case">":Rr="nullValue"in(rn=$i.value)?{booleanValue:!1}:"booleanValue"in rn?{doubleValue:NaN}:"integerValue"in rn||"doubleValue"in rn?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in rn?{stringValue:""}:"stringValue"in rn?{bytesValue:""}:"bytesValue"in rn?bh(Na.empty(),Ke.empty()):"referenceValue"in rn?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in rn?{arrayValue:{}}:"arrayValue"in rn?{mapValue:{}}:"mapValue"in rn?jm:ct(),Ry=!1;break;case"==":case"in":case"<=":Rr=$i.value;break;case"<":Rr=$i.value,Ry=!1;break;case"!=":case"not-in":Rr=jm}YI(Wo,Rr)===Rr&&(Wo=Rr,ug=Ry)}if(null!==Ot.endAt)for(let $i=0;$i<Ot.orderBy.length;++$i)if(Ot.orderBy[$i].field.isEqual(Tl.fieldPath)){const Rr=Ot.endAt.position[$i];YI(Wo,Rr)===Rr&&(Wo=Rr,ug=Ot.endAt.inclusive);break}if(void 0===Wo)return null;Gt.push(Wo),fn&&(fn=ug)}var rn;return new Ho(Gt,fn)}(I,m),Re=this.je(m,I,Q),Je=this.je(m,I,ge),bt=this.We(m,I,U),bn=this.ze(m.indexId,L,Re,!!Q&&Q.inclusive,Je,!!ge&&ge.inclusive,bt);return we.forEach(bn,Ot=>r.Kt(Ot,t.limit).next(dr=>{dr.forEach(Gt=>{h=h.add(new Ke(wo(Gt.documentKey)))})}))}).next(()=>h)}return we.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,h,m){const I=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),S=I/(null!=t?t.length:1),L=[];for(let U=0;U<I;++U){const Q=t?this.He(t[U/S]):cy,ge=r?this.Je(e,Q,r[U%S],o):this.Ye(e),Re=l?this.Xe(e,Q,l[U%S],h):this.Ye(e+1);L.push(...this.createRange(ge,Re,m.map(Je=>this.Je(e,Q,Je,!0))))}return L}Je(e,t,r,o){const l=new Eu(e,Ke.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Eu(e,Ke.empty(),t,r);return o?l.ke():l}Ye(e){return new Eu(e,Ke.empty(),cy,cy)}getFieldIndex(e,t){const r=new p0(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const h=l.filter(m=>r.$e(m));return h.sort((m,I)=>I.fields.length-m.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new Kp;for(const o of Ah(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.Ne(o.kind);Xi.fe.Zt(l,h)}return r.Se()}He(e){const t=new Kp;return Xi.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Kp);let l=0;for(const h of Ah(e)){const m=r[l++];for(const I of o)if(this.tn(t,h.fieldPath)&&Nc(m))o=this.en(o,h,m);else{const S=I.Ne(h.kind);Xi.fe.Zt(m,S)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const m of o){const I=new Kp;I.seed(m.Se()),Xi.fe.Zt(h,I.Ne(t.kind)),l.push(I)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof Bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zp(e),o=hy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const h=[];return we.forEach(l,m=>o.get([m.indexId,this.uid]).next(I=>{h.push(function(S,L){const U=L?new Rp(L.sequenceNumber,new Io(_u(L.readTime),new Ke(wo(L.documentKey)),L.largestBatchId)):Rp.empty(),Q=S.fields.map(([ge,Re])=>new Sh(mi.fromServerFormat(ge),Re));return new Th(S.indexId,S.collectionGroup,Q,U)}(m,I))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Wt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Zp(e),l=hy(e);return this.sn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>we.forEach(m,I=>{return l.put({indexId:I.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Gc((Q=r).readTime),documentKey:ui(Q.documentKey.path),largestBatchId:Q.largestBatchId});var Q})))}updateIndexEntries(e,t){const r=new Map;return we.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?we.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),we.forEach(m,I=>this.rn(e,o,I).next(S=>{const L=this.on(l,I);return S.isEqual(L)?we.resolve():this.un(e,l,S,L)}))))})}an(e,t,r){return Wc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:ui(t.key.path)})}cn(e,t,r){return Wc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ui(t.key.path)])}rn(e,t,r){const o=Wc(e);let l=new Hn(wl);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,ui(t.path)])},(h,m)=>{l=l.add(new Eu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new Hn(wl);const o=this.Ze(t,e);if(null==o)return r;const l=k_(t);if(null!=l){const h=e.data.field(l.fieldPath);if(Nc(h))for(const m of h.arrayValue.values||[])r=r.add(new Eu(t.indexId,e.key,this.He(m),o))}else r=r.add(new Eu(t.indexId,e.key,cy,o));return r}un(e,t,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,I,S,L){const U=h.getIterator(),Q=m.getIterator();let ge=Up(U),Re=Up(Q);for(;ge||Re;){let Je=!1,bt=!1;if(ge&&Re){const bn=I(ge,Re);bn<0?bt=!0:bn>0&&(Je=!0)}else null!=ge?bt=!0:Je=!0;Je?(S(Re),Re=Up(Q)):bt?(L(ge),ge=Up(U)):(ge=Up(U),Re=Up(Q))}}(r,o,wl,h=>{l.push(this.an(e,t,h))},h=>{l.push(this.cn(e,t,h))}),we.waitFor(l)}sn(e){let t=1;return hy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>wl(h,m)).filter((h,m,I)=>!m||0!==wl(h,I[m-1]));const o=[];o.push(e);for(const h of r){const m=wl(h,e),I=wl(h,t);if(0===m)o[0]=e.ke();else if(m>0&&I<0)o.push(h),o.push(h.ke());else if(I>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,""],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,""]));return l}}function dy(n){return On(n,"collectionParents")}function Wc(n){return On(n,"indexEntries")}function Zp(n){return On(n,"indexConfiguration")}function hy(n){return On(n,"indexState")}const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xw(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const I=r.Wt({range:h},(L,U,Q)=>(m++,Q.delete()));l.push(I.next(()=>{Nt(1===m)}));const S=[];for(const L of t.mutations){const U=o0(e,L.key.path,t.batchId);l.push(o.delete(U)),S.push(L.key)}return we.waitFor(l).next(()=>S)}function fy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class v0{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new v0(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Iu(e).Wt({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=zc(e),h=Iu(e);return h.add({}).next(m=>{Nt("number"==typeof m);const I=new iy(m,t,r,o),S=function(Q,ge,Re){const Je=Re.baseMutations.map(bn=>Hp(Q.Jt,bn)),bt=Re.mutations.map(bn=>Hp(Q.Jt,bn));return{userId:ge,batchId:Re.batchId,localWriteTimeMs:Re.localWriteTime.toMillis(),baseMutations:Je,mutations:bt}}(this.M,this.userId,I),L=[];let U=new Hn((Q,ge)=>Wt(Q.canonicalString(),ge.canonicalString()));for(const Q of o){const ge=o0(this.userId,Q.key.path,m);U=U.add(Q.key.path.popLast()),L.push(h.put(S)),L.push(l.put(ge,Pw))}return U.forEach(Q=>{L.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.hn[m]=I.keys()}),we.waitFor(L).next(()=>I)})}lookupMutationBatch(e,t){return Iu(e).get(t).next(r=>r?(Nt(r.userId===this.userId),jh(this.M,r)):null)}ln(e,t){return this.hn[t]?we.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Iu(e).Wt({index:"userMutationsIndex",range:o},(h,m,I)=>{m.userId===this.userId&&(Nt(m.batchId>=r),l=jh(this.M,m)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Iu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Iu(e).qt("userMutationsIndex",t).next(r=>r.map(o=>jh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Gp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return zc(e).Wt({range:o},(h,m,I)=>{const[S,L,U]=h,Q=wo(L);if(S===this.userId&&t.path.isEqual(Q))return Iu(e).get(U).next(ge=>{if(!ge)throw ct();Nt(ge.userId===this.userId),l.push(jh(this.M,ge))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Wt);const o=[];return t.forEach(l=>{const h=Gp(this.userId,l.path),m=IDBKeyRange.lowerBound(h),I=zc(e).Wt({range:m},(S,L,U)=>{const[Q,ge,Re]=S,Je=wo(ge);Q===this.userId&&l.path.isEqual(Je)?r=r.add(Re):U.done()});o.push(I)}),we.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=Gp(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new Hn(Wt);return zc(e).Wt({range:h},(I,S,L)=>{const[U,Q,ge]=I,Re=wo(Q);U===this.userId&&r.isPrefixOf(Re)?Re.length===o&&(m=m.add(ge)):L.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Iu(e).get(l).next(h=>{if(null===h)throw ct();Nt(h.userId===this.userId),r.push(jh(this.M,h))}))}),we.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Xw(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),we.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return zc(e).Wt({range:r},(l,h,m)=>{if(l[0]===this.userId){const I=wo(l[1]);o.push(I)}else m.done()}).next(()=>{Nt(0===o.length)})})}containsKey(e,t){return eD(e,this.userId,t)}_n(e){return _0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eD(n,e,t){const r=Gp(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return zc(n).Wt({range:l,jt:!0},(m,I,S)=>{const[L,U,Q]=m;L===e&&U===o&&(h=!0),S.done()}).next(()=>h)}function Iu(n){return On(n,"mutations")}function zc(n){return On(n,"documentMutations")}function _0(n){return On(n,"mutationQueues")}class Kc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Kc(0)}static gn(){return new Kc(-1)}}class tD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Kc(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Ct.fromTimestamp(new Er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bh(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Bh(e).Wt((h,m)=>{const I=zp(m);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(o++,l.push(this.removeTargetData(e,I)))}).next(()=>we.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Bh(e).Wt((r,o)=>{const l=zp(o);t(l)})}yn(e){return rb(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}pn(e,t){return rb(e).put("targetGlobalKey",t)}In(e,t){return Bh(e).put(oy(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Bh(e).Wt({range:o,index:"queryTargetsIndex"},(h,m,I)=>{const S=zp(m);Np(t,S.target)&&(l=S,I.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Dl(e);return t.forEach(h=>{const m=ui(h.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),we.waitFor(o)}removeMatchingKeys(e,t,r){const o=Dl(e);return we.forEach(t,l=>{const h=ui(l.path);return we.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Dl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Dl(e);let l=Dn();return o.Wt({range:r,jt:!0},(h,m,I)=>{const S=wo(h[1]),L=new Ke(S);l=l.add(L)}).next(()=>l)}containsKey(e,t){const r=ui(t.path),o=IDBKeyRange.bound([r],[$I(r)],!1,!0);let l=0;return Dl(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,m],I,S)=>{0!==h&&(l++,S.done())}).next(()=>l>0)}Et(e,t){return Bh(e).get(t).next(r=>r?zp(r):null)}}function Bh(n){return On(n,"targets")}function rb(n){return On(n,"targetGlobal")}function Dl(n){return On(n,"targetDocuments")}function Zc(n){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,re.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==a0)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),Qp.apply(this,arguments)}function $h([n,e],[t,r]){const o=Wt(n,t);return 0===o?Wt(e,r):o}class ib{constructor(e){this.En=e,this.buffer=new Hn($h),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$h(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Be("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,re.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){El(o)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Zc(o)}yield t.vn(e)}))}}class nD{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve(Eo.A);const r=new ib(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(y0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,h,m,I,S;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,h=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,m=Date.now(),this.removeTargets(e,r,t))).next(U=>(l=U,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(S=Date.now(),A_()<=Ri.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-L}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(I-m)+`ms\n\tRemoved ${U} documents in `+(S-I)+`ms\nTotal Duration: ${S-L}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:U})))}}class Qc{constructor(e,t){this.db=e,this.garbageCollector=new nD(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Yp(e,r)}removeReference(e,t,r){return Yp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Yp(e,t)}Mn(e,t){return function(r,o){let l=!1;return _0(r).zt(h=>eD(r,h,o).next(m=>(m&&(l=!0),we.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(h,m)=>{if(m<=t){const I=this.Mn(e,h).next(S=>{if(!S)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Ct.min()),Dl(e).delete([0,ui(h.path)])))});o.push(I)}}).next(()=>we.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Yp(e,t)}kn(e,t){const r=Dl(e);let o,l=Eo.A;return r.Wt({index:"documentTargetsIndex"},([h,m],{path:I,sequenceNumber:S})=>{0===h?(l!==Eo.A&&t(new Ke(wo(o)),l),l=S,o=I):l=Eo.A}).next(()=>{l!==Eo.A&&t(new Ke(wo(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yp(n,e){return Dl(n).put((r=n.currentSequenceNumber,{targetId:0,path:ui(e.path),sequenceNumber:r}));var r}class py{constructor(){this.changes=new yu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E0{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return wu(e).put(r)}removeEntry(e,t,r){return wu(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],ks(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Vn.newInvalidDocument(t);return wu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fa(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Vn.newInvalidDocument(t)};return wu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fa(t))},(o,l)=>{r={document:this.Fn(t,l),size:fy(l)}}).next(()=>r)}getEntries(e,t){let r=Ps();return this.Bn(e,t,(o,l)=>{const h=this.Fn(o,l);r=r.insert(o,h)}).next(()=>r)}Ln(e,t){let r=Ps(),o=new Ir(Ke.comparator);return this.Bn(e,t,(l,h)=>{const m=this.Fn(l,h);r=r.insert(l,m),o=o.insert(l,fy(h))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return we.resolve();let o=new Hn(ab);t.forEach(I=>o=o.add(I));const l=IDBKeyRange.bound(Fa(o.first()),Fa(o.last())),h=o.getIterator();let m=h.getNext();return wu(e).Wt({index:"documentKeyIndex",range:l},(I,S,L)=>{const U=Ke.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;m&&ab(m,U)<0;)r(m,null),m=h.getNext();m&&m.isEqual(U)&&(r(m,S),m=h.hasNext()?h.getNext():null),m?L.Ut(Fa(m)):L.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),ks(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wu(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let m=Ps();for(const I of h){const S=this.Fn(Ke.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);m=m.insert(S.key,S)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Ps();const h=rD(t,r),m=rD(t,Io.max());return wu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(I,S,L)=>{const U=this.Fn(Ke.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(U.key,U),l.size===o&&L.done()}).next(()=>l)}newChangeBuffer(e){return new ob(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gy(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}On(e,t){return gy(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function c0(n,e){let t;if(e.document)t=e0(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),o=_u(e.noDocument.readTime);t=Vn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=Ke.fromSegments(e.unknownDocument.path),o=_u(e.unknownDocument.version);t=Vn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Er(r[0],r[1]);return Ct.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return Vn.newInvalidDocument(e)}}class ob extends py{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new yu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Hn((l,h)=>Wt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),h.isValidDocument()){const I=Ww(this.qn.M,h);o=o.add(l.path.popLast()),r+=fy(I)-m.size,t.push(this.qn.addEntry(e,l,I))}else if(r-=m.size,this.trackRemovals){const I=Ww(this.qn.M,h.convertToNoDocument(Ct.min()));t.push(this.qn.addEntry(e,l,I))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function gy(n){return On(n,"remoteDocumentGlobal")}function wu(n){return On(n,"remoteDocumentsV14")}function Fa(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rD(n,e){const t=e.documentKey.path.toArray();return[n,ks(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ab(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ke.comparator(n,e)}class eA{constructor(e){this.M=e}kt(e,t,r,o){const l=new qp("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ow,{unique:!0}),m.createObjectStore("documentMutations"),ub(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=we.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),ub(e)),h=h.next(()=>function(m){const I=m.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",S)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,I){return I.store("mutations").qt().next(S=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ow,{unique:!0});const L=I.store("mutations"),U=S.map(Q=>L.put(Q));return we.waitFor(U)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Kn(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(h=h.next(()=>this.jn(l))),r<8&&o>=8&&(h=h.next(()=>this.Wn(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.zn(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const I=m.createObjectStore("documentOverlays",{keyPath:YC});I.createIndex("collectionPathOverlayIndex",JC,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",ny,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const I=m.createObjectStore("remoteDocumentsV14",{keyPath:kw});I.createIndex("documentKeyIndex",GC),I.createIndex("collectionGroupIndex",qC)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:zC}).createIndex("sequenceNumberIndex",KC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:ZC}).createIndex("documentKeyIndex",QC,{unique:!1})}(e)})),h}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=fy(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>we.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(m=>we.forEach(m,I=>{Nt(I.userId===l.userId);const S=jh(this.M,I);return Xw(e,l.userId,S).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((h,m)=>{const I=new hn(h),S=[0,ui(I)];l.push(t.get(S).next(L=>L?we.resolve():t.put({targetId:0,path:ui(I),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>we.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:WC});const r=t.store("collectionParents"),o=new m0,l=h=>{if(o.add(h)){const m=h.lastSegment(),I=h.popLast();return r.put({collectionId:m,parent:ui(I)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,m)=>{const I=new hn(h);return l(I.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,m,I],S)=>{const L=wo(m);return l(L.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=zp(o),h=oy(this.M,l);return t.put(h)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,h)=>{const m=t.store("remoteDocumentsV14"),I=(S=h,S.document?new Ke(hn.fromString(S.document.name).popFirst(5)):S.noDocument?Ke.fromSegments(S.noDocument.path):S.unknownDocument?Ke.fromSegments(S.unknownDocument.path):ct()).path.toArray();var S;const L={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(L))}).next(()=>we.waitFor(o))}}function ub(n){n.createObjectStore("targetDocuments",{keyPath:Lw}).createIndex("documentTargetsIndex",Vw,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fw,{unique:!0}),n.createObjectStore("targetGlobal")}const my="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class I0{constructor(e,t,r,o,l,h,m,I,S,L,U=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=h,this.document=m,this.Yn=S,this.Xn=L,this.Zn=U,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Q=>Promise.resolve(),!I0.vt())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qc(this,o),this.cs=t+"main",this.M=new qw(I),this.hs=new Do(this.cs,this.Zn,new eA(this.M)),this.ls=new tD(this.referenceDelegate,this.M),this.fs=new E0(this.M),this.ds=new zw,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===L&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,my);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Eo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,re.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,re.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,re.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(El(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Hh(e).get("owner").next(t=>we.resolve(this.bs(t)))}Ps(e){return yy(e).delete(this.clientId)}Vs(){var e=this;return(0,re.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=On(r,"clientMetadata");return o.qt().next(l=>{const h=e.Ss(l,18e5),m=l.filter(I=>-1===h.indexOf(I));return we.forEach(m,I=>o.delete(I.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?we.resolve(!0):Hh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,my);return!1}}return!(!this.networkEnabled||!this.inForeground)||yy(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,re.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Gw(t,Eo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>yy(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return v0.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Jw(e)}getDocumentOverlayCache(e){return h0.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.Zn)?jw:13===h?ry:12===h?Uw:11===h?XC:void ct();var h;let m;return this.hs.runTransaction(e,o,l,I=>(m=new Gw(I,this.ts?this.ts.next():Eo.A),"readwrite-primary"===t?this.Ts(m).next(S=>!!S||this.Es(m)).next(S=>{if(!S)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Fe(_e.FAILED_PRECONDITION,a0);return r(m)}).next(S=>this.Rs(m).next(()=>S)):this.Fs(m).next(()=>r(m)))).then(I=>(m.raiseOnCommittedEvent(),I))}Fs(e){return Hh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,my)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hh(e).put("owner",t)}static vt(){return Do.vt()}As(e){const t=Hh(e);return t.get("owner").next(r=>this.bs(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):we.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hh(n){return On(n,"owner")}function yy(n){return On(n,"clientMetadata")}function w0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class iD{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):Wm(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Ke(t)).next(r=>{let o=jp();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=jp();return this.indexManager.getCollectionParents(e,o).next(h=>we.forEach(h,m=>{const I=(S=t,L=m.child(o),new Pa(L,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,L;return this.Ws(e,I,r).next(S=>{S.forEach((L,U)=>{l=l.insert(L,U)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const m of h.mutations){const I=m.key;let S=o.get(I);null==S&&(S=Vn.newInvalidDocument(I),o=o.insert(I,S)),Zm(m,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(I))}}).next(()=>(o.forEach((l,h)=>{uw(t,h)||(o=o.remove(l))}),o))}}class vy{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=Dn(),o=Dn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new vy(e,t.fromCache,r,o)}}class D0{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ct.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const h=this.ti(t,l);return(kc(t)||Gm(t))&&this.ei(t.limitType,h,o,r)?this.Zs(e,t):(A_()<=Ri.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Km(t)),this.Xs.Ks(e,t,F_(r,-1)).next(m=>(h.forEach(I=>{m=m.insert(I.key,I)}),m)))});var l}ti(e,t){let r=new Hn(lw(e));return t.forEach((o,l)=>{uw(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return A_()<=Ri.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Km(t)),this.Xs.Ks(e,t,Io.min())}}class lb{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Ir(Wt),this.ii=new yu(l=>Pc(l),Np),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new iD(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function sD(n,e,t,r){return new lb(n,e,t,r)}function C0(n,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,re.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const h=[],m=[];let I=Dn();for(const S of o){h.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}for(const S of l){m.push(S.batchId);for(const L of S.mutations)I=I.add(L.key)}return t.ai.qs(r,I).next(S=>({ci:S,removedBatchIds:h,addedBatchIds:m}))})})}),Jp.apply(this,arguments)}function tA(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(h,m,I,S){const L=I.batch,U=L.keys();let Q=we.resolve();return U.forEach(ge=>{Q=Q.next(()=>S.getEntry(m,ge)).next(Re=>{const Je=I.docVersions.get(ge);Nt(null!==Je),Re.version.compareTo(Je)<0&&(L.applyToRemoteDocument(Re,I),Re.isValidDocument()&&(Re.setReadTime(I.commitVersion),S.addEntry(Re)))})}),Q.next(()=>h.$s.removeMutationBatch(m,L))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function b0(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function T0(n,e){const t=Ye(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((S,L)=>{const U=o.get(L);if(!U)return;m.push(t.ls.removeMatchingKeys(l,S.removedDocuments,L).next(()=>t.ls.addMatchingKeys(l,S.addedDocuments,L)));let Q=U.withSequenceNumber(l.currentSequenceNumber);var ge,Re,Je;e.targetMismatches.has(L)?Q=Q.withResumeToken(ai.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(L,Q),Re=Q,Je=S,(0===(ge=U).resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||Je.addedDocuments.size+Je.modifiedDocuments.size+Je.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,Q))});let I=Ps();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),m.push(oD(l,h,e.documentUpdates).next(S=>{I=S})),!r.isEqual(Ct.min())){const S=t.ls.getLastRemoteSnapshotVersion(l).next(L=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(S)}return we.waitFor(m).next(()=>h.apply(l)).next(()=>t.ai.Gs(l,I)).next(()=>I)}).then(l=>(t.si=o,l))}function oD(n,e,t){let r=Dn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ps();return t.forEach((h,m)=>{const I=o.get(h);m.isNoDocument()&&m.version.isEqual(Ct.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!I.isValidDocument()||m.version.compareTo(I.version)>0||0===m.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",I.version," Watch version:",m.version)}),l})}function cb(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Gh(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,we.resolve(o)):t.ls.allocateTargetId(r).next(h=>(o=new Il(e,h,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function qh(n,e,t){return aD.apply(this,arguments)}function aD(){return aD=(0,re.Z)(function*(n,e,t){const r=Ye(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!El(h))throw h;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),aD.apply(this,arguments)}function _y(n,e,t){const r=Ye(n);let o=Ct.min(),l=Dn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,I,S){const L=Ye(m),U=L.ii.get(S);return void 0!==U?we.resolve(L.si.get(U)):L.ls.getTargetData(I,S)}(r,h,Ks(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(h,m.targetId).next(I=>{l=I})}).next(()=>r.ni.Ks(h,e,t?o:Ct.min(),t?l:Dn())).next(m=>(cD(r,U_(e),m),{documents:m,hi:l})))}function uD(n,e){const t=Ye(n),r=Ye(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function lD(n,e){const t=Ye(n),r=t.ri.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,F_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(cD(t,e,o),o))}function cD(n,e,t){let r=Ct.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function A0(){return A0=(0,re.Z)(function*(n,e,t,r){const o=Ye(n);let l=Dn(),h=Ps();for(const S of t){const L=e.li(S.metadata.name);S.document&&(l=l.add(L));const U=e.fi(S);U.setReadTime(e.di(S.metadata.readTime)),h=h.insert(L,U)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),I=yield Gh(o,(S=r,Ks(xh(hn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>oD(S,m,h).next(L=>(m.apply(S),L)).next(L=>o.ls.removeMatchingKeysForTargetId(S,I.targetId).next(()=>o.ls.addMatchingKeys(S,l,I.targetId)).next(()=>o.ai.Gs(S,L)).next(()=>L)))}),A0.apply(this,arguments)}function hb(n,e){return S0.apply(this,arguments)}function S0(){return S0=(0,re.Z)(function*(n,e,t=Dn()){const r=yield Gh(n,Ks(ay(e.bundledQuery))),o=Ye(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=_i(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.ds.saveNamedQuery(l,e);const m=r.withResumeToken(ai.EMPTY_BYTE_STRING,h);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(l,m).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),S0.apply(this,arguments)}class fb{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return we.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:_i(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:ay(r.bundledQuery),readTime:_i(r.readTime)}),we.resolve();var r}}class pb{constructor(){this.overlays=new Ir(Ke.comparator),this.mi=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),we.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const o=jc(),l=t.length+1,h=new Ke(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const I=m.getNext().value,S=I.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&I.largestBatchId>r&&o.set(I.getKey(),I)}return we.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Ir((S,L)=>S-L);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let L=l.get(S.largestBatchId);null===L&&(L=jc(),l=l.insert(S.largestBatchId,L)),L.set(S.getKey(),S)}}const m=jc(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((S,L)=>m.set(S,L)),!(m.size()>=o)););return we.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new sy(t,r));let l=this.mi.get(t);void 0===l&&(l=Dn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class M0{constructor(){this.gi=new Hn(Ei.yi),this.pi=new Hn(Ei.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ei(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ke(new hn([])),r=new Ei(t,e),o=new Ei(t,e+1),l=[];return this.pi.forEachInRange([r,o],h=>{this.Ei(h),l.push(h.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ke(new hn([])),r=new Ei(t,e),o=new Ei(t,e+1);let l=Dn();return this.pi.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ei(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ke.comparator(e.key,t.key)||Wt(e.Vi,t.Vi)}static Ii(e,t){return Wt(e.Vi,t.Vi)||Ke.comparator(e.key,t.key)}}class i{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Hn(Ei.yi)}checkEmpty(e){return we.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const h=new iy(l,t,r,o);this.$s.push(h);for(const m of o)this.Si=this.Si.add(new Ei(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return we.resolve(h)}lookupMutationBatch(e,t){return we.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return we.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return we.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),o=new Ei(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],h=>{const m=this.Di(h.Vi);l.push(m)}),we.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Wt);return t.forEach(o=>{const l=new Ei(o,0),h=new Ei(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,h],m=>{r=r.add(m.Vi)})}),we.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ke.isDocumentKey(l)||(l=l.child(""));const h=new Ei(new Ke(l),0);let m=new Hn(Wt);return this.Si.forEachWhile(I=>{const S=I.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(m=m.add(I.Vi)),!0)},h),we.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Nt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return we.forEach(t.mutations,o=>{const l=new Ei(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ei(t,0),o=this.Si.firstAfterOrEqual(r);return we.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return we.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class s{constructor(e){this.ki=e,this.docs=new Ir(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let r=Ps();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Vn.newInvalidDocument(o))}),we.resolve(r)}getAllFromCollection(e,t,r){let o=Ps();const l=new Ke(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:I}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||RC(JI(I),r)<=0||(o=o.insert(I.key,I.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ct()}Mi(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a(this)}getSize(e){return we.resolve(this.size)}}class a extends py{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class u{constructor(e){this.persistence=e,this.Oi=new yu(t=>Pc(t),Np),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Fi=0,this.$i=new M0,this.targetCount=0,this.Bi=Kc.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),we.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.In(t),we.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),we.waitFor(l).next(()=>o)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),we.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.$i.containsKey(t))}}class c{constructor(e,t){this.Li={},this.overlays={},this.ts=new Eo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new u(this),this.indexManager=new g0,this.fs=new s(r=>this.referenceDelegate.Ui(r)),this.M=new qw(t),this.ds=new fb(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new i(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const o=new f(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return we.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class f extends Bw{constructor(e){super(),this.currentSequenceNumber=e}}class v{constructor(e){this.persistence=e,this.Qi=new M0,this.ji=null}static Wi(e){return new v(e)}get zi(){if(this.ji)return this.ji;throw ct()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.zi,r=>{const o=Ke.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,Ct.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return we.or([()=>we.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function E(n,e){return`firestore_clients_${n}_${e}`}function D(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function M(n,e){return`firestore_targets_${n}_${e}`}class R{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Fe(o.error.code,o.error.message))),h?new R(e,t,o.state,l):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Fe(r.error.code,r.error.message))),l?new j(e,r.state,o):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Bp();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=KI(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new q(e,l):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class te{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new te(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ae{constructor(){this.activeTargetIds=Bp()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class je{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ir(Wt),this.started=!1,this.ir=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=E(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Ae),this.ar=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,re.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(E(e.persistenceKey,o));if(l){const h=q.Ji(o,l);h&&(e.sr=e.sr.insert(h.clientId,h))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(M(this.persistenceKey,e));if(r){const o=j.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(M(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,re.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let h=Eo.A;if(null!=l)try{const m=JSON.parse(l);Nt("number"==typeof m),h=m}catch(m){ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Eo.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new R(this.currentUser,e,t,r),l=D(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=D(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=M(this.persistenceKey,e),l=new j(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return q.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return R.Ji(new ji(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return j.Ji(o,t)}wr(e){return te.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,re.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),h=[],m=[];return l.forEach(I=>{o.has(I)||h.push(I)}),o.forEach(I=>{l.has(I)||m.push(I)}),this.syncEngine.Or(h,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Bp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Ze{constructor(){this.Fr=new Ae,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Ae,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lt{Br(e){}shutdown(){}}class ke{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class nn{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Cn extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const h=this.oo(e,t);Be("RestConnection","Sending: ",h,r);const m={};return this.uo(m,o,l),this.ao(e,h,m,r).then(I=>(Be("RestConnection","Received: ",I),I),I=>{throw Eh("RestConnection",`${e} failed with error: `,I,"url: ",h,"request:",r),I})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${wt[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,h)=>{const m=new FI;m.listenOnce(PI.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Lm.NO_ERROR:const S=m.getResponseJson();Be("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Lm.TIMEOUT:Be("Connection",'RPC "'+e+'" timed out'),h(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const L=m.getStatus();if(Be("Connection",'RPC "'+e+'" failed with status:',L,"response text:",m.getResponseText()),L>0){const U=m.getResponseJson().error;if(U&&U.status&&U.message){const Q=function(ge){const Re=ge.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(Re)>=0?Re:_e.UNKNOWN}(U.status);h(new Fe(Q,U.message))}else h(new Fe(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Be("Connection",'RPC "'+e+'" completed.')}});const I=JSON.stringify(o);m.send(t,"POST",I,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_r(),h=QT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new kI({})),this.uo(m.initMessageHeaders,t,r),(0,mt.uI)()||(0,mt.b$)()||(0,mt.d)()||(0,mt.w1)()||(0,mt.Mn)()||(0,mt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const I=o.join("");Be("Connection","Creating WebChannel: "+I,m);const S=l.createWebChannel(I,m);let L=!1,U=!1;const Q=new nn({jr:Re=>{U?Be("Connection","Not sending because WebChannel is closed:",Re):(L||(Be("Connection","Opening WebChannel transport."),S.open(),L=!0),Be("Connection","WebChannel sending:",Re),S.send(Re))},Wr:()=>S.close()}),ge=(Re,Je,bt)=>{Re.listen(Je,bn=>{try{bt(bn)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return ge(S,bp.EventType.OPEN,()=>{U||Be("Connection","WebChannel transport opened.")}),ge(S,bp.EventType.CLOSE,()=>{U||(U=!0,Be("Connection","WebChannel transport closed"),Q.eo())}),ge(S,bp.EventType.ERROR,Re=>{U||(U=!0,Eh("Connection","WebChannel transport errored:",Re),Q.eo(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),ge(S,bp.EventType.MESSAGE,Re=>{var Je;if(!U){const bt=Re.data[0];Nt(!!bt);const bn=bt,Ot=bn.error||(null===(Je=bn[0])||void 0===Je?void 0:Je.error);if(Ot){Be("Connection","WebChannel received error:",Ot);const dr=Ot.status;let Gt=function(rn){const Tl=lr[rn];if(void 0!==Tl)return _w(Tl)}(dr),fn=Ot.message;void 0===Gt&&(Gt=_e.INTERNAL,fn="Unknown error status: "+dr+" with message "+Ot.message),U=!0,Q.eo(new Fe(Gt,fn)),S.close()}else Be("Connection","WebChannel received:",bt),Q.no(bt)}}),ge(h,TC.STAT_EVENT,Re=>{Re.stat===T_.PROXY?Be("Connection","Detected buffering proxy"):Re.stat===T_.NOPROXY&&Be("Connection","Detected no buffering proxy")}),setTimeout(()=>{Q.Zr()},0),Q}}function Fs(){return"undefined"!=typeof window?window:null}function La(){return"undefined"!=typeof document?document:null}function Yc(n){return new ys(n,!0)}class Xp{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Ey{constructor(e,t,r,o,l,h,m,I){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=I,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Xp(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,re.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,re.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,re.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,re.Z)(function*(){e.state=0,e.start()}))}qo(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x0 extends Ey{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function t0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:ct(),o=e.targetChange.targetIds||[],l=function(I,S){return I.N?(Nt(void 0===S||"string"==typeof S),ai.fromBase64String(S||"")):(Nt(void 0===S||S instanceof Uint8Array),ai.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(I){const S=void 0===I.code?_e.UNKNOWN:_w(I.code);return new Fe(S,I.message||"")}(h);t=new Q_(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=qo(n,r.document.name),l=_i(r.document.updateTime),h=new yi({mapValue:{fields:r.document.fields}}),m=Vn.newFoundDocument(o,l,h);t=new $p(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=qo(n,r.document),l=r.readTime?_i(r.readTime):Ct.min(),h=Vn.newNoDocument(o,l);t=new $p([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=qo(n,r.document);t=new $p([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ct();{const r=e.filter,l=new kC(r.count||0);t=new Z_(r.targetId,l)}}var I;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Ct.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?_i(l.readTime):Ct.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Lh(this.M),t.addTarget=function(o,l){let h;const m=l.target;return h=gu(m)?{documents:ey(o,m)}:{query:Vh(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=Aw(o,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(h.readTime=ka(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function BC(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Lh(this.M),t.removeTarget=e,this.Oo(t)}}class R0 extends Ey{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function jC(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,o){let l=_i(r.updateTime?r.updateTime:o);return l.isEqual(Ct.min())&&(l=_i(o)),new fw(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Lh(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Hp(this.M,r))};this.Oo(t)}}class N0 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class O0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ar(t),this.su=!1):Be("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class P0{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,re.Z)(function*(){var I;Wh(h)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,re.Z)(function*(S){const L=Ye(S);L.lu.add(4),yield Iy(L),L._u.set("Unknown"),L.lu.delete(4),yield Jc(L)}),function(S){return I.apply(this,arguments)})(h))}))}),this._u=new O0(r,o)}}function Jc(n){return gb.apply(this,arguments)}function gb(){return gb=(0,re.Z)(function*(n){if(Wh(n))for(const e of n.fu)yield e(!0)}),gb.apply(this,arguments)}function Iy(n){return mb.apply(this,arguments)}function mb(){return mb=(0,re.Z)(function*(n){for(const e of n.fu)yield e(!1)}),mb.apply(this,arguments)}function dD(n,e){const t=Ye(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),_b(t)?vb(t):Dy(t).Co()&&yb(t,e))}function k0(n,e){const t=Ye(n),r=Dy(t);t.hu.delete(e),r.Co()&&nA(t,e),0===t.hu.size&&(r.Co()?r.ko():Wh(t)&&t._u.set("Unknown"))}function yb(n,e){n.wu.Z(e.targetId),Dy(n).Qo(e)}function nA(n,e){n.wu.Z(e),Dy(n).jo(e)}function vb(n){n.wu=new Dw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Dy(n).start(),n._u.iu()}function _b(n){return Wh(n)&&!Dy(n).Do()&&n.hu.size>0}function Wh(n){return 0===Ye(n).lu.size}function rA(n){n.wu=void 0}function bS(n){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,re.Z)(function*(n){n.hu.forEach((e,t)=>{yb(n,e)})}),Eb.apply(this,arguments)}function TS(n,e){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,re.Z)(function*(n,e){rA(n),_b(n)?(n._u.uu(e),vb(n)):n._u.set("Unknown")}),Ib.apply(this,arguments)}function AS(n,e,t){return wb.apply(this,arguments)}function wb(){return wb=(0,re.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Q_&&2===e.state&&e.cause)try{yield(r=(0,re.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hD(n,r)}else if(e instanceof $p?n.wu.ut(e):e instanceof Z_?n.wu._t(e):n.wu.ht(e),!t.isEqual(Ct.min()))try{const r=yield b0(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.wu.yt(l);return h.targetChanges.forEach((m,I)=>{if(m.resumeToken.approximateByteSize()>0){const S=o.hu.get(I);S&&o.hu.set(I,S.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const I=o.hu.get(m);if(!I)return;o.hu.set(m,I.withResumeToken(ai.EMPTY_BYTE_STRING,I.snapshotVersion)),nA(o,m);const S=new Il(I.target,m,1,I.sequenceNumber);yb(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield hD(n,r)}var r}),wb.apply(this,arguments)}function hD(n,e,t){return Db.apply(this,arguments)}function Db(){return Db=(0,re.Z)(function*(n,e,t){if(!El(e))throw e;n.lu.add(1),yield Iy(n),n._u.set("Offline"),t||(t=()=>b0(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Jc(n)}))}),Db.apply(this,arguments)}function iA(n,e){return e().catch(t=>hD(n,t,e))}function wy(n){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,re.Z)(function*(n){const e=Ye(n),t=zh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;SS(e);)try{const o=yield cb(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,MS(e,o)}catch(o){yield hD(e,o)}sA(e)&&oA(e)}),Cb.apply(this,arguments)}function SS(n){return Wh(n)&&n.cu.length<10}function MS(n,e){n.cu.push(e);const t=zh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function sA(n){return Wh(n)&&!zh(n).Do()&&n.cu.length>0}function oA(n){zh(n).start()}function xS(n){return bb.apply(this,arguments)}function bb(){return bb=(0,re.Z)(function*(n){zh(n).Xo()}),bb.apply(this,arguments)}function RS(n){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,re.Z)(function*(n){const e=zh(n);for(const t of n.cu)e.Ho(t.mutations)}),Tb.apply(this,arguments)}function NS(n,e,t){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,re.Z)(function*(n,e,t){const r=n.cu.shift(),o=l0.from(r,e,t);yield iA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield wy(n)}),Ab.apply(this,arguments)}function OS(n,e){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,re.Z)(function*(n,e){var t;e&&zh(n).zo&&(yield(t=(0,re.Z)(function*(r,o){if(vw(l=o.code)&&l!==_e.ABORTED){const h=r.cu.shift();zh(r).No(),yield iA(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield wy(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),sA(n)&&oA(n)}),Sb.apply(this,arguments)}function aA(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,re.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=Wh(t);t.lu.add(3),yield Iy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Jc(t)}),Mb.apply(this,arguments)}function xb(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,re.Z)(function*(n,e){const t=Ye(n);e?(t.lu.delete(2),yield Jc(t)):e||(t.lu.add(2),yield Iy(t),t._u.set("Unknown"))}),Rb.apply(this,arguments)}function Dy(n){return n.mu||(n.mu=function(e,t,r){const o=Ye(e);return o.tu(),new x0(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:bS.bind(null,n),Jr:TS.bind(null,n),Ko:AS.bind(null,n)}),n.fu.push(function(){var e=(0,re.Z)(function*(t){t?(n.mu.No(),_b(n)?vb(n):n._u.set("Unknown")):(yield n.mu.stop(),rA(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function zh(n){return n.gu||(n.gu=function(e,t,r){const o=Ye(e);return o.tu(),new R0(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:xS.bind(null,n),Jr:OS.bind(null,n),Yo:RS.bind(null,n),Jo:NS.bind(null,n)}),n.fu.push(function(){var e=(0,re.Z)(function*(t){t?(n.gu.No(),yield wy(n)):(yield n.gu.stop(),n.cu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Nb{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new Nb(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,e){if(ar("AsyncQueue",`${e}: ${n}`),El(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class by{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=jp(),this.sortedSet=new Ir(this.comparator)}static emptySet(e){return new by(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof by)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new by;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uA{constructor(){this.yu=new Ir(Ke.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ct():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ty{constructor(e,t,r,o,l,h,m,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=I}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ty(e,t,by.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class PS{constructor(){this.Iu=void 0,this.listeners=[]}}class kS{constructor(){this.queries=new yu(e=>V_(e),zm),this.onlineState="Unknown",this.Tu=new Set}}function Ob(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,re.Z)(function*(n,e){const t=Ye(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new PS),o)try{l.Iu=yield t.onListen(r)}catch(h){const m=Cy(h,`Initialization of query '${Km(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&Lb(t)}),Pb.apply(this,arguments)}function kb(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,re.Z)(function*(n,e){const t=Ye(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Fb.apply(this,arguments)}function FS(n,e){const t=Ye(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Au(o)&&(r=!0);h.Iu=o}}r&&Lb(t)}function LS(n,e,t){const r=Ye(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function Lb(n){n.Tu.forEach(e=>{e.next()})}class Vb{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ty(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ty.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class VS{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class lA{constructor(e){this.M=e}li(e){return qo(this.M,e)}fi(e){return e.metadata.exists?e0(this.M,e.document,!1):Vn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return _i(e)}}class US{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cA(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new lA(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Dn()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,re.Z)(function*(){const t=yield function db(n,e,t,r){return A0.apply(this,arguments)}(e.localStore,new lA(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield hb(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function cA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class fA{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Dn(),this.mutatedKeys=Dn(),this.Lu=lw(e),this.Uu=new by(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new uA,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const I=kc(this.query)&&o.size===this.query.limit?o.last():null,S=Gm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((L,U)=>{const Q=o.get(L),ge=uw(this.query,U)?U:null,Re=!!Q&&this.mutatedKeys.has(Q.key),Je=!!ge&&(ge.hasLocalMutations||this.mutatedKeys.has(ge.key)&&ge.hasCommittedMutations);let bt=!1;Q&&ge?Q.data.isEqual(ge.data)?Re!==Je&&(r.track({type:3,doc:ge}),bt=!0):this.Qu(Q,ge)||(r.track({type:2,doc:ge}),bt=!0,(I&&this.Lu(ge,I)>0||S&&this.Lu(ge,S)<0)&&(m=!0)):!Q&&ge?(r.track({type:0,doc:ge}),bt=!0):Q&&!ge&&(r.track({type:1,doc:Q}),bt=!0,(I||S)&&(m=!0)),bt&&(ge?(h=h.add(ge),l=Je?l.add(L):l.delete(L)):(h=h.delete(L),l=l.delete(L)))}),kc(this.query)||Gm(this.query))for(;h.size>this.query.limit;){const L=kc(this.query)?h.last():h.first();h=h.delete(L.key),l=l.delete(L.key),r.track({type:1,doc:L})}return{Uu:h,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((S,L)=>function(U,Q){const ge=Re=>{switch(Re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return ge(U)-ge(Q)}(S.type,L.type)||this.Lu(S.doc,L.doc)),this.ju(r);const h=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,I=m!==this.$u;return this.$u=m,0!==l.length||I?{snapshot:new Ty(this.query,e.Uu,o,l,e.mutatedKeys,0===m,I,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new uA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Dn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new hA(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new dA(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Dn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ty.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jS{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class BS{constructor(e){this.key=e,this.Xu=!1}}class $S{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Zu={},this.ta=new yu(m=>V_(m),zm),this.ea=new Map,this.na=new Set,this.sa=new Ir(Ke.comparator),this.ia=new Map,this.ra=new M0,this.oa={},this.ua=new Map,this.aa=Kc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function HS(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,re.Z)(function*(n,e){const t=uT(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const h=yield Gh(t.localStore,Ks(e));t.isPrimaryClient&&dD(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield jb(t,e,r,"current"===m)}return o}),Ub.apply(this,arguments)}function jb(n,e,t,r){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,re.Z)(function*(n,e,t,r){n.ha=(L,U,Q)=>{return(ge=(0,re.Z)(function*(Re,Je,bt,bn){let Ot=Je.view.Gu(bt);Ot.ei&&(Ot=yield _y(Re.localStore,Je.query,!1).then(({documents:fn})=>Je.view.Gu(fn,Ot)));const dr=bn&&bn.targetChanges.get(Je.targetId),Gt=Je.view.applyChanges(Ot,Re.isPrimaryClient,dr);return Yb(Re,Je.targetId,Gt.zu),Gt.snapshot}),function(Re,Je,bt,bn){return ge.apply(this,arguments)})(n,L,U,Q);var ge};const o=yield _y(n.localStore,e,!0),l=new fA(e,o.hi),h=l.Gu(o.documents),m=Fh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),I=l.applyChanges(h,n.isPrimaryClient,m);Yb(n,t,I.zu);const S=new jS(e,t,l);return n.ta.set(e,S),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),I.snapshot}),Bb.apply(this,arguments)}function GS(n,e){return $b.apply(this,arguments)}function $b(){return $b=(0,re.Z)(function*(n,e){const t=Ye(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!zm(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),k0(t.remoteStore,r.targetId),Ay(t,r.targetId)}).catch(Zc))):(Ay(t,r.targetId),yield qh(t.localStore,r.targetId,!0))}),$b.apply(this,arguments)}function Hb(){return Hb=(0,re.Z)(function*(n,e,t){const r=lT(n);try{const o=yield function(l,h){const m=Ye(l),I=Er.now(),S=h.reduce((U,Q)=>U.add(Q.key),Dn());let L;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>m.ai.qs(U,S).next(Q=>{L=Q;const ge=[];for(const Re of h){const Je=gw(Re,L.get(Re.key));null!=Je&&ge.push(new Ji(Re.key,Je,$m(Je.value.mapValue),qr.exists(!0)))}return m.$s.addMutationBatch(U,I,ge,h)})).then(U=>(U.applyToLocalDocumentSet(L),{batchId:U.batchId,changes:L}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let I=l.oa[l.currentUser.toKey()];I||(I=new Ir(Wt)),I=I.insert(h,m),l.oa[l.currentUser.toKey()]=I}(r,o.batchId,t),yield Xc(r,o.changes),yield wy(r.remoteStore)}catch(o){const l=Cy(o,"Failed to persist write");t.reject(l)}}),Hb.apply(this,arguments)}function pA(n,e){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,re.Z)(function*(n,e){const t=Ye(n);try{const r=yield T0(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.ia.get(l);h&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Xu=!0:o.modifiedDocuments.size>0?Nt(h.Xu):o.removedDocuments.size>0&&(Nt(h.Xu),h.Xu=!1))}),yield Xc(t,r,e)}catch(r){yield Zc(r)}}),Gb.apply(this,arguments)}function gA(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,h)=>{const m=h.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Ye(l);m.onlineState=h;let I=!1;m.queries.forEach((S,L)=>{for(const U of L.listeners)U.Eu(h)&&(I=!0)}),I&&Lb(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WS(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=(0,re.Z)(function*(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let h=new Ir(Ke.comparator);h=h.insert(l,Vn.newNoDocument(l,Ct.min()));const m=Dn().add(l),I=new Bc(Ct.min(),new Map,new Hn(Wt),h,m);yield pA(r,I),r.sa=r.sa.remove(l),r.ia.delete(e),Jb(r)}else yield qh(r.localStore,e,!1).then(()=>Ay(r,e,t)).catch(Zc)}),qb.apply(this,arguments)}function zS(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,re.Z)(function*(n,e){const t=Ye(n),r=e.batch.batchId;try{const o=yield tA(t.localStore,e);Qb(t,r,null),Zb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xc(t,o)}catch(o){yield Zc(o)}}),Wb.apply(this,arguments)}function KS(n,e,t){return zb.apply(this,arguments)}function zb(){return zb=(0,re.Z)(function*(n,e,t){const r=Ye(n);try{const o=yield function(l,h){const m=Ye(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let S;return m.$s.lookupMutationBatch(I,h).next(L=>(Nt(null!==L),S=L.keys(),m.$s.removeMutationBatch(I,L))).next(()=>m.$s.performConsistencyCheck(I)).next(()=>m.ai.qs(I,S))})}(r.localStore,e);Qb(r,e,t),Zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xc(r,o)}catch(o){yield Zc(o)}}),zb.apply(this,arguments)}function Kb(){return Kb=(0,re.Z)(function*(n,e){const t=Ye(n);Wh(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ye(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=Cy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Kb.apply(this,arguments)}function Zb(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Qb(n,e,t){const r=Ye(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function Ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||mA(n,r)})}function mA(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(k0(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Jb(n))}function Yb(n,e,t){for(const r of t)r instanceof dA?(n.ra.addReference(r.key,e),QS(n,r)):r instanceof hA?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||mA(n,r.key)):ct()}function QS(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.na.add(r),Jb(n))}function Jb(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ke(hn.fromString(e)),r=n.aa.next();n.ia.set(r,new BS(t)),n.sa=n.sa.insert(t,r),dD(n.remoteStore,new Il(Ks(xh(t.path)),r,2,Eo.A))}}function Xc(n,e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,re.Z)(function*(n,e,t){const r=Ye(n),o=[],l=[],h=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,I)=>{h.push(r.ha(I,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,S.fromCache?"not-current":"current"),o.push(S);const L=vy.Js(I.targetId,S);l.push(L)}}))}),yield Promise.all(h),r.Zu.Ko(o),yield(m=(0,re.Z)(function*(I,S){const L=Ye(I);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>we.forEach(S,Q=>we.forEach(Q.zs,ge=>L.persistence.referenceDelegate.addReference(U,Q.targetId,ge)).next(()=>we.forEach(Q.Hs,ge=>L.persistence.referenceDelegate.removeReference(U,Q.targetId,ge)))))}catch(U){if(!El(U))throw U;Be("LocalStore","Failed to update sequence numbers: "+U)}for(const U of S){const Q=U.targetId;if(!U.fromCache){const ge=L.si.get(Q),Je=ge.withLastLimboFreeSnapshotVersion(ge.snapshotVersion);L.si=L.si.insert(Q,Je)}}}),function(I,S){return m.apply(this,arguments)})(r.localStore,l))}),Xb.apply(this,arguments)}function YS(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,re.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield C0(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(h=>{h.forEach(m=>{m.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xc(t,r.ci)}var o}),eT.apply(this,arguments)}function JS(n,e){const t=Ye(n),r=t.ia.get(e);if(r&&r.Xu)return Dn().add(r.key);{let o=Dn();const l=t.ea.get(e);if(!l)return o;for(const h of l){const m=t.ta.get(h);o=o.unionWith(m.view.qu)}return o}}function XS(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,re.Z)(function*(n,e){const t=Ye(n),r=yield _y(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&Yb(t,e.targetId,o.zu),o}),tT.apply(this,arguments)}function eM(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,re.Z)(function*(n,e){const t=Ye(n);return lD(t.localStore,e).then(r=>Xc(t,r))}),nT.apply(this,arguments)}function tM(n,e,t,r){return rT.apply(this,arguments)}function rT(){return rT=(0,re.Z)(function*(n,e,t,r){const o=Ye(n),l=yield function(h,m){const I=Ye(h),S=Ye(I.$s);return I.persistence.runTransaction("Lookup mutation documents","readonly",L=>S.ln(L,m).next(U=>U?I.ai.qs(L,U):we.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield wy(o.remoteStore):"acknowledged"===t||"rejected"===t?(Qb(o,e,r||null),Zb(o,e),m=e,Ye(Ye(o.localStore).$s).dn(m)):ct(),yield Xc(o,l)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),rT.apply(this,arguments)}function iT(){return iT=(0,re.Z)(function*(n,e){const t=Ye(n);if(uT(t),lT(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield yA(t,r.toArray());t.ca=!0,yield xb(t.remoteStore,!0);for(const l of o)dD(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Ay(t,h),qh(t.localStore,h,!0))),k0(t.remoteStore,h)}),yield o,yield yA(t,r),function(l){const h=Ye(l);h.ia.forEach((m,I)=>{k0(h.remoteStore,I)}),h.ra.bi(),h.ia=new Map,h.sa=new Ir(Ke.comparator)}(t),t.ca=!1,yield xb(t.remoteStore,!1)}}),iT.apply(this,arguments)}function yA(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,re.Z)(function*(n,e,t){const r=Ye(n),o=[],l=[];for(const h of e){let m;const I=r.ea.get(h);if(I&&0!==I.length){m=yield Gh(r.localStore,Ks(I[0]));for(const S of I){const L=r.ta.get(S),U=yield XS(r,L);U.snapshot&&l.push(U.snapshot)}}else{const S=yield uD(r.localStore,h);m=yield Gh(r.localStore,S),yield jb(r,vA(S),h,!1)}o.push(m)}return r.Zu.Ko(l),o}),sT.apply(this,arguments)}function vA(n){return ow(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rM(n){const e=Ye(n);return Ye(Ye(e.localStore).persistence).Os()}function iM(n,e,t,r){return oT.apply(this,arguments)}function oT(){return oT=(0,re.Z)(function*(n,e,t,r){const o=Ye(n);if(o.ca)return void Be("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield lD(o.localStore,U_(l[0])),m=Bc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Xc(o,h,m);break}case"rejected":yield qh(o.localStore,e,!0),Ay(o,e,r);break;default:ct()}}),oT.apply(this,arguments)}function sM(n,e,t){return aT.apply(this,arguments)}function aT(){return aT=(0,re.Z)(function*(n,e,t){const r=uT(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Be("SyncEngine","Adding an already active target "+o);continue}const l=yield uD(r.localStore,o),h=yield Gh(r.localStore,l);yield jb(r,vA(l),h.targetId,!1),dD(r.remoteStore,h)}for(const o of t)r.ea.has(o)&&(yield qh(r.localStore,o,!1).then(()=>{k0(r.remoteStore,o),Ay(r,o)}).catch(Zc))}}),aT.apply(this,arguments)}function uT(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WS.bind(null,e),e.Zu.Ko=FS.bind(null,e.eventManager),e.Zu.la=LS.bind(null,e.eventManager),e}function lT(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KS.bind(null,e),e}class _A{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,re.Z)(function*(){t.M=Yc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return sD(this.persistence,new D0,e.initialUser,this.M)}_a(e){return new c(v.Wi,this.M)}da(e){return new Ze}terminate(){var e=this;return(0,re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class EA extends _A{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,re.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield lT(r.ga.syncEngine),yield wy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return sD(this.persistence,new D0,e.initialUser,this.M)}wa(e){return new sb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=w0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new I0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Fs(),La(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Ze}}class aM extends EA{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,re.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof je&&(r.sharedClientState.syncEngine={kr:tM.bind(null,o),Mr:iM.bind(null,o),Or:sM.bind(null,o),Os:rM.bind(null,o),Nr:eM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,re.Z)(function*(h){yield function nM(n,e){return iT.apply(this,arguments)}(r.ga.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}da(e){const t=Fs();if(!je.vt(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=w0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new je(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cT{initialize(e,t){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>gA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=YS.bind(null,r.syncEngine),yield xb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kS}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),r=new Cn(e.databaseInfo);return new N0(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>gA(this.syncEngine,m,0),h=ke.vt()?new ke:new lt,new P0(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,I,S){const L=new $S(r,o,l,h,m,I);return S&&(L.ca=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,re.Z)(function*(t){const r=Ye(t);Be("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Iy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IA(n,e=10240){let t=0;return{read:()=>(0,re.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,re.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class uM{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new gi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,re.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,re.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,re.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new VS(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,re.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,re.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,re.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class lM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,re.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,re.Z)(function*(l,h){const m=Ye(l),I=Lh(m.M)+"/documents",S={documents:h.map(ge=>Hc(m.M,ge))},L=yield m.co("BatchGetDocuments",I,S),U=new Map;L.forEach(ge=>{const Re=function Jm(n,e){return"found"in e?function(t,r){Nt(!!r.found);const o=qo(t,r.found.name),l=_i(r.found.updateTime),h=new yi({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const o=qo(t,r.missing),l=_i(r.readTime);return Vn.newNoDocument(o,l)}(n,e):ct()}(m.M,ge);U.set(Re.key.toString(),Re)});const Q=[];return h.forEach(ge=>{const Re=U.get(ge.toString());Nt(!!Re),Q.push(Re)}),Q}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,re.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ke.fromPath(o);e.mutations.push(new z_(l,e.precondition(l)))}),yield(r=(0,re.Z)(function*(o,l){const h=Ye(o),m=Lh(h.M)+"/documents",I={writes:l.map(S=>Hp(h.M,S))};yield h.ro("Commit",m,I)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qr.updateTime(t):qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(t)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cM{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new Xp(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,re.Z)(function*(){const t=new lM(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!fl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!vw(t)}return!1}}class dM{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ji.UNAUTHENTICATED,this.clientId=M_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,re.Z)(function*(m){Be("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Be("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Cy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function wA(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,re.Z)(function*(l){r.isEqual(l)||(yield C0(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dT.apply(this,arguments)}function DA(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fT(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>aA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>aA(e.remoteStore,l)),n.onlineComponents=e}),hT.apply(this,arguments)}function fT(n){return pT.apply(this,arguments)}function pT(){return pT=(0,re.Z)(function*(n){return n.offlineComponents||(Be("FirestoreClient","Using default OfflineComponentProvider"),yield wA(n,new _A)),n.offlineComponents}),pT.apply(this,arguments)}function pD(n){return gT.apply(this,arguments)}function gT(){return gT=(0,re.Z)(function*(n){return n.onlineComponents||(Be("FirestoreClient","Using default OnlineComponentProvider"),yield DA(n,new cT)),n.onlineComponents}),gT.apply(this,arguments)}function CA(n){return fT(n).then(e=>e.persistence)}function mT(n){return fT(n).then(e=>e.localStore)}function bA(n){return pD(n).then(e=>e.remoteStore)}function yT(n){return pD(n).then(e=>e.syncEngine)}function Sy(n){return vT.apply(this,arguments)}function vT(){return vT=(0,re.Z)(function*(n){const e=yield pD(n),t=e.eventManager;return t.onListen=HS.bind(null,e.syncEngine),t.onUnlisten=GS.bind(null,e.syncEngine),t}),vT.apply(this,arguments)}function TA(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(o,l,h,m,I){const S=new fD({next:U=>{l.enqueueAndForget(()=>kb(o,L));const Q=U.docs.has(h);!Q&&U.fromCache?I.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&U.fromCache&&m&&"server"===m.source?I.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new Vb(xh(h.path),S,{includeMetadataChanges:!0,Du:!0});return Ob(o,L)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}function AA(n,e,t={}){const r=new gi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(o,l,h,m,I){const S=new fD({next:U=>{l.enqueueAndForget(()=>kb(o,L)),U.fromCache&&"server"===m.source?I.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(U)},error:U=>I.reject(U)}),L=new Vb(h,S,{includeMetadataChanges:!0,Du:!0});return Ob(o,L)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}const SA=new Map;function _T(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MA(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xA(n){if(!Ke.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RA(n){if(Ke.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gD(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NA(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class OA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,MA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OA({}),this._settingsFrozen=!1,e instanceof Na?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(o.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VI;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=SA.get(e);t&&(Be("ComponentProvider","Removing Datastore"),SA.delete(e),t.terminate())}(this),Promise.resolve()}}class cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class Cl extends Ls{constructor(e,t,r){super(e,t,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new Ke(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function PA(n,e,...t){if(n=(0,mt.m9)(n),_T("collection","path",e),n instanceof F0){const r=hn.fromString(e,...t);return RA(r),new Cl(n,null,r)}{if(!(n instanceof cr||n instanceof Cl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return RA(r),new Cl(n.firestore,null,r)}}function mD(n,e,...t){if(n=(0,mt.m9)(n),1===arguments.length&&(e=M_.R()),_T("doc","path",e),n instanceof F0){const r=hn.fromString(e,...t);return xA(r),new cr(n,null,new Ke(r))}{if(!(n instanceof cr||n instanceof Cl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return xA(r),new cr(n.firestore,n instanceof Cl?n.converter:null,new Ke(r))}}function kA(n,e){return n=(0,mt.m9)(n),e=(0,mt.m9)(e),(n instanceof cr||n instanceof Cl)&&(e instanceof cr||e instanceof Cl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function FA(n,e){return n=(0,mt.m9)(n),e=(0,mt.m9)(e),n instanceof Ls&&e instanceof Ls&&n.firestore===e.firestore&&zm(n._query,e._query)&&n.converter===e.converter}class wM{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Xp(this,"async_queue_retry"),this.Ua=()=>{const t=La();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=La();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=La();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new gi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,re.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!El(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,ar("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=Nb.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&ct()}verifyOperationInProgress(){}ja(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function ET(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class DM{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends F0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new wM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LA(this),this._firestoreClient.terminate()}}function Ii(n){return n._firestoreClient||LA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LA(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xC(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new dM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function VA(n,e,t){const r=new gi;return n.asyncQueue.enqueue((0,re.Z)(function*(){try{yield wA(n,t),yield DA(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===_e.FAILED_PRECONDITION||l.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function UA(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ed{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(ai.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bl(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class eg{constructor(e){this._methodName=e}}class yD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const OM=/^__.*__$/;class PM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uc(e,this.data,t,this.fieldTransforms)}}class jA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class vD{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new vD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return ID(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(BA(this.Ya)&&OM.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class kM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Yc(e)}uc(e,t,r,o=!1){return new vD({Ya:e,methodName:t,oc:r,path:mi.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function tg(n){const e=n._freezeSettings(),t=Yc(n._databaseId);return new kM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _D(n,e,t,r,o,l={}){const h=n.uc(l.merge||l.mergeFields?2:0,e,t,o);CT("Data must be an object, but it was:",h,r);const m=GA(r,h);let I,S;if(l.merge)I=new wh(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const L=[];for(const U of l.mergeFields){const Q=bT(e,U,t);if(!h.contains(Q))throw new Fe(_e.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);WA(L,Q)||L.push(Q)}I=new wh(L),S=h.fieldTransforms.filter(U=>I.covers(U.field))}else I=null,S=h.fieldTransforms;return new PM(new yi(m),I,S)}class L0 extends eg{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof L0}}function $A(n,e,t){return new vD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class IT extends eg{_toFieldTransform(e){return new Nh(e.path,new Lc)}isEqual(e){return e instanceof IT}}class FM extends eg{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=$A(this,e,!0),r=this.ac.map(l=>ng(l,t)),o=new yl(r);return new Nh(e.path,o)}isEqual(e){return this===e}}class LM extends eg{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=$A(this,e,!0),r=this.ac.map(l=>ng(l,t)),o=new vl(r);return new Nh(e.path,o)}isEqual(e){return this===e}}class VM extends eg{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Vc(e.M,$_(e.M,this.cc));return new Nh(e.path,t)}isEqual(e){return this===e}}function wT(n,e,t,r){const o=n.uc(1,e,t);CT("Data must be an object, but it was:",o,r);const l=[],h=yi.empty();Mc(r,(I,S)=>{const L=ED(e,I,t);S=(0,mt.m9)(S);const U=o.nc(L);if(S instanceof L0)l.push(L);else{const Q=ng(S,U);null!=Q&&(l.push(L),h.set(L,Q))}});const m=new wh(l);return new jA(h,m,o.fieldTransforms)}function DT(n,e,t,r,o,l){const h=n.uc(1,e,t),m=[bT(e,r,t)],I=[o];if(l.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)m.push(bT(e,l[Q])),I.push(l[Q+1]);const S=[],L=yi.empty();for(let Q=m.length-1;Q>=0;--Q)if(!WA(S,m[Q])){const ge=m[Q];let Re=I[Q];Re=(0,mt.m9)(Re);const Je=h.nc(ge);if(Re instanceof L0)S.push(ge);else{const bt=ng(Re,Je);null!=bt&&(S.push(ge),L.set(ge,bt))}}const U=new wh(S);return new jA(L,U,h.fieldTransforms)}function HA(n,e,t,r=!1){return ng(t,n.uc(r?4:3,e))}function ng(n,e){if(qA(n=(0,mt.m9)(n)))return CT("Unsupported field value:",e,n),GA(n,e);if(n instanceof eg)return function(t,r){if(!BA(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=ng(h,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $_(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Er.fromDate(t);return{timestampValue:ka(r.M,o)}}if(t instanceof Er){const o=new Er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ka(r.M,o)}}if(t instanceof yD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bl)return{bytesValue:Aw(r.M,t._byteString)};if(t instanceof cr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$c(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${gD(t)}`)}(n,e)}function GA(n,e){const t={};return GI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mc(n,(r,o)=>{const l=ng(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function qA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof yD||n instanceof bl||n instanceof cr||n instanceof eg)}function CT(n,e,t){if(!qA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function bT(n,e,t){if((e=(0,mt.m9)(e))instanceof ed)return e._internalPath;if("string"==typeof e)return ED(n,e);throw ID("Field path arguments must be of type string or ",n,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function ED(n,e,t){if(e.search(UM)>=0)throw ID(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch(r){throw ID(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ID(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let I="";return(l||h)&&(I+=" (found",l&&(I+=` in field ${r}`),h&&(I+=` in document ${o}`),I+=")"),new Fe(_e.INVALID_ARGUMENT,m+n+I)}function WA(n,e){return n.some(t=>t.isEqual(e))}class V0{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jM extends V0{data(){return super.data()}}function wD(n,e){return"string"==typeof e?ED(n,e):e instanceof ed?e._internalPath:e._delegate._internalPath}class rg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class td extends V0{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class U0 extends td{data(e={}){return super.data(e)}}class Kh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new U0(this._firestore,this._userDataWriter,r.key,r,new rg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new U0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new U0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rg(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,S=-1;return 0!==h.type&&(I=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:BM(h.type),doc:m,oldIndex:I,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function zA(n,e){return n instanceof td&&e instanceof td?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kh&&e instanceof Kh&&n._firestore===e._firestore&&FA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function KA(n){if(Gm(n)&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j0{}function Zh(n,...e){for(const t of e)n=t._apply(n);return n}class $M extends j0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=tg(e.firestore),r=function(o,l,h,m,I,S,L){let U;if(I.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){eS(L,S);const ge=[];for(const Re of L)ge.push(XA(m,o,Re));U={arrayValue:{values:ge}}}else U=XA(m,o,L)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||eS(L,S),U=HA(h,"where",L,"in"===S||"not-in"===S);const Q=Bi.create(I,S,U);return function(ge,Re){if(Re.S()){const bt=qm(ge);if(null!==bt&&!bt.isEqual(Re.field))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${bt.toString()}' and '${Re.field.toString()}'`);const bn=aw(ge);null!==bn&&tS(0,Re.field,bn)}const Je=function(bt,bn){for(const Ot of bt.filters)if(bn.indexOf(Ot.op)>=0)return Ot.op;return null}(ge,function(bt){switch(bt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Re.op));if(null!==Je)throw new Fe(_e.INVALID_ARGUMENT,Je===Re.op?`Invalid query. You cannot use more than one '${Re.op.toString()}' filter.`:`Invalid query. You cannot use '${Re.op.toString()}' filters with '${Je.toString()}' filters.`)}(o,Q),Q}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ls(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Pa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class GM extends j0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new mu(o,l);return function(m,I){if(null===aw(m)){const S=qm(m);null!==S&&tS(0,S,I.field)}}(r,h),h}(e._query,this.hc,this.dc);return new Ls(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Pa(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ZA extends j0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Ls(e.firestore,e.converter,Fc(e._query,this._c,this.wc))}}class QA extends j0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=JA(e,this.type,this.mc,this.gc);return new Ls(e.firestore,e.converter,(o=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class YA extends j0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=JA(e,this.type,this.mc,this.gc);return new Ls(e.firestore,e.converter,(o=t,new Pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function JA(n,e,t,r){if(t[0]=(0,mt.m9)(t[0]),t[0]instanceof V0)return function(o,l,h,m,I){if(!m)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const L of Go(o))if(L.field.isKeyField())S.push(bh(l,m.key));else{const U=m.data.field(L.field);if(Um(U))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Q=L.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Q}' (used as the orderBy) does not exist.`)}S.push(U)}return new Ho(S,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=tg(n.firestore);return function(l,h,m,I,S,L){const U=l.explicitOrderBy;if(S.length>U.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Q=[];for(let ge=0;ge<S.length;ge++){const Re=S[ge];if(U[ge].field.isKeyField()){if("string"!=typeof Re)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Re}`);if(!Wm(l)&&-1!==Re.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Re}' contains a slash.`);const Je=l.path.child(hn.fromString(Re));if(!Ke.isDocumentKey(Je))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${Je}' is not because it contains an odd number of segments.`);const bt=new Ke(Je);Q.push(bh(h,bt))}else{const Je=HA(m,I,Re);Q.push(Je)}}return new Ho(Q,L)}(n._query,n.firestore._databaseId,o,e,t,r)}}function XA(n,e,t){if("string"==typeof(t=(0,mt.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wm(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!Ke.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bh(n,new Ke(r))}if(t instanceof cr)return bh(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gD(t)}.`)}function eS(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function tS(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TT{convertValue(e,t="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return Mc(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new yD(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=hl(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);Nt(s0(r));const o=new Na(r.get(1),r.get(3)),l=new Ke(r.popFirst(5));return o.isEqual(t)||ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function DD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JM extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}class nS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tg(e)}set(e,t,r){this._verifyNotCommitted();const o=Qh(e,this._firestore),l=DD(o.converter,t,r),h=_D(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,qr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Qh(e,this._firestore);let h;return h="string"==typeof(t=(0,mt.m9)(t))||t instanceof ed?DT(this._dataReader,"WriteBatch.update",l._key,t,r,o):wT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qh(e,this._firestore);return this._mutations=this._mutations.concat(new Vp(t._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qh(n,e){if((n=(0,mt.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ig extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}function rS(n,e,t){n=yn(n,cr);const r=yn(n.firestore,wr),o=DD(n.converter,e,t);return My(r,[_D(tg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,qr.none())])}function iS(n,e,t,...r){n=yn(n,cr);const o=yn(n.firestore,wr),l=tg(o);let h;return h="string"==typeof(e=(0,mt.m9)(e))||e instanceof ed?DT(l,"updateDoc",n._key,e,t,r):wT(l,"updateDoc",n._key,e),My(o,[h.toMutation(n._key,qr.exists(!0))])}function sS(n,...e){var t,r,o;n=(0,mt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||ET(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(ET(e[h])){const U=e[h];e[h]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[h+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[h+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let I,S,L;if(n instanceof cr)S=yn(n.firestore,wr),L=xh(n._key.path),I={next:U=>{e[h]&&e[h](AT(S,n,U))},error:e[h+1],complete:e[h+2]};else{const U=yn(n,Ls);S=yn(U.firestore,wr),L=U._query;const Q=new ig(S);I={next:ge=>{e[h]&&e[h](new Kh(S,Q,U,ge))},error:e[h+1],complete:e[h+2]},KA(n._query)}return function(U,Q,ge,Re){const Je=new fD(Re),bt=new Vb(Q,Je,ge);return U.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return Ob(yield Sy(U),bt)})),()=>{Je.pa(),U.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return kb(yield Sy(U),bt)}))}}(Ii(S),L,m,I)}function My(n,e){return function(t,r){const o=new gi;return t.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function qS(n,e,t){return Hb.apply(this,arguments)}(yield yT(t),r,o)})),o.promise}(Ii(n),e)}function AT(n,e,t){const r=t.docs.get(e._key),o=new ig(n);return new td(n,o,e._key,r,new rg(t.hasPendingWrites,t.fromCache),e.converter)}class ux extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=tg(e)}get(e){const t=Qh(e,this._firestore),r=new JM(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ct();const l=o[0];if(l.isFoundDocument())return new V0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new V0(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const o=Qh(e,this._firestore),l=DD(o.converter,t,r),h=_D(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Qh(e,this._firestore);let h;return h="string"==typeof(t=(0,mt.m9)(t))||t instanceof ed?DT(this._dataReader,"Transaction.update",l._key,t,r,o):wT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qh(e,this._firestore),r=new ig(this._firestore);return super.get(e).then(o=>new td(this._firestore,r,t._key,o._document,new rg(!1,!1),t.converter))}}function ST(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function aS(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function uS(){if(!function Dh(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_h=Dt.SDK_VERSION,(0,Dt._registerComponent)(new $n.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new wr(o,new SC(t.getProvider("auth-internal")),new YT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Dt.registerVersion)(LI,"3.4.7",n),(0,Dt.registerVersion)(LI,"3.4.7","esm2017")}();class B0{constructor(e){this._delegate=e}static fromBase64String(e){return uS(),new B0(bl.fromBase64String(e))}static fromUint8Array(e){return aS(),new B0(bl.fromUint8Array(e))}toBase64(){return uS(),this._delegate.toBase64()}toUint8Array(){return aS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MT(n){return function yx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vx{enableIndexedDbPersistence(e,t){return function bM(n,e){UA(n=yn(n,wr));const t=Ii(n),r=n._freezeSettings(),o=new cT;return VA(t,o,new EA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TM(n){UA(n=yn(n,wr));const e=Ii(n),t=n._freezeSettings(),r=new cT;return VA(e,r,new aM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function AM(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{yield(t=(0,re.Z)(function*(r){if(!Do.vt())return Promise.resolve();const o=r+"main";yield Do.delete(o)}),function(r){return t.apply(this,arguments)})(w0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Na||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Eh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function EM(n,e,t,r={}){var o;const l=(n=yn(n,F0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Eh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=ji.MOCK_USER;else{h=(0,mt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ji(I)}n._authCredentials=new UI(new S_(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function MM(n){return function hM(n){return n.asyncQueue.enqueue((0,re.Z)(function*(){const e=yield CA(n),t=yield bA(n);return e.setNetworkEnabled(!0),function(r){const o=Ye(r);return o.lu.delete(0),Jc(o)}(t)}))}(Ii(n=yn(n,wr)))}(this._delegate)}disableNetwork(){return function xM(n){return function fM(n){return n.asyncQueue.enqueue((0,re.Z)(function*(){const e=yield CA(n),t=yield bA(n);return e.setNetworkEnabled(!1),(r=(0,re.Z)(function*(o){const l=Ye(o);l.lu.add(0),yield Iy(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Ii(n=yn(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,MA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SM(n){return function(e){const t=new gi;return e.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function ZS(n,e){return Kb.apply(this,arguments)}(yield yT(e),t)})),t.promise}(Ii(n=yn(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function ax(n,e){return function mM(n,e){const t=new fD(e);return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield Sy(n),o=t,Ye(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return r=yield Sy(n),o=t,void Ye(r).Tu.delete(o);var r,o}))}}(Ii(n=yn(n,wr)),ET(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xy(this,PA(this._delegate,e))}catch(t){throw Zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,mD(this._delegate,e))}catch(t){throw Zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Qs(this,function IM(n,e){if(n=yn(n,F0),_T("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ls(n,null,(t=e,new Pa(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lx(n,e){return function yM(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){const r=yield(o=n,pD(o).then(l=>l.datastore));var o;new cM(n.asyncQueue,r,e,t).run()})),t.promise}(Ii(n=yn(n,wr)),t=>e(new ux(n,t)))}(this._delegate,t=>e(new cS(this,t)))}batch(){return Ii(this._delegate),new dS(new nS(this._delegate,e=>My(this._delegate,e)))}loadBundle(e){return function RM(n,e){const t=Ii(n=yn(n,wr)),r=new DM;return function vM(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,I=function(I,S){if(I instanceof Uint8Array)return IA(I,S);if(I instanceof ArrayBuffer)return IA(new Uint8Array(I),S);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new uM(I,h);var I}(t,Yc(e));n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){!function oM(n,e,t){const r=Ye(n);var o;(o=(0,re.Z)(function*(l,h,m){try{const I=yield h.getMetadata();if(yield function(Q,ge){const Re=Ye(Q),Je=_i(ge.createTime);return Re.persistence.runTransaction("hasNewerBundle","readonly",bt=>Re.ds.getBundleMetadata(bt,ge.id)).then(bt=>!!bt&&bt.createTime.compareTo(Je)>=0)}(l.localStore,I))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(Q=I).totalDocuments,bytesLoaded:Q.totalBytes,totalDocuments:Q.totalDocuments,totalBytes:Q.totalBytes}),Promise.resolve(new Set);m._updateProgress(cA(I));const S=new US(I,l.localStore,h.M);let L=yield h.fa();for(;L;){const Q=yield S.Nu(L);Q&&m._updateProgress(Q),L=yield h.fa()}const U=yield S.complete();return yield Xc(l,U.Ou,void 0),yield function(Q,ge){const Re=Ye(Q);return Re.persistence.runTransaction("Save bundle","readwrite",Je=>Re.ds.saveBundleMetadata(Je,ge))}(l.localStore,I),m._completeWith(U.progress),Promise.resolve(U.Mu)}catch(I){return Eh("SyncEngine",`Loading bundle failed with ${I}`),m._failWith(I),Promise.resolve(new Set)}var Q}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield yT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function NM(n,e){return function _M(n,e){return n.asyncQueue.enqueue((0,re.Z)(function*(){return function(t,r){const o=Ye(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield mT(n),e)}))}(Ii(n=yn(n,wr)),e).then(t=>t?new Ls(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Qs(this,t):null)}}class CD extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new B0(new bl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class cS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new CD(e)}get(e){const t=og(e);return this._delegate.get(t).then(r=>new $0(this._firestore,new td(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=og(e);return r?(ST("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=og(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=og(e);return this._delegate.delete(t),this}}class dS{constructor(e){this._delegate=e}set(e,t,r){const o=og(e);return r?(ST("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=og(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=og(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new H0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=sg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new sg(e,new CD(e),t),o.set(t,l)),l}}sg.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new cr(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new Va(t,new cr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xy(this.firestore,PA(this._delegate,e))}catch(t){throw Zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mt.m9)(e))instanceof cr&&kA(this._delegate,e)}set(e,t){t=ST("DocumentReference.set",t);try{return t?rS(this._delegate,e,t):rS(this._delegate,e)}catch(r){throw Zs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?iS(this._delegate,e):iS(this._delegate,e,t,...r)}catch(o){throw Zs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function sx(n){return My(yn(n.firestore,wr),[new Vp(n._key,qr.none())])}(this._delegate)}onSnapshot(...e){const t=hS(e),r=fS(e,o=>new $0(this.firestore,new td(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return sS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ex(n){n=yn(n,cr);const e=yn(n.firestore,wr),t=Ii(e),r=new ig(e);return function pM(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(o,l,h){try{const m=yield function(I,S){const L=Ye(I);return L.persistence.runTransaction("read document","readonly",U=>L.ai.Bs(U,S))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const I=Cy(m,`Failed to get document '${l} from cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield mT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new td(e,r,n._key,o,new rg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function tx(n){n=yn(n,cr);const e=yn(n.firestore,wr);return TA(Ii(e),n._key,{source:"server"}).then(t=>AT(e,n,t))}(this._delegate):function XM(n){n=yn(n,cr);const e=yn(n.firestore,wr);return TA(Ii(e),n._key).then(t=>AT(e,n,t))}(this._delegate),t.then(r=>new $0(this.firestore,new td(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}function Zs(n,e,t){return n.message=n.message.replace(e,t),n}function hS(n){for(const e of n)if("object"==typeof e&&!MT(e))return e;return{}}function fS(n,e){var t,r;let o;return o=MT(n[0])?n[0]:MT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class $0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zA(this._delegate,e._delegate)}}class H0 extends $0{data(e){const t=this._delegate.data(e);return function Tp(n,e){n||ct()}(void 0!==t),t}}class Qs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new CD(e)}where(e,t,r){try{return new Qs(this.firestore,Zh(this._delegate,function HM(n,e,t){const r=e,o=wD("where",n);return new $M(o,r,t)}(e,t,r)))}catch(o){throw Zs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Qs(this.firestore,Zh(this._delegate,function qM(n,e="asc"){const t=e,r=wD("orderBy",n);return new GM(r,t)}(e,t)))}catch(r){throw Zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Qs(this.firestore,Zh(this._delegate,function WM(n){return NA("limit",n),new ZA("limit",n,"F")}(e)))}catch(t){throw Zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Qs(this.firestore,Zh(this._delegate,function zM(n){return NA("limitToLast",n),new ZA("limitToLast",n,"L")}(e)))}catch(t){throw Zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Qs(this.firestore,Zh(this._delegate,function KM(...n){return new QA("startAt",n,!0)}(...e)))}catch(t){throw Zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Qs(this.firestore,Zh(this._delegate,function ZM(...n){return new QA("startAfter",n,!1)}(...e)))}catch(t){throw Zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Qs(this.firestore,Zh(this._delegate,function QM(...n){return new YA("endBefore",n,!1)}(...e)))}catch(t){throw Zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Qs(this.firestore,Zh(this._delegate,function YM(...n){return new YA("endAt",n,!0)}(...e)))}catch(t){throw Zs(t,"endAt()","Query.endAt()")}}isEqual(e){return FA(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rx(n){n=yn(n,Ls);const e=yn(n.firestore,wr),t=Ii(e),r=new ig(e);return function gM(n,e){const t=new gi;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(o,l,h){try{const m=yield _y(o,l,!0),I=new fA(l,m.hi),S=I.Gu(m.documents),L=I.applyChanges(S,!1);h.resolve(L.snapshot)}catch(m){const I=Cy(m,`Failed to execute query '${l} against cache`);h.reject(I)}}),function(o,l,h){return r.apply(this,arguments)})(yield mT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Kh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function ix(n){n=yn(n,Ls);const e=yn(n.firestore,wr),t=Ii(e),r=new ig(e);return AA(t,n._query,{source:"server"}).then(o=>new Kh(e,r,n,o))}(this._delegate):function nx(n){n=yn(n,Ls);const e=yn(n.firestore,wr),t=Ii(e),r=new ig(e);return KA(n._query),AA(t,n._query).then(o=>new Kh(e,r,n,o))}(this._delegate),t.then(r=>new xT(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=hS(e),r=fS(e,o=>new xT(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return sS(this._delegate,t,r)}withConverter(e){return new Qs(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}class Ex{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new H0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new H0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ex(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new H0(this._firestore,r))})}isEqual(e){return zA(this._delegate,e._delegate)}}class xy extends Qs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?mD(this._delegate):mD(this._delegate,e))}catch(t){throw Zs(t,"doc()","CollectionReference.doc()")}}add(e){return function ox(n,e){const t=yn(n.firestore,wr),r=mD(n),o=DD(n.converter,e);return My(t,[_D(tg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return kA(this._delegate,e._delegate)}withConverter(e){return new xy(this.firestore,this._delegate.withConverter(e?sg.getInstance(this.firestore,e):null))}}function og(n){return yn(n,cr)}class RT{constructor(...e){this._delegate=new ed(...e)}static documentId(){return new RT(mi.keyField().canonicalString())}isEqual(e){return(e=(0,mt.m9)(e))instanceof ed&&this._delegate._internalPath.isEqual(e._internalPath)}}class ag{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dx(){return new IT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ag(e)}static delete(){const e=function cx(){return new L0("deleteField")}();return e._methodName="FieldValue.delete",new ag(e)}static arrayUnion(...e){const t=function hx(...n){return new FM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ag(t)}static arrayRemove(...e){const t=function fx(...n){return new LM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ag(t)}static increment(e){const t=function px(n){return new VM("increment",n)}(e);return t._methodName="FieldValue.increment",new ag(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ix={Firestore:lS,GeoPoint:yD,Timestamp:Er,Blob:B0,Transaction:cS,WriteBatch:dS,DocumentReference:Va,DocumentSnapshot:$0,Query:Qs,QueryDocumentSnapshot:H0,QuerySnapshot:xT,CollectionReference:xy,FieldPath:RT,FieldValue:ag,setLogLevel:function _x(n){!function AC(n){_o.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function pS(n,e){return function Cx(n,e=Vu.z){return new Rt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function NT(n,e){return pS(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function bD(n,e){return NT(n,e).pipe(Z(void 0),Ov(),(0,Tt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const I=o.find(L=>L.doc.ref.isEqual(h.ref)),S=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(h.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(h.metadata)||!I&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function gS(n,e,t){return bD(n,t).pipe(Ge((r,o)=>function Tx(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Ax(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function KT(n,e=As.y){return n=null!=n?n:ZT,(0,ni.e)((t,r)=>{let o,l=!0;t.subscribe((0,zn.x)(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,Tt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function OT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function mS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Dx(n){(function wx(n,e){n.INTERNAL.registerComponent(new $n.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Ix)))})(n,(e,t)=>new lS(e,t,new vx)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(fC.Z);class yS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Z(void 0),Ov(),ir(([r,o])=>o.length>0||!r),(0,Tt.U)(([r,o])=>o),Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ge((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mS(e);return gS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return NT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Yn.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(Yn.iC)}add(e){return this.ref.add(e)}doc(e){return new vS(this.ref.doc(e),this.afs)}}class vS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=IS(r,t);return new yS(o,l,this.afs)}snapshotChanges(){return function bx(n,e){return pS(n,e).pipe(Z(void 0),Ov(),(0,Tt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Xe.D)(this.ref.get(e)).pipe(Yn.iC)}}class Sx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ir(t=>t.length>0),Yn.iC):bD(this.query,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ge((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mS(e);return gS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return NT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Yn.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(Yn.iC)}}const _S=new g.InjectionToken("angularfire2.enableFirestorePersistence"),ES=new g.InjectionToken("angularfire2.firestore.persistenceSettings"),Mx=new g.InjectionToken("angularfire2.firestore.settings"),xx=new g.InjectionToken("angularfire2.firestore.use-emulator");function IS(n,e=(t=>t)){return{query:e(n),ref:n}}let wS=(()=>{class n{constructor(t,r,o,l,h,m,I,S,L,U,Q,ge,Re,Je,bt,bn,Ot){this.schedulers=I;const dr=(0,sr.on)(t,m,r),Gt=L;U&&co(dr,m,Q,Re,Je,bt,ge,bn),[this.firestore,this.persistenceEnabled$]=(0,sr.cc)(`${dr.name}.firestore`,"AngularFirestore",dr.name,()=>{const fn=m.runOutsideAngular(()=>dr.firestore());if(l&&fn.settings(l),Gt&&fn.useEmulator(...Gt),o&&!(0,w.isPlatformServer)(h)){const rn=()=>{try{return(0,Xe.D)(fn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Tl){return"undefined"!=typeof console&&console.warn(Tl),Mt(!1)}};return[fn,m.runOutsideAngular(rn)]}return[fn,Mt(!1)]},[l,Gt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=IS(o,r),m=this.schedulers.ngZone.run(()=>l);return new yS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new Sx(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new vS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(sr.Dh),g.\u0275\u0275inject(sr.xv,8),g.\u0275\u0275inject(_S,8),g.\u0275\u0275inject(Mx,8),g.\u0275\u0275inject(g.PLATFORM_ID),g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(Yn.HU),g.\u0275\u0275inject(ES,8),g.\u0275\u0275inject(xx,8),g.\u0275\u0275inject(Ca,8),g.\u0275\u0275inject(Mg,8),g.\u0275\u0275inject(Af,8),g.\u0275\u0275inject(Hr,8),g.\u0275\u0275inject(ec,8),g.\u0275\u0275inject(tc,8),g.\u0275\u0275inject(xg,8),g.\u0275\u0275inject(Ju,8))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rx=(()=>{class n{constructor(){Sg.Z.registerVersion("angularfire",Yn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:_S,useValue:!0},{provide:ES,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({providers:[wS]}),n})();const Nx=["signupForm"],Ox=["loginForm"],G0=function(n){return{"is-invalid":n}};let Px=(()=>{class n{constructor(t,r,o){this.flashMessage=t,this.router=r,this.usersService=o,this.isLoginForm=!0,this.user={username:"",email:"",password:""}}ngOnInit(){}onSignup({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.signup(this.user).then(o=>{this.log("Account created successfully!","alert-success"),this.signupForm.reset(),this.isLoginForm=!0}).catch(o=>{this.log(o,"alert-danger")})}onLogin({valid:r}){if(!r)return this.log("Please fill the form correctly and submit again","alert-danger");this.usersService.login(this.user.email,this.user.password).then(o=>{this.log("Logged in successfully!","alert-success"),this.router.navigate(["/quote/add"])}).catch(o=>this.log(o.message,"alert-danger"))}log(t,r){this.flashMessage.show(t,{cssClass:r,timeout:5e3})}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(eu.GQ),g.\u0275\u0275directiveInject(Gr),g.\u0275\u0275directiveInject(gc))},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-account"]],viewQuery:function(t,r){if(1&t&&(g.\u0275\u0275viewQuery(Nx,5),g.\u0275\u0275viewQuery(Ox,5)),2&t){let o;g.\u0275\u0275queryRefresh(o=g.\u0275\u0275loadQuery())&&(r.signupForm=o.first),g.\u0275\u0275queryRefresh(o=g.\u0275\u0275loadQuery())&&(r.loginForm=o.first)}},decls:70,vars:31,consts:[[1,"account"],[1,"container"],[1,"row"],[1,"col-10","col-lg-5","col-md-8","text-dark","mx-auto"],[1,"form-side","signup","p-5","gradient",3,"ngClass"],[1,"text-center","pb-3","text-danger"],[3,"ngSubmit"],["signupForm","ngForm"],[1,"form-group"],["type","text","name","username","placeholder","Enter username","required","","minlength","4",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupUsername","ngModel"],[1,"invalid-feedback","text-danger",3,"hidden"],["type","email","name","email","placeholder","Enter email address","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","","minlength","8",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["signupPassword","ngModel"],[1,"text-center"],["type","submit","value","Signup",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","pt-4"],[1,"toggler","to-login","text-danger",3,"click"],[1,"form-side","login","gradient","p-5",3,"ngClass"],[1,"text-center","text-danger","pb-3"],["loginForm","ngForm"],["type","email","name","email","placeholder","Enter username","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginEmail","ngModel"],["type","password","name","password","placeholder","Enter password","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["loginPassword","ngModel"],["type","submit","value","Login",1,"btn","px-4","py-2","mt-4","btn-danger"],[1,"text-center","mt-4"],["routerLink","/account",1,"nav-link","text-danger"],[1,"pt-3"],[1,"toggler","to-signup","text-danger",3,"click"]],template:function(t,r){if(1&t){const o=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"strong"),g.\u0275\u0275text(7,"Create Account"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(8,"form",6,7),g.\u0275\u0275listener("ngSubmit",function(){g.\u0275\u0275restoreView(o);const h=g.\u0275\u0275reference(9);return r.onSignup(h)}),g.\u0275\u0275elementStart(10,"div",8),g.\u0275\u0275text(11," Username "),g.\u0275\u0275elementStart(12,"input",9,10),g.\u0275\u0275listener("ngModelChange",function(h){return r.user.username=h}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(14,"div",11),g.\u0275\u0275text(15," Username required "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"div",11),g.\u0275\u0275text(17," Must be at least 5 characters "),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(18,"div",8),g.\u0275\u0275text(19," Email Address "),g.\u0275\u0275elementStart(20,"input",12,13),g.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(22,"div",11),g.\u0275\u0275text(23," Email required "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(24,"div",11),g.\u0275\u0275text(25," Enter a valid email address "),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(26,"div",8),g.\u0275\u0275text(27," Password "),g.\u0275\u0275elementStart(28,"input",14,15),g.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(30,"div",11),g.\u0275\u0275text(31," Password required "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(32,"div",11),g.\u0275\u0275text(33," Must be at least 8 characters "),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(34,"div",16),g.\u0275\u0275element(35,"input",17),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(36,"p",18),g.\u0275\u0275text(37," Have an account? "),g.\u0275\u0275elementStart(38,"strong",19),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(o);const h=g.\u0275\u0275reference(9);return r.isLoginForm=!r.isLoginForm,h.reset()}),g.\u0275\u0275text(39,"Login"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(40,"div",20)(41,"h2",21)(42,"strong"),g.\u0275\u0275text(43,"Login"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(44,"form",6,22),g.\u0275\u0275listener("ngSubmit",function(){g.\u0275\u0275restoreView(o);const h=g.\u0275\u0275reference(45);return r.onLogin(h)}),g.\u0275\u0275elementStart(46,"div",8),g.\u0275\u0275text(47," Email Address "),g.\u0275\u0275elementStart(48,"input",23,24),g.\u0275\u0275listener("ngModelChange",function(h){return r.user.email=h}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(50,"div",11),g.\u0275\u0275text(51," Email required "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(52,"div",11),g.\u0275\u0275text(53," Enter a valid emaill address "),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(54,"div",8),g.\u0275\u0275text(55," Password "),g.\u0275\u0275elementStart(56,"input",25,26),g.\u0275\u0275listener("ngModelChange",function(h){return r.user.password=h}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(58,"div",11),g.\u0275\u0275text(59," Password required "),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(60,"div",16),g.\u0275\u0275element(61,"input",27),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(62,"div",28)(63,"a",29)(64,"strong"),g.\u0275\u0275text(65,"Forgot Password?"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(66,"p",30),g.\u0275\u0275text(67," Don't have an account? "),g.\u0275\u0275elementStart(68,"strong",31),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(o);const h=g.\u0275\u0275reference(45);return r.isLoginForm=!r.isLoginForm,h.reset()}),g.\u0275\u0275text(69,"Signup"),g.\u0275\u0275elementEnd()()()()()()()()}if(2&t){const o=g.\u0275\u0275reference(13),l=g.\u0275\u0275reference(21),h=g.\u0275\u0275reference(29),m=g.\u0275\u0275reference(49),I=g.\u0275\u0275reference(57);g.\u0275\u0275advance(4),g.\u0275\u0275property("ngClass",r.isLoginForm?"form-side--back":"form-side--front"),g.\u0275\u0275advance(8),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(21,G0,o.errors&&o.touched))("ngModel",r.user.username),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.required)),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=o.errors&&o.errors.minlength)),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(23,G0,l.errors&&l.touched))("ngModel",r.user.email),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.pattern)),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(25,G0,h.errors&&h.touched))("ngModel",r.user.password),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.required)),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=h.errors&&h.errors.minlength)),g.\u0275\u0275advance(8),g.\u0275\u0275property("ngClass",r.isLoginForm?"":"form-side--back"),g.\u0275\u0275advance(8),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(27,G0,m.errors&&m.touched))("ngModel",r.user.email),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.required)),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=m.errors&&m.errors.pattern)),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(29,G0,I.errors&&I.touched))("ngModel",r.user.password),g.\u0275\u0275advance(2),g.\u0275\u0275property("hidden",!(null!=I.errors&&I.errors.required))}},directives:[w.NgClass,Ka,Ti,ro,St,xi,ha,So,sa,cs,cu],styles:[".form-side[_ngcontent-%COMP%]{position:absolute;transition:all 10.8s ease;width:100%;height:35rem;top:0;left:0;overflow:hidden;transition:all .8s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-shadow:0 0 40px #eee3e3;border-radius:5px;margin-top:10%}.form-side--back[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.form-side--front[_ngcontent-%COMP%]{transform:rotateY(0)}.toggler[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent}.toggler[_ngcontent-%COMP%]:hover{text-shadow:0px 5px 5px rgba(136,87,87,.808)}"]}),n})(),PT=(()=>{class n{constructor(t,r){this.afs=t,this.router=r,this.quotesCollection=t.collection("quotes",o=>o.orderBy("createdDate","desc"))}addQuote(t){this.quotesCollection.add(t).then(r=>this.router.navigate(["/"]))}updateQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.update(t)}deleteQuote(t){this.quoteDoc=this.afs.doc(`quotes/${t.id}`),this.quoteDoc.delete()}getQuotes(){return this.quotes=this.quotesCollection.snapshotChanges().pipe((0,Tt.U)(t=>t.map(r=>{const o=r.payload.doc.data();return o.id=r.payload.doc.id,o})))}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275inject(wS),g.\u0275\u0275inject(Gr))},n.\u0275prov=g.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kx(n,e){1&n&&(g.\u0275\u0275elementStart(0,"div",5)(1,"h2",6),g.\u0275\u0275text(2,"Create an account to add, like or dislike a quote"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"a",7),g.\u0275\u0275text(4,"Create Account"),g.\u0275\u0275elementEnd()())}function Fx(n,e){if(1&n){const t=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"form",8),g.\u0275\u0275listener("ngSubmit",function(){g.\u0275\u0275restoreView(t);const o=g.\u0275\u0275nextContext();return o.onSubmit(o.quote.text)}),g.\u0275\u0275elementStart(1,"h2",9),g.\u0275\u0275text(2,"Create and Publish a Quote"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"div",10)(4,"textarea",11),g.\u0275\u0275listener("ngModelChange",function(o){return g.\u0275\u0275restoreView(t),g.\u0275\u0275nextContext().quote.text=o}),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(5,"div",12),g.\u0275\u0275element(6,"input",13),g.\u0275\u0275elementEnd()()}if(2&n){const t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275property("ngModel",t.quote.text),g.\u0275\u0275advance(2),g.\u0275\u0275property("disabled",t.quote.text.length<25)}}let Lx=(()=>{class n{constructor(t,r){this.userService=t,this.quoteService=r,this.quote={text:"",author:{username:"",id:""},published:!1,createdDate:"",likes:[],dislikes:[]}}ngOnInit(){this.userService.afAuth.user.subscribe(t=>this.user=t)}onSubmit(t){this.quote.author={username:this.user.displayName,id:this.user.uid},this.quote.createdDate=Date.now(),this.quoteService.addQuote(this.quote)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(gc),g.\u0275\u0275directiveInject(PT))},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-add-quote"]],decls:5,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-10","col-lg-6","py-5","mx-auto","quote-form"],["class","text-center mt-4",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"text-center","mt-4"],[1,"text-danger"],["routerLink","/account",1,"btn","btn-outline-danger","my-5"],[3,"ngSubmit"],[1,"text-center","text-danger"],[1,"form-group","py-4"],["type","text","name","text","placeholder","Write your quote here...","minlength","25",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit","value","Create Post",1,"btn","btn-danger",3,"disabled"]],template:function(t,r){1&t&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),g.\u0275\u0275template(3,kx,5,0,"div",3),g.\u0275\u0275template(4,Fx,7,2,"form",4),g.\u0275\u0275elementEnd()()()),2&t&&(g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",!r.user),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.user))},directives:[w.NgIf,cu,Ka,Ti,ro,St,ha,So,sa],styles:[".quote-form[_ngcontent-%COMP%]{box-shadow:0 0 40px #92727288;border-radius:4px;margin-top:10%;padding:30px}"]}),n})();function Vx(n,e){1&n&&(g.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),g.\u0275\u0275text(4,"Loading quotes ..."),g.\u0275\u0275elementEnd()()()())}function Ux(n,e){if(1&n){const t=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",22)(1,"button",23),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(t);const o=g.\u0275\u0275nextContext().$implicit;return g.\u0275\u0275nextContext(2).delete(o)}),g.\u0275\u0275element(2,"i",24),g.\u0275\u0275elementEnd()()}}function jx(n,e){if(1&n&&(g.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"p")(6,"strong"),g.\u0275\u0275text(7),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275template(8,Ux,3,0,"div",12),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(9,"div",13)(10,"small"),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"date"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(13,"div",14)(14,"div",15)(15,"div",16)(16,"button",17),g.\u0275\u0275element(17,"span",18),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(18,"span",19),g.\u0275\u0275text(19),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(20,"div",16)(21,"button",20),g.\u0275\u0275element(22,"span",21),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(23,"span",19),g.\u0275\u0275text(24),g.\u0275\u0275elementEnd()()()()()()),2&n){const t=e.$implicit,r=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate(t.text),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.user&&r.user.uid===t.author.id),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("Date: ",g.\u0275\u0275pipeBind2(12,7,t.createdDate,"short"),""),g.\u0275\u0275advance(5),g.\u0275\u0275property("disabled",t.author.id===(null==r.user?null:r.user.uid)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1(" \xa0",null==t.likes?null:t.likes.length," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("disabled",t.author.id===(null==r.user?null:r.user.uid)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("\xa0",null==t.dislikes?null:t.dislikes.length,"")}}function Bx(n,e){if(1&n&&(g.\u0275\u0275elementStart(0,"div",1)(1,"h2",5),g.\u0275\u0275text(2,"Your Published Quotes"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"div",2),g.\u0275\u0275template(4,jx,25,10,"div",6),g.\u0275\u0275elementEnd()()),2&n){const t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275property("ngForOf",t.userQuotes)}}function $x(n,e){1&n&&(g.\u0275\u0275elementStart(0,"div",1)(1,"div",25)(2,"div",3)(3,"h2"),g.\u0275\u0275text(4,"You don't have any quotes"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(5,"a",26),g.\u0275\u0275text(6,"Create A Quote"),g.\u0275\u0275elementEnd()()()())}let Hx=(()=>{class n{constructor(t,r){this.userService=t,this.quoteService=r,this.loaded=!1}ngOnInit(){this.userService.afAuth.authState.subscribe(t=>this.user=t),this.quoteService.getQuotes().subscribe(t=>{this.userQuotes=t.filter(r=>{var o;return r.author.id===(null===(o=this.user)||void 0===o?void 0:o.uid)}),this.loaded=!0})}delete(t){confirm("Are you sure you want to delete?")&&this.quoteService.deleteQuote(t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(gc),g.\u0275\u0275directiveInject(PT))},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-profile"]],decls:3,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-lg-6","text-center","mx-auto","mt-5"],[1,"mt-5"],[1,"text-center","py-5","text-danger"],["class","col-lg-6 mx-auto",4,"ngFor","ngForOf"],[1,"col-lg-6","mx-auto"],[1,"card","card-body","quote-card","my-3"],[1,"card-title"],[1,"row","no-gutters"],[1,"col-11","col-lg-11","m-0","p-0"],["class","col-1 m-0 p-0",4,"ngIf"],[1,"card-footer","mt-2","pl-2"],[1,"card-text","pl-2"],[1,"row","mt-2"],[1,"col-4","col-sm-3","col-lg-3"],[1,"btn","vote-btn","btn-sm","btn-outline-info",3,"disabled"],[1,"fa","fa-arrow-up","vote","upvote"],[1,"votes-count"],[1,"btn","vote-btn","btn-sm","btn-outline-danger",3,"disabled"],[1,"fa","fa-arrow-down","vote","downvote"],[1,"col-1","m-0","p-0"],[1,"btn","delete-quote",3,"click"],[1,"fa","fa-trash","text-right","text-danger"],[1,"row","mt-5"],["routerLink","/quote/add",1,"btn","btn-danger"]],template:function(t,r){1&t&&(g.\u0275\u0275template(0,Vx,5,0,"div",0),g.\u0275\u0275template(1,Bx,5,1,"div",0),g.\u0275\u0275template(2,$x,7,0,"div",0)),2&t&&(g.\u0275\u0275property("ngIf",!r.loaded),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.loaded&&r.userQuotes.length>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.loaded&&0===r.userQuotes.length))},directives:[w.NgIf,w.NgForOf,cu],pipes:[w.DatePipe],styles:[""]}),n})(),Gx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-quote-detail"]],decls:2,vars:0,template:function(t,r){1&t&&(g.\u0275\u0275elementStart(0,"p"),g.\u0275\u0275text(1,"quote-detail works!"),g.\u0275\u0275elementEnd())},styles:[""]}),n})();function qx(n,e){if(1&n){const t=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",21)(1,"button",22),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(t);const o=g.\u0275\u0275nextContext().$implicit;return g.\u0275\u0275nextContext(2).delete(o)}),g.\u0275\u0275element(2,"i",23),g.\u0275\u0275elementEnd()()}}function Wx(n,e){if(1&n){const t=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"p",9)(6,"strong")(7,"span",10),g.\u0275\u0275text(8,'"'),g.\u0275\u0275elementEnd(),g.\u0275\u0275text(9),g.\u0275\u0275elementStart(10,"span",10),g.\u0275\u0275text(11,'"'),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275template(12,qx,3,0,"div",11),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(13,"div",12)(14,"small"),g.\u0275\u0275text(15,"Quoted by: "),g.\u0275\u0275elementStart(16,"strong"),g.\u0275\u0275text(17),g.\u0275\u0275pipe(18,"titlecase"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275element(19,"br"),g.\u0275\u0275elementStart(20,"small"),g.\u0275\u0275text(21),g.\u0275\u0275pipe(22,"timeago"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(23,"div",13)(24,"div",14)(25,"div",15)(26,"button",16),g.\u0275\u0275listener("click",function(){const l=g.\u0275\u0275restoreView(t).$implicit,h=g.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.upvote(l,h.user.uid)}),g.\u0275\u0275element(27,"span",17),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(28,"span",18),g.\u0275\u0275text(29),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(30,"div",15)(31,"button",19),g.\u0275\u0275listener("click",function(){const l=g.\u0275\u0275restoreView(t).$implicit,h=g.\u0275\u0275nextContext(2);return h.user&&h.user.uid!==l.author.id&&h.downvote(l,h.user.uid)}),g.\u0275\u0275element(32,"span",20),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(33,"span",18),g.\u0275\u0275text(34),g.\u0275\u0275elementEnd()()()()()()}if(2&n){const t=e.$implicit,r=g.\u0275\u0275nextContext(2);g.\u0275\u0275advance(9),g.\u0275\u0275textInterpolate(t.text),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",r.user&&r.user.uid===t.author.id),g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(18,8,t.author.username)),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1("Date: ",g.\u0275\u0275pipeBind1(22,10,t.createdDate),""),g.\u0275\u0275advance(5),g.\u0275\u0275property("disabled",t.author.id===(null==r.user?null:r.user.uid)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1(" \xa0",null==t.likes?null:t.likes.length," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("disabled",t.author.id===(null==r.user?null:r.user.uid)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("\xa0",null==t.dislikes?null:t.dislikes.length,"")}}function zx(n,e){if(1&n&&(g.\u0275\u0275elementStart(0,"div",2),g.\u0275\u0275template(1,Wx,35,12,"div",3),g.\u0275\u0275elementEnd()),2&n){const t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",t.quotes)}}function Kx(n,e){1&n&&(g.\u0275\u0275elementStart(0,"div",2)(1,"div",24)(2,"h2",25),g.\u0275\u0275text(3,"Loading quotes..."),g.\u0275\u0275elementEnd()()())}const Zx=[{path:"",component:(()=>{class n{constructor(t,r){this.quoteService=t,this.userService=r,this.loading=!0,this.quotes=[]}ngOnInit(){this.quoteService.getQuotes().subscribe(t=>{this.quotes=t,this.loading=!1}),this.userService.afAuth.authState.subscribe(t=>this.user=t)}upvote(t,r){var o,l,h,m;t.dislikes=null===(o=t.dislikes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.likes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.likes)||void 0===h||h.push(r):t.likes=null===(m=t.likes)||void 0===m?void 0:m.filter(I=>I!==r),this.quoteService.updateQuote(t)}downvote(t,r){var o,l,h,m;t.likes=null===(o=t.likes)||void 0===o?void 0:o.filter(I=>I!==r),-1===(null===(l=t.dislikes)||void 0===l?void 0:l.indexOf(r))?null===(h=t.dislikes)||void 0===h||h.push(r):t.dislikes=null===(m=t.dislikes)||void 0===m?void 0:m.filter(I=>I!==r),this.quoteService.updateQuote(t)}delete(t){confirm("Are you sure? ")&&this.quoteService.deleteQuote(t)}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(PT),g.\u0275\u0275directiveInject(gc))},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-quotes"]],decls:3,vars:2,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"card","card-body","quote-card","my-3"],[1,"card-title"],[1,"row","no-gutters"],[1,"col-11","col-lg-11","m-0","p-0"],[1,"quote-text"],[1,"quotation","text-danger"],["class","col-1 m-0 p-0",4,"ngIf"],[1,"card-footer","mt-2","pl-2"],[1,"card-text","pl-2"],[1,"row","mt-2"],[1,"col-4","col-sm-3","col-lg-3"],[1,"btn","vote-btn","btn-sm","btn-outline-info",3,"disabled","click"],[1,"fa","fa-arrow-up","vote","upvote"],[1,"votes-count"],[1,"btn","vote-btn","btn-sm","btn-outline-danger",3,"disabled","click"],[1,"fa","fa-arrow-down","vote","downvote"],[1,"col-1","m-0","p-0"],[1,"btn","delete-quote",3,"click"],[1,"fa","fa-trash","text-right","text-danger"],[1,"col-lg-6","mx-auto"],[1,"text-center","mt-5"]],template:function(t,r){1&t&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275template(1,zx,2,1,"div",1),g.\u0275\u0275template(2,Kx,4,0,"div",1),g.\u0275\u0275elementEnd()),2&t&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!r.loading&&r.quotes.length>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",r.loading))},directives:[w.NgIf,w.NgForOf],pipes:[w.TitleCasePipe,Ea],styles:[""]}),n})()},{path:"account",component:Px},{path:"quote/detail/:id",component:Gx},{path:"quote/add",component:Lx},{path:"profile",component:Hx}];let Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=g.\u0275\u0275defineInjector({imports:[[$E.forRoot(Zx)],$E]}),n})();function Yx(n,e){if(1&n){const t=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),g.\u0275\u0275text(3,"Add Quote"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(4,"li",8)(5,"a",10),g.\u0275\u0275text(6,"Profile"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(7,"button",11),g.\u0275\u0275listener("click",function(){return g.\u0275\u0275restoreView(t),g.\u0275\u0275nextContext().logout()}),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"titlecase"),g.\u0275\u0275elementEnd()()}if(2&n){const t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(8),g.\u0275\u0275textInterpolate1(" Hi ",g.\u0275\u0275pipeBind1(9,1,t.user.displayName),", Logout ")}}function Jx(n,e){1&n&&(g.\u0275\u0275elementStart(0,"ul",7)(1,"li",8)(2,"a",9),g.\u0275\u0275text(3,"Add Quote"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(4,"li",8)(5,"a",12),g.\u0275\u0275text(6,"Account"),g.\u0275\u0275elementEnd()()())}let Xx=(()=>{class n{constructor(t){this.userService=t}ngOnInit(){this.userService.afAuth.authState.subscribe(t=>this.user=t)}logout(){this.userService.logout()}}return n.\u0275fac=function(t){return new(t||n)(g.\u0275\u0275directiveInject(gc))},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-navbar"]],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-sm","navbar-light","bg-danger","sticky-top"],[1,"container"],["routerLink","/",1,"navbar-brand","text-white"],["data-toggle","collapse","data-target","#main-nav","type","button",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","main-nav",1,"collapse","navbar-collapse"],["class","navbar-nav ml-auto",4,"ngIf"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","quote/add",1,"nav-link"],["routerLink","/profile",1,"nav-link"],[1,"btn","btn-sm",3,"click"],["routerLink","/account",1,"nav-link"]],template:function(t,r){1&t&&(g.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),g.\u0275\u0275text(3,"QuotesApp"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"button",3),g.\u0275\u0275element(5,"span",4),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(6,"div",5),g.\u0275\u0275template(7,Yx,10,3,"ul",6),g.\u0275\u0275template(8,Jx,7,0,"ul",6),g.\u0275\u0275elementEnd()()()),2&t&&(g.\u0275\u0275advance(7),g.\u0275\u0275property("ngIf",r.user),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!r.user))},directives:[cu,w.NgIf],pipes:[w.TitleCasePipe],styles:[""]}),n})(),eR=(()=>{class n{constructor(){this.title="quotes-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&g.\u0275\u0275element(0,"app-navbar")(1,"flash-messages")(2,"router-outlet")},directives:[Xx,eu.cS,pv],styles:[""]}),n})(),tR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.\u0275\u0275defineNgModule({type:n,bootstrap:[eR]}),n.\u0275inj=g.\u0275\u0275defineInjector({providers:[gc],imports:[[ts,ko,fg.forRoot(),eu.qz.forRoot(),Qx,sr.hO.initializeApp(KE_firebase,"clientpanel"),Rx,Sf]]}),n})();(0,g.enableProdMode)(),Di().bootstrapModule(tR).catch(n=>console.error(n))},5867:(at,be,F)=>{"use strict";F.d(be,{Mq:()=>w.getApp,C6:()=>w.getApps});var w=F(9681);(0,w.registerVersion)("firebase","9.6.10","app")},127:(at,be,F)=>{"use strict";F.d(be,{Z:()=>w.Z});var w=F(3942);w.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(at,be,F)=>{"use strict";F.r(be);var w=F(5861),g=F(3942),V=F(2090),ie=F(9681),Y=F(655),oe=F(1877),le=F(4859);const Ie=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function he(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new oe.Yd("@firebase/auth");function $e(y,...d){He.logLevel<=oe.in.ERROR&&He.error(`Auth (${ie.SDK_VERSION}): ${y}`,...d)}function Se(y,...d){throw Qe(y,...d)}function Te(y,...d){return Qe(y,...d)}function Me(y,d,p){const _=Object.assign(Object.assign({},xe()),{[d]:p});return new V.LL("auth","Firebase",_).create(d,{appName:y.name})}function et(y,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&Se(y,"argument-error"),Me(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(y,...d){if("string"!=typeof y){const p=d[0],_=[...d.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return se.create(y,...d)}function me(y,d,...p){if(!y)throw Qe(d,...p)}function X(y){const d="INTERNAL ASSERTION FAILED: "+y;throw $e(d),new Error(d)}function de(y,d){y||X(d)}const De=new Map;function fe(y){de(y instanceof Function,"Expected a class definition");let d=De.get(y);return d?(de(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,De.set(y,d),d)}function rt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Jt(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class an{constructor(d,p){this.shortDelay=d,this.longDelay=p,de(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function ft(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(y,d){de(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class li{static initialize(d,p,_){this.fetchImpl=d,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wi=new an(3e4,6e4);function en(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function $t(y,d,p,_){return er.apply(this,arguments)}function er(){return(er=(0,w.Z)(function*(y,d,p,_,x={}){return Wr(y,x,(0,w.Z)(function*(){let k={},Z={};_&&("GET"===d?Z=_:k={body:JSON.stringify(_)});const ye=(0,V.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Ge=yield y._getAdditionalHeaders();return Ge["Content-Type"]="application/json",y.languageCode&&(Ge["X-Firebase-Locale"]=y.languageCode),li.fetch()(hr(y,y.config.apiHost,p,ye),Object.assign({method:d,headers:Ge,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Wr(y,d,p){return es.apply(this,arguments)}function es(){return(es=(0,w.Z)(function*(y,d,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Xt),d);try{const x=new ts(y),k=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const Z=yield k.json();if("needConfirmation"in Z)throw ns(y,"account-exists-with-different-credential",Z);if(k.ok&&!("errorMessage"in Z))return Z;{const ye=k.ok?Z.errorMessage:Z.error.message,[Ge,tt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw ns(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ge)throw ns(y,"email-already-in-use",Z);const ot=_[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Me(y,ot,tt);Se(y,ot)}}catch(x){if(x instanceof V.ZR)throw x;Se(y,"network-request-failed")}})).apply(this,arguments)}function Dr(y,d,p,_){return Di.apply(this,arguments)}function Di(){return(Di=(0,w.Z)(function*(y,d,p,_,x={}){const k=yield $t(y,d,p,_,x);return"mfaPendingCredential"in k&&Se(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function hr(y,d,p,_){const x=`${d}${p}?${_}`;return y.config.emulator?ln(y.config,x):`${y.config.apiScheme}://${x}`}class ts{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(Te(this.auth,"network-request-failed")),wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ns(y,d,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const x=Te(y,d,_);return x.customData._tokenResponse=p,x}function zr(){return(zr=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function fr(y,d){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Kr(y,d){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function _n(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Zr(){return(Zr=(0,w.Z)(function*(y,d=!1){const p=(0,V.m9)(y),_=yield p.getIdToken(d),x=dt(_);me(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const k="object"==typeof x.firebase?x.firebase:void 0,Z=null==k?void 0:k.sign_in_provider;return{claims:x,token:_,authTime:_n(zt(x.auth_time)),issuedAtTime:_n(zt(x.iat)),expirationTime:_n(zt(x.exp)),signInProvider:Z||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function zt(y){return 1e3*Number(y)}function dt(y){const[d,p,_]=y.split(".");if(void 0===d||void 0===p||void 0===_)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,V.tV)(p);return x?JSON.parse(x):($e("Failed to decode base64 JWT payload"),null)}catch(x){return $e("Caught error parsing JWT payload as JSON",x),null}}function Wn(y,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,w.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(_){throw _ instanceof V.ZR&&Kt(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function Kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ys{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(d);this.timerId=setTimeout((0,w.Z)(function*(){yield p.iteration()}),_)}iteration(){var d=this;return(0,w.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class Cr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(y){return vt.apply(this,arguments)}function vt(){return(vt=(0,w.Z)(function*(y){var d;const p=y.auth,_=yield y.getIdToken(),x=yield Wn(y,Kr(p,{idToken:_}));me(null==x?void 0:x.users.length,p,"internal-error");const k=x.users[0];y._notifyReloadListener(k);const Z=(null===(d=k.providerUserInfo)||void 0===d?void 0:d.length)?Oe(k.providerUserInfo):[],ye=nt(y.providerData,Z),ot=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==ye?void 0:ye.length)),pt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ye,metadata:new Cr(k.createdAt,k.lastLoginAt),isAnonymous:ot};Object.assign(y,pt)})).apply(this,arguments)}function Ut(){return(Ut=(0,w.Z)(function*(y){const d=(0,V.m9)(y);yield br(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function nt(y,d){return[...y.filter(_=>!d.some(x=>x.providerId===_.providerId)),...d]}function Oe(y){return y.map(d=>{var{providerId:p}=d,_=(0,Y._T)(d,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function _t(){return(_t=(0,w.Z)(function*(y,d){const p=yield Wr(y,{},(0,w.Z)(function*(){const _=(0,V.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:x,apiKey:k}=y.config,Z=hr(y,x,"/v1/token",`key=${k}`),ye=yield y._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",li.fetch()(Z,{method:"POST",headers:ye,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){me(d.idToken,"internal-error"),me(void 0!==d.idToken,"internal-error"),me(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function It(y){const d=dt(y);return me(d,"internal-error"),me(void 0!==d.exp,"internal-error"),me(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var _=this;return(0,w.Z)(function*(){return me(!_.accessToken||_.refreshToken,d,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(d,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var _=this;return(0,w.Z)(function*(){const{accessToken:x,refreshToken:k,expiresIn:Z}=yield function it(y,d){return _t.apply(this,arguments)}(d,p);_.updateTokensAndExpiration(x,k,Number(Z))})()}updateTokensAndExpiration(d,p,_){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(d,p){const{refreshToken:_,accessToken:x,expirationTime:k}=p,Z=new qt;return _&&(me("string"==typeof _,"internal-error",{appName:d}),Z.refreshToken=_),x&&(me("string"==typeof x,"internal-error",{appName:d}),Z.accessToken=x),k&&(me("number"==typeof k,"internal-error",{appName:d}),Z.expirationTime=k),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return X("not implemented")}}function jt(y,d){me("string"==typeof y||void 0===y,"internal-error",{appName:d})}class W{constructor(d){var{uid:p,auth:_,stsTokenManager:x}=d,k=(0,Y._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Cr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,w.Z)(function*(){const _=yield Wn(p,p.stsTokenManager.getToken(p.auth,d));return me(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(d){return function En(y){return Zr.apply(this,arguments)}(this,d)}reload(){return function Tr(y){return Ut.apply(this,arguments)}(this)}_assign(d){this!==d&&(me(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new W(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var _=this;return(0,w.Z)(function*(){let x=!1;d.idToken&&d.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(d),x=!0),p&&(yield br(_)),yield _.auth._persistUserIfCurrent(_),x&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var d=this;return(0,w.Z)(function*(){const p=yield d.getIdToken();return yield Wn(d,function yt(y,d){return zr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var _,x,k,Z,ye,Ge,tt,ot;const pt=null!==(_=p.displayName)&&void 0!==_?_:void 0,Nn=null!==(x=p.email)&&void 0!==x?x:void 0,Rs=null!==(k=p.phoneNumber)&&void 0!==k?k:void 0,oi=null!==(Z=p.photoURL)&&void 0!==Z?Z:void 0,Nd=null!==(ye=p.tenantId)&&void 0!==ye?ye:void 0,gs=null!==(Ge=p._redirectEventId)&&void 0!==Ge?Ge:void 0,ic=null!==(tt=p.createdAt)&&void 0!==tt?tt:void 0,sc=null!==(ot=p.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Vo,emailVerified:Od,isAnonymous:xf,providerData:Rf,stsTokenManager:Pd}=p;me(Vo&&Pd,d,"internal-error");const zy=qt.fromJSON(this.name,Pd);me("string"==typeof Vo,d,"internal-error"),jt(pt,d.name),jt(Nn,d.name),me("boolean"==typeof Od,d,"internal-error"),me("boolean"==typeof xf,d,"internal-error"),jt(Rs,d.name),jt(oi,d.name),jt(Nd,d.name),jt(gs,d.name),jt(ic,d.name),jt(sc,d.name);const Nf=new W({uid:Vo,auth:d,email:Nn,emailVerified:Od,displayName:pt,isAnonymous:xf,photoURL:oi,phoneNumber:Rs,tenantId:Nd,stsTokenManager:zy,createdAt:ic,lastLoginAt:sc});return Rf&&Array.isArray(Rf)&&(Nf.providerData=Rf.map(Ng=>Object.assign({},Ng))),gs&&(Nf._redirectEventId=gs),Nf}static _fromIdTokenResponse(d,p,_=!1){return(0,w.Z)(function*(){const x=new qt;x.updateFromServerResponse(p);const k=new W({uid:p.localId,auth:d,stsTokenManager:x,isAnonymous:_});return yield br(k),k})()}}const K=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(p,_){var x=this;return(0,w.Z)(function*(){x.storage[p]=_})()}_get(p){var _=this;return(0,w.Z)(function*(){const x=_.storage[p];return void 0===x?null:x})()}_remove(p){var _=this;return(0,w.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function Ee(y,d,p){return`firebase:${y}:${d}:${p}`}class ne{constructor(d,p,_){this.persistence=d,this.auth=p,this.userKey=_;const{config:x,name:k}=this.auth;this.fullUserKey=Ee(this.userKey,x.apiKey,k),this.fullPersistenceKey=Ee("persistence",x.apiKey,k),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,w.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?W._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,w.Z)(function*(){if(p.persistence===d)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,_="authUser"){return(0,w.Z)(function*(){if(!p.length)return new ne(fe(K),d,_);const x=(yield Promise.all(p.map(function(){var tt=(0,w.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let k=x[0]||fe(K);const Z=Ee(_,d.config.apiKey,d.name);let ye=null;for(const tt of p)try{const ot=yield tt._get(Z);if(ot){const pt=W._fromJSON(d,ot);tt!==k&&(ye=pt),k=tt;break}}catch(ot){}const Ge=x.filter(tt=>tt._shouldAllowMigration);return k._shouldAllowMigration&&Ge.length?(k=Ge[0],ye&&(yield k._set(Z,ye.toJSON())),yield Promise.all(p.map(function(){var tt=(0,w.Z)(function*(ot){if(ot!==k)try{yield ot._remove(Z)}catch(pt){}});return function(ot){return tt.apply(this,arguments)}}())),new ne(k,d,_)):new ne(k,d,_)})()}}function qe(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Zt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Xe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Pt(d))return"Blackberry";if(pn(d))return"Webos";if(Rt(d))return"Safari";if((d.includes("chrome/")||Ar(d))&&!d.includes("edge/"))return"Chrome";if(Mn(d))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function Xe(y=(0,V.z$)()){return/firefox\//i.test(y)}function Rt(y=(0,V.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ar(y=(0,V.z$)()){return/crios\//i.test(y)}function Zt(y=(0,V.z$)()){return/iemobile/i.test(y)}function Mn(y=(0,V.z$)()){return/android/i.test(y)}function Pt(y=(0,V.z$)()){return/blackberry/i.test(y)}function pn(y=(0,V.z$)()){return/webos/i.test(y)}function tr(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function Tt(y=(0,V.z$)()){return tr(y)||Mn(y)||pn(y)||Pt(y)||/windows phone/i.test(y)||Zt(y)}function Co(y,d=[]){let p;switch(y){case"Browser":p=qe((0,V.z$)());break;case"Worker":p=`${qe((0,V.z$)())}-${y}`;break;default:p=y}const _=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${_}`}class Nr{constructor(d,p,_){this.app=d,this.heartbeatServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kt(this),this.idTokenSubscription=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(d,p){var _=this;return p&&(this._popupRedirectResolver=fe(p)),this._initializationPromise=this.queue((0,w.Z)(function*(){var x,k;if(!_._deleted&&(_.persistenceManager=yield ne.create(_,d),!_._deleted)){if(null===(x=_._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(Z){}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(k=_.currentUser)||void 0===k?void 0:k.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,w.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p)}})()}initializeCurrentUser(d){var p=this;return(0,w.Z)(function*(){var _;let x=yield p.assertedPersistence.getCurrentUser();if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const k=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,Z=null==x?void 0:x._redirectEventId,ye=yield p.tryRedirectSignIn(d);(!k||k===Z)&&(null==ye?void 0:ye.user)&&(x=ye.user)}return x?x._redirectEventId?(me(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===x._redirectEventId?p.directlySetCurrentUser(x):p.reloadAndSetCurrentUserOrClear(x)):p.reloadAndSetCurrentUserOrClear(x):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var p=this;return(0,w.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(x){yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,w.Z)(function*(){try{yield br(d)}catch(_){if("auth/network-request-failed"!==_.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,w.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,w.Z)(function*(){const _=d?(0,V.m9)(d):null;return _&&me(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,w.Z)(function*(){if(!p._deleted)return d&&me(p.tenantId===d.tenantId,p,"tenant-id-mismatch"),p.queue((0,w.Z)(function*(){yield p.directlySetCurrentUser(d),p.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,w.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var p=this;return this.queue((0,w.Z)(function*(){yield p.assertedPersistence.setPersistence(fe(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.LL("auth","Firebase",d())}onAuthStateChanged(d,p,_){return this.registerStateListener(this.authStateSubscription,d,p,_)}onIdTokenChanged(d,p,_){return this.registerStateListener(this.idTokenSubscription,d,p,_)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var _=this;return(0,w.Z)(function*(){const x=yield _.getOrInitRedirectPersistenceManager(p);return null===d?x.removeCurrentUser():x.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,w.Z)(function*(){if(!p.redirectPersistenceManager){const _=d&&fe(d)||p._popupRedirectResolver;me(_,p,"argument-error"),p.redirectPersistenceManager=yield ne.create(p,[fe(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,w.Z)(function*(){var _,x;return p._isInitialized&&(yield p.queue((0,w.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===d?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,w.Z)(function*(){if(d===p.currentUser)return p.queue((0,w.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,_,x){if(this._deleted)return()=>{};const k="function"==typeof p?p:p.next.bind(p),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return me(Z,this,"internal-error"),Z.then(()=>k(this.currentUser)),"function"==typeof p?d.addObserver(p,_,x):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,w.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Co(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,w.Z)(function*(){var p;const _={"X-Client-Version":d.clientVersion};d.app.options.appId&&(_["X-Firebase-gmpid"]=d.app.options.appId);const x=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return x&&(_["X-Firebase-Client"]=x),_})()}}function Ue(y){return(0,V.m9)(y)}class kt{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.ne)(p=>this.observer=p)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function An(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Un(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class un{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return X("not implemented")}_getIdTokenResponse(d){return X("not implemented")}_linkToIdToken(d,p){return X("not implemented")}_getReauthenticationResolver(d){return X("not implemented")}}function Pn(y,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:resetPassword",en(y,d))})).apply(this,arguments)}function St(y,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function os(y,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",en(y,d))})).apply(this,arguments)}function gr(){return(gr=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPassword",en(y,d))})).apply(this,arguments)}function _s(y,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:sendOobCode",en(y,d))})).apply(this,arguments)}function Yr(y,d){return sn.apply(this,arguments)}function sn(){return(sn=(0,w.Z)(function*(y,d){return _s(y,d)})).apply(this,arguments)}function bo(y,d){return To.apply(this,arguments)}function To(){return(To=(0,w.Z)(function*(y,d){return _s(y,d)})).apply(this,arguments)}function Jr(y,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,w.Z)(function*(y,d){return _s(y,d)})).apply(this,arguments)}function zo(y,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,w.Z)(function*(y,d){return _s(y,d)})).apply(this,arguments)}function Sr(){return(Sr=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",en(y,d))})).apply(this,arguments)}function Ko(){return(Ko=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",en(y,d))})).apply(this,arguments)}class Zo extends un{constructor(d,p,_,x=null){super("password",_),this._email=d,this._password=p,this._tenantId=x}static _fromEmailAndPassword(d,p){return new Zo(d,p,"password")}static _fromEmailAndCode(d,p,_=null){return new Zo(d,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,w.Z)(function*(){switch(p.signInMethod){case"password":return function pr(y,d){return gr.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Js(y,d){return Sr.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Se(d,"internal-error")}})()}_linkToIdToken(d,p){var _=this;return(0,w.Z)(function*(){switch(_.signInMethod){case"password":return St(d,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ua(y,d){return Ko.apply(this,arguments)}(d,{idToken:p,email:_._email,oobCode:_._password});default:Se(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function kn(y,d){return ja.apply(this,arguments)}function ja(){return(ja=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithIdp",en(y,d))})).apply(this,arguments)}class qi extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new qi(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):Se("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:x}=p,k=(0,Y._T)(p,["providerId","signInMethod"]);if(!_||!x)return null;const Z=new qi(_,x);return Z.idToken=k.idToken||void 0,Z.accessToken=k.accessToken||void 0,Z.secret=k.secret,Z.nonce=k.nonce,Z.pendingToken=k.pendingToken||null,Z}_getIdTokenResponse(d){return kn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,kn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,kn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,V.xO)(p)}return d}}function Cu(y,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:sendVerificationCode",en(y,d))})).apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,d))})).apply(this,arguments)}function Xs(){return(Xs=(0,w.Z)(function*(y,d){const p=yield Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,d));if(p.temporaryProof)throw ns(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const bu={USER_NOT_FOUND:"user-not-found"};function $a(){return($a=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),bu)})).apply(this,arguments)}class Pr extends un{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new Pr({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new Pr({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Ao(y,d){return as.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Ba(y,d){return Xs.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Tu(y,d){return $a.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:_,verificationCode:x}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:_,code:x}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:_,phoneNumber:x,temporaryProof:k}=d;return _||p||x||k?new Pr({verificationId:p,verificationCode:_,phoneNumber:x,temporaryProof:k}):null}}class to{constructor(d){var p,_,x,k,Z,ye;const Ge=(0,V.zd)((0,V.pd)(d)),tt=null!==(p=Ge.apiKey)&&void 0!==p?p:null,ot=null!==(_=Ge.oobCode)&&void 0!==_?_:null,pt=function kr(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ge.mode)&&void 0!==x?x:null);me(tt&&ot&&pt,"argument-error"),this.apiKey=tt,this.operation=pt,this.code=ot,this.continueUrl=null!==(k=Ge.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Z=Ge.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ye=Ge.tenantId)&&void 0!==ye?ye:null}static parseLink(d){const p=function eo(y){const d=(0,V.zd)((0,V.pd)(y)).link,p=d?(0,V.zd)((0,V.pd)(d)).deep_link_id:null,_=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(_?(0,V.zd)((0,V.pd)(_)).link:null)||_||p||d||y}(d);try{return new to(p)}catch(_){return null}}}let So=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return Zo._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const x=to.parseLink(_);return me(x,"argument-error"),Zo._fromEmailAndCode(p,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ti{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class mr extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ai extends mr{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return me("providerId"in p&&"signInMethod"in p,"argument-error"),qi._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return me(d.idToken||d.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ai.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ai.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:x,pendingToken:k,nonce:Z,providerId:ye}=d;if(!_&&!x&&!p&&!k||!ye)return null;try{return new Ai(ye)._credential({idToken:p,accessToken:_,nonce:Z,pendingToken:k})}catch(Ge){return null}}}let Us=(()=>{class y extends mr{constructor(){super("facebook.com")}static credential(p){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),js=(()=>{class y extends mr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:x}=p;if(!_&&!x)return null;try{return y.credential(_,x)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ha=(()=>{class y extends mr{constructor(){super("github.com")}static credential(p){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(_){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Mo extends un{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return kn(d,this.buildRequest())}_linkToIdToken(d,p){const _=this.buildRequest();return _.idToken=p,kn(d,_)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,kn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:_,signInMethod:x,pendingToken:k}=p;return _&&x&&k&&_===x?new Mo(_,k):null}static _create(d,p){return new Mo(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ci extends Ti{constructor(d){me(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ci.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ci.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Mo.fromJSON(d);return me(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:_}=d;if(!p||!_)return null;try{return Mo._create(_,p)}catch(x){return null}}}let Yo=(()=>{class y extends mr{constructor(){super("twitter.com")}static credential(p,_){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:x}=p;if(!_||!x)return null;try{return y.credential(_,x)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Jo(y,d){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signUp",en(y,d))})).apply(this,arguments)}class yr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,_,x=!1){return(0,w.Z)(function*(){const k=yield W._fromIdTokenResponse(d,_,x),Z=Au(_);return new yr({user:k,providerId:Z,_tokenResponse:_,operationType:p})})()}static _forOperation(d,p,_){return(0,w.Z)(function*(){yield d._updateTokensIfNecessary(_,!0);const x=Au(_);return new yr({user:d,providerId:x,_tokenResponse:_,operationType:p})})()}}function Au(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ga(){return(Ga=(0,w.Z)(function*(y){var d;const p=Ue(y);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new yr({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield Jo(p,{returnSecureToken:!0}),x=yield yr._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class $s extends V.ZR{constructor(d,p,_,x){var k;super(p.code,p.message),this.operationType=_,this.user=x,Object.setPrototypeOf(this,$s.prototype),this.customData={appName:d.name,tenantId:null!==(k=d.tenantId)&&void 0!==k?k:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(d,p,_,x){return new $s(d,p,_,x)}}function Es(y,d,p,_){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?$s._fromErrorAndOperation(y,k,d,_):k})}function di(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function Xo(){return(Xo=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y);yield N(!0,p,d);const{providerUserInfo:_}=yield fr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),x=di(_||[]);return p.providerData=p.providerData.filter(k=>x.has(k.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function mn(y,d){return T.apply(this,arguments)}function T(){return(T=(0,w.Z)(function*(y,d,p=!1){const _=yield Wn(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return yr._forOperation(y,"link",_)})).apply(this,arguments)}function N(y,d,p){return b.apply(this,arguments)}function b(){return(b=(0,w.Z)(function*(y,d,p){yield br(d);const x=!1===y?"provider-already-linked":"no-such-provider";me(di(d.providerData).has(p)===y,d.auth,x)})).apply(this,arguments)}function P(y,d){return z.apply(this,arguments)}function z(){return(z=(0,w.Z)(function*(y,d,p=!1){const{auth:_}=y,x="reauthenticate";try{const k=yield Wn(y,Es(_,x,d,y),p);me(k.idToken,_,"internal-error");const Z=dt(k.idToken);me(Z,_,"internal-error");const{sub:ye}=Z;return me(y.uid===ye,_,"user-mismatch"),yr._forOperation(y,x,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Se(_,"user-mismatch"),k}})).apply(this,arguments)}function ve(y,d){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,w.Z)(function*(y,d,p=!1){const _="signIn",x=yield Es(y,_,d),k=yield yr._fromIdTokenResponse(y,_,x);return p||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ze(y,d){return cn.apply(this,arguments)}function cn(){return(cn=(0,w.Z)(function*(y,d){return ve(Ue(y),d)})).apply(this,arguments)}function Yt(y,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y);return yield N(!1,p,d.providerId),mn(p,d)})).apply(this,arguments)}function Lt(y,d){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,w.Z)(function*(y,d){return P((0,V.m9)(y),d)})).apply(this,arguments)}function vn(y,d){return dn.apply(this,arguments)}function dn(){return(dn=(0,w.Z)(function*(y,d){return Dr(y,"POST","/v1/accounts:signInWithCustomToken",en(y,d))})).apply(this,arguments)}function hi(){return(hi=(0,w.Z)(function*(y,d){const p=Ue(y),_=yield vn(p,{token:d,returnSecureToken:!0}),x=yield yr._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class gt{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Si._fromServerResponse(d,p):Se(d,"internal-error")}}class Si extends gt{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Si(p)}}function ws(y,d,p){var _;me((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),me(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(me(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(me(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function us(){return(us=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),x={requestType:"PASSWORD_RESET",email:d};p&&ws(_,x,p),yield bo(_,x)})).apply(this,arguments)}function ea(){return(ea=(0,w.Z)(function*(y,d,p){yield Pn((0,V.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function Pe(){return(Pe=(0,w.Z)(function*(y,d){yield os((0,V.m9)(y),{oobCode:d})})).apply(this,arguments)}function Ht(y,d){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y),_=yield Pn(p,{oobCode:d}),x=_.requestType;switch(me(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(_.mfaInfo,p,"internal-error");default:me(_.email,p,"internal-error")}let k=null;return _.mfaInfo&&(k=gt._fromServerResponse(Ue(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:k},operation:x}})).apply(this,arguments)}function ta(){return(ta=(0,w.Z)(function*(y,d){const{data:p}=yield Ht((0,V.m9)(y),d);return p.email})).apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(y,d,p){const _=Ue(y),x=yield Jo(_,{returnSecureToken:!0,email:d,password:p}),k=yield yr._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}function Ru(){return(Ru=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),x={requestType:"EMAIL_SIGNIN",email:d};me(p.handleCodeInApp,_,"argument-error"),p&&ws(_,x,p),yield Jr(_,x)})).apply(this,arguments)}function no(){return(no=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),x=So.credentialWithLink(d,p||rt());return me(x._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),ze(_,x)})).apply(this,arguments)}function Xr(y,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:createAuthUri",en(y,d))})).apply(this,arguments)}function Hs(){return(Hs=(0,w.Z)(function*(y,d){const _={identifier:d,continueUri:Jt()?rt():"http://localhost"},{signinMethods:x}=yield Xr((0,V.m9)(y),_);return x||[]})).apply(this,arguments)}function nd(){return(nd=(0,w.Z)(function*(y,d){const p=(0,V.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&ws(p.auth,x,d);const{email:k}=yield Yr(p.auth,x);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function xl(){return(xl=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&ws(_.auth,k,p);const{email:Z}=yield zo(_.auth,k);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Rl(y,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,w.Z)(function*(y,d){return $t(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function za(){return(za=(0,w.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const _=(0,V.m9)(y),k={idToken:yield _.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Z=yield Wn(_,Rl(_.auth,k));_.displayName=Z.displayName||null,_.photoURL=Z.photoUrl||null;const ye=_.providerData.find(({providerId:Ge})=>"password"===Ge);ye&&(ye.displayName=_.displayName,ye.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Nu(y,d,p){return io.apply(this,arguments)}function io(){return(io=(0,w.Z)(function*(y,d,p){const{auth:_}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(k.email=d),p&&(k.password=p);const Z=yield Wn(y,St(_,k));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class oa{constructor(d,p,_={}){this.isNewUser=d,this.providerId=p,this.profile=_}}class Ou extends oa{constructor(d,p,_,x){super(d,p,_),this.username=x}}class Nl extends oa{constructor(d,p){super(d,"facebook.com",p)}}class No extends Ou{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Jh extends oa{constructor(d,p){super(d,"google.com",p)}}class Pu extends Ou{constructor(d,p,_){super(d,"twitter.com",p,_)}}function Vr(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function rd(y){var d,p;if(!y)return null;const{providerId:_}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&(null==y?void 0:y.idToken)){const Z=null===(p=null===(d=dt(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Z)return new oa(k,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!_)return null;switch(_){case"facebook.com":return new Nl(k,x);case"github.com":return new No(k,x);case"google.com":return new Jh(k,x);case"twitter.com":return new Pu(k,x,y.screenName||null);case"custom":case"anonymous":return new oa(k,null);default:return new oa(k,_,x)}}(p)}class ls{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new ls("enroll",d)}static _fromMfaPendingCredential(d){return new ls("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,_;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return ls._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(_=d.multiFactorSession)||void 0===_?void 0:_.idToken)return ls._fromIdtoken(d.multiFactorSession.idToken)}return null}}class ua{constructor(d,p,_){this.session=d,this.hints=p,this.signInResolver=_}static _fromError(d,p){const _=Ue(d),x=p.customData._serverResponse,k=(x.mfaInfo||[]).map(ye=>gt._fromServerResponse(_,ye));me(x.mfaPendingCredential,_,"internal-error");const Z=ls._fromMfaPendingCredential(x.mfaPendingCredential);return new ua(Z,k,function(){var ye=(0,w.Z)(function*(Ge){const tt=yield Ge._process(_,Z);delete x.mfaInfo,delete x.mfaPendingCredential;const ot=Object.assign(Object.assign({},x),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(p.operationType){case"signIn":const pt=yield yr._fromIdTokenResponse(_,p.operationType,ot);return yield _._updateCurrentUser(pt.user),pt;case"reauthenticate":return me(p.user,_,"internal-error"),yr._forOperation(p.user,p.operationType,ot);default:Se(_,"internal-error")}});return function(Ge){return ye.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,w.Z)(function*(){return p.signInResolver(d)})()}}function rr(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:start",en(y,d))}class Ki{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>gt._fromServerResponse(d.auth,_)))})}static _fromUser(d){return new Ki(d)}getSession(){var d=this;return(0,w.Z)(function*(){return ls._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var _=this;return(0,w.Z)(function*(){const x=d,k=yield _.getSession(),Z=yield Wn(_.user,x._process(_.user.auth,k,p));return yield _.user._updateTokensIfNecessary(Z),_.user.reload()})()}unenroll(d){var p=this;return(0,w.Z)(function*(){const _="string"==typeof d?d:d.uid,x=yield p.user.getIdToken(),k=yield Wn(p.user,function Xh(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:withdraw",en(y,d))}(p.user.auth,{idToken:x,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Z})=>Z!==_),yield p.user._updateTokensIfNecessary(k);try{yield p.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Oo=new WeakMap,Ya="__sak";class so{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ya,"1"),this.storage.removeItem(Ya),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const ei=(()=>{class y extends so{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sd(){const y=(0,V.z$)();return Rt(y)||tr(y)}()&&function Kn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Tt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const x=this.storage.getItem(_),k=this.localCache[_];x!==k&&p(_,k,x)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((ye,Ge,tt)=>{this.notifyListeners(ye,tt)});const x=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(x);if(p.newValue!==ye)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!_)return}const k=()=>{const ye=this.storage.getItem(x);!_&&this.localCache[x]===ye||this.notifyListeners(x,ye)},Z=this.storage.getItem(x);!function zn(){return(0,V.w1)()&&10===document.documentMode}()||Z===p.newValue||p.newValue===p.oldValue?k():setTimeout(k,10)}notifyListeners(p,_){this.localCache[p]=_;const x=this.listeners[p];if(x)for(const k of Array.from(x))k(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var x=()=>super._set,k=this;return(0,w.Z)(function*(){yield x().call(k,p,_),k.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,x=this;return(0,w.Z)(function*(){const k=yield _().call(x,p);return x.localCache[p]=JSON.stringify(k),k})()}_remove(p){var _=()=>super._remove,x=this;return(0,w.Z)(function*(){yield _().call(x,p),delete x.localCache[p]})()}}return y.type="LOCAL",y})(),ti=(()=>{class y extends so{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let ca=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(k=>k.isListeningto(p));if(_)return _;const x=new y(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,w.Z)(function*(){const x=p,{eventId:k,eventType:Z,data:ye}=x.data,Ge=_.handlersMap[Z];if(!(null==Ge?void 0:Ge.size))return;x.ports[0].postMessage({status:"ack",eventId:k,eventType:Z});const tt=Array.from(Ge).map(function(){var pt=(0,w.Z)(function*(Nn){return Nn(x.origin,ye)});return function(Nn){return pt.apply(this,arguments)}}()),ot=yield function Fl(y){return Promise.all(y.map(function(){var d=(0,w.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return d.apply(this,arguments)}}()))}(tt);x.ports[0].postMessage({status:"done",eventId:k,eventType:Z,response:ot})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function da(y="",d=10){let p="";for(let _=0;_<d;_++)p+=Math.floor(10*Math.random());return y+p}class Ll{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,_=50){var x=this;return(0,w.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Z,ye;return new Promise((Ge,tt)=>{const ot=da("",20);k.port1.start();const pt=setTimeout(()=>{tt(new Error("unsupported_event"))},_);ye={messageChannel:k,onMessage(Nn){const Rs=Nn;if(Rs.data.eventId===ot)switch(Rs.data.status){case"ack":clearTimeout(pt),Z=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ge(Rs.data.response);break;default:clearTimeout(pt),clearTimeout(Z),tt(new Error("invalid_response"))}}},x.handlers.add(ye),k.port1.addEventListener("message",ye.onMessage),x.target.postMessage({eventType:d,eventId:ot,data:p},[k.port2])}).finally(()=>{ye&&x.removeMessageHandler(ye)})})()}}function wn(){return window}function xi(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function oo(){return(oo=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ha="firebaseLocalStorageDb",Po="firebaseLocalStorage",fa="fbase_key";class cs{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Xa(y,d){return y.transaction([Po],d?"readwrite":"readonly").objectStore(Po)}function pa(){const y=indexedDB.open(ha,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(Po,{keyPath:fa})}catch(x){p(x)}}),y.addEventListener("success",(0,w.Z)(function*(){const _=y.result;_.objectStoreNames.contains(Po)?d(_):(_.close(),yield function ds(){const y=indexedDB.deleteDatabase(ha);return new cs(y).toPromise()}(),d(yield pa()))}))})}function Vl(y,d,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,w.Z)(function*(y,d,p){const _=Xa(y,!0).put({[fa]:d,value:p});return new cs(_).toPromise()})).apply(this,arguments)}function Lu(){return(Lu=(0,w.Z)(function*(y,d){const p=Xa(y,!1).get(d),_=yield new cs(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function ga(y,d){const p=Xa(y,!0).delete(d);return new cs(p).toPromise()}const Cs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,w.Z)(function*(){return p.db||(p.db=yield pa()),p.db})()}_withRetries(p){var _=this;return(0,w.Z)(function*(){let x=0;for(;;)try{const k=yield _._openDb();return yield p(k)}catch(k){if(x++>3)throw k;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,w.Z)(function*(){return xi()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,w.Z)(function*(){p.receiver=ca._getInstance(function od(){return xi()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,w.Z)(function*(x,k){return{keyProcessed:(yield p._poll()).includes(k.key)}});return function(x,k){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,w.Z)(function*(x,k){return["keyChanged"]});return function(x,k){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,w.Z)(function*(){var _,x;if(p.activeServiceWorker=yield function Ja(){return oo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ll(p.activeServiceWorker);const k=yield p.sender._send("ping",{},800);!k||(null===(_=k[0])||void 0===_?void 0:_.fulfilled)&&(null===(x=k[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,w.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function nf(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const p=yield pa();return yield Vl(p,Ya,"1"),yield ga(p,Ya),!0}catch(p){}return!1})()}_withPendingWrite(p){var _=this;return(0,w.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var x=this;return(0,w.Z)(function*(){return x._withPendingWrite((0,w.Z)(function*(){return yield x._withRetries(k=>Vl(k,p,_)),x.localCache[p]=_,x.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,w.Z)(function*(){const x=yield _._withRetries(k=>function ad(y,d){return Lu.apply(this,arguments)}(k,p));return _.localCache[p]=x,x})()}_remove(p){var _=this;return(0,w.Z)(function*(){return _._withPendingWrite((0,w.Z)(function*(){return yield _._withRetries(x=>ga(x,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,w.Z)(function*(){const _=yield p._withRetries(Z=>{const ye=Xa(Z,!1).getAll();return new cs(ye).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const x=[],k=new Set;for(const{fbase_key:Z,value:ye}of _)k.add(Z),JSON.stringify(p.localCache[Z])!==JSON.stringify(ye)&&(p.notifyListeners(Z,ye),x.push(Z));for(const Z of Object.keys(p.localCache))p.localCache[Z]&&!k.has(Z)&&(p.notifyListeners(Z,null),x.push(Z));return x})()}notifyListeners(p,_){this.localCache[p]=_;const x=this.listeners[p];if(x)for(const k of Array.from(x))k(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function sf(y,d){return $t(y,"POST","/v2/accounts/mfaSignIn:start",en(y,d))}function Zn(){return(Zn=(0,w.Z)(function*(y){return(yield $t(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ma(y){return new Promise((d,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=d,_.onerror=x=>{const k=Te("internal-error");k.customData=x,p(k)},_.type="text/javascript",_.charset="UTF-8",function ni(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(_)})}function ju(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Zi=1e12;class va{constructor(d){this.auth=d,this.counter=Zi,this._widgets=new Map}render(d,p){const _=this.counter;return this._widgets.set(_,new Bu(d,this.auth.name,p||{})),this.counter++,_}reset(d){var p;const _=d||Zi;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Zi))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,w.Z)(function*(){var _;return null===(_=p._widgets.get(d||Zi))||void 0===_||_.execute(),""})()}}class Bu{constructor(d,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof d?document.getElementById(d):d;me(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bs(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ur=ju("rcb"),_a=new an(3e4,6e4);class of{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(d,p=""){return me(function ld(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(wn().grecaptcha):new Promise((_,x)=>{const k=wn().setTimeout(()=>{x(Te(d,"network-request-failed"))},_a.get());wn()[Ur]=()=>{wn().clearTimeout(k),delete wn()[Ur];const ye=wn().grecaptcha;if(!ye)return void x(Te(d,"internal-error"));const Ge=ye.render;ye.render=(tt,ot)=>{const pt=Ge(tt,ot);return this.counter++,pt},this.hostLanguage=p,_(ye)},ma(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ur,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(k),x(Te(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!wn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gs{load(d){return(0,w.Z)(function*(){return new va(d)})()}clearedOneInstance(){}}const $u="recaptcha",Ul={theme:"light",type:"image"};class af{constructor(d,p=Object.assign({},Ul),_){this.parameters=p,this.type=$u,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(_),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof d?document.getElementById(d):d;me(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gs:new of,this.validateStartingState()}verify(){var d=this;return(0,w.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),_=d.getAssertedRecaptcha();return _.getResponse(p)||new Promise(k=>{const Z=ye=>{!ye||(d.tokenChangeListeners.delete(Z),k(ye))};d.tokenChangeListeners.add(Z),d.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof d)d(p);else if("string"==typeof d){const _=wn()[d];"function"==typeof _&&_(p)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,w.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,w.Z)(function*(){me(Jt()&&!xi(),d.auth,"internal-error"),yield function hg(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function ao(y){return Zn.apply(this,arguments)}(d.auth);me(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=Pr._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Qn(){return(Qn=(0,w.Z)(function*(y,d,p){const _=Ue(y),x=yield ri(_,d,(0,V.m9)(p));return new Tn(x,k=>ze(_,k))})).apply(this,arguments)}function Ea(){return(Ea=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);yield N(!1,_,"phone");const x=yield ri(_.auth,d,(0,V.m9)(p));return new Tn(x,k=>Yt(_,k))})).apply(this,arguments)}function eu(){return(eu=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y),x=yield ri(_.auth,d,(0,V.m9)(p));return new Tn(x,k=>Lt(_,k))})).apply(this,arguments)}function ri(y,d,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,w.Z)(function*(y,d,p){var _;const x=yield p.verify();try{let k;if(me("string"==typeof x,y,"argument-error"),me(p.type===$u,y,"argument-error"),k="string"==typeof d?{phoneNumber:d}:d,"session"in k){const Z=k.session;if("phoneNumber"in k)return me("enroll"===Z.type,y,"internal-error"),(yield rr(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{me("signin"===Z.type,y,"internal-error");const ye=(null===(_=k.multiFactorHint)||void 0===_?void 0:_.uid)||k.multiFactorUid;return me(ye,y,"missing-multi-factor-info"),(yield sf(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Cu(y,{phoneNumber:k.phoneNumber,recaptchaToken:x});return Z}}finally{p._reset()}})).apply(this,arguments)}function uo(){return(uo=(0,w.Z)(function*(y,d){yield mn((0,V.m9)(y),d)})).apply(this,arguments)}let hs=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Ue(p)}verifyPhoneNumber(p,_){return ri(this.auth,p,(0,V.m9)(_))}static credential(p,_){return Pr._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:x}=p;return _&&x?Pr._fromTokenResponse(_,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ts(y,d){return d?fe(d):(me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ia extends un{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return kn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return kn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return kn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Bl(y){return ve(y.auth,new Ia(y),y.bypassAuthState)}function tu(y){const{auth:d,user:p}=y;return me(p,d,"internal-error"),P(p,new Ia(y),y.bypassAuthState)}function Hu(y){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,w.Z)(function*(y){const{auth:d,user:p}=y;return me(p,d,"internal-error"),mn(p,new Ia(y),y.bypassAuthState)})).apply(this,arguments)}class fi{constructor(d,p,_,x,k=!1){this.auth=d,this.resolver=_,this.user=x,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,w.Z)(function*(_,x){d.pendingPromise={resolve:_,reject:x};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(k){d.reject(k)}});return function(_,x){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,w.Z)(function*(){const{urlResponse:_,sessionId:x,postBody:k,tenantId:Z,error:ye,type:Ge}=d;if(ye)return void p.reject(ye);const tt={auth:p.auth,requestUri:_,sessionId:x,tenantId:Z||void 0,postBody:k||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ge)(tt))}catch(ot){p.reject(ot)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Bl;case"linkViaPopup":case"linkViaRedirect":return Hu;case"reauthViaPopup":case"reauthViaRedirect":return tu;default:Se(this.auth,"internal-error")}}resolve(d){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cd=new an(2e3,1e4);function lo(){return(lo=(0,w.Z)(function*(y,d,p){const _=Ue(y);et(y,d,Ti);const x=Ts(_,p);return new sr(_,"signInViaPopup",d,x).executeNotNull()})).apply(this,arguments)}function nu(){return(nu=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);et(_.auth,d,Ti);const x=Ts(_.auth,p);return new sr(_.auth,"reauthViaPopup",d,x,_).executeNotNull()})).apply(this,arguments)}function Yn(){return(Yn=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);et(_.auth,d,Ti);const x=Ts(_.auth,p);return new sr(_.auth,"linkViaPopup",d,x,_).executeNotNull()})).apply(this,arguments)}let sr=(()=>{class y extends fi{constructor(p,_,x,k,Z){super(p,_,k,Z),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,w.Z)(function*(){const _=yield p.execute();return me(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,w.Z)(function*(){de(1===p.filter.length,"Popup operations only handle one event");const _=da();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(Te(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,x;this.pollId=(null===(x=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,cd.get())};p()}}return y.currentPopupAction=null,y})();const si=new Map;class hd extends fi{constructor(d,p,_=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,w.Z)(function*(){let _=si.get(p.auth._key());if(!_){try{const k=(yield function fd(y,d){return Hl.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;_=()=>Promise.resolve(k)}catch(x){_=()=>Promise.reject(x)}si.set(p.auth._key(),_)}return p.bypassAuthState||si.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,_=this;return(0,w.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(_,d);if("unknown"!==d.type){if(d.eventId){const x=yield _.auth._redirectUserForId(d.eventId);if(x)return _.user=x,p().call(_,d);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Hl(){return(Hl=(0,w.Z)(function*(y,d){const p=A(d),_=C(y);if(!(yield _._isAvailable()))return!1;const x="true"===(yield _._get(p));return yield _._remove(p),x})).apply(this,arguments)}function Qi(y,d){return qu.apply(this,arguments)}function qu(){return(qu=(0,w.Z)(function*(y,d){return C(y)._set(A(d),"true")})).apply(this,arguments)}function C(y){return fe(y._redirectPersistence)}function A(y){return Ee("pendingRedirect",y.config.apiKey,y.name)}function ee(){return(ee=(0,w.Z)(function*(y,d,p){const _=Ue(y);et(y,d,Ti);const x=Ts(_,p);return yield Qi(x,_),x._openRedirect(_,d,"signInViaRedirect")})).apply(this,arguments)}function st(){return(st=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);et(_.auth,d,Ti);const x=Ts(_.auth,p);yield Qi(x,_.auth);const k=yield ru(_);return x._openRedirect(_.auth,d,"reauthViaRedirect",k)})).apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(y,d,p){const _=(0,V.m9)(y);et(_.auth,d,Ti);const x=Ts(_.auth,p);yield N(!1,_,d.providerId),yield Qi(x,_.auth);const k=yield ru(_);return x._openRedirect(_.auth,d,"linkViaRedirect",k)})).apply(this,arguments)}function $n(){return($n=(0,w.Z)(function*(y,d){return yield Ue(y)._initializationPromise,mt(y,d,!1)})).apply(this,arguments)}function mt(y,d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,w.Z)(function*(y,d,p=!1){const _=Ue(y),x=Ts(_,d),Z=yield new hd(_,x,p).execute();return Z&&!p&&(delete Z.user._redirectEventId,yield _._persistUserIfCurrent(Z.user),yield _._setRedirectUser(null,d)),Z})).apply(this,arguments)}function ru(y){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,w.Z)(function*(y){const d=da(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class In{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(d,_)&&(p=!0,this.sendToConsumer(d,_),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function gd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var _;if(d.error&&!Wu(d)){const x=(null===(_=d.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(Te(this.auth,x))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const _=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&_}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vr(d))}saveEventToCache(d){this.cachedEventUids.add(vr(d)),this.lastProcessedEventTime=Date.now()}}function vr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function Wu({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function md(y){return zu.apply(this,arguments)}function zu(){return(zu=(0,w.Z)(function*(y,d={}){return $t(y,"GET","/v1/projects",d)})).apply(this,arguments)}const pg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function wa(){return(wa=(0,w.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield md(y);for(const p of d)try{if(Gl(p))return}catch(_){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function Gl(y){const d=rt(),{protocol:p,hostname:_}=new URL(d);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Z.hostname===_}if(!gg.test(p))return!1;if(pg.test(y))return _===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(_)}const Ny=new an(3e4,6e4);function Ni(){const y=wn().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Ku=null;function q0(y){return Ku=Ku||function ql(y){return new Promise((d,p)=>{var _,x,k;function Z(){Ni(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ni(),p(Te(y,"network-request-failed"))},timeout:Ny.get()})}if(null===(x=null===(_=wn().gapi)||void 0===_?void 0:_.iframes)||void 0===x?void 0:x.Iframe)d(gapi.iframes.getContext());else{if(!(null===(k=wn().gapi)||void 0===k?void 0:k.load)){const ye=ju("iframefcb");return wn()[ye]=()=>{gapi.load?Z():p(Te(y,"network-request-failed"))},ma(`https://apis.google.com/js/api.js?onload=${ye}`).catch(Ge=>p(Ge))}Z()}}).catch(d=>{throw Ku=null,d})}(y),Ku}const lf=new an(5e3,15e3),Zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},df=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qu(y){const d=y.config;me(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?ln(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:d.apiKey,appName:y.name,v:ie.SDK_VERSION},x=df.get(y.config.apiHost);x&&(_.eid=x);const k=y._getFrameworks();return k.length&&(_.fw=k.join(",")),`${p}?${(0,V.xO)(_).slice(1)}`}function hf(){return hf=(0,w.Z)(function*(y){const d=yield q0(y),p=wn().gapi;return me(p,y,"internal-error"),d.open({where:document.body,url:Qu(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zu,dontclear:!0},_=>new Promise(function(){var x=(0,w.Z)(function*(k,Z){yield _.restyle({setHideOnLeave:!1});const ye=Te(y,"network-request-failed"),Ge=wn().setTimeout(()=>{Z(ye)},lf.get());function tt(){wn().clearTimeout(Ge),k(_)}_.ping(tt).then(tt,()=>{Z(ye)})});return function(k,Z){return x.apply(this,arguments)}}()))}),hf.apply(this,arguments)}const W0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pf{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function zl(y,d,p,_,x,k){me(y.config.authDomain,y,"auth-domain-config-required"),me(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:ie.SDK_VERSION,eventId:x};if(d instanceof Ti){d.setDefaultLanguage(y.languageCode),Z.providerId=d.providerId||"",(0,V.xb)(d.getCustomParameters())||(Z.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ge,tt]of Object.entries(k||{}))Z[Ge]=tt}if(d instanceof mr){const Ge=d.getScopes().filter(tt=>""!==tt);Ge.length>0&&(Z.scopes=Ge.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ye=Z;for(const Ge of Object.keys(ye))void 0===ye[Ge]&&delete ye[Ge];return`${function vg({config:y}){return y.emulator?ln(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(ye).slice(1)}`}const ps="webStorageSupport";class Kl extends class Fy{constructor(d){this.factorId=d}_process(d,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,_);case"signin":return this._finalizeSignIn(d,p.credential);default:return X("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Kl(d)}_finalizeEnroll(d,p,_){return function ku(y,d){return $t(y,"POST","/v2/accounts/mfaEnrollment:finalize",en(y,d))}(d,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function Uu(y,d){return $t(y,"POST","/v2/accounts/mfaSignIn:finalize",en(y,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _g=(()=>{class y{constructor(){}static assertion(p){return Kl._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Eg="@firebase/auth",_d="0.19.11";class gf{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,w.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(_=>{var x;d((null===(x=_)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function au(){return window}function Fo(){return(Fo=(0,w.Z)(function*(y,d,p){var _;const{BuildInfo:x}=au();de(d.sessionId,"AuthEvent did not contain a session ID");const k=yield Z0(d.sessionId),Z={};return tr()?Z.ibi=x.packageName:Mn()?Z.apn=x.packageName:Se(y,"operation-not-supported-in-this-environment"),x.displayName&&(Z.appDisplayName=x.displayName),Z.sessionId=k,zl(y,p,d.type,void 0,null!==(_=d.eventId)&&void 0!==_?_:void 0,Z)})).apply(this,arguments)}function Yi(){return(Yi=(0,w.Z)(function*(y){const{BuildInfo:d}=au(),p={};tr()?p.iosBundleId=d.packageName:Mn()?p.androidPackageName=d.packageName:Se(y,"operation-not-supported-in-this-environment"),yield md(y,p)})).apply(this,arguments)}function Zl(){return(Zl=(0,w.Z)(function*(y,d,p){const{cordova:_}=au();let x=()=>{};try{yield new Promise((k,Z)=>{let ye=null;function Ge(){var pt;k();const Nn=null===(pt=_.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Nn&&Nn(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function tt(){ye||(ye=window.setTimeout(()=>{Z(Te(y,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}d.addPassiveListener(Ge),document.addEventListener("resume",tt,!1),Mn()&&document.addEventListener("visibilitychange",ot,!1),x=()=>{d.removePassiveListener(Ge),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",ot,!1),ye&&window.clearTimeout(ye)}})}finally{x()}})).apply(this,arguments)}function Z0(y){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,w.Z)(function*(y){const d=Q0(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Q0(y){if(de(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}!function mf(y){(0,ie._registerComponent)(new le.wA("auth",(d,{options:p})=>{const _=d.getProvider("app").getImmediate(),x=d.getProvider("heartbeat"),{apiKey:k,authDomain:Z}=_.options;return((ye,Ge)=>{me(k&&!k.includes(":"),"invalid-api-key",{appName:ye.name}),me(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:ye.name});const tt={apiKey:k,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Co(y)},ot=new Nr(ye,Ge,tt);return function pe(y,d){const p=(null==d?void 0:d.persistence)||[],_=(Array.isArray(p)?p:[p]).map(fe);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(_,null==d?void 0:d.popupRedirectResolver)}(ot,p),ot})(_,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,_)=>{d.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new le.wA("auth-internal",d=>{const p=Ue(d.getProvider("auth").getImmediate());return new gf(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Eg,_d,function Ig(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(Eg,_d,"esm2017")}("Browser");class vf extends In{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,w.Z)(function*(){yield d.initPromise})()}}function Ly(y){return wd.apply(this,arguments)}function wd(){return(wd=(0,w.Z)(function*(y){const d=yield Cd()._get(bd(y));return d&&(yield Cd()._remove(bd(y))),d})).apply(this,arguments)}function Dd(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*d.length);y.push(d.charAt(_))}return y.join("")}function Cd(){return fe(ei)}function bd(y){return Ee("authEvent",y.config.apiKey,y.name)}function Yl(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...p]=y.split("?");return(0,V.zd)(p.join("?"))}function Sd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function xd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Rd(y=(0,V.z$)()){return!("file:"!==xd()&&"ionic:"!==xd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Br(){try{const y=self.localStorage,d=da();if(y)return y.setItem(d,"1"),y.removeItem(d),!function Jl(y=(0,V.z$)()){return function J0(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function By(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch(y){return uu()&&(0,V.hl)()}return!1}function uu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ju(){return(function Uy(){return"http:"===xd()||"https:"===xd()}()||(0,V.ru)()||Rd())&&!function jy(){return(0,V.b$)()||(0,V.UG)()}()&&Br()&&!uu()}function Ag(){return Rd()&&"undefined"!=typeof document}function Xu(){return(Xu=(0,w.Z)(function*(){return!!Ag()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Ms={LOCAL:"local",NONE:"none",SESSION:"session"},Xl=me,Df="persistence";function Cf(y){return bf.apply(this,arguments)}function bf(){return(bf=(0,w.Z)(function*(y){yield y._initializationPromise;const d=Hy(),p=Ee(Df,y.config.apiKey,y.name);d&&d.setItem(p,y._getPersistence())})).apply(this,arguments)}function Hy(){var y;try{return(null===(y=function wf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const eE=me;class Lo{constructor(){this.browserResolver=fe(class su{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ti,this._completeRedirectFn=mt}_openPopup(d,p,_,x){var k=this;return(0,w.Z)(function*(){var Z;de(null===(Z=k.eventManagers[d._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ye=zl(d,p,_,rt(),x);return function iu(y,d,p,_=500,x=600){const k=Math.max((window.screen.availHeight-x)/2,0).toString(),Z=Math.max((window.screen.availWidth-_)/2,0).toString();let ye="";const Ge=Object.assign(Object.assign({},W0),{width:_.toString(),height:x.toString(),top:k,left:Z}),tt=(0,V.z$)().toLowerCase();p&&(ye=Ar(tt)?"_blank":p),Xe(tt)&&(d=d||"http://localhost",Ge.scrollbars="yes");const ot=Object.entries(Ge).reduce((Nn,[Rs,oi])=>`${Nn}${Rs}=${oi},`,"");if(function is(y=(0,V.z$)()){var d;return tr(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(tt)&&"_self"!==ye)return function Py(y,d){const p=document.createElement("a");p.href=y,p.target=d;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(d||"",ye),new pf(null);const pt=window.open(d||"",ye,ot);me(pt,y,"popup-blocked");try{pt.focus()}catch(Nn){}return new pf(pt)}(d,ye,da())})()}_openRedirect(d,p,_,x){var k=this;return(0,w.Z)(function*(){return yield k._originValidation(d),function tf(y){wn().location.href=y}(zl(d,p,_,rt(),x)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:x,promise:k}=this.eventManagers[p];return x?Promise.resolve(x):(de(k,"If manager is not set, promise should be"),k)}const _=this.initAndGetManager(d);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(d){var p=this;return(0,w.Z)(function*(){const _=yield function Oy(y){return hf.apply(this,arguments)}(d),x=new In(d);return _.register("authEvent",k=>(me(null==k?void 0:k.authEvent,d,"invalid-auth-event"),{status:x.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:x},p.iframes[d._key()]=_,x})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(ps,{type:ps},x=>{var k;const Z=null===(k=null==x?void 0:x[0])||void 0===k?void 0:k[ps];void 0!==Z&&p(!!Z),Se(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function mg(y){return wa.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Tt()||Rt()||tr()}}),this.cordovaResolver=fe(class Cg{constructor(){this._redirectPersistence=ti,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mt}_initialize(d){var p=this;return(0,w.Z)(function*(){const _=d._key();let x=p.eventManagers.get(_);return x||(x=new vf(d),p.eventManagers.set(_,x),p.attachCallbackListeners(d,x)),x})()}_openPopup(d){Se(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,_,x){var k=this;return(0,w.Z)(function*(){!function Ql(y){var d,p,_,x,k,Z,ye,Ge,tt,ot;const pt=au();me("function"==typeof(null===(d=null==pt?void 0:pt.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(void 0!==(null===(p=null==pt?void 0:pt.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(k=null===(x=null===(_=null==pt?void 0:pt.cordova)||void 0===_?void 0:_.plugins)||void 0===x?void 0:x.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(Ge=null===(ye=null===(Z=null==pt?void 0:pt.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Ge?void 0:Ge.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(ot=null===(tt=null==pt?void 0:pt.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===ot?void 0:ot.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Z=yield k._initialize(d);yield Z.initialized(),Z.resetRedirect(),function pd(){si.clear()}(),yield k._originValidation(d);const ye=function _f(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Dd(),postBody:null,tenantId:y.tenantId,error:Te(y,"no-auth-event")}}(d,_,x);yield function Y0(y,d){return Cd()._set(bd(y),d)}(d,ye);const Ge=yield function Ed(y,d,p){return Fo.apply(this,arguments)}(d,ye,p),tt=yield function Yu(y){const{cordova:d}=au();return new Promise(p=>{d.plugins.browsertab.isAvailable(_=>{let x=null;_?d.plugins.browsertab.openUrl(y):x=d.InAppBrowser.open(y,function Hi(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(x)})})}(Ge);return function wg(y,d,p){return Zl.apply(this,arguments)}(d,Z,tt)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Id(y){return Yi.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:_,handleOpenURL:x,BuildInfo:k}=au(),Z=setTimeout((0,w.Z)(function*(){yield Ly(d),p.onEvent(Sd())}),500),ye=function(){var ot=(0,w.Z)(function*(pt){clearTimeout(Z);const Nn=yield Ly(d);let Rs=null;Nn&&(null==pt?void 0:pt.url)&&(Rs=function Vy(y,d){var p,_;const x=function Ad(y){const d=Yl(y),p=d.link?decodeURIComponent(d.link):void 0,_=Yl(p).link,x=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Yl(x).link||x||_||p||y}(d);if(x.includes("/__/auth/callback")){const k=Yl(x),Z=k.firebaseError?function Td(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(k.firebaseError)):null,ye=null===(_=null===(p=null==Z?void 0:Z.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Ge=ye?Te(ye):null;return Ge?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Nn,pt.url)),p.onEvent(Rs||Sd())});return function(Nn){return ot.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,ye);const Ge=x,tt=`${k.packageName.toLowerCase()}://`;au().handleOpenURL=function(){var ot=(0,w.Z)(function*(pt){if(pt.toLowerCase().startsWith(tt)&&ye({url:pt}),"function"==typeof Ge)try{Ge(pt)}catch(Nn){console.error(Nn)}});return function(pt){return ot.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ti,this._completeRedirectFn=mt}_initialize(d){var p=this;return(0,w.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,_,x){var k=this;return(0,w.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(d,p,_,x)})()}_openRedirect(d,p,_,x){var k=this;return(0,w.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(d,p,_,x)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Ag()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eE(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,w.Z)(function*(){if(d.underlyingResolver)return;const p=yield function $r(){return Xu.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function Gy(y){return y.unwrap()}function Tf(y){return Af(y)}function Af(y){const{_tokenResponse:d}=y instanceof V.ZR?y.customData:y;if(!d)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return hs.credentialFromResult(y);const p=d.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=js;break;case"facebook.com":_=Us;break;case"github.com":_=Ha;break;case"twitter.com":_=Yo;break;default:const{oauthIdToken:x,oauthAccessToken:k,oauthTokenSecret:Z,pendingToken:ye,nonce:Ge}=d;return k||Z||x||ye?ye?p.startsWith("saml.")?Mo._create(p,ye):qi._fromParams({providerId:p,signInMethod:p,pendingToken:ye,idToken:x,accessToken:k}):new Ai(p).credential({idToken:x,accessToken:k,rawNonce:Ge}):null}return y instanceof V.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function Hr(y,d){return d.catch(p=>{throw p instanceof V.ZR&&function Mg(y,d){var p;const _=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new xg(y,function la(y,d){var p;const _=(0,V.m9)(y),x=d;return me(d.customData.operationType,_,"argument-error"),me(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),ua._fromError(_,x)}(y,d));else if(_){const x=Af(d),k=d;x&&(k.credential=x,k.tenantId=_.tenantId||void 0,k.email=_.email||void 0,k.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:Tf(p),additionalUserInfo:Vr(p),user:co.getOrCreate(x)}})}function ec(y,d){return tc.apply(this,arguments)}function tc(){return(tc=(0,w.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:_=>Hr(y,p.confirm(_))}})).apply(this,arguments)}class xg{constructor(d,p){this.resolver=p,this.auth=function Sg(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Hr(Gy(this.auth),this.resolver.resolveSignIn(d))}}class co{constructor(d){this._delegate=d,this.multiFactor=function Pl(y){const d=(0,V.m9)(y);return Oo.has(d)||Oo.set(d,Ki._fromUser(d)),Oo.get(d)}(d)}static getOrCreate(d){return co.USER_MAP.has(d)||co.USER_MAP.set(d,new co(d)),co.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,w.Z)(function*(){return Hr(p.auth,Yt(p._delegate,d))})()}linkWithPhoneNumber(d,p){var _=this;return(0,w.Z)(function*(){return ec(_.auth,function jl(y,d,p){return Ea.apply(this,arguments)}(_._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,w.Z)(function*(){return Hr(p.auth,function $l(y,d,p){return Yn.apply(this,arguments)}(p._delegate,d,Lo))})()}linkWithRedirect(d){var p=this;return(0,w.Z)(function*(){return yield Cf(Ue(p.auth)),function ht(y,d,p){return function xt(y,d,p){return re.apply(this,arguments)}(y,d,p)}(p._delegate,d,Lo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,w.Z)(function*(){return Hr(p.auth,Lt(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return ec(this.auth,function fg(y,d,p){return eu.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return Hr(this.auth,function qs(y,d,p){return nu.apply(this,arguments)}(this._delegate,d,Lo))}reauthenticateWithRedirect(d){var p=this;return(0,w.Z)(function*(){return yield Cf(Ue(p.auth)),function ue(y,d,p){return function Ve(y,d,p){return st.apply(this,arguments)}(y,d,p)}(p._delegate,d,Lo)})()}sendEmailVerification(d){return function Ds(y,d){return nd.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,w.Z)(function*(){return yield function Is(y,d){return Xo.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function sa(y,d){return Nu((0,V.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function Ka(y,d){return Nu((0,V.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function jr(y,d){return uo.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Wa(y,d){return za.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Ml(y,d,p){return xl.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}co.USER_MAP=new WeakMap;const Ca=me;let Sf=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;Ca(x,"invalid-api-key",{appName:p.name}),Ca(x,"invalid-api-key",{appName:p.name});const k="undefined"!=typeof window?Lo:void 0;this._delegate=_.initialize({options:{persistence:qy(x,p.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?co.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function gn(y,d,p){const _=Ue(y);me(_._canInitEmulator,_,"emulator-config-failed"),me(/^https?:\/\//.test(d),_,"invalid-emulator-scheme");const x=!!(null==p?void 0:p.disableWarnings),k=An(d),{host:Z,port:ye}=function nr(y){const d=An(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(_);if(x){const k=x[1];return{host:k,port:Un(_.substr(k.length+1))}}{const[k,Z]=_.split(":");return{host:k,port:Un(Z)}}}(d);_.config.emulator={url:`${k}//${Z}${null===ye?"":`:${ye}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Z,port:ye,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ci(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function qa(y,d){return Pe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ht(this._delegate,p)}confirmPasswordReset(p,_){return function Su(y,d,p){return ea.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var x=this;return(0,w.Z)(function*(){return Hr(x._delegate,function na(y,d,p){return Mi.apply(this,arguments)}(x._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ro(y,d){return Hs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Sl(y,d){const p=to.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,w.Z)(function*(){Ca(Ju(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function Dt(y,d){return $n.apply(this,arguments)}(p._delegate,Lo);return _?Hr(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function If(y,d){Ue(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,_,x){const{next:k,error:Z,complete:ye}=xs(p,_,x);return this._delegate.onAuthStateChanged(k,Z,ye)}onIdTokenChanged(p,_,x){const{next:k,error:Z,complete:ye}=xs(p,_,x);return this._delegate.onIdTokenChanged(k,Z,ye)}sendSignInLinkToEmail(p,_){return function xu(y,d,p){return Ru.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function zi(y,d,p){return us.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,w.Z)(function*(){let x;switch(function X0(y,d){Xl(Object.values(Ms).includes(d),y,"invalid-persistence-type"),(0,V.b$)()?Xl(d!==Ms.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?Xl(d===Ms.NONE,y,"unsupported-persistence-type"):uu()?Xl(d===Ms.NONE||d===Ms.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):Xl(d===Ms.NONE||Br(),y,"unsupported-persistence-type")}(_._delegate,p),p){case Ms.SESSION:x=ti;break;case Ms.LOCAL:x=(yield fe(Cs)._isAvailable())?Cs:ei;break;case Ms.NONE:x=K;break;default:return Se("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Hr(this._delegate,function xo(y){return Ga.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Hr(this._delegate,ze(this._delegate,p))}signInWithCustomToken(p){return Hr(this._delegate,function Wi(y,d){return hi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return Hr(this._delegate,function Mu(y,d,p){return ze((0,V.m9)(y),So.credential(d,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return Hr(this._delegate,function ra(y,d,p){return no.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return ec(this._delegate,function uf(y,d,p){return Qn.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,w.Z)(function*(){return Ca(Ju(),_._delegate,"operation-not-supported-in-this-environment"),Hr(_._delegate,function As(y,d,p){return lo.apply(this,arguments)}(_._delegate,p,Lo))})()}signInWithRedirect(p){var _=this;return(0,w.Z)(function*(){return Ca(Ju(),_._delegate,"operation-not-supported-in-this-environment"),yield Cf(_._delegate),function O(y,d,p){return function B(y,d,p){return ee.apply(this,arguments)}(y,d,p)}(_._delegate,p,Lo)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Fn(y,d){return ta.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ms,y})();function xs(y,d,p){let _=y;"function"!=typeof y&&({next:_,error:d,complete:p}=y);const x=_;return{next:Z=>x(Z&&co.getOrCreate(Z)),error:d,complete:p}}function qy(y,d){const p=function $y(y,d){const p=Hy();if(!p)return[];const _=Ee(Df,y,d);switch(p.getItem(_)){case Ms.NONE:return[K];case Ms.LOCAL:return[Cs,ti];case Ms.SESSION:return[ti];default:return[]}}(y,d);if("undefined"!=typeof self&&!p.includes(Cs)&&p.push(Cs),"undefined"!=typeof window)for(const _ of[ei,ti])p.includes(_)||p.push(_);return p.includes(K)||p.push(K),p}class Mf{constructor(){this.providerId="phone",this._delegate=new hs(Gy(g.Z.auth()))}static credential(d,p){return hs.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Mf.PHONE_SIGN_IN_METHOD=hs.PHONE_SIGN_IN_METHOD,Mf.PROVIDER_ID=hs.PROVIDER_ID;const Wy=me;class Rg{constructor(d,p,_=g.Z.app()){var x;Wy(null===(x=_.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new af(d,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rc(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),_=d.getProvider("auth");return new Sf(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:So,FacebookAuthProvider:Us,GithubAuthProvider:Ha,GoogleAuthProvider:js,OAuthProvider:Ai,SAMLAuthProvider:ci,PhoneAuthProvider:Mf,PhoneMultiFactorGenerator:_g,RecaptchaVerifier:Rg,TwitterAuthProvider:Yo,Auth:Sf,AuthCredential:un,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(g.Z)},4497:(at,be)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var F=function(){function w(g,V,ie,Y){this.id=w.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,g&&(this.text=g),V&&(this.cssClass=V),ie&&(this.closeOnClick=ie),Y&&(this.showCloseBtn=Y)}return w.nextId=0,w}();be.FlashMessage=F},2570:function(at,be,F){"use strict";var w=F(5e3),g=F(5673),V=F(9808);function ie(he,Ie){1&he&&w.\u0275\u0275element(0,"div",3)}function Y(he,Ie){if(1&he){var xe=w.\u0275\u0275getCurrentView();w.\u0275\u0275elementStart(0,"button",7),w.\u0275\u0275listener("click",function(){w.\u0275\u0275restoreView(xe);var Ce=w.\u0275\u0275nextContext().$implicit;return w.\u0275\u0275nextContext().close(Ce)}),w.\u0275\u0275elementStart(1,"span",8),w.\u0275\u0275text(2,"\xd7"),w.\u0275\u0275elementEnd()()}}var oe=function(he){return{"alert-dismissible":he}};function le(he,Ie){if(1&he){var xe=w.\u0275\u0275getCurrentView();w.\u0275\u0275elementStart(0,"div",4),w.\u0275\u0275listener("click",function(){var $e=w.\u0275\u0275restoreView(xe).$implicit;return w.\u0275\u0275nextContext().alertClicked($e)}),w.\u0275\u0275template(1,Y,3,0,"button",5),w.\u0275\u0275element(2,"div",6),w.\u0275\u0275elementEnd()}if(2&he){var se=Ie.$implicit;w.\u0275\u0275classMapInterpolate1("alert flash-message ",se.cssClass,""),w.\u0275\u0275styleProp("cursor",se.closeOnClick?"pointer":"inherit"),w.\u0275\u0275property("ngClass",w.\u0275\u0275pureFunction1(8,oe,se.showCloseBtn)),w.\u0275\u0275advance(1),w.\u0275\u0275property("ngIf",se.showCloseBtn),w.\u0275\u0275advance(1),w.\u0275\u0275property("innerHTML",se.text,w.\u0275\u0275sanitizeHtml)}}var ce=this&&this.__decorate||function(he,Ie,xe,se){var $e,Ce=arguments.length,He=Ce<3?Ie:null===se?se=Object.getOwnPropertyDescriptor(Ie,xe):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(he,Ie,xe,se);else for(var Se=he.length-1;Se>=0;Se--)($e=he[Se])&&(He=(Ce<3?$e(He):Ce>3?$e(Ie,xe,He):$e(Ie,xe))||He);return Ce>3&&He&&Object.defineProperty(Ie,xe,He),He},ae=this&&this.__metadata||function(he,Ie){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(he,Ie)};Object.defineProperty(be,"__esModule",{value:!0});var G=F(5e3),H=F(4497),J=F(5673),We=function(){function he(Ie,xe){this._flashMessagesService=Ie,this._cdRef=xe,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return he.prototype.ngOnInit=function(){},he.prototype.show=function(Ie,xe){var se=this;void 0===xe&&(xe={});var Ce={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var He in xe)Ce[He]=xe[He];var $e=new H.FlashMessage(Ie,Ce.cssClass,Ce.closeOnClick,Ce.showCloseBtn);$e.timer=window.setTimeout(function(){se._remove($e),se._cdRef.detectChanges()},Ce.timeout),this.messages.push($e),this._cdRef.detectChanges()},he.prototype.close=function(Ie){clearTimeout(Ie.timer),this._remove(Ie),this._cdRef.detectChanges()},he.prototype.alertClicked=function(Ie){Ie.closeOnClick&&this.close(Ie)},he.prototype.grayOut=function(Ie){void 0===Ie&&(Ie=!1),this._grayOut=Ie},he.prototype._remove=function(Ie){this.messages=this.messages.filter(function(xe){return xe.id!==Ie.id})},(he=ce([ae("design:paramtypes",[J.FlashMessagesService,G.ChangeDetectorRef])],he)).\u0275fac=function(xe){return new(xe||he)(w.\u0275\u0275directiveInject(g.FlashMessagesService),w.\u0275\u0275directiveInject(w.ChangeDetectorRef))},he.\u0275cmp=w.\u0275\u0275defineComponent({type:he,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(xe,se){1&xe&&(w.\u0275\u0275elementStart(0,"div",0),w.\u0275\u0275template(1,ie,1,0,"div",1),w.\u0275\u0275template(2,le,3,10,"div",2),w.\u0275\u0275elementEnd()),2&xe&&(w.\u0275\u0275advance(1),w.\u0275\u0275property("ngIf",se._grayOut&&se.messages.length),w.\u0275\u0275advance(1),w.\u0275\u0275property("ngForOf",se.messages))},directives:[V.NgIf,V.NgForOf,V.NgClass],encapsulation:2}),he}();be.FlashMessagesComponent=We},5673:function(at,be,F){"use strict";var w=F(5e3);Object.defineProperty(be,"__esModule",{value:!0}),F(5e3);var ie=function(){function Y(){}return Y.\u0275fac=function(le){return new(le||Y)},Y.\u0275prov=w.\u0275\u0275defineInjectable({token:Y,factory:function(oe){return Y.\u0275fac(oe)}}),Y}();be.FlashMessagesService=ie},3241:(at,be,F)=>{var g=F(2570),V=F(8533);be.qz=V.FlashMessagesModule;var ie=F(5673);be.GQ=ie.FlashMessagesService,be.cS=g.FlashMessagesComponent},8533:function(at,be,F){"use strict";var w=F(5e3);F(2570),F(9808),Object.defineProperty(be,"__esModule",{value:!0}),F(5e3);var oe=F(9808),ce=(F(2570),F(5673)),ae=function(){function G(){}var H;return H=G,G.forRoot=function(){return{ngModule:H,providers:[ce.FlashMessagesService]}},G.\u0275fac=function(We){return new(We||G)},G.\u0275mod=w.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=w.\u0275\u0275defineInjector({providers:[],imports:[[oe.CommonModule]]}),G}();be.FlashMessagesModule=ae},8306:(at,be,F)=>{"use strict";F.d(be,{y:()=>G});var w=F(2961),g=F(727),V=F(8822),ie=F(4671);var le=F(2416),ce=F(576),ae=F(2806);let G=(()=>{class he{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const se=new he;return se.source=this,se.operator=xe,se}subscribe(xe,se,Ce){const He=function We(he){return he&&he instanceof w.Lv||function J(he){return he&&(0,ce.m)(he.next)&&(0,ce.m)(he.error)&&(0,ce.m)(he.complete)}(he)&&(0,g.Nn)(he)}(xe)?xe:new w.Hp(xe,se,Ce);return(0,ae.x)(()=>{const{operator:$e,source:Se}=this;He.add($e?$e.call(He,Se):Se?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(xe){try{return this._subscribe(xe)}catch(se){xe.error(se)}}forEach(xe,se){return new(se=H(se))((Ce,He)=>{const $e=new w.Hp({next:Se=>{try{xe(Se)}catch(Te){He(Te),$e.unsubscribe()}},error:He,complete:Ce});this.subscribe($e)})}_subscribe(xe){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe(xe)}[V.L](){return this}pipe(...xe){return function oe(he){return 0===he.length?ie.y:1===he.length?he[0]:function(xe){return he.reduce((se,Ce)=>Ce(se),xe)}}(xe)(this)}toPromise(xe){return new(xe=H(xe))((se,Ce)=>{let He;this.subscribe($e=>He=$e,$e=>Ce($e),()=>se(He))})}}return he.create=Ie=>new he(Ie),he})();function H(he){var Ie;return null!==(Ie=null!=he?he:le.v.Promise)&&void 0!==Ie?Ie:Promise}},7579:(at,be,F)=>{"use strict";F.d(be,{x:()=>le});var w=F(8306),g=F(727);const ie=(0,F(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=F(8737),oe=F(2806);let le=(()=>{class ae extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new ce(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new ie}next(H){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:We,observers:he}=this;return J||We?g.Lc:(this.currentObservers=null,he.push(H),new g.w0(()=>{this.currentObservers=null,(0,Y.P)(he,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:We,isStopped:he}=this;J?H.error(We):he&&H.complete()}asObservable(){const H=new w.y;return H.source=this,H}}return ae.create=(G,H)=>new ce(G,H),ae})();class ce extends le{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,G)}error(G){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==J?J:g.Lc}}},2961:(at,be,F)=>{"use strict";F.d(be,{Hp:()=>xe,Lv:()=>J});var w=F(576),g=F(727),V=F(2416),ie=F(7849);function Y(){}const oe=ae("C",void 0,void 0);function ae(Se,Te,Me){return{kind:Se,value:Te,error:Me}}var G=F(3410),H=F(2806);class J extends g.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,g.Nn)(Te)&&Te.add(this)):this.destination=$e}static create(Te,Me,et){return new xe(Te,Me,et)}next(Te){this.isStopped?He(function ce(Se){return ae("N",Se,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?He(function le(Se){return ae("E",void 0,Se)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?He(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function he(Se,Te){return We.call(Se,Te)}class Ie{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Me}=this;if(Me.next)try{Me.next(Te)}catch(et){se(et)}}error(Te){const{partialObserver:Me}=this;if(Me.error)try{Me.error(Te)}catch(et){se(et)}else se(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Me){se(Me)}}}class xe extends J{constructor(Te,Me,et){let Qe;if(super(),(0,w.m)(Te)||!Te)Qe={next:null!=Te?Te:void 0,error:null!=Me?Me:void 0,complete:null!=et?et:void 0};else{let me;this&&V.v.useDeprecatedNextContext?(me=Object.create(Te),me.unsubscribe=()=>this.unsubscribe(),Qe={next:Te.next&&he(Te.next,me),error:Te.error&&he(Te.error,me),complete:Te.complete&&he(Te.complete,me)}):Qe=Te}this.destination=new Ie(Qe)}}function se(Se){V.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Se):(0,ie.h)(Se)}function He(Se,Te){const{onStoppedNotification:Me}=V.v;Me&&G.z.setTimeout(()=>Me(Se,Te))}const $e={closed:!0,next:Y,error:function Ce(Se){throw Se},complete:Y}},727:(at,be,F)=>{"use strict";F.d(be,{Lc:()=>oe,w0:()=>Y,Nn:()=>le});var w=F(576);const V=(0,F(3888).d)(ae=>function(H){ae(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,We)=>`${We+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ie=F(8737);class Y{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const he of H)he.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,w.m)(J))try{J()}catch(he){G=he instanceof V?he.errors:[he]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const he of We)try{ce(he)}catch(Ie){G=null!=G?G:[],Ie instanceof V?G=[...G,...Ie.errors]:G.push(Ie)}}if(G)throw new V(G)}}add(G){var H;if(G&&G!==this)if(this.closed)ce(G);else{if(G instanceof Y){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,ie.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,ie.P)(H,G),G instanceof Y&&G._removeParent(this)}}Y.EMPTY=(()=>{const ae=new Y;return ae.closed=!0,ae})();const oe=Y.EMPTY;function le(ae){return ae instanceof Y||ae&&"closed"in ae&&(0,w.m)(ae.remove)&&(0,w.m)(ae.add)&&(0,w.m)(ae.unsubscribe)}function ce(ae){(0,w.m)(ae)?ae():ae.unsubscribe()}},2416:(at,be,F)=>{"use strict";F.d(be,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,be,F)=>{"use strict";F.d(be,{E:()=>g,c:()=>V});var w=F(8306);const g=new w.y(Y=>Y.complete());function V(Y){return Y?function ie(Y){return new w.y(oe=>Y.schedule(()=>oe.complete()))}(Y):g}},8996:(at,be,F)=>{"use strict";F.d(be,{D:()=>Te});var w=F(8421),g=F(5363),V=F(9468),oe=F(8306),ce=F(2202),ae=F(576),G=F(9672);function J(Me,et){if(!Me)throw new Error("Iterable cannot be null");return new oe.y(Qe=>{(0,G.f)(Qe,et,()=>{const me=Me[Symbol.asyncIterator]();(0,G.f)(Qe,et,()=>{me.next().then(X=>{X.done?Qe.complete():Qe.next(X.value)})},0,!0)})})}var We=F(3670),he=F(8239),Ie=F(1144),xe=F(6495),se=F(2206),Ce=F(4532),He=F(3260);function Te(Me,et){return et?function Se(Me,et){if(null!=Me){if((0,We.c)(Me))return function ie(Me,et){return(0,w.Xf)(Me).pipe((0,V.R)(et),(0,g.Q)(et))}(Me,et);if((0,Ie.z)(Me))return function le(Me,et){return new oe.y(Qe=>{let me=0;return et.schedule(function(){me===Me.length?Qe.complete():(Qe.next(Me[me++]),Qe.closed||this.schedule())})})}(Me,et);if((0,he.t)(Me))return function Y(Me,et){return(0,w.Xf)(Me).pipe((0,V.R)(et),(0,g.Q)(et))}(Me,et);if((0,se.D)(Me))return J(Me,et);if((0,xe.T)(Me))return function H(Me,et){return new oe.y(Qe=>{let me;return(0,G.f)(Qe,et,()=>{me=Me[ce.h](),(0,G.f)(Qe,et,()=>{let X,de;try{({value:X,done:de}=me.next())}catch(De){return void Qe.error(De)}de?Qe.complete():Qe.next(X)},0,!0)}),()=>(0,ae.m)(null==me?void 0:me.return)&&me.return()})}(Me,et);if((0,He.L)(Me))return function $e(Me,et){return J((0,He.Q)(Me),et)}(Me,et)}throw(0,Ce.z)(Me)}(Me,et):(0,w.Xf)(Me)}},8421:(at,be,F)=>{"use strict";F.d(be,{Xf:()=>We});var w=F(655),g=F(1144),V=F(8239),ie=F(8306),Y=F(3670),oe=F(2206),le=F(4532),ce=F(6495),ae=F(3260),G=F(576),H=F(7849),J=F(8822);function We(Se){if(Se instanceof ie.y)return Se;if(null!=Se){if((0,Y.c)(Se))return function he(Se){return new ie.y(Te=>{const Me=Se[J.L]();if((0,G.m)(Me.subscribe))return Me.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,g.z)(Se))return function Ie(Se){return new ie.y(Te=>{for(let Me=0;Me<Se.length&&!Te.closed;Me++)Te.next(Se[Me]);Te.complete()})}(Se);if((0,V.t)(Se))return function xe(Se){return new ie.y(Te=>{Se.then(Me=>{Te.closed||(Te.next(Me),Te.complete())},Me=>Te.error(Me)).then(null,H.h)})}(Se);if((0,oe.D)(Se))return Ce(Se);if((0,ce.T)(Se))return function se(Se){return new ie.y(Te=>{for(const Me of Se)if(Te.next(Me),Te.closed)return;Te.complete()})}(Se);if((0,ae.L)(Se))return function He(Se){return Ce((0,ae.Q)(Se))}(Se)}throw(0,le.z)(Se)}function Ce(Se){return new ie.y(Te=>{(function $e(Se,Te){var Me,et,Qe,me;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Me=(0,w.KL)(Se);!(et=yield Me.next()).done;)if(Te.next(et.value),Te.closed)return}catch(X){Qe={error:X}}finally{try{et&&!et.done&&(me=Me.return)&&(yield me.call(Me))}finally{if(Qe)throw Qe.error}}Te.complete()})})(Se,Te).catch(Me=>Te.error(Me))})}},6451:(at,be,F)=>{"use strict";F.d(be,{T:()=>oe});var w=F(8189),g=F(8421),V=F(515),ie=F(3269),Y=F(8996);function oe(...le){const ce=(0,ie.yG)(le),ae=(0,ie._6)(le,1/0),G=le;return G.length?1===G.length?(0,g.Xf)(G[0]):(0,w.J)(ae)((0,Y.D)(G,ce)):V.E}},5403:(at,be,F)=>{"use strict";F.d(be,{x:()=>g});var w=F(2961);function g(ie,Y,oe,le,ce){return new V(ie,Y,oe,le,ce)}class V extends w.Lv{constructor(Y,oe,le,ce,ae,G){super(Y),this.onFinalize=ae,this.shouldUnsubscribe=G,this._next=oe?function(H){try{oe(H)}catch(J){Y.error(J)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(J){Y.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(H){Y.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},4004:(at,be,F)=>{"use strict";F.d(be,{U:()=>V});var w=F(4482),g=F(5403);function V(ie,Y){return(0,w.e)((oe,le)=>{let ce=0;oe.subscribe((0,g.x)(le,ae=>{le.next(ie.call(Y,ae,ce++))}))})}},8189:(at,be,F)=>{"use strict";F.d(be,{J:()=>V});var w=F(6099),g=F(4671);function V(ie=1/0){return(0,w.z)(g.y,ie)}},2733:(at,be,F)=>{"use strict";F.d(be,{p:()=>ie});var w=F(8421),g=F(9672),V=F(5403);function ie(Y,oe,le,ce,ae,G,H,J){const We=[];let he=0,Ie=0,xe=!1;const se=()=>{xe&&!We.length&&!he&&oe.complete()},Ce=$e=>he<ce?He($e):We.push($e),He=$e=>{G&&oe.next($e),he++;let Se=!1;(0,w.Xf)(le($e,Ie++)).subscribe((0,V.x)(oe,Te=>{null==ae||ae(Te),G?Ce(Te):oe.next(Te)},()=>{Se=!0},void 0,()=>{if(Se)try{for(he--;We.length&&he<ce;){const Te=We.shift();H?(0,g.f)(oe,H,()=>He(Te)):He(Te)}se()}catch(Te){oe.error(Te)}}))};return Y.subscribe((0,V.x)(oe,Ce,()=>{xe=!0,se()})),()=>{null==J||J()}}},6099:(at,be,F)=>{"use strict";F.d(be,{z:()=>oe});var w=F(4004),g=F(8421),V=F(4482),ie=F(2733),Y=F(576);function oe(le,ce,ae=1/0){return(0,Y.m)(ce)?oe((G,H)=>(0,w.U)((J,We)=>ce(G,J,H,We))((0,g.Xf)(le(G,H))),ae):("number"==typeof ce&&(ae=ce),(0,V.e)((G,H)=>(0,ie.p)(G,H,le,ae)))}},5363:(at,be,F)=>{"use strict";F.d(be,{Q:()=>ie});var w=F(9672),g=F(4482),V=F(5403);function ie(Y,oe=0){return(0,g.e)((le,ce)=>{le.subscribe((0,V.x)(ce,ae=>(0,w.f)(ce,Y,()=>ce.next(ae),oe),()=>(0,w.f)(ce,Y,()=>ce.complete(),oe),ae=>(0,w.f)(ce,Y,()=>ce.error(ae),oe)))})}},3099:(at,be,F)=>{"use strict";F.d(be,{B:()=>oe});var w=F(8996),g=F(5698),V=F(7579),ie=F(2961),Y=F(4482);function oe(ce={}){const{connector:ae=(()=>new V.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=ce;return We=>{let he=null,Ie=null,xe=null,se=0,Ce=!1,He=!1;const $e=()=>{null==Ie||Ie.unsubscribe(),Ie=null},Se=()=>{$e(),he=xe=null,Ce=He=!1},Te=()=>{const Me=he;Se(),null==Me||Me.unsubscribe()};return(0,Y.e)((Me,et)=>{se++,!He&&!Ce&&$e();const Qe=xe=null!=xe?xe:ae();et.add(()=>{se--,0===se&&!He&&!Ce&&(Ie=le(Te,J))}),Qe.subscribe(et),he||(he=new ie.Hp({next:me=>Qe.next(me),error:me=>{He=!0,$e(),Ie=le(Se,G,me),Qe.error(me)},complete:()=>{Ce=!0,$e(),Ie=le(Se,H),Qe.complete()}}),(0,w.D)(Me).subscribe(he))})(We)}}function le(ce,ae,...G){return!0===ae?(ce(),null):!1===ae?null:ae(...G).pipe((0,g.q)(1)).subscribe(()=>ce())}},9468:(at,be,F)=>{"use strict";F.d(be,{R:()=>g});var w=F(4482);function g(V,ie=0){return(0,w.e)((Y,oe)=>{oe.add(V.schedule(()=>Y.subscribe(oe),ie))})}},5698:(at,be,F)=>{"use strict";F.d(be,{q:()=>ie});var w=F(515),g=F(4482),V=F(5403);function ie(Y){return Y<=0?()=>w.E:(0,g.e)((oe,le)=>{let ce=0;oe.subscribe((0,V.x)(le,ae=>{++ce<=Y&&(le.next(ae),Y<=ce&&le.complete())}))})}},8505:(at,be,F)=>{"use strict";F.d(be,{b:()=>Y});var w=F(576),g=F(4482),V=F(5403),ie=F(4671);function Y(oe,le,ce){const ae=(0,w.m)(oe)||le||ce?{next:oe,error:le,complete:ce}:oe;return ae?(0,g.e)((G,H)=>{var J;null===(J=ae.subscribe)||void 0===J||J.call(ae);let We=!0;G.subscribe((0,V.x)(H,he=>{var Ie;null===(Ie=ae.next)||void 0===Ie||Ie.call(ae,he),H.next(he)},()=>{var he;We=!1,null===(he=ae.complete)||void 0===he||he.call(ae),H.complete()},he=>{var Ie;We=!1,null===(Ie=ae.error)||void 0===Ie||Ie.call(ae,he),H.error(he)},()=>{var he,Ie;We&&(null===(he=ae.unsubscribe)||void 0===he||he.call(ae)),null===(Ie=ae.finalize)||void 0===Ie||Ie.call(ae)}))}):ie.y}},4408:(at,be,F)=>{"use strict";F.d(be,{o:()=>Y});var w=F(727);class g extends w.w0{constructor(le,ce){super()}schedule(le,ce=0){return this}}const V={setInterval(oe,le,...ce){const{delegate:ae}=V;return(null==ae?void 0:ae.setInterval)?ae.setInterval(oe,le,...ce):setInterval(oe,le,...ce)},clearInterval(oe){const{delegate:le}=V;return((null==le?void 0:le.clearInterval)||clearInterval)(oe)},delegate:void 0};var ie=F(8737);class Y extends g{constructor(le,ce){super(le,ce),this.scheduler=le,this.work=ce,this.pending=!1}schedule(le,ce=0){if(this.closed)return this;this.state=le;const ae=this.id,G=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(G,ae,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(G,this.id,ce),this}requestAsyncId(le,ce,ae=0){return V.setInterval(le.flush.bind(le,this),ae)}recycleAsyncId(le,ce,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return ce;V.clearInterval(ce)}execute(le,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(le,ce);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,ce){let G,ae=!1;try{this.work(le)}catch(H){ae=!0,G=H||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:le,scheduler:ce}=this,{actions:ae}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ae,this),null!=le&&(this.id=this.recycleAsyncId(ce,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,be,F)=>{"use strict";F.d(be,{v:()=>V});var w=F(6063);class g{constructor(Y,oe=g.now){this.schedulerActionCtor=Y,this.now=oe}schedule(Y,oe=0,le){return new this.schedulerActionCtor(this,Y).schedule(le,oe)}}g.now=w.l.now;class V extends g{constructor(Y,oe=g.now){super(Y,oe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Y){const{actions:oe}=this;if(this._active)return void oe.push(Y);let le;this._active=!0;do{if(le=Y.execute(Y.state,Y.delay))break}while(Y=oe.shift());if(this._active=!1,le){for(;Y=oe.shift();)Y.unsubscribe();throw le}}}},4986:(at,be,F)=>{"use strict";F.d(be,{z:()=>V,P:()=>ie});var w=F(4408);const V=new(F(7565).v)(w.o),ie=V},6063:(at,be,F)=>{"use strict";F.d(be,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(at,be,F)=>{"use strict";F.d(be,{z:()=>w});const w={setTimeout(g,V,...ie){const{delegate:Y}=w;return(null==Y?void 0:Y.setTimeout)?Y.setTimeout(g,V,...ie):setTimeout(g,V,...ie)},clearTimeout(g){const{delegate:V}=w;return((null==V?void 0:V.clearTimeout)||clearTimeout)(g)},delegate:void 0}},2202:(at,be,F)=>{"use strict";F.d(be,{h:()=>g});const g=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,be,F)=>{"use strict";F.d(be,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,be,F)=>{"use strict";F.d(be,{jO:()=>ie,yG:()=>Y,_6:()=>oe});var w=F(576),g=F(3532);function V(le){return le[le.length-1]}function ie(le){return(0,w.m)(V(le))?le.pop():void 0}function Y(le){return(0,g.K)(V(le))?le.pop():void 0}function oe(le,ce){return"number"==typeof V(le)?le.pop():ce}},8737:(at,be,F)=>{"use strict";function w(g,V){if(g){const ie=g.indexOf(V);0<=ie&&g.splice(ie,1)}}F.d(be,{P:()=>w})},3888:(at,be,F)=>{"use strict";function w(g){const ie=g(Y=>{Error.call(Y),Y.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}F.d(be,{d:()=>w})},2806:(at,be,F)=>{"use strict";F.d(be,{x:()=>V,O:()=>ie});var w=F(2416);let g=null;function V(Y){if(w.v.useDeprecatedSynchronousErrorHandling){const oe=!g;if(oe&&(g={errorThrown:!1,error:null}),Y(),oe){const{errorThrown:le,error:ce}=g;if(g=null,le)throw ce}}else Y()}function ie(Y){w.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Y)}},9672:(at,be,F)=>{"use strict";function w(g,V,ie,Y=0,oe=!1){const le=V.schedule(function(){ie(),oe?g.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(g.add(le),!oe)return le}F.d(be,{f:()=>w})},4671:(at,be,F)=>{"use strict";function w(g){return g}F.d(be,{y:()=>w})},1144:(at,be,F)=>{"use strict";F.d(be,{z:()=>w});const w=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(at,be,F)=>{"use strict";F.d(be,{D:()=>g});var w=F(576);function g(V){return Symbol.asyncIterator&&(0,w.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(at,be,F)=>{"use strict";function w(g){return"function"==typeof g}F.d(be,{m:()=>w})},3670:(at,be,F)=>{"use strict";F.d(be,{c:()=>V});var w=F(8822),g=F(576);function V(ie){return(0,g.m)(ie[w.L])}},6495:(at,be,F)=>{"use strict";F.d(be,{T:()=>V});var w=F(2202),g=F(576);function V(ie){return(0,g.m)(null==ie?void 0:ie[w.h])}},8239:(at,be,F)=>{"use strict";F.d(be,{t:()=>g});var w=F(576);function g(V){return(0,w.m)(null==V?void 0:V.then)}},3260:(at,be,F)=>{"use strict";F.d(be,{Q:()=>V,L:()=>ie});var w=F(655),g=F(576);function V(Y){return(0,w.FC)(this,arguments,function*(){const le=Y.getReader();try{for(;;){const{value:ce,done:ae}=yield(0,w.qq)(le.read());if(ae)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ce)}}finally{le.releaseLock()}})}function ie(Y){return(0,g.m)(null==Y?void 0:Y.getReader)}},3532:(at,be,F)=>{"use strict";F.d(be,{K:()=>g});var w=F(576);function g(V){return V&&(0,w.m)(V.schedule)}},4482:(at,be,F)=>{"use strict";F.d(be,{A:()=>g,e:()=>V});var w=F(576);function g(ie){return(0,w.m)(null==ie?void 0:ie.lift)}function V(ie){return Y=>{if(g(Y))return Y.lift(function(oe){try{return ie(oe,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(at,be,F)=>{"use strict";F.d(be,{h:()=>V});var w=F(2416),g=F(3410);function V(ie){g.z.setTimeout(()=>{const{onUnhandledError:Y}=w.v;if(!Y)throw ie;Y(ie)})}},4532:(at,be,F)=>{"use strict";function w(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>w})},655:(at,be,F)=>{"use strict";function ie(X,de){var De={};for(var fe in X)Object.prototype.hasOwnProperty.call(X,fe)&&de.indexOf(fe)<0&&(De[fe]=X[fe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(fe=Object.getOwnPropertySymbols(X);Le<fe.length;Le++)de.indexOf(fe[Le])<0&&Object.prototype.propertyIsEnumerable.call(X,fe[Le])&&(De[fe[Le]]=X[fe[Le]])}return De}function ce(X,de,De,fe){return new(De||(De=Promise))(function(pe,rt){function Jt(Et){try{ft(fe.next(Et))}catch(an){rt(an)}}function Sn(Et){try{ft(fe.throw(Et))}catch(an){rt(an)}}function ft(Et){Et.done?pe(Et.value):function Le(pe){return pe instanceof De?pe:new De(function(rt){rt(pe)})}(Et.value).then(Jt,Sn)}ft((fe=fe.apply(X,de||[])).next())})}function se(X){return this instanceof se?(this.v=X,this):new se(X)}function Ce(X,de,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,fe=De.apply(X,de||[]),pe=[];return Le={},rt("next"),rt("throw"),rt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function rt(ln){fe[ln]&&(Le[ln]=function(li){return new Promise(function(Xt,wi){pe.push([ln,li,Xt,wi])>1||Jt(ln,li)})})}function Jt(ln,li){try{!function Sn(ln){ln.value instanceof se?Promise.resolve(ln.value.v).then(ft,Et):an(pe[0][2],ln)}(fe[ln](li))}catch(Xt){an(pe[0][3],Xt)}}function ft(ln){Jt("next",ln)}function Et(ln){Jt("throw",ln)}function an(ln,li){ln(li),pe.shift(),pe.length&&Jt(pe[0][0],pe[0][1])}}function $e(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,de=X[Symbol.asyncIterator];return de?de.call(X):(X=function J(X){var de="function"==typeof Symbol&&Symbol.iterator,De=de&&X[de],fe=0;if(De)return De.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&fe>=X.length&&(X=void 0),{value:X&&X[fe++],done:!X}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),De={},fe("next"),fe("throw"),fe("return"),De[Symbol.asyncIterator]=function(){return this},De);function fe(pe){De[pe]=X[pe]&&function(rt){return new Promise(function(Jt,Sn){!function Le(pe,rt,Jt,Sn){Promise.resolve(Sn).then(function(ft){pe({value:ft,done:Jt})},rt)}(Jt,Sn,(rt=X[pe](rt)).done,rt.value)})}}}F.d(be,{_T:()=>ie,mG:()=>ce,qq:()=>se,FC:()=>Ce,KL:()=>$e})},9808:(at,be,F)=>{"use strict";F.r(be),F.d(be,{APP_BASE_HREF:()=>He,AsyncPipe:()=>Qo,CommonModule:()=>Mo,CurrencyPipe:()=>Ai,DATE_PIPE_DEFAULT_TIMEZONE:()=>bu,DOCUMENT:()=>le,DatePipe:()=>Tu,DecimalPipe:()=>Ti,FormStyle:()=>De,FormatWidth:()=>Le,HashLocationStrategy:()=>Se,I18nPluralPipe:()=>Pr,I18nSelectPipe:()=>kr,JsonPipe:()=>eo,KeyValuePipe:()=>Al,LOCATION_INITIALIZED:()=>G,Location:()=>Te,LocationStrategy:()=>se,LowerCasePipe:()=>Ao,NgClass:()=>os,NgComponentOutlet:()=>xn,NgForOf:()=>gr,NgForOfContext:()=>pr,NgIf:()=>Yr,NgIfContext:()=>sn,NgLocaleLocalization:()=>ss,NgLocalization:()=>un,NgPlural:()=>Js,NgPluralCase:()=>Sr,NgStyle:()=>Ua,NgSwitch:()=>Jr,NgSwitchCase:()=>Or,NgSwitchDefault:()=>zo,NgTemplateOutlet:()=>Ko,NumberFormatStyle:()=>X,NumberSymbol:()=>pe,PathLocationStrategy:()=>$e,PercentPipe:()=>mr,PlatformLocation:()=>ce,Plural:()=>de,SlicePipe:()=>Ha,TitleCasePipe:()=>Ba,TranslationWidth:()=>fe,UpperCasePipe:()=>Xs,VERSION:()=>Ga,ViewportScroller:()=>$s,WeekDay:()=>rt,XhrFactory:()=>mn,formatCurrency:()=>Nr,formatDate:()=>Wn,formatNumber:()=>kt,formatPercent:()=>Ue,getCurrencySymbol:()=>Kr,getLocaleCurrencyCode:()=>Dr,getLocaleCurrencyName:()=>es,getLocaleCurrencySymbol:()=>Wr,getLocaleDateFormat:()=>Xt,getLocaleDateTimeFormat:()=>en,getLocaleDayNames:()=>ft,getLocaleDayPeriods:()=>Sn,getLocaleDirection:()=>zr,getLocaleEraNames:()=>an,getLocaleExtraDayPeriodRules:()=>ns,getLocaleExtraDayPeriods:()=>yt,getLocaleFirstDayOfWeek:()=>ln,getLocaleId:()=>Jt,getLocaleMonthNames:()=>Et,getLocaleNumberFormat:()=>er,getLocaleNumberSymbol:()=>$t,getLocalePluralCase:()=>hr,getLocaleTimeFormat:()=>wi,getLocaleWeekEndRange:()=>li,getNumberOfCurrencyDigits:()=>_n,isPlatformBrowser:()=>Fr,isPlatformServer:()=>yr,isPlatformWorkerApp:()=>Au,isPlatformWorkerUi:()=>xo,registerLocaleData:()=>St,\u0275BrowserPlatformLocation:()=>H,\u0275DomAdapter:()=>oe,\u0275NullViewportScroller:()=>Xo,\u0275PLATFORM_BROWSER_ID:()=>Bs,\u0275PLATFORM_SERVER_ID:()=>ci,\u0275PLATFORM_WORKER_APP_ID:()=>Yo,\u0275PLATFORM_WORKER_UI_ID:()=>Jo,\u0275getDOM:()=>V,\u0275parseCookieValue:()=>Qr,\u0275setRootDomAdapter:()=>Y});var w=F(5e3);let g=null;function V(){return g}function Y(T){g||(g=T)}class oe{}const le=new w.InjectionToken("DocumentToken");let ce=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function ae(){return(0,w.\u0275\u0275inject)(H)}()},providedIn:"platform"}),T})();const G=new w.InjectionToken("Location Initialized");let H=(()=>{class T extends ce{constructor(b){super(),this._doc=b,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",b,!1),()=>P.removeEventListener("popstate",b)}onHashChange(b){const P=V().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",b,!1),()=>P.removeEventListener("hashchange",b)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(b){this.location.pathname=b}pushState(b,P,z){J()?this._history.pushState(b,P,z):this.location.hash=z}replaceState(b,P,z){J()?this._history.replaceState(b,P,z):this.location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(le))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function We(){return new H((0,w.\u0275\u0275inject)(le))}()},providedIn:"platform"}),T})();function J(){return!!window.history.pushState}function he(T,N){if(0==T.length)return N;if(0==N.length)return T;let b=0;return T.endsWith("/")&&b++,N.startsWith("/")&&b++,2==b?T+N.substring(1):1==b?T+N:T+"/"+N}function Ie(T){const N=T.match(/#|\?|$/),b=N&&N.index||T.length;return T.slice(0,b-("/"===T[b-1]?1:0))+T.slice(b)}function xe(T){return T&&"?"!==T[0]?"?"+T:T}let se=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function Ce(T){const N=(0,w.\u0275\u0275inject)(le).location;return new $e((0,w.\u0275\u0275inject)(ce),N&&N.origin||"")}()},providedIn:"root"}),T})();const He=new w.InjectionToken("appBaseHref");let $e=(()=>{class T extends se{constructor(b,P){if(super(),this._platformLocation=b,this._removeListenerFns=[],null==P&&(P=this._platformLocation.getBaseHrefFromDOM()),null==P)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=P}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return he(this._baseHref,b)}path(b=!1){const P=this._platformLocation.pathname+xe(this._platformLocation.search),z=this._platformLocation.hash;return z&&b?`${P}${z}`:P}pushState(b,P,z,ve){const Ne=this.prepareExternalUrl(z+xe(ve));this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,z,ve){const Ne=this.prepareExternalUrl(z+xe(ve));this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformLocation).historyGo)||void 0===z||z.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(ce),w.\u0275\u0275inject(He,8))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Se=(()=>{class T extends se{constructor(b,P){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(b){const P=he(this._baseHref,b);return P.length>0?"#"+P:P}pushState(b,P,z,ve){let Ne=this.prepareExternalUrl(z+xe(ve));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.pushState(b,P,Ne)}replaceState(b,P,z,ve){let Ne=this.prepareExternalUrl(z+xe(ve));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.replaceState(b,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformLocation).historyGo)||void 0===z||z.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(ce),w.\u0275\u0275inject(He,8))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})(),Te=(()=>{class T{constructor(b,P){this._subject=new w.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=b;const z=this._platformStrategy.getBaseHref();this._platformLocation=P,this._baseHref=Ie(Qe(z)),this._platformStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}path(b=!1){return this.normalize(this._platformStrategy.path(b))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(b,P=""){return this.path()==this.normalize(b+xe(P))}normalize(b){return T.stripTrailingSlash(function et(T,N){return T&&N.startsWith(T)?N.substring(T.length):N}(this._baseHref,Qe(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._platformStrategy.prepareExternalUrl(b)}go(b,P="",z=null){this._platformStrategy.pushState(z,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),z)}replaceState(b,P="",z=null){this._platformStrategy.replaceState(z,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+xe(P)),z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(b=0){var P,z;null===(z=(P=this._platformStrategy).historyGo)||void 0===z||z.call(P,b)}onUrlChange(b){this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}))}_notifyUrlChangeListeners(b="",P){this._urlChangeListeners.forEach(z=>z(b,P))}subscribe(b,P,z){return this._subject.subscribe({next:b,error:P,complete:z})}}return T.normalizeQueryParams=xe,T.joinWithSlash=he,T.stripTrailingSlash=Ie,T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(se),w.\u0275\u0275inject(ce))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(){return function Me(){return new Te((0,w.\u0275\u0275inject)(se),(0,w.\u0275\u0275inject)(ce))}()},providedIn:"root"}),T})();function Qe(T){return T.replace(/\/index.html$/,"")}const me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))(),De=(()=>((De=De||{})[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),Le=(()=>((Le=Le||{})[Le.Short=0]="Short",Le[Le.Medium=1]="Medium",Le[Le.Long=2]="Long",Le[Le.Full=3]="Full",Le))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))(),rt=(()=>((rt=rt||{})[rt.Sunday=0]="Sunday",rt[rt.Monday=1]="Monday",rt[rt.Tuesday=2]="Tuesday",rt[rt.Wednesday=3]="Wednesday",rt[rt.Thursday=4]="Thursday",rt[rt.Friday=5]="Friday",rt[rt.Saturday=6]="Saturday",rt))();function Jt(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.LocaleId]}function Sn(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ve=fr([P[w.\u0275LocaleDataIndex.DayPeriodsFormat],P[w.\u0275LocaleDataIndex.DayPeriodsStandalone]],N);return fr(ve,b)}function ft(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ve=fr([P[w.\u0275LocaleDataIndex.DaysFormat],P[w.\u0275LocaleDataIndex.DaysStandalone]],N);return fr(ve,b)}function Et(T,N,b){const P=(0,w.\u0275findLocaleData)(T),ve=fr([P[w.\u0275LocaleDataIndex.MonthsFormat],P[w.\u0275LocaleDataIndex.MonthsStandalone]],N);return fr(ve,b)}function an(T,N){return fr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Eras],N)}function ln(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.FirstDayOfWeek]}function li(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.WeekendRange]}function Xt(T,N){return fr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.DateFormat],N)}function wi(T,N){return fr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.TimeFormat],N)}function en(T,N){return fr((0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.DateTimeFormat],N)}function $t(T,N){const b=(0,w.\u0275findLocaleData)(T),P=b[w.\u0275LocaleDataIndex.NumberSymbols][N];if(void 0===P){if(N===pe.CurrencyDecimal)return b[w.\u0275LocaleDataIndex.NumberSymbols][pe.Decimal];if(N===pe.CurrencyGroup)return b[w.\u0275LocaleDataIndex.NumberSymbols][pe.Group]}return P}function er(T,N){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.NumberFormats][N]}function Wr(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.CurrencySymbol]||null}function es(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.CurrencyName]||null}function Dr(T){return(0,w.\u0275getLocaleCurrencyCode)(T)}const hr=w.\u0275getLocalePluralCase;function ts(T){if(!T[w.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${T[w.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ns(T){const N=(0,w.\u0275findLocaleData)(T);return ts(N),(N[w.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Gn(P):[Gn(P[0]),Gn(P[1])])}function yt(T,N,b){const P=(0,w.\u0275findLocaleData)(T);ts(P);const ve=fr([P[w.\u0275LocaleDataIndex.ExtraData][0],P[w.\u0275LocaleDataIndex.ExtraData][1]],N)||[];return fr(ve,b)||[]}function zr(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Directionality]}function fr(T,N){for(let b=N;b>-1;b--)if(void 0!==T[b])return T[b];throw new Error("Locale data API: locale data undefined")}function Gn(T){const[N,b]=T.split(":");return{hours:+N,minutes:+b}}function Kr(T,N,b="en"){const P=function Di(T){return(0,w.\u0275findLocaleData)(T)[w.\u0275LocaleDataIndex.Currencies]}(b)[T]||me[T]||[],z=P[1];return"narrow"===N&&"string"==typeof z?z:P[0]||T}function _n(T){let N;const b=me[T];return b&&(N=b[2]),"number"==typeof N?N:2}const qn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,En={},Zr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),dt=(()=>((dt=dt||{})[dt.FullYear=0]="FullYear",dt[dt.Month=1]="Month",dt[dt.Date=2]="Date",dt[dt.Hours=3]="Hours",dt[dt.Minutes=4]="Minutes",dt[dt.Seconds=5]="Seconds",dt[dt.FractionalSeconds=6]="FractionalSeconds",dt[dt.Day=7]="Day",dt))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function Wn(T,N,b,P){let z=function Rt(T){if(Zt(T))return T;if("number"==typeof T&&!isNaN(T))return new Date(T);if("string"==typeof T){if(T=T.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(T)){const[z,ve=1,Ne=1]=T.split("-").map(ze=>+ze);return rs(z,ve-1,Ne)}const b=parseFloat(T);if(!isNaN(T-b))return new Date(b);let P;if(P=T.match(qn))return function Ar(T){const N=new Date(0);let b=0,P=0;const z=T[8]?N.setUTCFullYear:N.setFullYear,ve=T[8]?N.setUTCHours:N.setHours;T[9]&&(b=Number(T[9]+T[10]),P=Number(T[9]+T[11])),z.call(N,Number(T[1]),Number(T[2])-1,Number(T[3]));const Ne=Number(T[4]||0)-b,ze=Number(T[5]||0)-P,cn=Number(T[6]||0),Yt=Math.floor(1e3*parseFloat("0."+(T[7]||0)));return ve.call(N,Ne,ze,cn,Yt),N}(P)}const N=new Date(T);if(!Zt(N))throw new Error(`Unable to convert "${T}" into a date`);return N}(T);N=Kt(b,N)||N;let ze,Ne=[];for(;N;){if(ze=Zr.exec(N),!ze){Ne.push(N);break}{Ne=Ne.concat(ze.slice(1));const Bt=Ne.pop();if(!Bt)break;N=Bt}}let cn=z.getTimezoneOffset();P&&(cn=ne(P,cn),z=function Xe(T,N,b){const P=b?-1:1,z=T.getTimezoneOffset();return function qe(T,N){return(T=new Date(T.getTime())).setMinutes(T.getMinutes()+N),T}(T,P*(ne(N,z)-z))}(z,P,!0));let Yt="";return Ne.forEach(Bt=>{const Lt=function Ee(T){if(K[T])return K[T];let N;switch(T){case"G":case"GG":case"GGG":N=Ut(It.Eras,fe.Abbreviated);break;case"GGGG":N=Ut(It.Eras,fe.Wide);break;case"GGGGG":N=Ut(It.Eras,fe.Narrow);break;case"y":N=vt(dt.FullYear,1,0,!1,!0);break;case"yy":N=vt(dt.FullYear,2,0,!0,!0);break;case"yyy":N=vt(dt.FullYear,3,0,!1,!0);break;case"yyyy":N=vt(dt.FullYear,4,0,!1,!0);break;case"Y":N=$(1);break;case"YY":N=$(2,!0);break;case"YYY":N=$(3);break;case"YYYY":N=$(4);break;case"M":case"L":N=vt(dt.Month,1,1);break;case"MM":case"LL":N=vt(dt.Month,2,1);break;case"MMM":N=Ut(It.Months,fe.Abbreviated);break;case"MMMM":N=Ut(It.Months,fe.Wide);break;case"MMMMM":N=Ut(It.Months,fe.Narrow);break;case"LLL":N=Ut(It.Months,fe.Abbreviated,De.Standalone);break;case"LLLL":N=Ut(It.Months,fe.Wide,De.Standalone);break;case"LLLLL":N=Ut(It.Months,fe.Narrow,De.Standalone);break;case"w":N=W(1);break;case"ww":N=W(2);break;case"W":N=W(1,!0);break;case"d":N=vt(dt.Date,1);break;case"dd":N=vt(dt.Date,2);break;case"c":case"cc":N=vt(dt.Day,1);break;case"ccc":N=Ut(It.Days,fe.Abbreviated,De.Standalone);break;case"cccc":N=Ut(It.Days,fe.Wide,De.Standalone);break;case"ccccc":N=Ut(It.Days,fe.Narrow,De.Standalone);break;case"cccccc":N=Ut(It.Days,fe.Short,De.Standalone);break;case"E":case"EE":case"EEE":N=Ut(It.Days,fe.Abbreviated);break;case"EEEE":N=Ut(It.Days,fe.Wide);break;case"EEEEE":N=Ut(It.Days,fe.Narrow);break;case"EEEEEE":N=Ut(It.Days,fe.Short);break;case"a":case"aa":case"aaa":N=Ut(It.DayPeriods,fe.Abbreviated);break;case"aaaa":N=Ut(It.DayPeriods,fe.Wide);break;case"aaaaa":N=Ut(It.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":N=Ut(It.DayPeriods,fe.Abbreviated,De.Standalone,!0);break;case"bbbb":N=Ut(It.DayPeriods,fe.Wide,De.Standalone,!0);break;case"bbbbb":N=Ut(It.DayPeriods,fe.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":N=Ut(It.DayPeriods,fe.Abbreviated,De.Format,!0);break;case"BBBB":N=Ut(It.DayPeriods,fe.Wide,De.Format,!0);break;case"BBBBB":N=Ut(It.DayPeriods,fe.Narrow,De.Format,!0);break;case"h":N=vt(dt.Hours,1,-12);break;case"hh":N=vt(dt.Hours,2,-12);break;case"H":N=vt(dt.Hours,1);break;case"HH":N=vt(dt.Hours,2);break;case"m":N=vt(dt.Minutes,1);break;case"mm":N=vt(dt.Minutes,2);break;case"s":N=vt(dt.Seconds,1);break;case"ss":N=vt(dt.Seconds,2);break;case"S":N=vt(dt.FractionalSeconds,1);break;case"SS":N=vt(dt.FractionalSeconds,2);break;case"SSS":N=vt(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":N=Oe(zt.Short);break;case"ZZZZZ":N=Oe(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":N=Oe(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":N=Oe(zt.Long);break;default:return null}return K[T]=N,N}(Bt);Yt+=Lt?Lt(z,b,cn):"''"===Bt?"'":Bt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yt}function rs(T,N,b){const P=new Date(0);return P.setFullYear(T,N,b),P.setHours(0,0,0),P}function Kt(T,N){const b=Jt(T);if(En[b]=En[b]||{},En[b][N])return En[b][N];let P="";switch(N){case"shortDate":P=Xt(T,Le.Short);break;case"mediumDate":P=Xt(T,Le.Medium);break;case"longDate":P=Xt(T,Le.Long);break;case"fullDate":P=Xt(T,Le.Full);break;case"shortTime":P=wi(T,Le.Short);break;case"mediumTime":P=wi(T,Le.Medium);break;case"longTime":P=wi(T,Le.Long);break;case"fullTime":P=wi(T,Le.Full);break;case"short":const z=Kt(T,"shortTime"),ve=Kt(T,"shortDate");P=Ys(en(T,Le.Short),[z,ve]);break;case"medium":const Ne=Kt(T,"mediumTime"),ze=Kt(T,"mediumDate");P=Ys(en(T,Le.Medium),[Ne,ze]);break;case"long":const cn=Kt(T,"longTime"),Yt=Kt(T,"longDate");P=Ys(en(T,Le.Long),[cn,Yt]);break;case"full":const Bt=Kt(T,"fullTime"),Lt=Kt(T,"fullDate");P=Ys(en(T,Le.Full),[Bt,Lt])}return P&&(En[b][N]=P),P}function Ys(T,N){return N&&(T=T.replace(/\{([^}]+)}/g,function(b,P){return null!=N&&P in N?N[P]:b})),T}function Cr(T,N,b="-",P,z){let ve="";(T<0||z&&T<=0)&&(z?T=1-T:(T=-T,ve=b));let Ne=String(T);for(;Ne.length<N;)Ne="0"+Ne;return P&&(Ne=Ne.substr(Ne.length-N)),ve+Ne}function vt(T,N,b=0,P=!1,z=!1){return function(ve,Ne){let ze=function Tr(T,N){switch(T){case dt.FullYear:return N.getFullYear();case dt.Month:return N.getMonth();case dt.Date:return N.getDate();case dt.Hours:return N.getHours();case dt.Minutes:return N.getMinutes();case dt.Seconds:return N.getSeconds();case dt.FractionalSeconds:return N.getMilliseconds();case dt.Day:return N.getDay();default:throw new Error(`Unknown DateType value "${T}".`)}}(T,ve);if((b>0||ze>-b)&&(ze+=b),T===dt.Hours)0===ze&&-12===b&&(ze=12);else if(T===dt.FractionalSeconds)return function br(T,N){return Cr(T,3).substr(0,N)}(ze,N);const cn=$t(Ne,pe.MinusSign);return Cr(ze,N,cn,P,z)}}function Ut(T,N,b=De.Format,P=!1){return function(z,ve){return function nt(T,N,b,P,z,ve){switch(b){case It.Months:return Et(N,z,P)[T.getMonth()];case It.Days:return ft(N,z,P)[T.getDay()];case It.DayPeriods:const Ne=T.getHours(),ze=T.getMinutes();if(ve){const Yt=ns(N),Bt=yt(N,z,P),Lt=Yt.findIndex(Rn=>{if(Array.isArray(Rn)){const[vn,dn]=Rn,Wi=Ne>=vn.hours&&ze>=vn.minutes,hi=Ne<dn.hours||Ne===dn.hours&&ze<dn.minutes;if(vn.hours<dn.hours){if(Wi&&hi)return!0}else if(Wi||hi)return!0}else if(Rn.hours===Ne&&Rn.minutes===ze)return!0;return!1});if(-1!==Lt)return Bt[Lt]}return Sn(N,z,P)[Ne<12?0:1];case It.Eras:return an(N,P)[T.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(z,ve,T,N,b,P)}}function Oe(T){return function(N,b,P){const z=-1*P,ve=$t(b,pe.MinusSign),Ne=z>0?Math.floor(z/60):Math.ceil(z/60);switch(T){case zt.Short:return(z>=0?"+":"")+Cr(Ne,2,ve)+Cr(Math.abs(z%60),2,ve);case zt.ShortGMT:return"GMT"+(z>=0?"+":"")+Cr(Ne,1,ve);case zt.Long:return"GMT"+(z>=0?"+":"")+Cr(Ne,2,ve)+":"+Cr(Math.abs(z%60),2,ve);case zt.Extended:return 0===P?"Z":(z>=0?"+":"")+Cr(Ne,2,ve)+":"+Cr(Math.abs(z%60),2,ve);default:throw new Error(`Unknown zone width "${T}"`)}}}function jt(T){return rs(T.getFullYear(),T.getMonth(),T.getDate()+(4-T.getDay()))}function W(T,N=!1){return function(b,P){let z;if(N){const ve=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,Ne=b.getDate();z=1+Math.floor((Ne+ve)/7)}else{const ve=jt(b),Ne=function qt(T){const N=rs(T,0,1).getDay();return rs(T,0,1+(N<=4?4:11)-N)}(ve.getFullYear()),ze=ve.getTime()-Ne.getTime();z=1+Math.round(ze/6048e5)}return Cr(z,T,$t(P,pe.MinusSign))}}function $(T,N=!1){return function(b,P){return Cr(jt(b).getFullYear(),T,$t(P,pe.MinusSign),N)}}const K={};function ne(T,N){T=T.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+T)/6e4;return isNaN(b)?N:b}function Zt(T){return T instanceof Date&&!isNaN(T.valueOf())}const Mn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Co(T,N,b,P,z,ve,Ne=!1){let ze="",cn=!1;if(isFinite(T)){let Yt=function nr(T){let P,z,ve,Ne,ze,N=Math.abs(T)+"",b=0;for((z=N.indexOf("."))>-1&&(N=N.replace(".","")),(ve=N.search(/e/i))>0?(z<0&&(z=ve),z+=+N.slice(ve+1),N=N.substring(0,ve)):z<0&&(z=N.length),ve=0;"0"===N.charAt(ve);ve++);if(ve===(ze=N.length))P=[0],z=1;else{for(ze--;"0"===N.charAt(ze);)ze--;for(z-=ve,P=[],Ne=0;ve<=ze;ve++,Ne++)P[Ne]=Number(N.charAt(ve))}return z>22&&(P=P.splice(0,21),b=z-1,z=1),{digits:P,exponent:b,integerLen:z}}(T);Ne&&(Yt=function An(T){if(0===T.digits[0])return T;const N=T.digits.length-T.integerLen;return T.exponent?T.exponent+=2:(0===N?T.digits.push(0,0):1===N&&T.digits.push(0),T.integerLen+=2),T}(Yt));let Bt=N.minInt,Lt=N.minFrac,Rn=N.maxFrac;if(ve){const Si=ve.match(Mn);if(null===Si)throw new Error(`${ve} is not a valid digit info`);const ws=Si[1],zi=Si[3],us=Si[5];null!=ws&&(Bt=Ci(ws)),null!=zi&&(Lt=Ci(zi)),null!=us?Rn=Ci(us):null!=zi&&Lt>Rn&&(Rn=Lt)}!function Un(T,N,b){if(N>b)throw new Error(`The minimum number of digits after fraction (${N}) is higher than the maximum (${b}).`);let P=T.digits,z=P.length-T.integerLen;const ve=Math.min(Math.max(N,z),b);let Ne=ve+T.integerLen,ze=P[Ne];if(Ne>0){P.splice(Math.max(T.integerLen,Ne));for(let Lt=Ne;Lt<P.length;Lt++)P[Lt]=0}else{z=Math.max(0,z),T.integerLen=1,P.length=Math.max(1,Ne=ve+1),P[0]=0;for(let Lt=1;Lt<Ne;Lt++)P[Lt]=0}if(ze>=5)if(Ne-1<0){for(let Lt=0;Lt>Ne;Lt--)P.unshift(0),T.integerLen++;P.unshift(1),T.integerLen++}else P[Ne-1]++;for(;z<Math.max(0,ve);z++)P.push(0);let cn=0!==ve;const Yt=N+T.integerLen,Bt=P.reduceRight(function(Lt,Rn,vn,dn){return dn[vn]=(Rn+=Lt)<10?Rn:Rn-10,cn&&(0===dn[vn]&&vn>=Yt?dn.pop():cn=!1),Rn>=10?1:0},0);Bt&&(P.unshift(Bt),T.integerLen++)}(Yt,Lt,Rn);let vn=Yt.digits,dn=Yt.integerLen;const Wi=Yt.exponent;let hi=[];for(cn=vn.every(Si=>!Si);dn<Bt;dn++)vn.unshift(0);for(;dn<0;dn++)vn.unshift(0);dn>0?hi=vn.splice(dn,vn.length):(hi=vn,vn=[0]);const gt=[];for(vn.length>=N.lgSize&&gt.unshift(vn.splice(-N.lgSize,vn.length).join(""));vn.length>N.gSize;)gt.unshift(vn.splice(-N.gSize,vn.length).join(""));vn.length&&gt.unshift(vn.join("")),ze=gt.join($t(b,P)),hi.length&&(ze+=$t(b,z)+hi.join("")),Wi&&(ze+=$t(b,pe.Exponential)+"+"+Wi)}else ze=$t(b,pe.Infinity);return ze=T<0&&!cn?N.negPre+ze+N.negSuf:N.posPre+ze+N.posSuf,ze}function Nr(T,N,b,P,z){const Ne=gn(er(N,X.Currency),$t(N,pe.MinusSign));return Ne.minFrac=_n(P),Ne.maxFrac=Ne.minFrac,Co(T,Ne,N,pe.CurrencyGroup,pe.CurrencyDecimal,z).replace("\xa4",b).replace("\xa4","").trim()}function Ue(T,N,b){return Co(T,gn(er(N,X.Percent),$t(N,pe.MinusSign)),N,pe.Group,pe.Decimal,b,!0).replace(new RegExp("%","g"),$t(N,pe.PercentSign))}function kt(T,N,b){return Co(T,gn(er(N,X.Decimal),$t(N,pe.MinusSign)),N,pe.Group,pe.Decimal,b)}function gn(T,N="-"){const b={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=T.split(";"),z=P[0],ve=P[1],Ne=-1!==z.indexOf(".")?z.split("."):[z.substring(0,z.lastIndexOf("0")+1),z.substring(z.lastIndexOf("0")+1)],ze=Ne[0],cn=Ne[1]||"";b.posPre=ze.substr(0,ze.indexOf("#"));for(let Bt=0;Bt<cn.length;Bt++){const Lt=cn.charAt(Bt);"0"===Lt?b.minFrac=b.maxFrac=Bt+1:"#"===Lt?b.maxFrac=Bt+1:b.posSuf+=Lt}const Yt=ze.split(",");if(b.gSize=Yt[1]?Yt[1].length:0,b.lgSize=Yt[2]||Yt[1]?(Yt[2]||Yt[1]).length:0,ve){const Bt=z.length-b.posPre.length-b.posSuf.length,Lt=ve.indexOf("#");b.negPre=ve.substr(0,Lt).replace(/'/g,""),b.negSuf=ve.substr(Lt+Bt).replace(/'/g,"")}else b.negPre=N+b.posPre,b.negSuf=b.posSuf;return b}function Ci(T){const N=parseInt(T);if(isNaN(N))throw new Error("Invalid integer literal when parsing "+T);return N}let un=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:function(b){let P=null;return b?P=new b:(z=w.\u0275\u0275inject(w.LOCALE_ID),P=new ss(z)),P;var z},providedIn:"root"}),T})();function Pn(T,N,b,P){let z=`=${T}`;if(N.indexOf(z)>-1||(z=b.getPluralCategory(T,P),N.indexOf(z)>-1))return z;if(N.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${T}"`)}let ss=(()=>{class T extends un{constructor(b){super(),this.locale=b}getPluralCategory(b,P){switch(hr(P||this.locale)(b)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275inject(w.LOCALE_ID))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac}),T})();function St(T,N,b){return(0,w.\u0275registerLocaleData)(T,N,b)}function Qr(T,N){N=encodeURIComponent(N);for(const b of T.split(";")){const P=b.indexOf("="),[z,ve]=-1==P?[b,""]:[b.slice(0,P),b.slice(P+1)];if(z.trim()===N)return decodeURIComponent(ve)}return null}let os=(()=>{class T{constructor(b,P,z,ve){this._iterableDiffers=b,this._keyValueDiffers=P,this._ngEl=z,this._renderer=ve,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,w.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,w.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),b.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!0)):Object.keys(b).forEach(P=>this._toggleClass(P,!!b[P])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!1)):Object.keys(b).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(b,P){(b=b.trim())&&b.split(/\s+/g).forEach(z=>{P?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.IterableDiffers),w.\u0275\u0275directiveInject(w.KeyValueDiffers),w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.Renderer2))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),T})(),xn=(()=>{class T{constructor(b){this._viewContainerRef=b,this._componentRef=null,this._moduleRef=null}ngOnChanges(b){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const P=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(b.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Ne=P.get(w.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Ne.injector)}else this._moduleRef=null;const ve=(this._moduleRef?this._moduleRef.componentFactoryResolver:P.get(w.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(ve,this._viewContainerRef.length,P,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[w.\u0275\u0275NgOnChangesFeature]}),T})();class pr{constructor(N,b,P,z){this.$implicit=N,this.ngForOf=b,this.index=P,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class T{constructor(b,P,z){this._viewContainer=b,this._template=P,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const P=this._viewContainer;b.forEachOperation((z,ve,Ne)=>{if(null==z.previousIndex)P.createEmbeddedView(this._template,new pr(z.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)P.remove(null===ve?void 0:ve);else if(null!==ve){const ze=P.get(ve);P.move(ze,Ne),_s(ze,z)}});for(let z=0,ve=P.length;z<ve;z++){const ze=P.get(z).context;ze.index=z,ze.count=ve,ze.ngForOf=this._ngForOf}b.forEachIdentityChange(z=>{_s(P.get(z.currentIndex),z)})}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(w.IterableDiffers))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),T})();function _s(T,N){T.context.$implicit=N.item}let Yr=(()=>{class T{constructor(b,P){this._viewContainer=b,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){bo("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){bo("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),T})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function bo(T,N){if(N&&!N.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,w.\u0275stringify)(N)}'.`)}class To{constructor(N,b){this._viewContainerRef=N,this._templateRef=b,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(N){N&&!this._created?this.create():!N&&this._created&&this.destroy()}}let Jr=(()=>{class T{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(b){this._ngSwitch=b,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(b){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(b)}_matchCase(b){const P=b==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(b){if(this._defaultViews&&b!==this._defaultUsed){this._defaultUsed=b;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(b)}}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),T})(),Or=(()=>{class T{constructor(b,P,z){this.ngSwitch=z,z._addCase(),this._view=new To(b,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(Jr,9))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),T})(),zo=(()=>{class T{constructor(b,P,z){z._addDefault(new To(b,P))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(Jr,9))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngSwitchDefault",""]]}),T})(),Js=(()=>{class T{constructor(b){this._localization=b,this._caseViews={}}set ngPlural(b){this._switchValue=b,this._updateView()}addCase(b,P){this._caseViews[b]=P}_updateView(){this._clearViews();const b=Object.keys(this._caseViews),P=Pn(this._switchValue,b,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(b){b&&(this._activeView=b,this._activeView.create())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(un))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),T})(),Sr=(()=>{class T{constructor(b,P,z,ve){this.value=b;const Ne=!isNaN(Number(b));ve.addCase(Ne?`=${b}`:b,new To(z,P))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275injectAttribute("ngPluralCase"),w.\u0275\u0275directiveInject(w.TemplateRef),w.\u0275\u0275directiveInject(w.ViewContainerRef),w.\u0275\u0275directiveInject(Js,1))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngPluralCase",""]]}),T})(),Ua=(()=>{class T{constructor(b,P,z){this._ngEl=b,this._differs=P,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(b){this._ngStyle=b,!this._differ&&b&&(this._differ=this._differs.find(b).create())}ngDoCheck(){if(this._differ){const b=this._differ.diff(this._ngStyle);b&&this._applyChanges(b)}}_setStyle(b,P){const[z,ve]=b.split(".");null!=(P=null!=P&&ve?`${P}${ve}`:P)?this._renderer.setStyle(this._ngEl.nativeElement,z,P):this._renderer.removeStyle(this._ngEl.nativeElement,z)}_applyChanges(b){b.forEachRemovedItem(P=>this._setStyle(P.key,null)),b.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),b.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ElementRef),w.\u0275\u0275directiveInject(w.KeyValueDiffers),w.\u0275\u0275directiveInject(w.Renderer2))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),T})(),Ko=(()=>{class T{constructor(b){this._viewContainerRef=b,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(b){if(b.ngTemplateOutlet){const P=this._viewContainerRef;this._viewRef&&P.remove(P.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?P.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&b.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ViewContainerRef))},T.\u0275dir=w.\u0275\u0275defineDirective({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[w.\u0275\u0275NgOnChangesFeature]}),T})();function kn(T,N){return new w.\u0275RuntimeError(2100,"")}class ja{createSubscription(N,b){return N.subscribe({next:b,error:P=>{throw P}})}dispose(N){N.unsubscribe()}onDestroy(N){N.unsubscribe()}}class Du{createSubscription(N,b){return N.then(b,P=>{throw P})}dispose(N){}onDestroy(N){}}const qi=new Du,Cu=new ja;let Qo=(()=>{class T{constructor(b){this._ref=b,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(b){return this._obj?b!==this._obj?(this._dispose(),this.transform(b)):this._latestValue:(b&&this._subscribe(b),this._latestValue)}_subscribe(b){this._obj=b,this._strategy=this._selectStrategy(b),this._subscription=this._strategy.createSubscription(b,P=>this._updateLatestValue(b,P))}_selectStrategy(b){if((0,w.\u0275isPromise)(b))return qi;if((0,w.\u0275isSubscribable)(b))return Cu;throw kn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(b,P){b===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.ChangeDetectorRef,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"async",type:T,pure:!1}),T})(),Ao=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw kn();return b.toLowerCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"lowercase",type:T,pure:!0}),T})();const as=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ba=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw kn();return b.replace(as,P=>P[0].toUpperCase()+P.substr(1).toLowerCase())}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"titlecase",type:T,pure:!0}),T})(),Xs=(()=>{class T{transform(b){if(null==b)return null;if("string"!=typeof b)throw kn();return b.toUpperCase()}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"uppercase",type:T,pure:!0}),T})();const bu=new w.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Tu=(()=>{class T{constructor(b,P){this.locale=b,this.defaultTimezone=P}transform(b,P="mediumDate",z,ve){var Ne;if(null==b||""===b||b!=b)return null;try{return Wn(b,P,ve||this.locale,null!==(Ne=null!=z?z:this.defaultTimezone)&&void 0!==Ne?Ne:void 0)}catch(ze){throw kn()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16),w.\u0275\u0275directiveInject(bu,24))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"date",type:T,pure:!0}),T})();const $a=/#/g;let Pr=(()=>{class T{constructor(b){this._localization=b}transform(b,P,z){if(null==b)return"";if("object"!=typeof P||null===P)throw kn();return P[Pn(b,Object.keys(P),this._localization,z)].replace($a,b.toString())}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(un,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"i18nPlural",type:T,pure:!0}),T})(),kr=(()=>{class T{transform(b,P){if(null==b)return"";if("object"!=typeof P||"string"!=typeof b)throw kn();return P.hasOwnProperty(b)?P[b]:P.hasOwnProperty("other")?P.other:""}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"i18nSelect",type:T,pure:!0}),T})(),eo=(()=>{class T{transform(b){return JSON.stringify(b,null,2)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"json",type:T,pure:!1}),T})(),Al=(()=>{class T{constructor(b){this.differs=b,this.keyValues=[],this.compareFn=So}transform(b,P=So){if(!b||!(b instanceof Map)&&"object"!=typeof b)return null;this.differ||(this.differ=this.differs.find(b).create());const z=this.differ.diff(b),ve=P!==this.compareFn;return z&&(this.keyValues=[],z.forEachItem(Ne=>{this.keyValues.push(function to(T,N){return{key:T,value:N}}(Ne.key,Ne.currentValue))})),(z||ve)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.KeyValueDiffers,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"keyvalue",type:T,pure:!1}),T})();function So(T,N){const b=T.key,P=N.key;if(b===P)return 0;if(void 0===b)return 1;if(void 0===P)return-1;if(null===b)return 1;if(null===P)return-1;if("string"==typeof b&&"string"==typeof P)return b<P?-1:1;if("number"==typeof b&&"number"==typeof P)return b-P;if("boolean"==typeof b&&"boolean"==typeof P)return b<P?-1:1;const z=String(b),ve=String(P);return z==ve?0:z<ve?-1:1}let Ti=(()=>{class T{constructor(b){this._locale=b}transform(b,P,z){if(!Us(b))return null;z=z||this._locale;try{return kt(js(b),z,P)}catch(ve){throw kn()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"number",type:T,pure:!0}),T})(),mr=(()=>{class T{constructor(b){this._locale=b}transform(b,P,z){if(!Us(b))return null;z=z||this._locale;try{return Ue(js(b),z,P)}catch(ve){throw kn()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"percent",type:T,pure:!0}),T})(),Ai=(()=>{class T{constructor(b,P="USD"){this._locale=b,this._defaultCurrencyCode=P}transform(b,P=this._defaultCurrencyCode,z="symbol",ve,Ne){if(!Us(b))return null;Ne=Ne||this._locale,"boolean"==typeof z&&(z=z?"symbol":"code");let ze=P||this._defaultCurrencyCode;"code"!==z&&(ze="symbol"===z||"symbol-narrow"===z?Kr(ze,"symbol"===z?"wide":"narrow",Ne):z);try{return Nr(js(b),Ne,ze,P,ve)}catch(cn){throw kn()}}}return T.\u0275fac=function(b){return new(b||T)(w.\u0275\u0275directiveInject(w.LOCALE_ID,16),w.\u0275\u0275directiveInject(w.DEFAULT_CURRENCY_CODE,16))},T.\u0275pipe=w.\u0275\u0275definePipe({name:"currency",type:T,pure:!0}),T})();function Us(T){return!(null==T||""===T||T!=T)}function js(T){if("string"==typeof T&&!isNaN(Number(T)-parseFloat(T)))return Number(T);if("number"!=typeof T)throw new Error(`${T} is not a number`);return T}let Ha=(()=>{class T{transform(b,P,z){if(null==b)return null;if(!this.supports(b))throw kn();return b.slice(P,z)}supports(b){return"string"==typeof b||Array.isArray(b)}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275pipe=w.\u0275\u0275definePipe({name:"slice",type:T,pure:!1}),T})(),Mo=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=w.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=w.\u0275\u0275defineInjector({}),T})();const Bs="browser",ci="server",Yo="browserWorkerApp",Jo="browserWorkerUi";function Fr(T){return T===Bs}function yr(T){return T===ci}function Au(T){return T===Yo}function xo(T){return T===Jo}const Ga=new w.Version("13.2.7");let $s=(()=>{class T{}return T.\u0275prov=(0,w.\u0275\u0275defineInjectable)({token:T,providedIn:"root",factory:()=>new Es((0,w.\u0275\u0275inject)(le),window)}),T})();class Es{constructor(N,b){this.document=N,this.window=b,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const b=function Is(T,N){const b=T.getElementById(N)||T.getElementsByName(N)[0];if(b)return b;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const P=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let z=P.currentNode;for(;z;){const ve=z.shadowRoot;if(ve){const Ne=ve.getElementById(N)||ve.querySelector(`[name="${N}"]`);if(Ne)return Ne}z=P.nextNode()}}return null}(this.document,N);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=N)}}scrollToElement(N){const b=N.getBoundingClientRect(),P=b.left+this.window.pageXOffset,z=b.top+this.window.pageYOffset,ve=this.offset();this.window.scrollTo(P-ve[0],z-ve[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=di(this.window.history)||di(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch(N){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(N){return!1}}}function di(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Xo{setOffset(N){}getScrollPosition(){return[0,0]}scrollToPosition(N){}scrollToAnchor(N){}setHistoryScrollRestoration(N){}}class mn{}},5e3:(at,be,F)=>{"use strict";F.r(be),F.d(be,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>of,APP_BOOTSTRAP_LISTENER:()=>$w,APP_ID:()=>jw,APP_INITIALIZER:()=>Uw,ApplicationInitStatus:()=>ry,ApplicationModule:()=>uD,ApplicationRef:()=>dy,Attribute:()=>_a,COMPILER_OPTIONS:()=>sy,CUSTOM_ELEMENTS_SCHEMA:()=>ec,ChangeDetectionStrategy:()=>qn,ChangeDetectorRef:()=>zc,Compiler:()=>l0,CompilerFactory:()=>Il,Component:()=>WC,ComponentFactory:()=>Io,ComponentFactoryResolver:()=>Hm,ComponentRef:()=>JI,ContentChild:()=>Ul,ContentChildren:()=>$u,DEFAULT_CURRENCY_CODE:()=>Hw,DebugElement:()=>$h,DebugEventListener:()=>Dl,DebugNode:()=>Qp,DefaultIterableDiffer:()=>Hh,Directive:()=>Vw,ElementRef:()=>ml,EmbeddedViewRef:()=>Bh,ErrorHandler:()=>Hr,EventEmitter:()=>Ji,Host:()=>Wu,HostBinding:()=>QC,HostListener:()=>YC,INJECTOR:()=>Qf,Inject:()=>Ss,InjectFlags:()=>yt,Injectable:()=>Bv,InjectionToken:()=>Bn,Injector:()=>mo,Input:()=>KC,IterableDiffers:()=>Jp,KeyValueDiffers:()=>T0,LOCALE_ID:()=>vu,MissingTranslationStrategy:()=>On,ModuleWithComponentFactories:()=>iy,NO_ERRORS_SCHEMA:()=>tc,NgModule:()=>JC,NgModuleFactory:()=>Ks,NgModuleRef:()=>Go,NgProbeToken:()=>nb,NgZone:()=>ks,Optional:()=>fs,Output:()=>ZC,PACKAGE_ROOT_URL:()=>Wp,PLATFORM_ID:()=>Do,PLATFORM_INITIALIZER:()=>qp,Pipe:()=>zC,PlatformRef:()=>g0,Query:()=>Gs,QueryList:()=>Lp,ReflectiveInjector:()=>Xd,ReflectiveKey:()=>Ln,Renderer2:()=>OC,RendererFactory2:()=>ew,RendererStyleFlags2:()=>ye,ResolvedReflectiveFactory:()=>lI,Sanitizer:()=>nw,SecurityContext:()=>Jn,Self:()=>In,SimpleChange:()=>Ai,SkipSelf:()=>vr,TRANSLATIONS:()=>u0,TRANSLATIONS_FORMAT:()=>Gw,TemplateRef:()=>Ph,Testability:()=>zw,TestabilityRegistry:()=>ly,Type:()=>jl,VERSION:()=>iw,Version:()=>rw,ViewChild:()=>hg,ViewChildren:()=>af,ViewContainerRef:()=>tn,ViewEncapsulation:()=>zt,ViewRef:()=>tD,asNativeElements:()=>Zc,assertPlatform:()=>wl,createNgModuleRef:()=>lw,createPlatform:()=>Kp,createPlatformFactory:()=>Eu,defineInjectable:()=>wi,destroyPlatform:()=>Yw,enableProdMode:()=>fy,forwardRef:()=>H,getDebugNode:()=>Fa,getModuleFactory:()=>v0,getNgModuleById:()=>eD,getPlatform:()=>p0,inject:()=>re,isDevMode:()=>Xw,platformCore:()=>_y,resolveForwardRef:()=>J,setTestabilityGetter:()=>h0,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>f0,\u0275APP_ID_RANDOM_PROVIDER:()=>Bw,\u0275ChangeDetectorStatus:()=>En,\u0275ComponentFactory:()=>Io,\u0275Console:()=>El,\u0275DEFAULT_LOCALE_ID:()=>Ui,\u0275INJECTOR_SCOPE:()=>Tv,\u0275LifecycleHooksFeature:()=>om,\u0275LocaleDataIndex:()=>At,\u0275NG_COMP_DEF:()=>Tr,\u0275NG_DIR_DEF:()=>Ut,\u0275NG_ELEMENT_ID:()=>_t,\u0275NG_INJ_DEF:()=>hr,\u0275NG_MOD_DEF:()=>Oe,\u0275NG_PIPE_DEF:()=>nt,\u0275NG_PROV_DEF:()=>Di,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>Ho,\u0275NO_CHANGE:()=>Ft,\u0275NgModuleFactory:()=>Op,\u0275NoopNgZone:()=>d0,\u0275ReflectionCapabilities:()=>si,\u0275Render3ComponentFactory:()=>kc,\u0275Render3ComponentRef:()=>qm,\u0275Render3NgModuleRef:()=>j_,\u0275RuntimeError:()=>Ie,\u0275ViewRef:()=>Mh,\u0275_sanitizeHtml:()=>Yl,\u0275_sanitizeUrl:()=>Fo,\u0275allowSanitizationBypassAndThrow:()=>su,\u0275bypassSanitizationTrustHtml:()=>Fy,\u0275bypassSanitizationTrustResourceUrl:()=>_d,\u0275bypassSanitizationTrustScript:()=>_g,\u0275bypassSanitizationTrustStyle:()=>Kl,\u0275bypassSanitizationTrustUrl:()=>Eg,\u0275clearResolutionOfComponentResourcesQueue:()=>Ku,\u0275compileComponent:()=>Mw,\u0275compileDirective:()=>_l,\u0275compileNgModule:()=>J_,\u0275compileNgModuleDefs:()=>Lh,\u0275compileNgModuleFactory:()=>Zw,\u0275compilePipe:()=>Fw,\u0275createInjector:()=>cu,\u0275defaultIterableDiffers:()=>Gh,\u0275defaultKeyValueDiffers:()=>qh,\u0275detectChanges:()=>VE,\u0275devModeEqual:()=>um,\u0275findLocaleData:()=>vh,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>qo,\u0275getDebugNode:()=>Fa,\u0275getDebugNodeR2:()=>rD,\u0275getDirectives:()=>WE,\u0275getHostElement:()=>Nv,\u0275getInjectableDef:()=>$t,\u0275getLContext:()=>Br,\u0275getLocaleCurrencyCode:()=>MI,\u0275getLocalePluralCase:()=>b_,\u0275getSanitizationBypassType:()=>ou,\u0275global:()=>Kt,\u0275injectChangeDetectorRef:()=>_0,\u0275isBoundToModule:()=>Qw,\u0275isDefaultChangeDetectionStrategy:()=>Zr,\u0275isListLikeIterable:()=>sl,\u0275isObservable:()=>rh,\u0275isPromise:()=>Vi,\u0275isSubscribable:()=>t_,\u0275ivyEnabled:()=>lD,\u0275makeDecorator:()=>va,\u0275markDirty:()=>UE,\u0275noSideEffects:()=>_n,\u0275patchComponentDefWithScope:()=>ey,\u0275publishDefaultGlobalUtils:()=>ut,\u0275publishGlobalUtil:()=>Os,\u0275registerLocaleData:()=>SI,\u0275registerNgModuleType:()=>Km,\u0275renderComponent:()=>im,\u0275resetCompiledComponents:()=>Hp,\u0275resetJitOptions:()=>_i,\u0275resolveComponentResources:()=>mg,\u0275setClassMetadata:()=>Wm,\u0275setCurrentInjector:()=>Ve,\u0275setDocument:()=>di,\u0275setLocaleId:()=>PI,\u0275store:()=>Qd,\u0275stringify:()=>ce,\u0275transitiveScopesFor:()=>Vh,\u0275unregisterLocaleData:()=>xI,\u0275unwrapSafeValue:()=>ps,\u0275whenRendered:()=>pC,\u0275\u0275CopyDefinitionFeature:()=>kv,\u0275\u0275FactoryTarget:()=>Tn,\u0275\u0275InheritDefinitionFeature:()=>Pv,\u0275\u0275NgOnChangesFeature:()=>Us,\u0275\u0275ProvidersFeature:()=>F_,\u0275\u0275advance:()=>pE,\u0275\u0275attribute:()=>lm,\u0275\u0275attributeInterpolate1:()=>Zd,\u0275\u0275attributeInterpolate2:()=>Xf,\u0275\u0275attributeInterpolate3:()=>ep,\u0275\u0275attributeInterpolate4:()=>tp,\u0275\u0275attributeInterpolate5:()=>Fv,\u0275\u0275attributeInterpolate6:()=>Lv,\u0275\u0275attributeInterpolate7:()=>np,\u0275\u0275attributeInterpolate8:()=>cm,\u0275\u0275attributeInterpolateV:()=>Vv,\u0275\u0275classMap:()=>lh,\u0275\u0275classMapInterpolate1:()=>m_,\u0275\u0275classMapInterpolate2:()=>ph,\u0275\u0275classMapInterpolate3:()=>gh,\u0275\u0275classMapInterpolate4:()=>II,\u0275\u0275classMapInterpolate5:()=>xr,\u0275\u0275classMapInterpolate6:()=>y_,\u0275\u0275classMapInterpolate7:()=>wI,\u0275\u0275classMapInterpolate8:()=>DI,\u0275\u0275classMapInterpolateV:()=>CI,\u0275\u0275classProp:()=>d_,\u0275\u0275contentQuery:()=>Z_,\u0275\u0275defineComponent:()=>jt,\u0275\u0275defineDirective:()=>Rt,\u0275\u0275defineInjectable:()=>Xt,\u0275\u0275defineInjector:()=>en,\u0275\u0275defineNgModule:()=>ne,\u0275\u0275definePipe:()=>Ar,\u0275\u0275directiveInject:()=>eh,\u0275\u0275disableBindings:()=>qa,\u0275\u0275element:()=>Xv,\u0275\u0275elementContainer:()=>Ic,\u0275\u0275elementContainerEnd:()=>up,\u0275\u0275elementContainerStart:()=>Ec,\u0275\u0275elementEnd:()=>ym,\u0275\u0275elementStart:()=>hu,\u0275\u0275enableBindings:()=>ea,\u0275\u0275getCurrentView:()=>e_,\u0275\u0275getInheritedFactory:()=>ni,\u0275\u0275hostProperty:()=>km,\u0275\u0275i18n:()=>N_,\u0275\u0275i18nApply:()=>O_,\u0275\u0275i18nAttributes:()=>xp,\u0275\u0275i18nEnd:()=>Bm,\u0275\u0275i18nExp:()=>Oc,\u0275\u0275i18nPostprocess:()=>P_,\u0275\u0275i18nStart:()=>Nc,\u0275\u0275inject:()=>ht,\u0275\u0275injectAttribute:()=>ju,\u0275\u0275invalidFactory:()=>Yv,\u0275\u0275invalidFactoryDep:()=>xt,\u0275\u0275listener:()=>ih,\u0275\u0275loadQuery:()=>Q_,\u0275\u0275namespaceHTML:()=>lg,\u0275\u0275namespaceMathML:()=>id,\u0275\u0275namespaceSVG:()=>Ol,\u0275\u0275nextContext:()=>_m,\u0275\u0275ngDeclareClassMetadata:()=>db,\u0275\u0275ngDeclareComponent:()=>A0,\u0275\u0275ngDeclareDirective:()=>cD,\u0275\u0275ngDeclareFactory:()=>hb,\u0275\u0275ngDeclareInjectable:()=>fb,\u0275\u0275ngDeclareInjector:()=>pb,\u0275\u0275ngDeclareNgModule:()=>M0,\u0275\u0275ngDeclarePipe:()=>Ei,\u0275\u0275pipe:()=>fw,\u0275\u0275pipeBind1:()=>kp,\u0275\u0275pipeBind2:()=>Fp,\u0275\u0275pipeBind3:()=>pw,\u0275\u0275pipeBind4:()=>Zm,\u0275\u0275pipeBindV:()=>gw,\u0275\u0275projection:()=>lp,\u0275\u0275projectionDef:()=>Em,\u0275\u0275property:()=>th,\u0275\u0275propertyInterpolate:()=>Dc,\u0275\u0275propertyInterpolate1:()=>cp,\u0275\u0275propertyInterpolate2:()=>o_,\u0275\u0275propertyInterpolate3:()=>dp,\u0275\u0275propertyInterpolate4:()=>sh,\u0275\u0275propertyInterpolate5:()=>hp,\u0275\u0275propertyInterpolate6:()=>Im,\u0275\u0275propertyInterpolate7:()=>wm,\u0275\u0275propertyInterpolate8:()=>Dm,\u0275\u0275propertyInterpolateV:()=>a_,\u0275\u0275pureFunction0:()=>B_,\u0275\u0275pureFunction1:()=>$_,\u0275\u0275pureFunction2:()=>Pp,\u0275\u0275pureFunction3:()=>cw,\u0275\u0275pureFunction4:()=>dw,\u0275\u0275pureFunction5:()=>H_,\u0275\u0275pureFunction6:()=>Lc,\u0275\u0275pureFunction7:()=>yl,\u0275\u0275pureFunction8:()=>G_,\u0275\u0275pureFunctionV:()=>vl,\u0275\u0275queryRefresh:()=>Fh,\u0275\u0275reference:()=>tI,\u0275\u0275resolveBody:()=>y,\u0275\u0275resolveDocument:()=>rc,\u0275\u0275resolveWindow:()=>nc,\u0275\u0275restoreView:()=>Ro,\u0275\u0275sanitizeHtml:()=>Sd,\u0275\u0275sanitizeResourceUrl:()=>bg,\u0275\u0275sanitizeScript:()=>Tg,\u0275\u0275sanitizeStyle:()=>If,\u0275\u0275sanitizeUrl:()=>Md,\u0275\u0275sanitizeUrlOrResourceUrl:()=>jy,\u0275\u0275setComponentScope:()=>W,\u0275\u0275setNgModuleScope:()=>qe,\u0275\u0275styleMap:()=>Bo,\u0275\u0275styleMapInterpolate1:()=>bI,\u0275\u0275styleMapInterpolate2:()=>v_,\u0275\u0275styleMapInterpolate3:()=>__,\u0275\u0275styleMapInterpolate4:()=>E_,\u0275\u0275styleMapInterpolate5:()=>Ep,\u0275\u0275styleMapInterpolate6:()=>I_,\u0275\u0275styleMapInterpolate7:()=>Ra,\u0275\u0275styleMapInterpolate8:()=>w_,\u0275\u0275styleMapInterpolateV:()=>TI,\u0275\u0275styleProp:()=>uh,\u0275\u0275stylePropInterpolate1:()=>Ip,\u0275\u0275stylePropInterpolate2:()=>Ac,\u0275\u0275stylePropInterpolate3:()=>Om,\u0275\u0275stylePropInterpolate4:()=>wp,\u0275\u0275stylePropInterpolate5:()=>mh,\u0275\u0275stylePropInterpolate6:()=>Pm,\u0275\u0275stylePropInterpolate7:()=>Dp,\u0275\u0275stylePropInterpolate8:()=>yh,\u0275\u0275stylePropInterpolateV:()=>D_,\u0275\u0275syntheticHostListener:()=>vm,\u0275\u0275syntheticHostProperty:()=>Sc,\u0275\u0275template:()=>Fi,\u0275\u0275templateRefExtractor:()=>Tw,\u0275\u0275text:()=>Rm,\u0275\u0275textInterpolate:()=>Nm,\u0275\u0275textInterpolate1:()=>yp,\u0275\u0275textInterpolate2:()=>vp,\u0275\u0275textInterpolate3:()=>f_,\u0275\u0275textInterpolate4:()=>p_,\u0275\u0275textInterpolate5:()=>g_,\u0275\u0275textInterpolate6:()=>hh,\u0275\u0275textInterpolate7:()=>Tc,\u0275\u0275textInterpolate8:()=>fh,\u0275\u0275textInterpolateV:()=>_p,\u0275\u0275trustConstantHtml:()=>xd,\u0275\u0275trustConstantResourceUrl:()=>Uy,\u0275\u0275viewQuery:()=>$p});var w=F(7579),g=F(727),V=F(8306),ie=F(6451),Y=F(3099);function oe(i){for(let s in i)if(i[s]===oe)return s;throw Error("Could not find renamed property on target object.")}function le(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=oe({__forward_ref__:oe});function H(i){return i.__forward_ref__=H,i.toString=function(){return ce(this())},i}function J(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===H}class Ie extends Error{constructor(s,a){super(function xe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}function Te(i,s){const a=s?` in ${s}`:"";throw new Ie(-201,`No provider for ${Ce(i)} found${a}`)}function Et(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}const wi=Xt;function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function $t(i){return er(i,Di)||er(i,ts)}function er(i,s){return i.hasOwnProperty(s)?i[s]:null}function Dr(i){return i&&(i.hasOwnProperty(hr)||i.hasOwnProperty(ns))?i[hr]:null}const Di=oe({\u0275prov:oe}),hr=oe({\u0275inj:oe}),ts=oe({ngInjectableDef:oe}),ns=oe({ngInjectorDef:oe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let zr;function Gn(i){const s=zr;return zr=i,s}function Kr(i,s,a){const u=$t(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&yt.Optional?null:void 0!==s?s:void Te(ce(i),"Injector")}function _n(i){return{toString:i}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),En=(()=>((En=En||{})[En.CheckOnce=0]="CheckOnce",En[En.Checked=1]="Checked",En[En.CheckAlways=2]="CheckAlways",En[En.Detached=3]="Detached",En[En.Errored=4]="Errored",En[En.Destroyed=5]="Destroyed",En))();function Zr(i){return null==i||i===qn.Default}var zt=(()=>{return(i=zt||(zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",zt;var i})();const dt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=dt||"undefined"!=typeof global&&global||It||Wn,br={},vt=[],Tr=oe({\u0275cmp:oe}),Ut=oe({\u0275dir:oe}),nt=oe({\u0275pipe:oe}),Oe=oe({\u0275mod:oe}),it=oe({\u0275fac:oe}),_t=oe({__NG_ELEMENT_ID__:oe});let qt=0;function jt(i){return _n(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||vt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||zt.Emulated,id:"c",styles:i.styles||vt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,f=i.features,v=i.pipes;return u.id+=qt++,u.inputs=Xe(i.inputs,a),u.outputs=Xe(i.outputs),f&&f.forEach(E=>E(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map($):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(K):null,u})}function W(i,s,a){const u=i.\u0275cmp;u.directiveDefs=()=>s.map($),u.pipeDefs=()=>a.map(K)}function $(i){return Zt(i)||Mn(i)}function K(i){return Pt(i)}const Ee={};function ne(i){return _n(()=>{const s={type:i.type,bootstrap:i.bootstrap||vt,declarations:i.declarations||vt,imports:i.imports||vt,exports:i.exports||vt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Ee[i.id]=i.type),s})}function qe(i,s){return _n(()=>{const a=pn(i,!0);a.declarations=s.declarations||vt,a.imports=s.imports||vt,a.exports=s.exports||vt})}function Xe(i,s){if(null==i)return br;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=u,s&&(s[c]=f)}return a}const Rt=jt;function Ar(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zt(i){return i[Tr]||null}function Mn(i){return i[Ut]||null}function Pt(i){return i[nt]||null}function pn(i,s){const a=i[Oe]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function Jr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function zo(i){return 0!=(8&i.flags)}function bi(i){return 2==(2&i.flags)}function Js(i){return 1==(1&i.flags)}function Sr(i){return null!==i.template}function Ua(i){return 0!=(512&i[2])}function mr(i,s){return i.hasOwnProperty(it)?i[it]:null}class Ai{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Us(){return js}function js(i){return i.type.prototype.ngOnChanges&&(i.setInput=Yh),Ha}function Ha(){const i=Bs(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===br)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Yh(i,s,a,u){const c=Bs(i)||function ci(i,s){return i[Mo]=s}(i,{previous:br,current:null}),f=c.current||(c.current={}),v=c.previous,E=this.declaredInputs[a],D=v[E];f[E]=new Ai(D&&D.currentValue,s,v===br),i[u]=s}Us.ngInherit=!0;const Mo="__ngSimpleChanges__";function Bs(i){return i[Mo]||null}let Yo=null;const Jo=i=>{Yo=i},Fr=function(i,s,a){null!=Yo&&Yo(i,s,a)},xo="math";let Es;function di(i){Es=i}function Is(){return void 0!==Es?Es:"undefined"!=typeof document?document:void 0}function mn(i){return!!i.listen}const T={createRenderer:(i,s)=>Is()};function b(i){for(;Array.isArray(i);)i=i[0];return i}function ve(i,s){return b(s[i])}function Ne(i,s){return b(s[i.index])}function cn(i,s){return i.data[s]}function Yt(i,s){return i[s]}function Bt(i,s){const a=s[i];return Jr(a)?a:a[0]}function Lt(i){return 4==(4&i[2])}function Rn(i){return 128==(128&i[2])}function dn(i,s){return null==s?null:i[s]}function Wi(i){i[18]=0}function hi(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const gt={lFrame:oa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Su(){return gt.bindingsEnabled}function ea(){gt.bindingsEnabled=!0}function qa(){gt.bindingsEnabled=!1}function Pe(){return gt.lFrame.lView}function Ht(){return gt.lFrame.tView}function Ro(i){return gt.lFrame.contextLView=i,i[8]}function Fn(){let i=ta();for(;null!==i&&64===i.type;)i=i.parent;return i}function ta(){return gt.lFrame.currentTNode}function na(){const i=gt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Mi(i,s){const a=gt.lFrame;a.currentTNode=i,a.isParent=s}function Mu(){return gt.lFrame.isParent}function xu(){gt.lFrame.isParent=!1}function ra(){return gt.isInCheckNoChangesMode}function no(i){gt.isInCheckNoChangesMode=i}function Xr(){const i=gt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Lr(){return gt.lFrame.bindingIndex}function ro(i){return gt.lFrame.bindingIndex=i}function Hs(){return gt.lFrame.bindingIndex++}function Ds(i){const s=gt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Ml(i){gt.lFrame.inI18n=i}function xl(i,s){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=i,ia(s)}function ia(i){gt.lFrame.currentDirectiveIndex=i}function Wa(i){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function za(){return gt.lFrame.currentQueryIndex}function sa(i){gt.lFrame.currentQueryIndex=i}function Ka(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Nu(i,s,a){if(a&yt.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&yt.Host||(c=Ka(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const u=gt.lFrame=rd();return u.currentTNode=s,u.lView=i,!0}function io(i){const s=rd(),a=i[1];gt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function rd(){const i=gt.lFrame,s=null===i?null:i.child;return null===s?oa(i):s}function oa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ou(){const i=gt.lFrame;return gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Nl=Ou;function No(){const i=Ou();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Vr(){return gt.lFrame.selectedIndex}function aa(i){gt.lFrame.selectedIndex=i}function jn(){const i=gt.lFrame;return cn(i.tView,i.selectedIndex)}function Ol(){gt.lFrame.currentNamespace="svg"}function id(){gt.lFrame.currentNamespace=xo}function lg(){!function Za(){gt.lFrame.currentNamespace=null}()}function ls(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:R}=f;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),M&&((i.viewHooks||(i.viewHooks=[])).push(a,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,M)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function ua(i,s,a){ku(i,s,3,a)}function la(i,s,a,u){(3&i[2])===a&&ku(i,s,a,u)}function rr(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ku(i,s,a,u){const f=null!=u?u:-1,v=s.length-1;let E=0;for(let D=void 0!==u?65535&i[18]:0;D<v;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=u&&E>=u)break}else s[D]<0&&(i[18]+=65536),(E<f||-1==f)&&(Xh(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function Xh(i,s,a,u){const c=a[u]<0,f=a[u+1],E=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048,Fr(4,E,f);try{f.call(E)}finally{Fr(5,E,f)}}}else{Fr(4,E,f);try{f.call(E)}finally{Fr(5,E,f)}}}class Oo{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Fu(i,s,a){const u=mn(i);let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const v=a[c++],E=a[c++],D=a[c++];u?i.setAttribute(s,E,D,v):s.setAttributeNS(v,E,D)}else{const v=f,E=a[++c];Fl(v)?u&&i.setProperty(s,v,E):u?i.setAttribute(s,v,E):s.setAttribute(v,E),c++}}return c}function ti(i){return 3===i||4===i||6===i}function Fl(i){return 64===i.charCodeAt(0)}function ca(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||da(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function da(i,s,a,u,c){let f=0,v=i.length;if(-1===s)v=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==c&&(i[f+1]=c));if(u===i[f+1])return void(i[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==v&&(i.splice(v,0,s),f=v+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==c&&i.splice(f++,0,c)}function Ll(i){return-1!==i}function wn(i){return 32767&i}function xi(i,s){let a=function tf(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Ja=!0;function oo(i){const s=Ja;return Ja=i,s}let rf=0;function fa(i,s){const a=Xa(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,cs(u.data,i),cs(s,null),cs(u.blueprint,null));const c=ds(i,s),f=i.injectorIndex;if(Ll(c)){const v=wn(c),E=xi(c,s),D=E[1].data;for(let M=0;M<8;M++)s[f+M]=E[v+M]|D[v+M]}return s[f+8]=c,f}function cs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Xa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ds(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const f=c[1],v=f.type;if(u=2===v?f.declTNode:1===v?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function pa(i,s,a){!function Po(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(_t)&&(u=a[_t]),null==u&&(u=a[_t]=rf++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function ko(i,s,a){if(a&yt.Optional)return i;Te(s,"NodeInjector")}function ad(i,s,a,u){if(a&yt.Optional&&void 0===u&&(u=null),0==(a&(yt.Self|yt.Host))){const c=i[9],f=Gn(void 0);try{return c?c.get(s,u,a&yt.Optional):Kr(s,u,a&yt.Optional)}finally{Gn(f)}}return ko(u,s,a)}function Lu(i,s,a,u=yt.Default,c){if(null!==i){const f=function sf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(_t)?i[_t]:void 0;return"number"==typeof s?s>=0?255&s:ud:s}(a);if("function"==typeof f){if(!Nu(s,i,u))return u&yt.Host?ko(c,a,u):ad(s,a,u,c);try{const v=f(u);if(null!=v||u&yt.Optional)return v;Te(a)}finally{Nl()}}else if("number"==typeof f){let v=null,E=Xa(i,s),D=-1,M=u&yt.Host?s[16][6]:null;for((-1===E||u&yt.SkipSelf)&&(D=-1===E?ds(i,s):s[E+8],-1!==D&&ao(u,!1)?(v=s[1],E=wn(D),s=xi(D,s)):E=-1);-1!==E;){const R=s[1];if(Uu(f,E,R.data)){const j=Mt(E,s,a,v,u,M);if(j!==ga)return j}D=s[E+8],-1!==D&&ao(u,s[1].data[E+8]===M)&&Uu(f,E,s)?(v=R,E=wn(D),s=xi(D,s)):E=-1}}}return ad(s,a,u,c)}const ga={};function ud(){return new Zn(Fn(),Pe())}function Mt(i,s,a,u,c,f){const v=s[1],E=v.data[i+8],R=Vu(E,v,a,null==u?bi(E)&&Ja:u!=v&&0!=(3&E.type),c&yt.Host&&f===E);return null!==R?Cs(s,v,R,E):ga}function Vu(i,s,a,u,c){const f=i.providerIndexes,v=s.data,E=1048575&f,D=i.directiveStart,R=f>>20,q=c?E+R:i.directiveEnd;for(let te=u?E:E+R;te<q;te++){const Ae=v[te];if(te<D&&a===Ae||te>=D&&Ae.type===a)return te}if(c){const te=v[D];if(te&&Sr(te)&&te.type===a)return D}return null}function Cs(i,s,a,u){let c=i[a];const f=s.data;if(function Pl(i){return i instanceof Oo}(c)){const v=c;v.resolving&&function He(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ce(f[a]));const E=oo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Gn(v.injectImpl):null;Nu(i,u,yt.Default);try{c=i[a]=v.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Qa(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(u){const v=js(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==D&&Gn(D),oo(E),v.resolving=!1,Nl()}}return c}function Uu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ao(i,s){return!(i&yt.Self||i&yt.Host&&s)}class Zn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Lu(this._tNode,this._lView,s,u,a)}}function ni(i){return _n(()=>{const s=i.prototype.constructor,a=s[it]||ma(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const f=c[it]||ma(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function ma(i){return We(i)?()=>{const s=ma(J(i));return s&&s()}:mr(i)}function ju(i){return function Vl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const f=a[c];if(ti(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(Fn(),i)}const ir="__annotations__",ya="__parameters__",Zi="__prop__metadata__";function va(i,s,a,u,c){return _n(()=>{const f=Bu(s);function v(...E){if(this instanceof v)return f.call(this,...E),this;const D=new v(...E);return function(R){return c&&c(R,...E),(R.hasOwnProperty(ir)?R[ir]:Object.defineProperty(R,ir,{value:[]})[ir]).push(D),u&&u(R),R}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=i,v.annotationCls=v,v})}function Bu(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}function bs(i,s,a){return _n(()=>{const u=Bu(s);function c(...f){if(this instanceof c)return u.apply(this,f),this;const v=new c(...f);return E.annotation=v,E;function E(D,M,R){const j=D.hasOwnProperty(ya)?D[ya]:Object.defineProperty(D,ya,{value:[]})[ya];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(v),D}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}function Ur(i,s,a,u){return _n(()=>{const c=Bu(s);function f(...v){if(this instanceof f)return c.apply(this,v),this;const E=new f(...v);return function D(M,R){const j=M.constructor,q=j.hasOwnProperty(Zi)?j[Zi]:Object.defineProperty(j,Zi,{value:{}})[Zi];q[R]=q.hasOwnProperty(R)&&q[R]||[],q[R].unshift(E),u&&u(M,R,...v)}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}const _a=bs("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>ju(i)}));class Bn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const of=new Bn("AnalyzeForEntryComponents");class Gs{}const $u=Ur("ContentChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},s),Gs),Ul=Ur("ContentChild",(i,s={})=>Object.assign({selector:i,first:!0,isViewQuery:!1,descendants:!0},s),Gs),af=Ur("ViewChildren",(i,s={})=>Object.assign({selector:i,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},s),Gs),hg=Ur("ViewChild",(i,s)=>Object.assign({selector:i,first:!0,isViewQuery:!0,descendants:!0},s),Gs);var Tn=(()=>((Tn=Tn||{})[Tn.Directive=0]="Directive",Tn[Tn.Component=1]="Component",Tn[Tn.Injectable=2]="Injectable",Tn[Tn.Pipe=3]="Pipe",Tn[Tn.NgModule=4]="NgModule",Tn))();function Qn(i){const s=Kt.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const jl=Function;function Ea(i){return"function"==typeof i}function ri(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),ri(u,s)):s!==i&&s.push(u)}return s}function ii(i,s){i.forEach(a=>Array.isArray(a)?ii(a,s):s(a))}function jr(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function uo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function hs(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function fi(i,s,a){let u=As(i,s);return u>=0?i[1|u]=a:(u=~u,function Bl(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function cd(i,s){const a=As(i,s);if(a>=0)return i[1|a]}function As(i,s){return function qs(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const f=u+(c-u>>1),v=i[f<<a];if(s===v)return f<<a;v>s?c=f:u=f+1}return~(c<<a)}(i,s,1)}const nu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,$l=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Yn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,sr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class si{constructor(s){this._reflect=s||Kt.Reflect}isReflectionEnabled(){return!0}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let u;u=hs(void 0===s?a.length:s.length);for(let c=0;c<u.length;c++)u[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(u[c]=u[c].concat(a[c]));return u}_ownParameters(s,a){if(function dd(i){return nu.test(i)||sr.test(i)||$l.test(i)&&!Yn.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const E="function"==typeof c?c():c,D=E.map(R=>R&&R.type),M=E.map(R=>R&&hd(R.decorators));return this._zipTypesAndAnnotations(D,M)}const f=s.hasOwnProperty(ya)&&s[ya],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return v||f?this._zipTypesAndAnnotations(v,f):hs(s.length)}parameters(s){if(!Ea(s))return[];const a=fd(s);let u=this._ownParameters(s,a);return!u&&a!==Object&&(u=this.parameters(a)),u||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let u=s.annotations;return"function"==typeof u&&u.annotations&&(u=u.annotations),u}return s.decorators&&s.decorators!==a.decorators?hd(s.decorators):s.hasOwnProperty(ir)?s[ir]:null}annotations(s){if(!Ea(s))return[];const a=fd(s),u=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(u)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let u=s.propMetadata;return"function"==typeof u&&u.propMetadata&&(u=u.propMetadata),u}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const u=s.propDecorators,c={};return Object.keys(u).forEach(f=>{c[f]=hd(u[f])}),c}return s.hasOwnProperty(Zi)?s[Zi]:null}propMetadata(s){if(!Ea(s))return{};const a=fd(s),u={};if(a!==Object){const f=this.propMetadata(a);Object.keys(f).forEach(v=>{u[v]=f[v]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(f=>{const v=[];u.hasOwnProperty(f)&&v.push(...u[f]),v.push(...c[f]),u[f]=v}),u}ownPropMetadata(s){return Ea(s)&&this._ownPropMetadata(s,fd(s))||{}}hasLifecycleHook(s,a){return s instanceof jl&&a in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${ce(s)}`}resourceUri(s){return`./${ce(s)}`}resolveIdentifier(s,a,u,c){return c}resolveEnum(s,a){return s[a]}}function hd(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function fd(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Qi={},qu="__NG_DI_FLAG__",pd="ngTempTokenPath",A=/\n/gm,B="__source",ee=oe({provide:String,useValue:oe});let ue;function Ve(i){const s=ue;return ue=i,s}function st(i,s=yt.Default){if(void 0===ue)throw new Ie(203,"");return null===ue?Kr(i,void 0,s):ue.get(i,s&yt.Optional?null:void 0,s)}function ht(i,s=yt.Default){return(function fr(){return zr}()||st)(J(i),s)}function xt(i){throw new Error("invalid")}const re=ht;function Dt(i){const s=[];for(let a=0;a<i.length;a++){const u=J(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,"");let c,f=yt.Default;for(let v=0;v<u.length;v++){const E=u[v],D=mt(E);"number"==typeof D?-1===D?c=E.token:f|=D:c=E}s.push(ht(c,f))}else s.push(ht(u))}return s}function $n(i,s){return i[qu]=s,i.prototype[qu]=s,i}function mt(i){return i[qu]}const Ss=$n(bs("Inject",i=>({token:i})),-1),fs=$n(bs("Optional"),8),In=$n(bs("Self"),2),vr=$n(bs("SkipSelf"),4),Wu=$n(bs("Host"),1);let gd=null;function md(){return gd=gd||new si}function zu(i){return pg(md().parameters(i))}function pg(i){return i.map(s=>function gg(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const u=i[a];if(void 0===u)continue;const c=Object.getPrototypeOf(u);if(u instanceof fs||"Optional"===c.ngMetadataName)s.optional=!0;else if(u instanceof vr||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(u instanceof In||"Self"===c.ngMetadataName)s.self=!0;else if(u instanceof Wu||"Host"===c.ngMetadataName)s.host=!0;else if(u instanceof Ss)s.token=u.token;else if(u instanceof _a){if(void 0===u.attributeName)throw new Error("Attribute name must be defined.");s.attribute=u.attributeName}else s.token=u}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}function mg(i){const s=[],a=new Map;function u(c){let f=a.get(c);if(!f){const v=i(c);a.set(c,f=v.then(yd))}return f}return wa.forEach((c,f)=>{const v=[];c.templateUrl&&v.push(u(c.templateUrl).then(j=>{c.template=j}));const E=c.styleUrls,D=c.styles||(c.styles=[]),M=c.styles.length;E&&E.forEach((j,q)=>{D.push(""),v.push(u(j).then(te=>{D[M+q]=te,E.splice(E.indexOf(j),1),0==E.length&&(c.styleUrls=void 0)}))});const R=Promise.all(v).then(()=>function cf(i){Gl.delete(i)}(f));s.push(R)}),Ku(),Promise.all(s).then(()=>{})}let wa=new Map;const Gl=new Set;function ql(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}function Ku(){const i=wa;return wa=new Map,i}function yd(i){return"string"==typeof i?i:i.text()}let Zu,Da;function df(){if(void 0===Zu&&(Zu=null,Kt.trustedTypes))try{Zu=Kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Zu}function Qu(i){var s;return(null===(s=df())||void 0===s?void 0:s.createHTML(i))||i}function vd(){if(void 0===Da&&(Da=null,Kt.trustedTypes))try{Da=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Da}function Wl(i){var s;return(null===(s=vd())||void 0===s?void 0:s.createHTML(i))||i}function ff(i){var s;return(null===(s=vd())||void 0===s?void 0:s.createScript(i))||i}function pf(i){var s;return(null===(s=vd())||void 0===s?void 0:s.createScriptURL(i))||i}class iu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Py extends iu{getTypeName(){return"HTML"}}class ky extends iu{getTypeName(){return"Style"}}class yg extends iu{getTypeName(){return"Script"}}class zl extends iu{getTypeName(){return"URL"}}class vg extends iu{getTypeName(){return"ResourceURL"}}function ps(i){return i instanceof iu?i.changingThisBreaksApplicationSecurity:i}function su(i,s){const a=ou(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function ou(i){return i instanceof iu&&i.getTypeName()||null}function Fy(i){return new Py(i)}function Kl(i){return new ky(i)}function _g(i){return new yg(i)}function Eg(i){return new zl(i)}function _d(i){return new vg(i)}function gf(i){const s=new mf(i);return function z0(){try{return!!(new window.DOMParser).parseFromString(Qu(""),"text/html")}catch(i){return!1}}()?new Ig(s):s}class Ig{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Qu(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class mf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Qu(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Qu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const v=a.item(c).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const au=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ed=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fo(i){return(i=String(i)).match(au)||i.match(Ed)?i:"unsafe:"+i}function Id(i){return(i=String(i)).split(",").map(s=>Fo(s.trim())).join(", ")}function Yi(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Yu(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const wg=Yi("area,br,col,hr,img,wbr"),Zl=Yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ql=Yi("rp,rt"),yf=Yu(wg,Yu(Zl,Yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yu(Ql,Yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yu(Ql,Zl)),vf=Yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_f=Yi("srcset"),wd=Yu(vf,_f,Yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vy=Yi("script,style,template");class Dd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!yf.hasOwnProperty(a))return this.sanitizedSomething=!0,!Vy.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let c=0;c<u.length;c++){const f=u.item(c),v=f.name,E=v.toLowerCase();if(!wd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=f.value;vf[E]&&(D=Fo(D)),_f[E]&&(D=Id(D)),this.buf.push(" ",v,'="',Td(D),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();yf.hasOwnProperty(a)&&!wg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Td(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Cd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bd=/([^\#-~ |!])/g;function Td(i){return i.replace(/&/g,"&amp;").replace(Cd,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(bd,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ad;function Yl(i,s){let a=null;try{Ad=Ad||gf(i);let u=s?String(s):"";a=Ad.getInertBodyElement(u);let c=5,f=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=f,f=a.innerHTML,a=Ad.getInertBodyElement(u)}while(u!==f);return Qu((new Dd).sanitizeChildren(Ef(a)||a))}finally{if(a){const u=Ef(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ef(i){return"content"in i&&function Cg(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function Sd(i){const s=Jl();return s?Wl(s.sanitize(Jn.HTML,i)||""):su(i,"HTML")?Wl(ps(i)):Yl(Is(),se(i))}function If(i){const s=Jl();return s?s.sanitize(Jn.STYLE,i)||"":su(i,"Style")?ps(i):se(i)}function Md(i){const s=Jl();return s?s.sanitize(Jn.URL,i)||"":su(i,"URL")?ps(i):Fo(se(i))}function bg(i){const s=Jl();if(s)return pf(s.sanitize(Jn.RESOURCE_URL,i)||"");if(su(i,"ResourceURL"))return pf(ps(i));throw new Ie(904,"")}function Tg(i){const s=Jl();if(s)return ff(s.sanitize(Jn.SCRIPT,i)||"");if(su(i,"Script"))return ff(ps(i));throw new Ie(905,"")}function xd(i){return Qu(i[0])}function Uy(i){return function hf(i){var s;return(null===(s=df())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function jy(i,s,a){return function Rd(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?bg:Md}(s,a)(i)}function Jl(){const i=Pe();return i&&i[12]}function Br(i){let s=Xu(i);if(s){if(Array.isArray(s)){const a=s;let u,c,f;if(function Ms(i){return i&&i.constructor&&i.constructor.\u0275cmp}(i)){if(u=Cf(a,i),-1==u)throw new Error("The provided component was not found in the application");c=i}else if(function Xl(i){return i&&i.constructor&&i.constructor.\u0275dir}(i)){if(u=function bf(i,s){let a=i[1].firstChild;for(;a;){const c=a.directiveEnd;for(let f=a.directiveStart;f<c;f++)if(i[f]===s)return a.index;a=X0(a)}return-1}(a,i),-1==u)throw new Error("The provided directive was not found in the application");f=$y(u,a,!1)}else if(u=Df(a,i),-1==u)return null;const v=b(a[u]),E=Xu(v),D=E&&!Array.isArray(E)?E:uu(a,u,v);if(c&&void 0===D.component&&(D.component=c,$r(D.component,D)),f&&void 0===D.directives){D.directives=f;for(let M=0;M<f.length;M++)$r(f[M],D)}$r(D.native,D),s=D}}else{const a=i;let u=a;for(;u=u.parentNode;){const c=Xu(u);if(c){let f;if(f=Array.isArray(c)?c:c.lView,!f)return null;const v=Df(f,a);if(v>=0){const E=b(f[v]),D=uu(f,v,E);$r(E,D),s=D;break}}}}return s||null}function uu(i,s,a){return{lView:i,nodeIndex:s,native:a,component:void 0,directives:void 0,localRefs:void 0}}function Ju(i){let a,s=Xu(i);if(Array.isArray(s)){const u=Cf(s,i);a=Bt(u,s);const c=uu(s,u,a[0]);c.component=i,$r(i,c),$r(c.native,c)}else a=Bt(s.nodeIndex,s.lView);return a}const Ag="__ngContext__";function $r(i,s){i[Ag]=s}function Xu(i){return i[Ag]||null}function wf(i){const s=Xu(i);return s?Array.isArray(s)?s:s.lView:null}function Df(i,s){const a=i[1];for(let u=20;u<a.bindingStartIndex;u++)if(b(i[u])===s)return u;return-1}function X0(i){if(i.child)return i.child;if(i.next)return i.next;for(;i.parent&&!i.parent.next;)i=i.parent;return i.parent&&i.parent.next}function Cf(i,s){const a=i[1].components;if(a)for(let u=0;u<a.length;u++){const c=a[u];if(Bt(c,i)[8]===s)return c}else if(Bt(20,i)[8]===s)return 20;return-1}function $y(i,s,a){const u=s[1].data[i];let c=u.directiveStart;return 0==c?vt:(!a&&2&u.flags&&c++,s.slice(c,u.directiveEnd))}const Lo="ngOriginalError";function Tf(i){return i[Lo]}function Af(i,...s){i.error(...s)}class Hr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function Mg(i){return i&&i.ngErrorLogger||Af}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Tf(s);for(;a&&Tf(a);)a=Tf(a);return a||null}}const ec={name:"custom-elements"},tc={name:"no-errors-schema"},xg=/^>|^->|<!--|-->|--!>|<!-$/g,co=/(<|>)/;const Rg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function nc(i){return i.ownerDocument.defaultView}function rc(i){return i.ownerDocument}function y(i){return i.ownerDocument.body}function p(i){return i instanceof Function?i():i}var ye=(()=>((ye=ye||{})[ye.Important=1]="Important",ye[ye.DashCase=2]="DashCase",ye))();let Ge;function tt(i,s){return Ge(i,s)}function Nn(i){const s=i[3];return Or(s)?s[3]:s}function oi(i){return function Rs(i){let s=Jr(i)?i:wf(i);for(;s&&!(512&s[2]);)s=Nn(s);return s}(i)[8]}function Nd(i){return ic(i[13])}function gs(i){return ic(i[4])}function ic(i){for(;null!==i&&!Or(i);)i=i[4];return i}function Vo(i,s,a,u,c){if(null!=u){let f,v=!1;Or(u)?f=u:Jr(u)&&(v=!0,u=u[0]);const E=b(u);0===i&&null!==a?null==c?rE(s,a,E):oc(s,a,E,c||null,!0):1===i&&null!==a?oc(s,a,E,c||null,!0):2===i?ev(s,E,v):3===i&&s.destroyNode(E),null!=f&&function ac(i,s,a,u,c){const f=a[7];f!==b(a)&&Vo(s,i,u,f,c);for(let E=10;E<a.length;E++){const D=a[E];Fd(D[1],D,i,s,u,f)}}(s,i,f,a,c)}}function Od(i,s){return mn(i)?i.createText(s):i.createTextNode(s)}function xf(i,s,a){mn(i)?i.setValue(s,a):s.textContent=a}function Rf(i,s){return i.createComment(function Sf(i){return i.replace(xg,s=>s.replace(co,"\u200b$1\u200b"))}(s))}function Pd(i,s,a){if(mn(i))return i.createElement(s,a);{const u=null!==a?function $s(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===xo?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function nE(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,hi(c,-1)),a.splice(u,1)}function Ky(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&nE(c,u),s>0&&(i[a-1][4]=u[4]);const f=uo(i,10+s);!function zy(i,s){Fd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const v=f[19];null!==v&&v.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Zy(i,s){if(!(256&s[2])){const a=s[11];mn(a)&&a.destroyNode&&Fd(i,s,a,3,null,null),function tE(i){let s=i[13];if(!s)return Qt(i[1],i);for(;s;){let a=null;if(Jr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Jr(s)&&Qt(s[1],s),s=s[3];null===s&&(s=i),Jr(s)&&Qt(s[1],s),a=s&&s[4]}s=a}}(s)}}function Qt(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function kd(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Oo)){const f=a[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const E=c[f[v]],D=f[v+1];Fr(4,E,D);try{D.call(E)}finally{Fr(5,E,D)}}else{Fr(4,c,f);try{f.call(c)}finally{Fr(5,c,f)}}}}}(i,s),function SD(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const v=a[f+1],E="function"==typeof v?v(s):b(s[v]),D=u[c=a[f+2]],M=a[f+3];"boolean"==typeof M?E.removeEventListener(a[f],D,M):M>=0?u[c=M]():u[c=-M].unsubscribe(),f+=2}else{const v=u[c=a[f+1]];a[f].call(v)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&mn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Or(s[3])){a!==s[3]&&nE(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function Qy(i,s,a){return Og(i,s.parent,a)}function Og(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===zt.None||c===zt.Emulated)return null}return Ne(u,a)}function oc(i,s,a,u,c){mn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function rE(i,s,a){mn(i)?i.appendChild(s,a):s.appendChild(a)}function iE(i,s,a,u,c){null!==u?oc(i,s,a,u,c):rE(i,s,a)}function Of(i,s){return mn(i)?i.parentNode(s):s.parentNode}function Yy(i,s,a){return pi(i,s,a)}function MD(i,s,a){return 40&i.type?Ne(i,a):null}let ho,pi=MD;function oE(i,s){pi=i,ho=s}function Pg(i,s,a,u){const c=Qy(i,u,s),f=s[11],E=Yy(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let D=0;D<a.length;D++)iE(f,c,a[D],E,!1);else iE(f,c,a,E,!1);void 0!==ho&&ho(f,u,s,a,c)}function Pf(i,s){if(null!==s){const a=s.type;if(3&a)return Ne(s,i);if(4&a)return Xy(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Pf(i,u);{const c=i[s.index];return Or(c)?Xy(-1,c):b(c)}}if(32&a)return tt(s,i)()||b(i[s.index]);{const u=Jy(i,s);return null!==u?Array.isArray(u)?u[0]:Pf(Nn(i[16]),u):Pf(i,s.next)}}return null}function Jy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Xy(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Pf(u,c)}return s[7]}function ev(i,s,a){const u=Of(i,s);u&&function ba(i,s,a,u){mn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}function tv(i,s,a,u,c,f,v){for(;null!=a;){const E=u[a.index],D=a.type;if(v&&0===s&&(E&&$r(b(E),u),a.flags|=4),64!=(64&a.flags))if(8&D)tv(i,s,a.child,u,c,f,!1),Vo(s,i,c,E,f);else if(32&D){const M=tt(a,u);let R;for(;R=M();)Vo(s,i,c,R,f);Vo(s,i,c,E,f)}else 16&D?kf(i,s,u,a,c,f):Vo(s,i,c,E,f);a=v?a.projectionNext:a.next}}function Fd(i,s,a,u,c,f){tv(a,u,i.firstChild,s,c,f,!1)}function kf(i,s,a,u,c,f){const v=a[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Vo(s,i,c,D[M],f);else tv(i,s,D,v[3],c,f,!0)}function Ld(i,s,a){mn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function nv(i,s,a){mn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function el(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===u||i.charCodeAt(c+f)<=32)return c}a=c+1}}const rv="ng-template";function uE(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==el(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function lE(i){return 4===i.type&&i.value!==rv}function kg(i,s,a){return s===(4!==i.type||a?i.value:rv)}function Ff(i,s,a){let u=4;const c=i.attrs||[],f=function Lg(i){for(let s=0;s<i.length;s++)if(ti(i[s]))return s;return i.length}(c);let v=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!kg(i,D,a)||""===D&&1===s.length){if(fo(u))return!1;v=!0}}else{const M=8&u?D:s[++E];if(8&u&&null!==i.attrs){if(!uE(i.attrs,M,a)){if(fo(u))return!1;v=!0}continue}const j=Fg(8&u?"class":D,c,lE(i),a);if(-1===j){if(fo(u))return!1;v=!0;continue}if(""!==M){let q;q=j>f?"":c[j+1].toLowerCase();const te=8&u?q:null;if(te&&-1!==el(te,M,0)||2&u&&M!==q){if(fo(u))return!1;v=!0}}}}else{if(!v&&!fo(u)&&!fo(D))return!1;if(v&&fo(D))continue;v=!1,u=D|1&u}}return fo(u)||v}function fo(i){return 0==(1&i)}function Fg(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let f=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)f=!0;else{if(1===v||2===v){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=f?1:2}return-1}return function dE(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function cE(i,s,a=!1){for(let u=0;u<s.length;u++)if(Ff(i,s[u],a))return!0;return!1}function hE(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function fE(i,s){return i?":not("+s.trim()+")":s}function xD(i){let s=i[0],a=1,u=2,c="",f=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&u){const E=i[++a];c+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+v:4&u&&(c+=" "+v);else""!==c&&!fo(v)&&(s+=fE(f,c),c=""),u=v,f=f||!fo(u);a++}return""!==c&&(s+=fE(f,c)),s}const Ft={};function pE(i){gE(Ht(),Pe(),Vr()+i,ra())}function gE(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&ua(s,f,a)}else{const f=i.preOrderHooks;null!==f&&la(s,f,0,a)}aa(a)}function Ug(i,s){return i<<17|s<<2}function po(i){return i>>17&32767}function Uo(i){return 2|i}function Ns(i){return(131068&i)>>2}function Bg(i,s){return-131069&i|s<<2}function av(i){return 1|i}const lc=(()=>Promise.resolve(null))();function DE(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],f=a[u+1];if(-1!==f){const v=i.data[f];sa(c),v.contentQueries(2,s[f],f)}}}function Wf(i,s,a,u,c,f,v,E,D,M){const R=s.blueprint.slice();return R[0]=c,R[2]=140|u,Wi(R),R[3]=R[15]=i,R[8]=a,R[10]=v||i&&i[10],R[11]=E||i&&i[11],R[12]=D||i&&i[12]||null,R[9]=M||i&&i[9]||null,R[6]=f,R[16]=2==s.type?i[16]:R,R}function cc(i,s,a,u,c){let f=i.data[s];if(null===f)f=Gg(i,s,a,u,c),function nd(){return gt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=c;const v=na();f.injectorIndex=null===v?-1:v.injectorIndex}return Mi(f,!0),f}function Gg(i,s,a,u,c){const f=ta(),v=Mu(),D=i.data[s]=function Wg(i,s,a,u,c,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=D),null!==f&&(v?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D)),D}function Vd(i,s,a,u){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function zf(i,s,a){io(s);try{const u=i.viewQuery;null!==u&&bv(1,u,a);const c=i.template;null!==c&&gv(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&DE(i,s),i.staticViewQueries&&bv(2,i.viewQuery,a);const f=i.components;null!==f&&function pv(i,s){for(let a=0;a<s.length;a++)tC(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,No()}}function rl(i,s,a,u){const c=s[2];if(256==(256&c))return;io(s);const f=ra();try{Wi(s),ro(i.bindingStartIndex),null!==a&&gv(i,s,a,2,u);const v=3==(3&c);if(!f)if(v){const M=i.preOrderCheckHooks;null!==M&&ua(s,M,null)}else{const M=i.preOrderHooks;null!==M&&la(s,M,0,null),rr(s,0)}if(function XD(i){for(let s=Nd(i);null!==s;s=gs(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],f=c[3];0==(1024&c[2])&&hi(f,1),c[2]|=1024}}}(s),function JD(i){for(let s=Nd(i);null!==s;s=gs(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];Rn(u)&&rl(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&DE(i,s),!f)if(v){const M=i.contentCheckHooks;null!==M&&ua(s,M)}else{const M=i.contentHooks;null!==M&&la(s,M,1),rr(s,1)}!function Gf(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)aa(~c);else{const f=c,v=a[++u],E=a[++u];xl(v,f),E(2,s[f])}}}finally{aa(-1)}}(i,s);const E=i.components;null!==E&&function qf(i,s){for(let a=0;a<s.length;a++)eC(i,s[a])}(s,E);const D=i.viewQuery;if(null!==D&&bv(2,D,u),!f)if(v){const M=i.viewCheckHooks;null!==M&&ua(s,M)}else{const M=i.viewHooks;null!==M&&la(s,M,2),rr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,hi(s[3],-1))}finally{No()}}function go(i,s,a,u){const c=s[10],f=!ra(),v=Lt(s);try{f&&!v&&c.begin&&c.begin(),v&&zf(i,s,u),rl(i,s,a,u)}finally{f&&!v&&c.end&&c.end()}}function gv(i,s,a,u,c){const f=Vr(),v=2&u;try{aa(-1),v&&s.length>20&&gE(i,s,20,ra()),Fr(v?2:0,c),a(u,c)}finally{aa(f),Fr(v?3:1,c)}}function mv(i,s,a){if(zo(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const v=i.data[f];v.contentQueries&&v.contentQueries(1,a[f],f)}}}function Ud(i,s,a){!Su()||(function Kg(i,s,a,u){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||fa(a,s),$r(u,s);const v=a.initialInputs;for(let E=c;E<f;E++){const D=i.data[E],M=Sr(D);M&&ZD(s,a,D);const R=Cs(s,i,E,a);$r(R,s),null!==v&&QD(0,E-c,R,D,0,v),M&&(Bt(a.index,s)[8]=R)}}(i,s,a,Ne(a,s)),128==(128&a.flags)&&function WD(i,s,a){const u=a.directiveStart,c=a.directiveEnd,v=a.index,E=function Rl(){return gt.lFrame.currentDirectiveIndex}();try{aa(v);for(let D=u;D<c;D++){const M=i.data[D],R=s[D];ia(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&$d(M,R)}}finally{aa(-1),ia(E)}}(i,s,a))}function jd(i,s,a=Ne){const u=s.localNames;if(null!==u){let c=s.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],E=-1===v?a(s,i):i[v];i[c++]=E}}}function CE(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=qg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function qg(i,s,a,u,c,f,v,E,D,M){const R=20+u,j=R+c,q=function $D(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Ft);return a}(R,j),te="function"==typeof M?M():M;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:E,declTNode:s,data:q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:te,incompleteFirstPass:!1}}function vv(i,s,a){if(mn(i))return i.selectRootElement(s,a===zt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}function _v(i,s,a,u){const c=Jg(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&kE(i).push(u,c.length-1))}function Ev(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function Ws(i,s,a,u,c,f,v,E){const D=Ne(s,a);let R,M=s.inputs;!E&&null!=M&&(R=M[u])?(Xg(i,a,R,u,c),bi(s)&&function HD(i,s){const a=Bt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function TE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=v?v(c,s.value||"",u):c,mn(f)?f.setProperty(D,u,c):Fl(u)||(D.setProperty?D.setProperty(u,c):D[u]=c))}function Bd(i,s,a,u){let c=!1;if(Su()){const f=function zD(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const v=u[f];cE(a,v.selectors,!1)&&(c||(c=[]),pa(fa(a,s),i,v.type),Sr(v)?(ME(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===u?null:{"":-1};if(null!==f){c=!0,xE(a,i.data.length,f.length);for(let R=0;R<f.length;R++){const j=f[R];j.providersResolver&&j.providersResolver(j)}let E=!1,D=!1,M=Vd(i,s,f.length,null);for(let R=0;R<f.length;R++){const j=f[R];a.mergedAttrs=ca(a.mergedAttrs,j.hostAttrs),RE(i,a,s,M,j),KD(M,j,v),null!==j.contentQueries&&(a.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(a.flags|=128);const q=j.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!D&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),M++}!function Kf(i,s){const u=s.directiveEnd,c=i.data,f=s.attrs,v=[];let E=null,D=null;for(let M=s.directiveStart;M<u;M++){const R=c[M],j=R.inputs,q=null===f||lE(s)?null:YD(j,f);v.push(q),E=Ev(j,M,E),D=Ev(R.outputs,M,D)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=E,s.outputs=D}(i,a)}v&&function Zf(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new Ie(-301,!1);u.push(s[c],f)}}}(a,u,v)}return a.mergedAttrs=ca(a.mergedAttrs,a.attrs),c}function SE(i,s,a,u,c,f){const v=f.hostBindings;if(v){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const D=~s.index;(function qD(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(u,c,v)}}function $d(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ME(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function KD(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Sr(s)&&(a[""]=i)}}function xE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function RE(i,s,a,u,c){i.data[u]=c;const f=c.factory||(c.factory=mr(c.type)),v=new Oo(f,Sr(c),null);i.blueprint[u]=v,a[u]=v,SE(i,s,0,u,Vd(i,a,c.hostVars,Ft),c)}function ZD(i,s,a){const u=Ne(s,i),c=CE(a),f=i[10],v=Cv(i,Wf(i,c,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=v}function Aa(i,s,a,u,c,f){const v=Ne(i,s);Iv(s[11],v,f,i.value,a,u,c)}function Iv(i,s,a,u,c,f,v){if(null==f)mn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const E=null==v?se(f):v(f,u||"",c);mn(i)?i.setAttribute(s,c,E,a):a?s.setAttributeNS(a,c,E):s.setAttribute(c,E)}}function QD(i,s,a,u,c,f){const v=f[s];if(null!==v){const E=u.setInput;for(let D=0;D<v.length;){const M=v[D++],R=v[D++],j=v[D++];null!==E?u.setInput(a,j,M,R):a[R]=j}}}function YD(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function wv(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function eC(i,s){const a=Bt(s,i);if(Rn(a)){const u=a[1];80&a[2]?rl(u,a,u.template,a[8]):a[5]>0&&Dv(a)}}function Dv(i){for(let u=Nd(i);null!==u;u=gs(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const v=f[1];rl(v,f,v.template,f[8])}else f[5]>0&&Dv(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=Bt(a[u],i);Rn(c)&&c[5]>0&&Dv(c)}}function tC(i,s){const a=Bt(s,i),u=a[1];(function NE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),zf(u,a,a[8])}function Cv(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Zg(i){for(;i;){i[2]|=64;const s=Nn(i);if(Ua(i)&&!s)return i;i=s}return null}function Qg(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=wf(a),c=u[1];go(c,u,c.template,a)}}function Yg(i,s,a){const u=s[10];u.begin&&u.begin();try{rl(i,s,i.template,a)}catch(c){throw LE(s,c),c}finally{u.end&&u.end()}}function PE(i){Qg(i[8])}function bv(i,s,a){sa(0),s(i,a)}const sC=lc;function Jg(i){return i[7]||(i[7]=[])}function kE(i){return i.cleanup||(i.cleanup=[])}function FE(i,s,a){return(null===i||Sr(i))&&(a=function P(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function LE(i,s){const a=i[9],u=a?a.get(Hr,null):null;u&&u.handleError(s)}function Xg(i,s,a,u,c){for(let f=0;f<a.length;){const v=a[f++],E=a[f++],D=s[v],M=i.data[v];null!==M.setInput?M.setInput(D,c,u,E):D[E]=c}}function Sa(i,s,a){const u=ve(s,i);xf(i[11],u,a)}function em(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?f=E:1==f?c=ae(c,E):2==f&&(u=ae(u,E+": "+s[++v]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}function VE(i){const s=Ju(i);Yg(s[1],s,i)}function UE(i){!function OE(i,s){if(0===i.flags&&i.clean==lc){let u;i.flags|=s,i.clean=new Promise(c=>u=c),i.scheduler(()=>{if(1&i.flags&&(i.flags&=-2,Qg(i)),2&i.flags){i.flags&=-3;const c=i.playerHandler;c&&c.flushPlayers()}i.clean=lc,u(null)})}}(Zg(Ju(i))[8],1)}const Qf=new Bn("INJECTOR",-1);class jE{get(s,a=Qi){if(a===Qi){const u=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw u.name="NullInjectorError",u}return a}}const Tv=new Bn("Set Injector scope."),Gr={},oC={};let tm;function nm(){return void 0===tm&&(tm=new jE),tm}function cu(i,s=null,a=null,u){const c=dc(i,s,a,u);return c._resolveInjectorDefTypes(),c}function dc(i,s=null,a=null,u){return new aC(i,a,s||nm(),u)}class aC{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ii(a,E=>this.processProvider(E,s,a)),ii([s],E=>this.processInjectorType(E,[],f)),this.records.set(Qf,hc(void 0,this));const v=this.records.get(Tv);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof s?null:ce(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Qi,u=yt.Default){this.assertNotDestroyed();const c=Ve(this),f=Gn(void 0);try{if(!(u&yt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function dC(i){return"function"==typeof i||"object"==typeof i&&i instanceof Bn}(s)&&$t(s);E=D&&this.injectableDefInScope(D)?hc(Av(s),Gr):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&yt.Self?nm():this.parent).get(s,a=u&yt.Optional&&a===Qi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[pd]=v[pd]||[]).unshift(ce(s)),c)throw v;return function Ri(i,s,a,u){const c=i[pd];throw s[B]&&c.unshift(s[B]),i.message=function ru(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ce(s);if(Array.isArray(s))c=s.map(ce).join(" -> ");else if("object"==typeof s){let f=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];f.push(v+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}c=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(A,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[pd]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Gn(f),Ve(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(ce(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processInjectorType(s,a,u){if(!(s=J(s)))return!1;let c=Dr(s);const f=null==c&&s.ngModule||void 0,v=void 0===f?s:f,E=-1!==u.indexOf(v);if(void 0!==f&&(c=Dr(f)),null==c)return!1;if(null!=c.imports&&!E){let R;u.push(v);try{ii(c.imports,j=>{this.processInjectorType(j,a,u)&&(void 0===R&&(R=[]),R.push(j))})}finally{}if(void 0!==R)for(let j=0;j<R.length;j++){const{ngModule:q,providers:te}=R[j];ii(te,Ae=>this.processProvider(Ae,q,te||vt))}}this.injectorDefTypes.add(v);const D=mr(v)||(()=>new v);this.records.set(v,hc(D,Gr));const M=c.providers;if(null!=M&&!E){const R=s;ii(M,j=>this.processProvider(j,R,M))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let c=pc(s=J(s))?s:J(s&&s.provide);const f=function uC(i,s,a){return rm(i)?hc(void 0,i.useValue):hc(Sv(i),Gr)}(s);if(pc(s)||!0!==s.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=hc(void 0,Gr,!0),v.factory=()=>Dt(v.multi),this.records.set(c,v)),c=s,v.multi.push(s)}this.records.set(c,f)}hydrate(s,a){return a.value===Gr&&(a.value=oC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function $E(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=J(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Av(i){const s=$t(i),a=null!==s?s.factory:mr(i);if(null!==a)return a;if(i instanceof Bn)throw new Ie(204,!1);if(i instanceof Function)return function BE(i){const s=i.length;if(s>0)throw hs(s,"?"),new Ie(204,!1);const a=function Wr(i){const s=i&&(i[Di]||i[ts]);if(s){const a=function es(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ie(204,!1)}function Sv(i,s,a){let u;if(pc(i)){const c=J(i);return mr(c)||Av(c)}if(rm(i))u=()=>J(i.useValue);else if(function fc(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Dt(i.deps||[]));else if(function zT(i){return!(!i||!i.useExisting)}(i))u=()=>ht(J(i.useExisting));else{const c=J(i&&(i.useClass||i.provide));if(!function cC(i){return!!i.deps}(i))return mr(c)||Av(c);u=()=>new c(...Dt(i.deps))}return u}function hc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function rm(i){return null!==i&&"object"==typeof i&&ee in i}function pc(i){return"function"==typeof i}let mo=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return cu({name:""},u,a,"");{const f=null!==(c=a.name)&&void 0!==c?c:"";return cu({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=Qi,i.NULL=new jE,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>ht(Qf)}),i.__NG_ELEMENT_ID__=-1,i})();function Mv(i){ZE(i);const s=Br(i);return null===s?null:(void 0===s.component&&(s.component=function Hy(i,s){const a=s[1].data[i];return 2&a.flags?s[a.directiveStart]:null}(s.nodeIndex,s.lView)),s.component)}function xv(i){ZE(i);const s=Br(i);return null===s?null:s.lView[8]}function HE(i){const s=Br(i);if(null===s)return null;let u,a=s.lView;for(;2===a[1].type&&(u=Nn(a));)a=u;return 512&a[2]?null:a[8]}function GE(i){return[...oi(i).components]}function qE(i){const s=Br(i);return null===s?mo.NULL:new Zn(s.lView[1].data[s.nodeIndex],s.lView)}function WE(i){if(i instanceof Text)return[];const s=Br(i);if(null===s)return[];const a=s.lView,u=a[1],c=s.nodeIndex;return(null==u?void 0:u.data[c])?(void 0===s.directives&&(s.directives=$y(c,a,!1)),null===s.directives?[]:[...s.directives]):[]}function hC(i){const{constructor:s}=i;if(!s)throw new Error("Unable to find the instance constructor");const a=Zt(s);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?qn.OnPush:qn.Default};const u=Mn(s);return u?{inputs:u.inputs,outputs:u.outputs}:null}function Nv(i){return Br(i).native}function gc(i){ZE(i);const s=Br(i);if(null===s)return[];const a=s.lView,c=a[7],f=a[1].cleanup,v=[];if(f&&c)for(let E=0;E<f.length;){const D=f[E++],M=f[E++];if("string"==typeof D){const R=D,j=b(a[M]),q=c[f[E++]],te=f[E++],Ae="boolean"==typeof te||te>=0?"dom":"output",je="boolean"==typeof te&&te;i==j&&v.push({element:i,name:R,callback:q,useCapture:je,type:Ae})}}return v.sort(KE),v}function KE(i,s){return i.name==s.name?0:i.name<s.name?-1:1}function Ov(i){return void 0!==i.type&&void 0!==i.template&&void 0!==i.declaredInputs}function ZE(i){if("undefined"!=typeof Element&&!(i instanceof Element))throw new Error("Expecting instance of DOM Element")}function fC(i){UE(i),GE(i).forEach(s=>VE(s))}let Ma=!1;function ut(){Ma||(Ma=!0,Os("\u0275setProfiler",Jo),Os("getDirectiveMetadata",hC),Os("getComponent",Mv),Os("getContext",xv),Os("getListeners",gc),Os("getOwningComponent",HE),Os("getHostElement",Nv),Os("getInjector",qE),Os("getRootComponents",GE),Os("getDirectives",WE),Os("applyChanges",fC))}function Os(i,s){if("undefined"==typeof COMPILED||!COMPILED){const a=Kt;if(a){let u=a.ng;u||(u=a.ng={}),u[i]=s}}}function im(i,s={}){const a=s.rendererFactory||T,u=s.sanitizer||null,c=Zt(i);c.type!=i&&(c.type=i);const f=c.selectors[0][0],E=vv(a.createRenderer(null,null),s.host||f,c.encapsulation),D=c.onPush?576:528,M=YE(s.scheduler,s.playerHandler),R=a.createRenderer(E,c),j=qg(0,null,null,1,0,null,null,null,null,null),q=Wf(null,j,M,D,null,null,a,R,null,s.injector||null);let te;io(q);try{a.begin&&a.begin(),te=Hd(sm(E,c,q,a,R,u),c,q,M,s.hostFeatures||null),zf(j,q,null),rl(j,q,null,null)}finally{No(),a.end&&a.end()}return te}function sm(i,s,a,u,c,f){const v=a[1];a[20]=i;const D=cc(v,20,2,"#host",null),M=D.mergedAttrs=s.hostAttrs;null!==M&&(em(D,M,!0),null!==i&&(Fu(c,i,M),null!==D.classes&&nv(c,i,D.classes),null!==D.styles&&Ld(c,i,D.styles)));const R=u.createRenderer(i,s),j=Wf(a,CE(s),null,s.onPush?64:16,a[20],D,u,R,f||null,null);return v.firstCreatePass&&(pa(fa(D,a),v,s.type),ME(v,D),xE(D,a.length,1)),Cv(a,j),a[20]=j}function Hd(i,s,a,u,c){const f=a[1],v=function AE(i,s,a){const u=Fn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),RE(i,u,s,Vd(i,s,1,null),a));const c=Cs(s,i,u.directiveStart,u);$r(c,s);const f=Ne(u,s);return f&&$r(f,s),c}(f,a,s);if(u.components.push(v),i[8]=v,c&&c.forEach(D=>D(v,s)),s.contentQueries){const D=Fn();s.contentQueries(1,v,D.directiveStart)}const E=Fn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(aa(E.index),SE(a[1],E,0,E.directiveStart,E.directiveEnd,s),$d(s,v)),v}function YE(i,s){return{components:[],scheduler:i||Rg,clean:sC,playerHandler:s||null,flags:0}}function om(i,s){ls(wf(i)[1],Fn())}function pC(i){return oi(i).clean}function JE(i){return Object.getPrototypeOf(i.prototype).constructor}function Pv(i){let s=JE(i.type),a=!0;const u=[i];for(;s;){let c;if(Sr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ie(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const v=i;v.inputs=Gd(i.inputs),v.declaredInputs=Gd(i.declaredInputs),v.outputs=Gd(i.outputs);const E=c.hostBindings;E&&gC(i,E);const D=c.viewQuery,M=c.contentQueries;if(D&&Pi(i,D),M&&il(i,M),le(i.inputs,c.inputs),le(i.declaredInputs,c.declaredInputs),le(i.outputs,c.outputs),Sr(c)&&c.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let v=0;v<f.length;v++){const E=f[v];E&&E.ngInherit&&E(i),E===Pv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Oi(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=ca(c.hostAttrs,a=ca(a,c.hostAttrs))}}(u)}function Gd(i){return i===br?{}:i===vt?[]:i}function Pi(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function il(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,f)=>{s(u,c,f),a(u,c,f)}:s}function gC(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}const mC=["providersResolver"],XE=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function kv(i){let a,s=JE(i.type);a=Sr(i)?s.\u0275cmp:s.\u0275dir;const u=i;for(const c of mC)u[c]=a[c];if(Sr(a))for(const c of XE)u[c]=a[c]}let am=null;function mc(){if(!am){const i=Kt.Symbol;if(i&&i.iterator)am=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(am=u)}}}return am}function um(i,s){const a=sl(i),u=sl(s);return a&&u?function eI(i,s,a){const u=i[mc()](),c=s[mc()]();for(;;){const f=u.next(),v=c.next();if(f.done&&v.done)return!0;if(f.done||v.done||!a(f.value,v.value))return!1}}(i,s,um):!(a||!i||"object"!=typeof i&&"function"!=typeof i||u||!s||"object"!=typeof s&&"function"!=typeof s)||Object.is(i,s)}function sl(i){return!!Yf(i)&&(Array.isArray(i)||!(i instanceof Map)&&mc()in i)}function Yf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Xn(i,s,a){return i[s]=a}function qd(i,s){return i[s]}function ki(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function du(i,s,a,u){const c=ki(i,s,a);return ki(i,s+1,u)||c}function Jf(i,s,a,u,c){const f=du(i,s,a,u);return ki(i,s+2,c)||f}function zs(i,s,a,u,c,f){const v=du(i,s,a,u);return du(i,s+2,c,f)||v}function lm(i,s,a,u){const c=Pe();return ki(c,Hs(),s)&&(Ht(),Aa(jn(),c,i,s,a,u)),lm}function ol(i,s){let a=!1,u=Lr();for(let f=1;f<s.length;f+=2)a=ki(i,u++,s[f])||a;if(ro(u),!a)return Ft;let c=s[0];for(let f=1;f<s.length;f+=2)c+=se(s[f])+s[f+1];return c}function Wd(i,s,a,u){return ki(i,Hs(),a)?s+se(a)+u:Ft}function zd(i,s,a,u,c,f){const E=du(i,Lr(),a,c);return Ds(2),E?s+se(a)+u+se(c)+f:Ft}function jo(i,s,a,u,c,f,v,E){const M=Jf(i,Lr(),a,c,v);return Ds(3),M?s+se(a)+u+se(c)+f+se(v)+E:Ft}function yc(i,s,a,u,c,f,v,E,D,M){const j=zs(i,Lr(),a,c,v,D);return Ds(4),j?s+se(a)+u+se(c)+f+se(v)+E+se(D)+M:Ft}function al(i,s,a,u,c,f,v,E,D,M,R,j){const q=Lr();let te=zs(i,q,a,c,v,D);return te=ki(i,q+4,R)||te,Ds(5),te?s+se(a)+u+se(c)+f+se(v)+E+se(D)+M+se(R)+j:Ft}function vc(i,s,a,u,c,f,v,E,D,M,R,j,q,te){const Ae=Lr();let je=zs(i,Ae,a,c,v,D);return je=du(i,Ae+4,R,q)||je,Ds(6),je?s+se(a)+u+se(c)+f+se(v)+E+se(D)+M+se(R)+j+se(q)+te:Ft}function Kd(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je){const Ze=Lr();let lt=zs(i,Ze,a,c,v,D);return lt=Jf(i,Ze+4,R,q,Ae)||lt,Ds(7),lt?s+se(a)+u+se(c)+f+se(v)+E+se(D)+M+se(R)+j+se(q)+te+se(Ae)+je:Ft}function _c(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt){const ke=Lr();let wt=zs(i,ke,a,c,v,D);return wt=zs(i,ke+4,R,q,Ae,Ze)||wt,Ds(8),wt?s+se(a)+u+se(c)+f+se(v)+E+se(D)+M+se(R)+j+se(q)+te+se(Ae)+je+se(Ze)+lt:Ft}function Zd(i,s,a,u,c,f){const v=Pe(),E=Wd(v,s,a,u);return E!==Ft&&Aa(jn(),v,i,E,c,f),Zd}function Xf(i,s,a,u,c,f,v,E){const D=Pe(),M=zd(D,s,a,u,c,f);return M!==Ft&&Aa(jn(),D,i,M,v,E),Xf}function ep(i,s,a,u,c,f,v,E,D,M){const R=Pe(),j=jo(R,s,a,u,c,f,v,E);return j!==Ft&&Aa(jn(),R,i,j,D,M),ep}function tp(i,s,a,u,c,f,v,E,D,M,R,j){const q=Pe(),te=yc(q,s,a,u,c,f,v,E,D,M);return te!==Ft&&Aa(jn(),q,i,te,R,j),tp}function Fv(i,s,a,u,c,f,v,E,D,M,R,j,q,te){const Ae=Pe(),je=al(Ae,s,a,u,c,f,v,E,D,M,R,j);return je!==Ft&&Aa(jn(),Ae,i,je,q,te),Fv}function Lv(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je){const Ze=Pe(),lt=vc(Ze,s,a,u,c,f,v,E,D,M,R,j,q,te);return lt!==Ft&&Aa(jn(),Ze,i,lt,Ae,je),Lv}function np(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt){const ke=Pe(),wt=Kd(ke,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je);return wt!==Ft&&Aa(jn(),ke,i,wt,Ze,lt),np}function cm(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt,ke,wt){const nn=Pe(),Cn=_c(nn,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt);return Cn!==Ft&&Aa(jn(),nn,i,Cn,ke,wt),cm}function Vv(i,s,a,u){const c=Pe(),f=ol(c,s);return f!==Ft&&Aa(jn(),c,i,f,a,u),Vv}function Fi(i,s,a,u,c,f,v,E){const D=Pe(),M=Ht(),R=i+20,j=M.firstCreatePass?function yC(i,s,a,u,c,f,v,E,D){const M=s.consts,R=cc(s,i,4,v||null,dn(M,E));Bd(s,a,R,dn(M,D)),ls(s,R);const j=R.tViews=qg(2,R,u,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,R),j.queries=s.queries.embeddedTView(R)),R}(R,M,D,s,a,u,c,f,v):M.data[R];Mi(j,!1);const q=D[11].createComment("");Pg(M,D,q,j),$r(q,D),Cv(D,D[R]=wv(q,D,q,j)),Js(j)&&Ud(M,D,j),null!=v&&jd(D,j,E)}function Qd(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}function tI(i){return Yt(function Sl(){return gt.lFrame.contextLView}(),20+i)}const Yd={\u0275\u0275defineInjectable:Xt,\u0275\u0275defineInjector:en,\u0275\u0275inject:ht,\u0275\u0275invalidFactoryDep:xt,resolveForwardRef:J};const _C=oe({provide:String,useValue:oe});function rp(i){return void 0!==i.useClass}function hm(i){return void 0!==i.useFactory}const Bv=va("Injectable",void 0,void 0,void 0,(i,s)=>function vC(i,s){let a=null,u=null;i.hasOwnProperty(Di)||Object.defineProperty(i,Di,{get:()=>(null===a&&(a=Qn().compileInjectable(Yd,`ng:///${i.name}/\u0275prov.js`,function jv(i,s){const a=s||{providedIn:null},u={name:i.name,type:i,typeArgumentCount:0,providedIn:a.providedIn};return(rp(a)||hm(a))&&void 0!==a.deps&&(u.deps=pg(a.deps)),rp(a)?u.useClass=a.useClass:function dm(i){return _C in i}(a)?u.useValue=a.useValue:hm(a)?u.useFactory=a.useFactory:function Uv(i){return void 0!==i.useExisting}(a)&&(u.useExisting=a.useExisting),u}(i,s))),a)}),i.hasOwnProperty(it)||Object.defineProperty(i,it,{get:()=>{if(null===u){const c=Qn();u=c.compileFactory(Yd,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,typeArgumentCount:0,deps:zu(i),target:c.FactoryTarget.Injectable})}return u},configurable:!0})}(i,s));function fm(i){return i.length>1?" ("+function nI(i){const s=[];for(let a=0;a<i.length;++a){if(s.indexOf(i[a])>-1)return s.push(i[a]),s;s.push(i[a])}return s}(i.slice().reverse()).map(u=>ce(u.token)).join(" -> ")+")":""}function $v(i,s,a,u){const c=[s],f=a(c),v=u?function Sg(i,s){const a=`${i} caused by: ${s instanceof Error?s.message:s}`,u=Error(a);return u[Lo]=s,u}(f,u):Error(f);return v.addKey=rI,v.keys=c,v.injectors=[i],v.constructResolvingMessage=a,v[Lo]=u,v}function rI(i,s){this.injectors.push(i),this.keys.push(s),this.message=this.constructResolvingMessage(this.keys)}function pm(i,s){const a=[];for(let u=0,c=s.length;u<c;u++){const f=s[u];a.push(f&&0!=f.length?f.map(ce).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ce(i)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ce(i)+"' is decorated with Injectable.")}function qv(i,s){return Error(`Cannot mix multi providers and regular providers, got: ${i} ${s}`)}class Ln{constructor(s,a){if(this.token=s,this.id=a,!s)throw new Error("Token must be defined!");this.displayName=ce(this.token)}static get(s){return ip.get(J(s))}static get numberOfKeys(){return ip.numberOfKeys}}class Li{constructor(){this._allKeys=new Map}get(s){if(s instanceof Ln)return s;if(this._allKeys.has(s))return this._allKeys.get(s);const a=new Ln(s,Ln.numberOfKeys);return this._allKeys.set(s,a),a}get numberOfKeys(){return this._allKeys.size}}const ip=new Li;class Wv{constructor(s){this.reflectionCapabilities=s}updateCapabilities(s){this.reflectionCapabilities=s}factory(s){return this.reflectionCapabilities.factory(s)}parameters(s){return this.reflectionCapabilities.parameters(s)}annotations(s){return this.reflectionCapabilities.annotations(s)}propMetadata(s){return this.reflectionCapabilities.propMetadata(s)}hasLifecycleHook(s,a){return this.reflectionCapabilities.hasLifecycleHook(s,a)}getter(s){return this.reflectionCapabilities.getter(s)}setter(s){return this.reflectionCapabilities.setter(s)}method(s){return this.reflectionCapabilities.method(s)}importUri(s){return this.reflectionCapabilities.importUri(s)}resourceUri(s){return this.reflectionCapabilities.resourceUri(s)}resolveIdentifier(s,a,u,c){return this.reflectionCapabilities.resolveIdentifier(s,a,u,c)}resolveEnum(s,a){return this.reflectionCapabilities.resolveEnum(s,a)}}const oI=new Wv(new si);class gm{constructor(s,a,u){this.key=s,this.optional=a,this.visibility=u}static fromKey(s){return new gm(s,!1,null)}}const aI=[];class uI{constructor(s,a,u){this.key=s,this.resolvedFactories=a,this.multiProvider=u,this.resolvedFactory=this.resolvedFactories[0]}}class lI{constructor(s,a){this.factory=s,this.dependencies=a}}function zv(i){let s,a;if(i.useClass){const u=J(i.useClass);s=oI.factory(u),a=sp(u)}else i.useExisting?(s=u=>u,a=[gm.fromKey(Ln.get(i.useExisting))]):i.useFactory?(s=i.useFactory,a=function wC(i,s){if(s){const a=s.map(u=>[u]);return s.map(u=>mm(i,u,a))}return sp(i)}(i.useFactory,i.deps)):(s=()=>i.useValue,a=aI);return new lI(s,a)}function Kv(i){return new uI(Ln.get(i.provide),[zv(i)],i.multi||!1)}function IC(i){const u=function Zv(i,s){for(let a=0;a<i.length;a++){const u=i[a],c=s.get(u.key.id);if(c){if(u.multiProvider!==c.multiProvider)throw qv(c,u);if(u.multiProvider)for(let f=0;f<u.resolvedFactories.length;f++)c.resolvedFactories.push(u.resolvedFactories[f]);else s.set(u.key.id,u)}else{let f;f=u.multiProvider?new uI(u.key,u.resolvedFactories.slice(),u.multiProvider):u,s.set(u.key.id,f)}}return s}(Qv(i,[]).map(Kv),new Map);return Array.from(u.values())}function Qv(i,s){return i.forEach(a=>{if(a instanceof jl)s.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)s.push(a);else{if(!Array.isArray(a))throw function EC(i){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${i}`)}(a);Qv(a,s)}}),s}function sp(i){const s=oI.parameters(i);if(!s)return[];if(s.some(a=>null==a))throw pm(i,s);return s.map(a=>mm(i,a,s))}function mm(i,s,a){let u=null,c=!1;if(!Array.isArray(s))return op(s instanceof Ss?s.token:s,c,null);let f=null;for(let v=0;v<s.length;++v){const E=s[v];E instanceof jl?u=E:E instanceof Ss?u=E.token:E instanceof fs?c=!0:E instanceof In||E instanceof vr?f=E:E instanceof Bn&&(u=E)}if(u=J(u),null!=u)return op(u,c,f);throw pm(i,a)}function op(i,s,a){return new gm(Ln.get(i),s,a)}const Jd={};class Xd{static resolve(s){return IC(s)}static resolveAndCreate(s,a){const u=Xd.resolve(s);return Xd.fromResolvedProviders(u,a)}static fromResolvedProviders(s,a){return new ap(s,a)}}let ap=(()=>{class i{constructor(a,u){this._constructionCounter=0,this._providers=a,this.parent=u||null;const c=a.length;this.keyIds=[],this.objs=[];for(let f=0;f<c;f++)this.keyIds[f]=a[f].key.id,this.objs[f]=Jd}get(a,u=Qi){return this._getByKey(Ln.get(a),null,u)}resolveAndCreateChild(a){const u=Xd.resolve(a);return this.createChildFromResolved(u)}createChildFromResolved(a){const u=new i(a);return u.parent=this,u}resolveAndInstantiate(a){return this.instantiateResolved(Xd.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function Gv(i){return Error(`Index ${i} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function Hv(i,s){return $v(i,s,function(a){return`Cannot instantiate cyclic dependency!${fm(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const u=[];for(let c=0;c<a.resolvedFactories.length;++c)u[c]=this._instantiate(a,a.resolvedFactories[c]);return u}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,u){const c=u.factory;let f,v;try{f=u.dependencies.map(E=>this._getByReflectiveDependency(E))}catch(E){throw E.addKey&&E.addKey(this,a.key),E}try{v=c(...f)}catch(E){throw function sI(i,s,a,u){return $v(i,u,function(c){const f=ce(c[0].token);return`${s.message}: Error during instantiation of ${f}!${fm(c)}.`},s)}(this,E,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:Qi)}_getByKey(a,u,c){return a===i.INJECTOR_KEY?this:u instanceof In?this._getByKeySelf(a,c):this._getByKeyDefault(a,c,u)}_getObjByKeyId(a){for(let u=0;u<this.keyIds.length;u++)if(this.keyIds[u]===a)return this.objs[u]===Jd&&(this.objs[u]=this._new(this._providers[u])),this.objs[u];return Jd}_throwOrNull(a,u){if(u!==Qi)return u;throw function iI(i,s){return $v(i,s,function(a){return`No provider for ${ce(a[0].token)}!${fm(a)}`})}(this,a)}_getByKeySelf(a,u){const c=this._getObjByKeyId(a.id);return c!==Jd?c:this._throwOrNull(a,u)}_getByKeyDefault(a,u,c){let f;for(f=c instanceof vr?this.parent:this;f instanceof i;){const v=f,E=v._getObjByKeyId(a.id);if(E!==Jd)return E;f=v.parent}return null!==f?f.get(a.token,u):this._throwOrNull(a,u)}get displayName(){return`ReflectiveInjector(providers: [${function cI(i,s){const a=[];for(let u=0;u<i._providers.length;++u)a[u]=s(i.getProviderAtIndex(u));return a}(this,u=>' "'+u.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return i.INJECTOR_KEY=Ln.get(mo),i})();function eh(i,s=yt.Default){const a=Pe();return null===a?ht(i,s):Lu(Fn(),a,J(i),s)}function Yv(){throw new Error("invalid")}function th(i,s,a){const u=Pe();return ki(u,Hs(),s)&&Ws(Ht(),jn(),u,i,s,u[11],a,!1),th}function Jv(i,s,a,u,c){const v=c?"class":"style";Xg(i,a,s.inputs[v],v,u)}function hu(i,s,a,u){const c=Pe(),f=Ht(),v=20+i,E=c[11],D=c[v]=Pd(E,s,function cg(){return gt.lFrame.currentNamespace}()),M=f.firstCreatePass?function DC(i,s,a,u,c,f,v){const E=s.consts,M=cc(s,i,2,c,dn(E,f));return Bd(s,a,M,dn(E,v)),null!==M.attrs&&em(M,M.attrs,!1),null!==M.mergedAttrs&&em(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(v,f,c,0,s,a,u):f.data[v];Mi(M,!0);const R=M.mergedAttrs;null!==R&&Fu(E,D,R);const j=M.classes;null!==j&&nv(E,D,j);const q=M.styles;return null!==q&&Ld(E,D,q),64!=(64&M.flags)&&Pg(f,c,D,M),0===function ws(){return gt.lFrame.elementDepthCount}()&&$r(D,c),function zi(){gt.lFrame.elementDepthCount++}(),Js(M)&&(Ud(f,c,M),mv(f,M,c)),null!==u&&jd(c,M),hu}function ym(){let i=Fn();Mu()?xu():(i=i.parent,Mi(i,!1));const s=i;!function us(){gt.lFrame.elementDepthCount--}();const a=Ht();return a.firstCreatePass&&(ls(a,i),zo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function kl(i){return 0!=(16&i.flags)}(s)&&Jv(a,s,Pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ef(i){return 0!=(32&i.flags)}(s)&&Jv(a,s,Pe(),s.stylesWithoutHost,!1),ym}function Xv(i,s,a,u){return hu(i,s,a,u),ym(),Xv}function Ec(i,s,a){const u=Pe(),c=Ht(),f=i+20,v=c.firstCreatePass?function dI(i,s,a,u,c){const f=s.consts,v=dn(f,u),E=cc(s,i,8,"ng-container",v);return null!==v&&em(E,v,!0),Bd(s,a,E,dn(f,c)),null!==s.queries&&s.queries.elementStart(s,E),E}(f,c,u,s,a):c.data[f];Mi(v,!0);const E=u[f]=u[11].createComment("");return Pg(c,u,E,v),$r(E,u),Js(v)&&(Ud(c,u,v),mv(c,v,u)),null!=a&&jd(u,v),Ec}function up(){let i=Fn();const s=Ht();return Mu()?xu():(i=i.parent,Mi(i,!1)),s.firstCreatePass&&(ls(s,i),zo(i)&&s.queries.elementEnd(i)),up}function Ic(i,s,a){return Ec(i,s,a),up(),Ic}function e_(){return Pe()}function Vi(i){return!!i&&"function"==typeof i.then}function t_(i){return!!i&&"function"==typeof i.subscribe}const rh=t_;function ih(i,s,a,u){const c=Pe(),f=Ht(),v=Fn();return r_(f,c,c[11],v,i,s,!!a,u),ih}function vm(i,s){const a=Fn(),u=Pe(),c=Ht();return r_(c,u,FE(Wa(c.data),a,u),a,i,s,!1),vm}function r_(i,s,a,u,c,f,v,E){const D=Js(u),R=i.firstCreatePass&&kE(i),j=s[8],q=Jg(s);let te=!0;if(3&u.type||E){const Ze=Ne(u,s),lt=E?E(Ze):Ze,ke=q.length,wt=E?nn=>E(b(nn[u.index])):u.index;if(mn(a)){let nn=null;if(!E&&D&&(nn=function n_(i,s,a,u){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const v=c[f];if(v===a&&c[f+1]===u){const E=s[7],D=c[f+2];return E.length>D?E[D]:null}"string"==typeof v&&(f+=2)}return null}(i,s,c,u.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=f,nn.__ngLastListenerFn__=f,te=!1;else{f=wc(u,s,j,f,!1);const Cn=a.listen(lt,c,f);q.push(f,Cn),R&&R.push(c,wt,ke,ke+1)}}else f=wc(u,s,j,f,!0),lt.addEventListener(c,f,v),q.push(f),R&&R.push(c,wt,ke,v)}else f=wc(u,s,j,f,!1);const Ae=u.outputs;let je;if(te&&null!==Ae&&(je=Ae[c])){const Ze=je.length;if(Ze)for(let lt=0;lt<Ze;lt+=2){const Fs=s[je[lt]][je[lt+1]].subscribe(f),La=q.length;q.push(f,Fs),R&&R.push(c,u.index,La,-(La+1))}}}function i_(i,s,a,u){try{return Fr(6,s,a),!1!==a(u)}catch(c){return LE(i,c),!1}finally{Fr(7,s,a)}}function wc(i,s,a,u,c){return function f(v){if(v===Function)return u;const E=2&i.flags?Bt(i.index,s):s;0==(32&s[2])&&Zg(E);let D=i_(s,a,u,v),M=f.__ngNextListenerFn__;for(;M;)D=i_(s,a,M,v)&&D,M=M.__ngNextListenerFn__;return c&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function _m(i=1){return function Jh(i){return(gt.lFrame.contextLView=function Pu(i,s){for(;i>0;)s=s[15],i--;return s}(i,gt.lFrame.contextLView))[8]}(i)}function s_(i,s){let a=null;const u=function iv(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===u?cE(i,f,!0):hE(u,f))return c}else a=c}return a}function Em(i){const s=Pe()[16][6];if(!s.projection){const u=s.projection=hs(i?i.length:1,null),c=u.slice();let f=s.child;for(;null!==f;){const v=i?s_(f,i):0;null!==v&&(c[v]?c[v].projectionNext=f:u[v]=f,c[v]=f),f=f.next}}}function lp(i,s=0,a){const u=Pe(),c=Ht(),f=cc(c,20+i,16,null,a||null);null===f.projection&&(f.projection=s),xu(),64!=(64&f.flags)&&function aE(i,s,a){kf(s[11],0,s,a,Qy(i,a,s),Yy(a.parent||s[6],a,s))}(c,u,f)}function Dc(i,s,a){return cp(i,"",s,"",a),Dc}function cp(i,s,a,u,c){const f=Pe(),v=Wd(f,s,a,u);return v!==Ft&&Ws(Ht(),jn(),f,i,v,f[11],c,!1),cp}function o_(i,s,a,u,c,f,v){const E=Pe(),D=zd(E,s,a,u,c,f);return D!==Ft&&Ws(Ht(),jn(),E,i,D,E[11],v,!1),o_}function dp(i,s,a,u,c,f,v,E,D){const M=Pe(),R=jo(M,s,a,u,c,f,v,E);return R!==Ft&&Ws(Ht(),jn(),M,i,R,M[11],D,!1),dp}function sh(i,s,a,u,c,f,v,E,D,M,R){const j=Pe(),q=yc(j,s,a,u,c,f,v,E,D,M);return q!==Ft&&Ws(Ht(),jn(),j,i,q,j[11],R,!1),sh}function hp(i,s,a,u,c,f,v,E,D,M,R,j,q){const te=Pe(),Ae=al(te,s,a,u,c,f,v,E,D,M,R,j);return Ae!==Ft&&Ws(Ht(),jn(),te,i,Ae,te[11],q,!1),hp}function Im(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae){const je=Pe(),Ze=vc(je,s,a,u,c,f,v,E,D,M,R,j,q,te);return Ze!==Ft&&Ws(Ht(),jn(),je,i,Ze,je[11],Ae,!1),Im}function wm(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze){const lt=Pe(),ke=Kd(lt,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je);return ke!==Ft&&Ws(Ht(),jn(),lt,i,ke,lt[11],Ze,!1),wm}function Dm(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt,ke){const wt=Pe(),nn=_c(wt,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt);return nn!==Ft&&Ws(Ht(),jn(),wt,i,nn,wt[11],ke,!1),Dm}function a_(i,s,a){const u=Pe(),c=ol(u,s);return c!==Ft&&Ws(Ht(),jn(),u,i,c,u[11],a,!1),a_}function oh(i,s,a,u,c){const f=i[a+1],v=null===s;let E=u?po(f):Ns(f),D=!1;for(;0!==E&&(!1===D||v);){const R=i[E+1];Cc(i[E],s)&&(D=!0,i[E+1]=u?av(R):Uo(R)),E=u?po(R):Ns(R)}D&&(i[a+1]=u?Uo(f):av(f))}function Cc(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&As(i,s)>=0}const Mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fI(i){return i.substring(Mr.key,Mr.keyEnd)}function u_(i){return i.substring(Mr.value,Mr.valueEnd)}function Tm(i,s){const a=Mr.textEnd;return a===s?-1:(s=Mr.keyEnd=function fu(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Mr.key=s,a),yo(i,s,a))}function l_(i,s){const a=Mr.textEnd;let u=Mr.key=yo(i,s,a);return a===u?-1:(u=Mr.keyEnd=function Am(i,s,a){let u;for(;s<a&&(45===(u=i.charCodeAt(s))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)s++;return s}(i,u,a),u=fp(i,u,a),u=Mr.value=yo(i,u,a),u=Mr.valueEnd=function Sm(i,s,a){let u=-1,c=-1,f=-1,v=s,E=v;for(;v<a;){const D=i.charCodeAt(v++);if(59===D)return E;34===D||39===D?E=v=c_(i,D,v,a):s===v-4&&85===f&&82===c&&76===u&&40===D?E=v=c_(i,41,v,a):D>32&&(E=v),f=c,c=u,u=-33&D}return E}(i,u,a),fp(i,u,a))}function pI(i){Mr.key=0,Mr.keyEnd=0,Mr.value=0,Mr.valueEnd=0,Mr.textEnd=i.length}function yo(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function fp(i,s,a,u){return(s=yo(i,s,a))<a&&s++,s}function c_(i,s,a,u){let c=-1,f=a;for(;f<u;){const v=i.charCodeAt(f++);if(v==s&&92!==c)return f;c=92==v&&92===c?0:v}throw new Error}function uh(i,s,a){return vo(i,s,a,!1),uh}function d_(i,s){return vo(i,s,null,!0),d_}function Bo(i){$o(vI,pp,i,!1)}function pp(i,s){for(let a=function bc(i){return pI(i),l_(i,yo(i,0,Mr.textEnd))}(s);a>=0;a=l_(s,a))vI(i,fI(s),u_(s))}function lh(i){$o(fi,xa,i,!0)}function xa(i,s){for(let a=function ah(i){return pI(i),Tm(i,yo(i,0,Mr.textEnd))}(s);a>=0;a=Tm(s,a))fi(i,fI(s),!0)}function vo(i,s,a,u){const c=Pe(),f=Ht(),v=Ds(2);f.firstUpdatePass&&mI(f,i,v,u),s!==Ft&&ki(c,v,s)&&h_(f,f.data[Vr()],c,c[11],i,c[v+1]=function EI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(ps(i)))),i}(s,a),u,v)}function $o(i,s,a,u){const c=Ht(),f=Ds(2);c.firstUpdatePass&&mI(c,null,f,u);const v=Pe();if(a!==Ft&&ki(v,f,a)){const E=c.data[Vr()];if(xm(E,u)&&!gI(c,f)){let D=u?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=ae(D,a||"")),Jv(c,E,v,a,u)}else!function bC(i,s,a,u,c,f,v,E){c===Ft&&(c=vt);let D=0,M=0,R=0<c.length?c[0]:null,j=0<f.length?f[0]:null;for(;null!==R||null!==j;){const q=D<c.length?c[D+1]:void 0,te=M<f.length?f[M+1]:void 0;let je,Ae=null;R===j?(D+=2,M+=2,q!==te&&(Ae=j,je=te)):null===j||null!==R&&R<j?(D+=2,Ae=R):(M+=2,Ae=j,je=te),null!==Ae&&h_(i,s,a,u,Ae,je,v,E),R=D<c.length?c[D]:null,j=M<f.length?f[M]:null}}(c,E,v,v[11],v[f+1],v[f+1]=function dh(i,s,a){if(null==a||""===a)return vt;const u=[],c=ps(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(u,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(u,f,c[f]);else"string"==typeof c&&s(u,c);return u}(i,s,a),u,f)}}function gI(i,s){return s>=i.expandoStartIndex}function mI(i,s,a,u){const c=i.data;if(null===c[a+1]){const f=c[Vr()],v=gI(i,a);xm(f,u)&&null===s&&!v&&(s=!1),s=function CC(i,s,a,u){const c=Wa(i);let f=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=ch(a=Mm(null,i,s,a,u),s.attrs,u),f=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=Mm(c,i,s,a,u),null===f){let D=function gp(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ns(u))return i[po(u)]}(i,s,u);void 0!==D&&Array.isArray(D)&&(D=Mm(null,i,s,D[1],u),D=ch(D,s.attrs,u),function ul(i,s,a,u){i[po(a?s.classBindings:s.styleBindings)]=u}(i,s,u,D))}else f=function yI(i,s,a){let u;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)u=ch(u,i[f].hostAttrs,a);return ch(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,u),function hI(i,s,a,u,c,f){let v=f?s.classBindings:s.styleBindings,E=po(v),D=Ns(v);i[u]=a;let R,M=!1;if(Array.isArray(a)){const j=a;R=j[1],(null===R||As(j,R)>0)&&(M=!0)}else R=a;if(c)if(0!==D){const q=po(i[E+1]);i[u+1]=Ug(q,E),0!==q&&(i[q+1]=Bg(i[q+1],u)),i[E+1]=function sv(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Ug(E,0),0!==E&&(i[E+1]=Bg(i[E+1],u)),E=u;else i[u+1]=Ug(D,0),0===E?E=u:i[D+1]=Bg(i[D+1],u),D=u;M&&(i[u+1]=Uo(i[u+1])),oh(i,R,u,!0),oh(i,R,u,!1),function bm(i,s,a,u,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&As(f,s)>=0&&(a[u+1]=av(a[u+1]))}(s,R,i,u,f),v=Ug(E,D),f?s.classBindings=v:s.styleBindings=v}(c,f,s,a,v,u)}}function Mm(i,s,a,u,c){let f=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(f=s[E],u=ch(u,f.hostAttrs,c),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function ch(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const v=s[f];"number"==typeof v?c=v:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),fi(i,v,!!a||s[++f]))}return void 0===i?null:i}function vI(i,s,a){fi(i,s,ps(a))}function h_(i,s,a,u,c,f,v,E){if(!(3&s.type))return;const D=i.data,M=D[E+1];mp(function ov(i){return 1==(1&i)}(M)?_I(D,s,a,c,Ns(M),v):void 0)||(mp(f)||function jg(i){return 2==(2&i)}(M)&&(f=_I(D,null,a,c,E,v)),function on(i,s,a,u,c){const f=mn(i);if(s)c?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:ye.DashCase;if(null==c)f?i.removeStyle(a,u,v):a.style.removeProperty(u);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),v|=ye.Important),f?i.setStyle(a,u,c,v):a.style.setProperty(u,c,E?"important":"")}}}(u,v,ve(Vr(),a),c,f))}function _I(i,s,a,u,c,f){const v=null===s;let E;for(;c>0;){const D=i[c],M=Array.isArray(D),R=M?D[1]:D,j=null===R;let q=a[c+1];q===Ft&&(q=j?vt:void 0);let te=j?cd(q,u):R===u?q:void 0;if(M&&!mp(te)&&(te=cd(D,u)),mp(te)&&(E=te,v))return E;const Ae=i[c+1];c=v?po(Ae):Ns(Ae)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(E=cd(D,u))}return E}function mp(i){return void 0!==i}function xm(i,s){return 0!=(i.flags&(s?16:32))}function Rm(i,s=""){const a=Pe(),u=Ht(),c=i+20,f=u.firstCreatePass?cc(u,c,1,s,null):u.data[c],v=a[c]=Od(a[11],s);Pg(u,a,v,f),Mi(f,!1)}function Nm(i){return yp("",i,""),Nm}function yp(i,s,a){const u=Pe(),c=Wd(u,i,s,a);return c!==Ft&&Sa(u,Vr(),c),yp}function vp(i,s,a,u,c){const f=Pe(),v=zd(f,i,s,a,u,c);return v!==Ft&&Sa(f,Vr(),v),vp}function f_(i,s,a,u,c,f,v){const E=Pe(),D=jo(E,i,s,a,u,c,f,v);return D!==Ft&&Sa(E,Vr(),D),f_}function p_(i,s,a,u,c,f,v,E,D){const M=Pe(),R=yc(M,i,s,a,u,c,f,v,E,D);return R!==Ft&&Sa(M,Vr(),R),p_}function g_(i,s,a,u,c,f,v,E,D,M,R){const j=Pe(),q=al(j,i,s,a,u,c,f,v,E,D,M,R);return q!==Ft&&Sa(j,Vr(),q),g_}function hh(i,s,a,u,c,f,v,E,D,M,R,j,q){const te=Pe(),Ae=vc(te,i,s,a,u,c,f,v,E,D,M,R,j,q);return Ae!==Ft&&Sa(te,Vr(),Ae),hh}function Tc(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae){const je=Pe(),Ze=Kd(je,i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae);return Ze!==Ft&&Sa(je,Vr(),Ze),Tc}function fh(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze){const lt=Pe(),ke=_c(lt,i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze);return ke!==Ft&&Sa(lt,Vr(),ke),fh}function _p(i){const s=Pe(),a=ol(s,i);return a!==Ft&&Sa(s,Vr(),a),_p}function m_(i,s,a){$o(fi,xa,Wd(Pe(),i,s,a),!0)}function ph(i,s,a,u,c){$o(fi,xa,zd(Pe(),i,s,a,u,c),!0)}function gh(i,s,a,u,c,f,v){$o(fi,xa,jo(Pe(),i,s,a,u,c,f,v),!0)}function II(i,s,a,u,c,f,v,E,D){$o(fi,xa,yc(Pe(),i,s,a,u,c,f,v,E,D),!0)}function xr(i,s,a,u,c,f,v,E,D,M,R){$o(fi,xa,al(Pe(),i,s,a,u,c,f,v,E,D,M,R),!0)}function y_(i,s,a,u,c,f,v,E,D,M,R,j,q){$o(fi,xa,vc(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q),!0)}function wI(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae){$o(fi,xa,Kd(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae),!0)}function DI(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze){$o(fi,xa,_c(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze),!0)}function CI(i){$o(fi,xa,ol(Pe(),i),!0)}function bI(i,s,a){Bo(Wd(Pe(),i,s,a))}function v_(i,s,a,u,c){Bo(zd(Pe(),i,s,a,u,c))}function __(i,s,a,u,c,f,v){Bo(jo(Pe(),i,s,a,u,c,f,v))}function E_(i,s,a,u,c,f,v,E,D){Bo(yc(Pe(),i,s,a,u,c,f,v,E,D))}function Ep(i,s,a,u,c,f,v,E,D,M,R){Bo(al(Pe(),i,s,a,u,c,f,v,E,D,M,R))}function I_(i,s,a,u,c,f,v,E,D,M,R,j,q){Bo(vc(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q))}function Ra(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae){Bo(Kd(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae))}function w_(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze){Bo(_c(Pe(),i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze))}function TI(i){Bo(ol(Pe(),i))}function Ip(i,s,a,u,c){return vo(i,Wd(Pe(),s,a,u),c,!1),Ip}function Ac(i,s,a,u,c,f,v){return vo(i,zd(Pe(),s,a,u,c,f),v,!1),Ac}function Om(i,s,a,u,c,f,v,E,D){return vo(i,jo(Pe(),s,a,u,c,f,v,E),D,!1),Om}function wp(i,s,a,u,c,f,v,E,D,M,R){return vo(i,yc(Pe(),s,a,u,c,f,v,E,D,M),R,!1),wp}function mh(i,s,a,u,c,f,v,E,D,M,R,j,q){return vo(i,al(Pe(),s,a,u,c,f,v,E,D,M,R,j),q,!1),mh}function Pm(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae){return vo(i,vc(Pe(),s,a,u,c,f,v,E,D,M,R,j,q,te),Ae,!1),Pm}function Dp(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze){return vo(i,Kd(Pe(),s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je),Ze,!1),Dp}function yh(i,s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt,ke){return vo(i,_c(Pe(),s,a,u,c,f,v,E,D,M,R,j,q,te,Ae,je,Ze,lt),ke,!1),yh}function D_(i,s,a){return vo(i,ol(Pe(),s),a,!1),D_}function km(i,s,a){const u=Pe();return ki(u,Hs(),s)&&Ws(Ht(),jn(),u,i,s,u[11],a,!0),km}function Sc(i,s,a){const u=Pe();if(ki(u,Hs(),s)){const f=Ht(),v=jn();Ws(f,v,u,i,s,FE(Wa(f.data),v,u),a,!0)}return Sc}const ll=void 0;var C_=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AI(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let cl={};function SI(i,s,a){"string"!=typeof s&&(a=s,s=i[At.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),cl[s]=i,a&&(cl[s][At.ExtraData]=a)}function vh(i){const s=function RI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=dl(s);if(a)return a;const u=s.split("-")[0];if(a=dl(u),a)return a;if("en"===u)return C_;throw new Error(`Missing locale data for the locale "${i}".`)}function MI(i){return vh(i)[At.CurrencyCode]||null}function b_(i){return vh(i)[At.PluralCase]}function dl(i){return i in cl||(cl[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),cl[i]}function xI(){cl={}}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const NI=["zero","one","two","few","many"],Ui="en-US",Cp={marker:"element"},pu={marker:"ICU"};var _r=(()=>((_r=_r||{})[_r.SHIFT=2]="SHIFT",_r[_r.APPEND_EAGERLY=1]="APPEND_EAGERLY",_r[_r.COMMENT=2]="COMMENT",_r))();let Lm=Ui;function PI(i){(function ft(i,s){null==i&&Et(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(Lm=i.toLowerCase().replace(/_/g,"-"))}function T_(i,s,a){const u=s.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?MD(i,0,a):b(a[c])}function kI(i,s,a,u,c){const f=s.insertBeforeIndex;if(Array.isArray(f)){let v=u,E=null;if(3&s.type||(E=v,v=c),null!==v&&0==(2&s.flags))for(let D=1;D<f.length;D++)oc(i,v,a[f[D]],E,!1)}}function bp(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];FI(u)||LI(u,s)&&null===ji(u)&&_h(u,s.index)}}function FI(i){return!(64&i.type)}function LI(i,s){return FI(s)||i.index>s.index}function ji(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function _h(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(oE(T_,kI),i.insertBeforeIndex=s)}function _o(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Be(i,s,a){const u=Gg(i,a,64,null,null);return bp(s,u),u}function ar(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Eh(i){return i>>>17}function Vm(i){return(131070&i)>>>1}let Tp=0,Ye=0;function S_(i,s,a,u){const c=a[11];let v,f=null;for(let E=0;E<s.length;E++){const D=s[E];if("string"==typeof D){const M=s[++E];null===a[M]&&(a[M]=Od(c,D))}else if("number"==typeof D)switch(1&D){case 0:const M=Eh(D);let R,j;if(null===f&&(f=M,v=Of(c,u)),M===f?(R=u,j=v):(R=null,j=b(a[M])),null!==j){const je=Vm(D);oc(c,j,a[je],R,!1);const lt=_o(i,je);if(null!==lt&&"object"==typeof lt){const ke=ar(lt,a);null!==ke&&S_(i,lt.create[ke],a,a[lt.anchorIdx])}}break;case 1:const te=s[++E],Ae=s[++E];Iv(c,ve(D>>>1,a),null,null,te,Ae,null)}else switch(D){case pu:const M=s[++E],R=s[++E];null===a[R]&&$r(a[R]=Rf(c,M),a);break;case Cp:const j=s[++E],q=s[++E];null===a[q]&&$r(a[q]=Pd(c,j,null),a)}}}function VI(i,s,a,u,c){for(let f=0;f<a.length;f++){const v=a[f],E=a[++f];if(v&c){let D="";for(let M=f+1;M<=f+E;M++){const R=a[M];if("string"==typeof R)D+=R;else if("number"==typeof R)if(R<0)D+=se(s[u-R]);else{const j=R>>>2;switch(3&R){case 1:const q=a[++M],te=a[++M],Ae=i.data[j];"string"==typeof Ae?Iv(s[11],s[j],null,Ae,q,D,te):Ws(i,Ae,s,q,D,s[11],te,!1);break;case 0:const je=s[j];null!==je&&xf(s[11],je,D);break;case 2:SC(i,_o(i,j),s,D);break;case 3:UI(i,_o(i,j),u,s)}}}}else{const D=a[f+1];if(D>0&&3==(3&D)){const R=_o(i,D>>>2);s[R.currentCaseLViewIndex]<0&&UI(i,R,u,s)}}f+=E}}function UI(i,s,a,u){let c=u[s.currentCaseLViewIndex];if(null!==c){let f=Tp;c<0&&(c=u[s.currentCaseLViewIndex]=~c,f=-1),VI(i,u,s.update[c],a,f)}}function SC(i,s,a,u){const c=function MC(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function Fm(i,s){const a=b_(s)(parseInt(i,10)),u=NI[a];return void 0!==u?u:"other"}(s,function TC(){return Lm}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(ar(s,a)!==c&&(jI(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const v=a[s.anchorIdx];v&&S_(i,s.create[c],a,v)}}function jI(i,s,a){let u=ar(s,a);if(null!==u){const c=s.remove[u];for(let f=0;f<c.length;f++){const v=c[f];if(v>0){const E=ve(v,a);null!==E&&ev(a[11],E)}else jI(i,_o(i,~v),a)}}}function BI(){const i=[];let a,u,s=-1;function f(E,D){s=0;const M=ar(E,D);u=null!==M?E.remove[M]:vt}function v(){if(s<u.length){const E=u[s++];return E>0?a[E]:(i.push(s,u),f(a[1].data[~E],a),v())}return 0===i.length?null:(u=i.pop(),s=i.pop(),v())}return function c(E,D){for(a=D;i.length;)i.pop();return f(E.value,D),v}}const Wt=/\ufffd(\d+):?\d*\ufffd/gi,Ih=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,$I=/\ufffd(\d+)\ufffd/,Er=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,HI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Mc=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,GI=/\uE500/g;function qI(i,s,a,u,c,f,v){const E=Vd(i,u,1,null);let D=E<<_r.SHIFT,M=na();s===M&&(M=null),null===M&&(D|=_r.APPEND_EAGERLY),v&&(D|=_r.COMMENT,function ot(i){void 0===Ge&&(Ge=i())}(BI)),c.push(D,null===f?"":f);const R=Gg(i,E,v?32:1,null===f?"":f,null);bp(a,R);const j=R.index;return Mi(R,!1),null!==M&&s!==M&&function AC(i,s){let a=i.insertBeforeIndex;null===a?(oE(T_,kI),a=i.insertBeforeIndex=[null,s]):(function X(i,s,a){i!=s&&Et(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(M,j),R}function mi(i,s,a,u,c,f,v){const E=v.match(Wt),D=qI(i,s,a,f,u,E?null:v,!1);E&&Dh(c,v,D.index,null,0,null)}function Dh(i,s,a,u,c,f){const v=i.length,E=v+1;i.push(null,null);const D=v+2,M=s.split(Wt);let R=0;for(let j=0;j<M.length;j++){const q=M[j];if(1&j){const te=c+parseInt(q,10);i.push(-1-te),R|=WI(te)}else""!==q&&i.push(q)}return i.push(a<<2|(u?1:0)),u&&i.push(u,f),i[v]=R,i[E]=i.length-D,R}function ai(i){let s=0;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u&&u<0&&s++}return s}function WI(i){return 1<<Math.min(i,31)}function ur(i){let s,f,a="",u=0,c=!1;for(;null!==(s=HI.exec(i));)c?s[0]===`\ufffd/*${f}\ufffd`&&(u=s.index,c=!1):(a+=i.substring(u,s.index+s[0].length),f=s[1],c=!0);return a+=i.substr(u),a}function Um(i,s,a,u,c,f){let v=0;const E={type:c.type,currentCaseLViewIndex:Vd(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function KI(i,s,a){i.push(WI(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,f),function A_(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,f,E);const D=c.values;for(let M=0;M<D.length;M++){const R=D[M],j=[];for(let q=0;q<R.length;q++){const te=R[q];if("string"!=typeof te){const Ae=j.push(te)-1;R[q]=`\x3c!--\ufffd${Ae}\ufffd--\x3e`}}v=xC(i,E,s,a,u,c.cases[M],R.join(""),j)|v}v&&function Ke(i,s,a){i.push(s,1,a<<2|3)}(a,v,f)}function zI(i){const s=[],a=[];let u=1,c=0;const f=Rc(i=i.replace(Er,function(v,E,D){return u="select"===D?0:1,c=parseInt(E.substr(1),10),""}));for(let v=0;v<f.length;){let E=f[v++].trim();1===u&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&s.push(E);const D=Rc(f[v++]);s.length>a.length&&a.push(D)}return{type:u,mainBinding:c,cases:s,values:a}}function Rc(i){if(!i)return[];let s=0;const a=[],u=[],c=/[{}]/g;let f;for(c.lastIndex=0;f=c.exec(i);){const E=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const D=i.substring(s,E);Er.test(D)?u.push(zI(D)):u.push(D),s=E+1}}else{if(0==a.length){const D=i.substring(s,E);u.push(D),s=E+1}a.push("{")}}const v=i.substring(s);return u.push(v),u}function xC(i,s,a,u,c,f,v,E){const D=[],M=[],R=[];s.cases.push(f),s.create.push(D),s.remove.push(M),s.update.push(R);const q=gf(Is()).getInertBodyElement(v),te=Ef(q)||q;return te?Na(i,s,a,u,D,M,R,te,c,E,0):0}function Na(i,s,a,u,c,f,v,E,D,M,R){let j=0,q=E.firstChild;for(;q;){const te=Vd(i,a,1,null);switch(q.nodeType){case Node.ELEMENT_NODE:const Ae=q,je=Ae.tagName.toLowerCase();if(yf.hasOwnProperty(je)){jm(c,Cp,je,D,te),i.data[te]=je;const wt=Ae.attributes;for(let nn=0;nn<wt.length;nn++){const Cn=wt.item(nn),Fs=Cn.name.toLowerCase();Cn.value.match(Wt)?wd.hasOwnProperty(Fs)&&Dh(v,Cn.value,te,Cn.name,0,vf[Fs]?Fo:_f[Fs]?Id:null):ZI(c,te,Cn)}j=Na(i,s,a,u,c,f,v,q,te,M,R+1)|j,fl(f,te,R)}break;case Node.TEXT_NODE:const Ze=q.textContent||"",lt=Ze.match(Wt);jm(c,null,lt?"":Ze,D,te),fl(f,te,R),lt&&(j=Dh(v,Ze,te,null,0,null)|j);break;case Node.COMMENT_NODE:const ke=$I.exec(q.textContent||"");if(ke){const nn=M[parseInt(ke[1],10)];jm(c,pu,"",D,te),Um(i,a,u,D,nn,te),Sp(f,te,R)}}q=q.nextSibling}return j}function fl(i,s,a){0===a&&i.push(s)}function Sp(i,s,a){0===a&&(i.push(~s),i.push(s))}function jm(i,s,a,u,c){null!==s&&i.push(s),i.push(a,c,function Nt(i,s,a){return i|s<<17|a<<1}(0,u,c))}function ZI(i,s,a){i.push(s<<1|1,a.name,a.value)}const Oa=/\[(\ufffd.+?\ufffd?)\]/,Mp=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,gl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,QI=/{([A-Z0-9_]+)}/g,Ch=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,x_=/\/\*/,bh=/\d+\:(\d+)/;function Nc(i,s,a=-1){const u=Ht(),c=Pe(),f=20+i,v=dn(u.consts,s),E=na();u.firstCreatePass&&function hn(i,s,a,u,c,f){const v=na(),E=[],D=[],M=[[]];c=function xc(i,s){if(function hl(i){return-1===i}(s))return ur(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return ur(i.substring(a,u))}}(c,f);const R=function Ap(i){return i.replace(GI," ")}(c).split(Mc);for(let j=0;j<R.length;j++){let q=R[j];if(0==(1&j)){const te=Rc(q);for(let Ae=0;Ae<te.length;Ae++){let je=te[Ae];if(0==(1&Ae)){const Ze=je;""!==Ze&&mi(i,v,M[0],E,D,a,Ze)}else{const Ze=je;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Um(i,a,D,s,Ze,qI(i,v,M[0],a,E,"",!0).index)}}}else{const te=47===q.charCodeAt(0),je=(q.charCodeAt(te?1:0),20+Number.parseInt(q.substring(te?2:1)));if(te)M.shift(),Mi(na(),!1);else{const Ze=Be(i,M[0],je);M.unshift([]),Mi(Ze,!0)}}}i.data[u]={create:E,update:D}}(u,null===E?0:E.index,c,f,v,a);const D=u.data[f],R=Og(u,E===c[6]?null:E,c);(function gi(i,s,a,u){const c=i[11];for(let f=0;f<s.length;f++){const v=s[f++],E=s[f],D=(v&_r.COMMENT)===_r.COMMENT,M=(v&_r.APPEND_EAGERLY)===_r.APPEND_EAGERLY,R=v>>>_r.SHIFT;let j=i[R];null===j&&(j=i[R]=D?c.createComment(E):Od(c,E)),M&&null!==a&&oc(c,a,j,u,!1)}})(c,D.create,R,E&&8&E.type?c[E.index]:null),Ml(!0)}function Bm(){Ml(!1)}function N_(i,s,a){Nc(i,s,a),Bm()}function xp(i,s){const a=Ht();!function wh(i,s,a){const c=Fn().index,f=[];if(i.firstCreatePass&&null===i.data[s]){for(let v=0;v<a.length;v+=2){const E=a[v],D=a[v+1];if(""!==D){if(Ih.test(D))throw new Error(`ICU expressions are not supported in attributes. Message: "${D}".`);Dh(f,D,c,E,ai(f),null)}}i.data[s]=f}}(a,i+20,dn(a.consts,s))}function Oc(i){return function _e(i){i&&(Tp|=1<<Math.min(Ye,31)),Ye++}(ki(Pe(),Hs(),i)),Oc}function O_(i){!function Fe(i,s,a){if(Ye>0){const u=i.data[a];VI(i,s,Array.isArray(u)?u:u.update,Lr()-Ye-1,Tp)}Tp=0,Ye=0}(Ht(),Pe(),i+20)}function P_(i,s={}){return function R_(i,s={}){let a=i;if(Oa.test(i)){const u={},c=[0];a=a.replace(Mp,(f,v,E)=>{const D=v||E,M=u[D]||[];if(M.length||(D.split("|").forEach(je=>{const Ze=je.match(bh),lt=Ze?parseInt(Ze[1],10):0,ke=x_.test(je);M.push([lt,ke,je])}),u[D]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${D}`);const R=c[c.length-1];let j=0;for(let je=0;je<M.length;je++)if(M[je][0]===R){j=je;break}const[q,te,Ae]=M[j];return te?c.pop():R!==q&&c.push(q),M.splice(j,1),Ae})}return Object.keys(s).length&&(a=a.replace(gl,(u,c,f,v,E,D)=>s.hasOwnProperty(f)?`${c}${s[f]}${D}`:u),a=a.replace(QI,(u,c)=>s.hasOwnProperty(c)?s[c]:u),a=a.replace(Ch,(u,c)=>{if(s.hasOwnProperty(c)){const f=s[c];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${c}`);return f.shift()}return u})),a}(i,s)}function yi(i,s,a,u,c){if(i=J(i),Array.isArray(i))for(let f=0;f<i.length;f++)yi(i[f],s,a,u,c);else{const f=Ht(),v=Pe();let E=pc(i)?i:J(i.provide),D=Sv(i);const M=Fn(),R=1048575&M.providerIndexes,j=M.directiveStart,q=M.providerIndexes>>20;if(pc(i)||!i.multi){const te=new Oo(D,c,eh),Ae=Th(E,s,c?R:R+q,j);-1===Ae?(pa(fa(M,v),f,E),$m(f,i,s.length),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),a.push(te),v.push(te)):(a[Ae]=te,v[Ae]=te)}else{const te=Th(E,s,R+q,j),Ae=Th(E,s,R,R+q),je=te>=0&&a[te],Ze=Ae>=0&&a[Ae];if(c&&!Ze||!c&&!je){pa(fa(M,v),f,E);const lt=function Rp(i,s,a,u,c){const f=new Oo(i,a,eh);return f.multi=[],f.index=s,f.componentProviders=0,Vn(f,c,u&&!a),f}(c?Ah:k_,a.length,c,u,D);!c&&Ze&&(a[Ae].providerFactory=lt),$m(f,i,s.length,0),s.push(E),M.directiveStart++,M.directiveEnd++,c&&(M.providerIndexes+=1048576),a.push(lt),v.push(lt)}else $m(f,i,te>-1?te:Ae,Vn(a[c?Ae:te],D,!c&&u));!c&&u&&Ze&&a[Ae].componentProviders++}}}function $m(i,s,a,u){const c=pc(s),f=function lC(i){return!!i.useClass}(s);if(c||f){const D=(f?J(s.useClass):s).prototype.ngOnDestroy;if(D){const M=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const R=M.indexOf(a);-1===R?M.push(a,[u,D]):M[R+1].push(u,D)}else M.push(a,D)}}}function Vn(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Th(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function k_(i,s,a,u){return Sh(this.multi,[])}function Ah(i,s,a,u){const c=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Cs(a,a[1],this.providerFactory.index,u);f=E.slice(0,v),Sh(c,f);for(let D=v;D<E.length;D++)f.push(E[D])}else f=[],Sh(c,f);return f}function Sh(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function F_(i,s=[]){return a=>{a.providersResolver=(u,c)=>function YI(i,s,a){const u=Ht();if(u.firstCreatePass){const c=Sr(i);yi(a,u.data,u.blueprint,c,!0),yi(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class JI{}class Io{}class Pc{resolveComponentFactory(s){throw function RC(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Hm=(()=>{class i{}return i.NULL=new Pc,i})();function Np(){return gu(Fn(),Pe())}function gu(i,s){return new ml(Ne(i,s))}let ml=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Np,i})();function Bi(i){return i instanceof ml?i.nativeElement:i}class ew{}let OC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function PC(){const i=Pe(),a=Bt(Fn().index,i);return function tw(i){return i[11]}(Jr(a)?a:i)}(),i})(),nw=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class rw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const iw=new rw("13.2.7"),Ho={};function mu(i,s,a,u,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(b(f)),Or(f))for(let E=10;E<f.length;E++){const D=f[E],M=D[1].firstChild;null!==M&&mu(D[1],D,M,u)}const v=a.type;if(8&v)mu(i,s,a.child,u);else if(32&v){const E=tt(a,s);let D;for(;D=E();)u.push(D)}else if(16&v){const E=Jy(s,a);if(Array.isArray(E))u.push(...E);else{const D=Nn(s[16]);mu(D[1],D,E,u,!0)}}a=c?a.projectionNext:a.next}return u}class Mh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return mu(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Ky(s,u),uo(a,u))}this._attachedToViewContainer=!1}Zy(this._lView[1],this._lView)}onDestroy(s){_v(this._lView[1],this._lView,null,s)}markForCheck(){Zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function nC(i,s,a){no(!0);try{Yg(i,s,a)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ng(i,s){Fd(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ie(902,"");this._appRef=s}}class sw extends Mh{constructor(s){super(s),this._view=s}detectChanges(){PE(this._view)}checkNoChanges(){!function rC(i){no(!0);try{PE(i)}finally{no(!1)}}(this._view)}get context(){return null}}class L_ extends Hm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Zt(s);return new kc(a,this.ngModule)}}function Pa(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class kc extends Io{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function RD(i){return i.map(xD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Pa(this.componentDef.inputs)}get outputs(){return Pa(this.componentDef.outputs)}create(s,a,u,c){const f=(c=c||this.ngModule)?function xh(i,s){return{get:(a,u,c)=>{const f=i.get(a,Ho,c);return f!==Ho||u===Ho?f:s.get(a,u,c)}}}(s,c.injector):s,v=f.get(ew,T),E=f.get(nw,null),D=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=u?vv(D,u,this.componentDef.encapsulation):Pd(v.createRenderer(null,this.componentDef),M,function ow(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?xo:null}(M)),j=this.componentDef.onPush?576:528,q=YE(),te=qg(0,null,null,1,0,null,null,null,null,null),Ae=Wf(null,te,q,j,null,null,v,D,E,f);let je,Ze;io(Ae);try{const lt=sm(R,this.componentDef,Ae,v,D);if(R)if(u)Fu(D,R,["ng-version",iw.full]);else{const{attrs:ke,classes:wt}=function Vg(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++u]):8===c&&a.push(f);else{if(!fo(c))break;c=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&Fu(D,R,ke),wt&&wt.length>0&&nv(D,R,wt.join(" "))}if(Ze=cn(te,20),void 0!==a){const ke=Ze.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const nn=a[wt];ke.push(null!=nn?Array.from(nn):null)}}je=Hd(lt,this.componentDef,Ae,q,[om]),zf(te,Ae,null)}finally{No()}return new qm(this.componentType,je,gu(Ze,Ae),Ae,Ze)}}class qm extends JI{constructor(s,a,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new sw(c),this.componentType=s}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Wm(i,s,a,u){return _n(()=>{const c=i;null!==s&&(c.hasOwnProperty("decorators")&&void 0!==c.decorators?c.decorators.push(...s):c.decorators=s),null!==a&&(c.ctorParameters=a),null!==u&&(c.propDecorators=c.hasOwnProperty("propDecorators")&&void 0!==c.propDecorators?Object.assign(Object.assign({},c.propDecorators),u):u)})}class Go{}class Ks{}const Fc=new Map;function Km(i){const s=new Set;!function a(u){const c=pn(u,!0),f=c.id;if(null!==f){(function V_(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ce(s)} vs ${ce(s.name)}`)})(f,Fc.get(f),u),Fc.set(f,u)}const v=p(c.imports);for(const E of v)s.has(E)||(s.add(E),a(E))}(i)}function U_(i){return Fc.get(i)||Ee[i]}function lw(i,s){return new j_(i,null!=s?s:null)}class j_ extends Go{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new L_(this);const u=pn(s);this._bootstrapComponents=p(u.bootstrap),this._r3Injector=dc(s,a,[{provide:Go,useValue:this},{provide:Hm,useValue:this.componentFactoryResolver}],ce(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=mo.THROW_IF_NOT_FOUND,u=yt.Default){return s===mo||s===Go||s===Qf?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Op extends Ks{constructor(s){super(),this.moduleType=s,null!==pn(s)&&Km(s)}create(s){return new j_(this.moduleType,s)}}function B_(i,s,a){const u=Xr()+i,c=Pe();return c[u]===Ft?Xn(c,u,a?s.call(a):s()):qd(c,u)}function $_(i,s,a,u){return Vc(Pe(),Xr(),i,s,a,u)}function Pp(i,s,a,u,c){return q_(Pe(),Xr(),i,s,a,u,c)}function cw(i,s,a,u,c,f){return W_(Pe(),Xr(),i,s,a,u,c,f)}function dw(i,s,a,u,c,f,v){return Nh(Pe(),Xr(),i,s,a,u,c,f,v)}function H_(i,s,a,u,c,f,v,E){const D=Xr()+i,M=Pe(),R=zs(M,D,a,u,c,f);return ki(M,D+4,v)||R?Xn(M,D+5,E?s.call(E,a,u,c,f,v):s(a,u,c,f,v)):qd(M,D+5)}function Lc(i,s,a,u,c,f,v,E,D){const M=Xr()+i,R=Pe(),j=zs(R,M,a,u,c,f);return du(R,M+4,v,E)||j?Xn(R,M+6,D?s.call(D,a,u,c,f,v,E):s(a,u,c,f,v,E)):qd(R,M+6)}function yl(i,s,a,u,c,f,v,E,D,M){const R=Xr()+i,j=Pe();let q=zs(j,R,a,u,c,f);return Jf(j,R+4,v,E,D)||q?Xn(j,R+7,M?s.call(M,a,u,c,f,v,E,D):s(a,u,c,f,v,E,D)):qd(j,R+7)}function G_(i,s,a,u,c,f,v,E,D,M,R){const j=Xr()+i,q=Pe(),te=zs(q,j,a,u,c,f);return zs(q,j+4,v,E,D,M)||te?Xn(q,j+8,R?s.call(R,a,u,c,f,v,E,D,M):s(a,u,c,f,v,E,D,M)):qd(q,j+8)}function vl(i,s,a,u){return hw(Pe(),Xr(),i,s,a,u)}function Rh(i,s){const a=i[s];return a===Ft?void 0:a}function Vc(i,s,a,u,c,f){const v=s+a;return ki(i,v,c)?Xn(i,v+1,f?u.call(f,c):u(c)):Rh(i,v+1)}function q_(i,s,a,u,c,f,v){const E=s+a;return du(i,E,c,f)?Xn(i,E+2,v?u.call(v,c,f):u(c,f)):Rh(i,E+2)}function W_(i,s,a,u,c,f,v,E){const D=s+a;return Jf(i,D,c,f,v)?Xn(i,D+3,E?u.call(E,c,f,v):u(c,f,v)):Rh(i,D+3)}function Nh(i,s,a,u,c,f,v,E,D){const M=s+a;return zs(i,M,c,f,v,E)?Xn(i,M+4,D?u.call(D,c,f,v,E):u(c,f,v,E)):Rh(i,M+4)}function hw(i,s,a,u,c,f){let v=s+a,E=!1;for(let D=0;D<c.length;D++)ki(i,v++,c[D])&&(E=!0);return E?Xn(i,v,u.apply(f,c)):Rh(i,v)}function fw(i,s){const a=Ht();let u;const c=i+20;a.firstCreatePass?(u=function qr(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const f=u.factory||(u.factory=mr(u.type)),v=Gn(eh);try{const E=oo(!1),D=f();return oo(E),Qd(a,Pe(),c,D),D}finally{Gn(v)}}function kp(i,s,a){const u=i+20,c=Pe(),f=Yt(c,u);return Oh(c,u)?Vc(c,Xr(),s,f.transform,a,f):f.transform(a)}function Fp(i,s,a,u){const c=i+20,f=Pe(),v=Yt(f,c);return Oh(f,c)?q_(f,Xr(),s,v.transform,a,u,v):v.transform(a,u)}function pw(i,s,a,u,c){const f=i+20,v=Pe(),E=Yt(v,f);return Oh(v,f)?W_(v,Xr(),s,E.transform,a,u,c,E):E.transform(a,u,c)}function Zm(i,s,a,u,c,f){const v=i+20,E=Pe(),D=Yt(E,v);return Oh(E,v)?Nh(E,Xr(),s,D.transform,a,u,c,f,D):D.transform(a,u,c,f)}function gw(i,s,a){const u=i+20,c=Pe(),f=Yt(c,u);return Oh(c,u)?hw(c,Xr(),s,f.transform,a,f):f.transform.apply(f,a)}function Oh(i,s){return i[1].data[s].pure}function Uc(i){return s=>{setTimeout(i,void 0,s)}}const Ji=class mw extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,f,v;let E=s,D=a||(()=>null),M=u;if(s&&"object"==typeof s){const j=s;E=null===(c=j.next)||void 0===c?void 0:c.bind(j),D=null===(f=j.error)||void 0===f?void 0:f.bind(j),M=null===(v=j.complete)||void 0===v?void 0:v.bind(j)}this.__isAsync&&(D=Uc(D),E&&(E=Uc(E)),M&&(M=Uc(M)));const R=super.subscribe({next:E,error:D,complete:M});return s instanceof g.w0&&s.add(R),R}};function yw(){return this._results[mc()]()}class Lp{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=mc(),u=Lp.prototype;u[a]||(u[a]=yw)}get changes(){return this._changes||(this._changes=new Ji)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=ri(s);(this._changesDetected=!function eu(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],f=s[u];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ph=(()=>{class i{}return i.__NG_ELEMENT_ID__=kC,i})();const Vp=Ph,z_=class extends Vp{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Wf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),zf(a,u,s),new Mh(u)}};function kC(){return lr(Fn(),Pe())}function lr(i,s){return 4&i.type?new z_(s,i,gu(i,s)):null}let tn=(()=>{class i{}return i.__NG_ELEMENT_ID__=vw,i})();function vw(){return vi(Fn(),Pe())}const _w=tn,yu=class extends _w{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const s=ds(this._hostTNode,this._hostLView);if(Ll(s)){const a=xi(s,this._hostLView),u=wn(s);return new Zn(a[1].data[u+8],a)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ir(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,f){const v=s&&!Ea(s);let E;if(v)E=a;else{const j=a||{};E=j.index,u=j.injector,c=j.projectableNodes,f=j.ngModuleRef}const D=v?s:new kc(Zt(s)),M=u||this.parentInjector;if(!f&&null==D.ngModule){const q=(v?M:this.parentInjector).get(Go,null);q&&(f=q)}const R=D.create(M,c,void 0,f);return this.insert(R.hostView,E),R}insert(s,a){const u=s._lView,c=u[1];if(function vn(i){return Or(i[3])}(u)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const j=u[3],q=new yu(j,j[6],j[3]);q.detach(q.indexOf(s))}}const f=this._adjustIndex(a),v=this._lContainer;!function TD(i,s,a,u){const c=10+u,f=a.length;u>0&&(a[c-1][4]=s),u<f-10?(s[4]=a[c],jr(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function AD(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=128}(c,u,v,f);const E=Xy(f,v),D=u[11],M=Of(D,v[7]);return null!==M&&function Nf(i,s,a,u,c,f){u[0]=c,u[6]=s,Fd(i,u,a,1,c,f)}(c,v[6],D,u,M,E),s.attachToViewContainerRef(),jr(kh(v),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ir(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Ky(this._lContainer,a);u&&(uo(kh(this._lContainer),a),Zy(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Ky(this._lContainer,a);return u&&null!=uo(kh(this._lContainer),a)?new Mh(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Ir(i){return i[8]}function kh(i){return i[8]||(i[8]=[])}function vi(i,s){let a;const u=s[i.index];if(Or(u))a=u;else{let c;if(8&i.type)c=b(u);else{const f=s[11];c=f.createComment("");const v=Ne(i,s);oc(f,Of(f,v),c,function sE(i,s){return mn(i)?i.nextSibling(s):s.nextSibling}(f,v),!1)}s[i.index]=a=wv(u,s,c,i),Cv(s,a)}return new yu(a,i,s)}class K_{constructor(s){this.queryList=s,this.matches=null}clone(){return new K_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ps{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<u;f++){const v=a.getByIndex(f);c.push(this.queries[v.indexInDeclarationView].clone())}return new Ps(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==bw(s,a).matches&&this.queries[a].setDirty()}}class Iw{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class jp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,c);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new jp(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class jc{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new jc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(s,a,FC(a,f)),this.matchTNodeWithReadOption(s,a,Vu(a,s,f,!1,!1))}else u===Ph?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Vu(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ml||c===tn||c===Ph&&4&a.type)this.addMatch(a.index,-2);else{const f=Vu(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function FC(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Dn(i,s,a,u){return-1===a?function LC(i,s){return 11&i.type?gu(i,s):4&i.type?lr(i,s):null}(s,i):-2===a?function VC(i,s,a){return a===ml?gu(s,i):a===Ph?lr(s,i):a===tn?vi(s,i):void 0}(i,s,u):Cs(i,i[1],a,s)}function Bp(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const f=i.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const M=v[D];E.push(M<0?null:Dn(s,f[M],v[D+1],a.metadata.read))}c.matches=E}return c.matches}function Bc(i,s,a,u){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const v=Bp(i,s,c,a);for(let E=0;E<f.length;E+=2){const D=f[E];if(D>0)u.push(v[E/2]);else{const M=f[E+1],R=s[-D];for(let j=10;j<R.length;j++){const q=R[j];q[17]===q[3]&&Bc(q[1],q,M,u)}if(null!==R[9]){const j=R[9];for(let q=0;q<j.length;q++){const te=j[q];Bc(te[1],te,M,u)}}}}}return u}function Fh(i){const s=Pe(),a=Ht(),u=za();sa(u+1);const c=bw(a,u);if(i.dirty&&Lt(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?Bc(a,s,u,[]):Bp(a,s,c,u);i.reset(f,Bi),i.notifyOnChanges()}return!0}return!1}function $p(i,s,a){const u=Ht();u.firstCreatePass&&(Y_(u,new Iw(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Dw(u,Pe(),s)}function Z_(i,s,a,u){const c=Ht();if(c.firstCreatePass){const f=Fn();Y_(c,new Iw(s,a,u),f.index),function Cw(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}Dw(c,Pe(),a)}function Q_(){return function ww(i,s){return i[19].queries[s].queryList}(Pe(),za())}function Dw(i,s,a){const u=new Lp(4==(4&a));_v(i,s,u,u.destroy),null===s[19]&&(s[19]=new Ps),s[19].queries.push(new K_(u))}function Y_(i,s,a){null===i.queries&&(i.queries=new jp),i.queries.track(new jc(s,a))}function bw(i,s){return i.queries.getByIndex(s)}function Tw(i,s){return lr(i,s)}const ys=(()=>({\u0275\u0275attribute:lm,\u0275\u0275attributeInterpolate1:Zd,\u0275\u0275attributeInterpolate2:Xf,\u0275\u0275attributeInterpolate3:ep,\u0275\u0275attributeInterpolate4:tp,\u0275\u0275attributeInterpolate5:Fv,\u0275\u0275attributeInterpolate6:Lv,\u0275\u0275attributeInterpolate7:np,\u0275\u0275attributeInterpolate8:cm,\u0275\u0275attributeInterpolateV:Vv,\u0275\u0275defineComponent:jt,\u0275\u0275defineDirective:Rt,\u0275\u0275defineInjectable:Xt,\u0275\u0275defineInjector:en,\u0275\u0275defineNgModule:ne,\u0275\u0275definePipe:Ar,\u0275\u0275directiveInject:eh,\u0275\u0275getInheritedFactory:ni,\u0275\u0275inject:ht,\u0275\u0275injectAttribute:ju,\u0275\u0275invalidFactory:Yv,\u0275\u0275invalidFactoryDep:xt,\u0275\u0275templateRefExtractor:Tw,\u0275\u0275NgOnChangesFeature:Us,\u0275\u0275ProvidersFeature:F_,\u0275\u0275CopyDefinitionFeature:kv,\u0275\u0275InheritDefinitionFeature:Pv,\u0275\u0275nextContext:_m,\u0275\u0275namespaceHTML:lg,\u0275\u0275namespaceMathML:id,\u0275\u0275namespaceSVG:Ol,\u0275\u0275enableBindings:ea,\u0275\u0275disableBindings:qa,\u0275\u0275elementStart:hu,\u0275\u0275elementEnd:ym,\u0275\u0275element:Xv,\u0275\u0275elementContainerStart:Ec,\u0275\u0275elementContainerEnd:up,\u0275\u0275elementContainer:Ic,\u0275\u0275pureFunction0:B_,\u0275\u0275pureFunction1:$_,\u0275\u0275pureFunction2:Pp,\u0275\u0275pureFunction3:cw,\u0275\u0275pureFunction4:dw,\u0275\u0275pureFunction5:H_,\u0275\u0275pureFunction6:Lc,\u0275\u0275pureFunction7:yl,\u0275\u0275pureFunction8:G_,\u0275\u0275pureFunctionV:vl,\u0275\u0275getCurrentView:e_,\u0275\u0275restoreView:Ro,\u0275\u0275listener:ih,\u0275\u0275projection:lp,\u0275\u0275syntheticHostProperty:Sc,\u0275\u0275syntheticHostListener:vm,\u0275\u0275pipeBind1:kp,\u0275\u0275pipeBind2:Fp,\u0275\u0275pipeBind3:pw,\u0275\u0275pipeBind4:Zm,\u0275\u0275pipeBindV:gw,\u0275\u0275projectionDef:Em,\u0275\u0275hostProperty:km,\u0275\u0275property:th,\u0275\u0275propertyInterpolate:Dc,\u0275\u0275propertyInterpolate1:cp,\u0275\u0275propertyInterpolate2:o_,\u0275\u0275propertyInterpolate3:dp,\u0275\u0275propertyInterpolate4:sh,\u0275\u0275propertyInterpolate5:hp,\u0275\u0275propertyInterpolate6:Im,\u0275\u0275propertyInterpolate7:wm,\u0275\u0275propertyInterpolate8:Dm,\u0275\u0275propertyInterpolateV:a_,\u0275\u0275pipe:fw,\u0275\u0275queryRefresh:Fh,\u0275\u0275viewQuery:$p,\u0275\u0275loadQuery:Q_,\u0275\u0275contentQuery:Z_,\u0275\u0275reference:tI,\u0275\u0275classMap:lh,\u0275\u0275classMapInterpolate1:m_,\u0275\u0275classMapInterpolate2:ph,\u0275\u0275classMapInterpolate3:gh,\u0275\u0275classMapInterpolate4:II,\u0275\u0275classMapInterpolate5:xr,\u0275\u0275classMapInterpolate6:y_,\u0275\u0275classMapInterpolate7:wI,\u0275\u0275classMapInterpolate8:DI,\u0275\u0275classMapInterpolateV:CI,\u0275\u0275styleMap:Bo,\u0275\u0275styleMapInterpolate1:bI,\u0275\u0275styleMapInterpolate2:v_,\u0275\u0275styleMapInterpolate3:__,\u0275\u0275styleMapInterpolate4:E_,\u0275\u0275styleMapInterpolate5:Ep,\u0275\u0275styleMapInterpolate6:I_,\u0275\u0275styleMapInterpolate7:Ra,\u0275\u0275styleMapInterpolate8:w_,\u0275\u0275styleMapInterpolateV:TI,\u0275\u0275styleProp:uh,\u0275\u0275stylePropInterpolate1:Ip,\u0275\u0275stylePropInterpolate2:Ac,\u0275\u0275stylePropInterpolate3:Om,\u0275\u0275stylePropInterpolate4:wp,\u0275\u0275stylePropInterpolate5:mh,\u0275\u0275stylePropInterpolate6:Pm,\u0275\u0275stylePropInterpolate7:Dp,\u0275\u0275stylePropInterpolate8:yh,\u0275\u0275stylePropInterpolateV:D_,\u0275\u0275classProp:d_,\u0275\u0275advance:pE,\u0275\u0275template:Fi,\u0275\u0275text:Rm,\u0275\u0275textInterpolate:Nm,\u0275\u0275textInterpolate1:yp,\u0275\u0275textInterpolate2:vp,\u0275\u0275textInterpolate3:f_,\u0275\u0275textInterpolate4:p_,\u0275\u0275textInterpolate5:g_,\u0275\u0275textInterpolate6:hh,\u0275\u0275textInterpolate7:Tc,\u0275\u0275textInterpolate8:fh,\u0275\u0275textInterpolateV:_p,\u0275\u0275i18n:N_,\u0275\u0275i18nAttributes:xp,\u0275\u0275i18nExp:Oc,\u0275\u0275i18nStart:Nc,\u0275\u0275i18nEnd:Bm,\u0275\u0275i18nApply:O_,\u0275\u0275i18nPostprocess:P_,\u0275\u0275resolveWindow:nc,\u0275\u0275resolveDocument:rc,\u0275\u0275resolveBody:y,\u0275\u0275setComponentScope:W,\u0275\u0275setNgModuleScope:qe,\u0275\u0275sanitizeHtml:Sd,\u0275\u0275sanitizeStyle:If,\u0275\u0275sanitizeResourceUrl:bg,\u0275\u0275sanitizeScript:Tg,\u0275\u0275sanitizeUrl:Md,\u0275\u0275sanitizeUrlOrResourceUrl:jy,\u0275\u0275trustConstantHtml:xd,\u0275\u0275trustConstantResourceUrl:Uy,forwardRef:H,resolveForwardRef:J}))();let ka=null;function _i(){ka=null}const $c=[];let Hc=!1;function qo(){if(!Hc){Hc=!0;try{for(let i=$c.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=$c[i];a.declarations&&a.declarations.every(Qm)&&($c.splice(i,1),jC(s,a))}}finally{Hc=!1}}}function Qm(i){return Array.isArray(i)?i.every(Qm):!!J(i)}function J_(i,s={}){Lh(i,s),function Sw(i,s){$c.push({moduleType:i,ngModule:s})}(i,s)}function Lh(i,s,a=!1){const u=ri(s.declarations||vt);let c=null;Object.defineProperty(i,Oe,{configurable:!0,get:()=>(null===c&&(c=Qn().compileNgModule(ys,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:ri(s.bootstrap||vt).map(J),declarations:u.map(J),imports:ri(s.imports||vt).map(J).map(n0),exports:ri(s.exports||vt).map(J).map(n0),schemas:s.schemas?ri(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let f=null;Object.defineProperty(i,it,{get:()=>{if(null===f){const E=Qn();f=E.compileFactory(ys,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:zu(i),target:E.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let v=null;Object.defineProperty(i,hr,{get:()=>{if(null===v){const E={name:i.name,type:i,providers:s.providers||vt,imports:[(s.imports||vt).map(J),(s.exports||vt).map(J)]};v=Qn().compileInjector(ys,`ng:///${i.name}/\u0275inj.js`,E)}return v},configurable:!1})}let Jm=new WeakMap,t0=new WeakMap;function Hp(){Jm=new WeakMap,t0=new WeakMap,$c.length=0}function jC(i,s){const a=ri(s.declarations||vt),u=Vh(i);a.forEach(c=>{c.hasOwnProperty(Tr)?ey(Zt(c),u):!c.hasOwnProperty(Ut)&&!c.hasOwnProperty(nt)&&(c.ngSelectorScope=i)})}function ey(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(Tr)?Zt(a):Mn(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>Pt(a)),i.schemas=s.schemas,i.tView=null}function Vh(i){if(!ty(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=pn(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return p(s.imports).forEach(u=>{const c=u;if(!ty(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const f=Vh(c);f.exported.directives.forEach(v=>a.compilation.directives.add(v)),f.exported.pipes.forEach(v=>a.compilation.pipes.add(v))}),p(s.declarations).forEach(u=>{Pt(u)?a.compilation.pipes.add(u):a.compilation.directives.add(u)}),p(s.exports).forEach(u=>{const c=u;if(ty(c)){const f=Vh(c);f.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),f.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Pt(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}function n0(i){return function BC(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function ty(i){return!!pn(i)}let r0=0;function Mw(i,s){let a=null;(function Ny(i,s){ql(s)&&(wa.set(i,s),Gl.add(i))})(i,s),Rw(i,s),Object.defineProperty(i,Tr,{get:()=>{if(null===a){const u=Qn();if(ql(s)){const M=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&M.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const c=function UC(){return ka}();let f=s.preserveWhitespaces;void 0===f&&(f=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let v=s.encapsulation;void 0===v&&(v=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:zt.Emulated);const E=s.templateUrl||`ng:///${i.name}/template.html`,D=Object.assign(Object.assign({},s0(i,s)),{typeSourceSpan:u.createParseSourceSpan("Component",i.name,E),template:s.template||"",preserveWhitespaces:f,styles:s.styles||vt,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:v,interpolation:s.interpolation,viewProviders:s.viewProviders||null});r0++;try{D.usesInheritance&&ui(i),a=u.compileComponent(ys,E,D)}finally{r0--}if(0===r0&&qo(),function Uh(i){return void 0!==i.ngSelectorScope}(i)){const M=Vh(i.ngSelectorScope);ey(a,M)}}return a},configurable:!1})}function _l(i,s){let a=null;Rw(i,s||{}),Object.defineProperty(i,Ut,{get:()=>{if(null===a){const u=xw(i,s||{});a=Qn().compileDirective(ys,u.sourceMapUrl,u.metadata)}return a},configurable:!1})}function xw(i,s){const a=i&&i.name,u=`ng:///${a}/\u0275dir.js`,c=Qn(),f=s0(i,s);return f.typeSourceSpan=c.createParseSourceSpan("Directive",a,u),f.usesInheritance&&ui(i),{metadata:f,sourceMapUrl:u}}function Rw(i,s){let a=null;Object.defineProperty(i,it,{get:()=>{if(null===a){const u=xw(i,s),c=Qn();a=c.compileFactory(ys,`ng:///${i.name}/\u0275fac.js`,{name:u.metadata.name,type:u.metadata.type,typeArgumentCount:0,deps:zu(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function $C(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function s0(i,s){const a=md(),u=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||br,propMetadata:u,inputs:s.inputs||vt,outputs:s.outputs||vt,queries:wo(i,u,Gp),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!$C(i),exportAs:Ow(s.exportAs),providers:s.providers||null,viewQueries:wo(i,u,o0)}}function ui(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!Mn(a)&&!Zt(a)&&qC(a)&&_l(a,null),a=Object.getPrototypeOf(a)}function HC(i){return"string"==typeof i?kw(i):J(i)}function Nw(i,s){return{propertyName:i,predicate:HC(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function wo(i,s,a){const u=[];for(const c in s)if(s.hasOwnProperty(c)){const f=s[c];f.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${c}" of "${Ce(i)}" since the query selector wasn't defined.`);if(f.some(Pw))throw new Error("Cannot combine @Input decorators with query decorators");u.push(Nw(c,v))}})}return u}function Ow(i){return void 0===i?null:kw(i)}function Gp(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function o0(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function Pw(i){return"Input"===i.ngMetadataName}function kw(i){return i.split(",").map(s=>s.trim())}const GC=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function qC(i){const s=md();if(GC.some(u=>s.hasLifecycleHook(i,u)))return!0;const a=s.propMetadata(i);for(const u in a){const c=a[u];for(let f=0;f<c.length;f++){const v=c[f],E=v.ngMetadataName;if(Pw(v)||Gp(v)||o0(v)||"Output"===E||"HostBinding"===E||"HostListener"===E)return!0}}return!1}function Fw(i,s){let a=null,u=null;Object.defineProperty(i,it,{get:()=>{if(null===u){const c=Lw(i,s),f=Qn();u=f.compileFactory(ys,`ng:///${c.name}/\u0275fac.js`,{name:c.name,type:c.type,typeArgumentCount:0,deps:zu(i),target:f.FactoryTarget.Pipe})}return u},configurable:!1}),Object.defineProperty(i,nt,{get:()=>{if(null===a){const c=Lw(i,s);a=Qn().compilePipe(ys,`ng:///${c.name}/\u0275pipe.js`,c)}return a},configurable:!1})}function Lw(i,s){return{type:i,name:i.name,pipeName:s.name,pure:void 0===s.pure||s.pure}}const Vw=va("Directive",(i={})=>i,void 0,void 0,(i,s)=>_l(i,s)),WC=va("Component",(i={})=>Object.assign({changeDetection:qn.Default},i),Vw,void 0,(i,s)=>Mw(i,s)),zC=va("Pipe",i=>Object.assign({pure:!0},i),void 0,void 0,(i,s)=>Fw(i,s)),KC=Ur("Input",i=>({bindingPropertyName:i})),ZC=Ur("Output",i=>({bindingPropertyName:i})),QC=Ur("HostBinding",i=>({hostPropertyName:i})),YC=Ur("HostListener",(i,s)=>({eventName:i,args:s})),JC=va("NgModule",i=>i,void 0,void 0,(i,s)=>J_(i,s));function ny(...i){}const Uw=new Bn("Application Initializer");let ry=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ny,this.reject=ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Vi(f))a.push(f);else if(rh(f)){const v=new Promise((E,D)=>{f.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ht(Uw,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jw=new Bn("AppId",{providedIn:"root",factory:a0});function a0(){return`${we()}${we()}${we()}`}const Bw={provide:jw,useFactory:a0,deps:[]};function we(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qp=new Bn("Platform Initializer"),Do=new Bn("Platform ID"),$w=new Bn("appBootstrapListener"),Wp=new Bn("Application Packages Root URL");let El=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const vu=new Bn("LocaleId",{providedIn:"root",factory:()=>re(vu,yt.Optional|yt.SkipSelf)||function eb(){return"undefined"!=typeof $localize&&$localize.locale||Ui}()}),Hw=new Bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),u0=new Bn("Translations"),Gw=new Bn("TranslationsFormat");var On=(()=>((On=On||{})[On.Error=0]="Error",On[On.Warning=1]="Warning",On[On.Ignore=2]="Ignore",On))();class iy{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let l0=(()=>{class i{compileModuleSync(a){return new Op(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=p(pn(a).declarations).reduce((v,E)=>{const D=Zt(E);return D&&v.push(new kc(D)),v},[]);return new iy(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sy=new Bn("compilerOptions");class Il{}const qw=(()=>Promise.resolve(0))();function c0(i){"undefined"==typeof Zone?qw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ks{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ji(!1),this.onMicrotaskEmpty=new Ji(!1),this.onStable=new Ji(!1),this.onError=new Ji(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Ww(){let i=Kt.requestAnimationFrame,s=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function zp(i){const s=()=>{!function jh(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,oy(i),i.isCheckStableRunning=!0,_u(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),oy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,f,v,E)=>{try{return ay(i),a.invokeTask(c,f,v,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),uy(i)}},onInvoke:(a,u,c,f,v,E,D)=>{try{return ay(i),a.invoke(c,f,v,E,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),uy(i)}},onHasTask:(a,u,c,f)=>{a.hasTask(c,f),u===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,oy(i),_u(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+c,s,Gc,ny,ny);try{return f.runTask(v,a,u)}finally{f.cancelTask(v)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Gc={};function _u(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function oy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ay(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uy(i){i._nesting--,_u(i)}class d0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ji,this.onMicrotaskEmpty=new Ji,this.onStable=new Ji,this.onError=new Ji}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let zw=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),c0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())c0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ht(ks))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),ly=(()=>{class i{constructor(){this._applications=new Map,qc.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return qc.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class Kw{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function h0(i){qc=i}let Xi,qc=new Kw;function Zw(i,s,a){const u=new Op(a);return Promise.resolve(u)}function Qw(i){return i.isBoundToModule}const f0=new Bn("AllowMultipleToken");class nb{constructor(s,a){this.name=s,this.token=a}}function Kp(i){if(Xi&&!Xi.destroyed&&!Xi.injector.get(f0,!1))throw new Ie(400,"");Xi=i.get(g0);const s=i.get(qp,null);return s&&s.forEach(a=>a()),Xi}function Eu(i,s,a=[]){const u=`Platform: ${s}`,c=new Bn(u);return(f=[])=>{let v=p0();if(!v||v.injector.get(f0,!1))if(i)i(a.concat(f).concat({provide:c,useValue:!0}));else{const E=a.concat(f).concat({provide:c,useValue:!0},{provide:Tv,useValue:"platform"});Kp(mo.create({providers:E,name:u}))}return wl()}}function wl(i){const s=p0();if(!s)throw new Ie(401,"");return s}function Yw(){Xi&&!Xi.destroyed&&Xi.destroy()}function p0(){return Xi&&!Xi.destroyed?Xi:null}let g0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const E=function m0(i,s){let a;return a="noop"===i?new d0:("zone.js"===i?void 0:i)||new ks({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:ks,useValue:E}];return E.run(()=>{const M=mo.create({providers:D,parent:this.injector,name:a.moduleType.name}),R=a.create(M),j=R.injector.get(Hr,null);if(!j)throw new Ie(402,"");return E.runOutsideAngular(()=>{const q=E.onError.subscribe({next:te=>{j.handleError(te)}});R.onDestroy(()=>{Wc(this._modules,R),q.unsubscribe()})}),function cy(i,s,a){try{const u=a();return Vi(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(j,E,()=>{const q=R.injector.get(ry);return q.runInitializers(),q.donePromise.then(()=>(PI(R.injector.get(vu,Ui)||Ui),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const c=Jw({},u);return Zw(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const u=a.injector.get(dy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ie(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ht(mo))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Jw(i,s){return Array.isArray(s)?s.reduce(Jw,i):Object.assign(Object.assign({},i),s)}let dy=(()=>{class i{constructor(a,u,c,f,v){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new V.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new V.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),c0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),j.unsubscribe()}});this.isStable=(0,ie.T)(E,D.pipe((0,Y.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Ie(405,"");let c;c=a instanceof Io?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const f=Qw(c)?void 0:this._injector.get(Go),E=c.create(mo.NULL,[],u||c.selector,f),D=E.location.nativeElement,M=E.injector.get(zw,null),R=M&&E.injector.get(ly);return M&&R&&R.registerApplication(D,M),E.onDestroy(()=>{this.detachView(E.hostView),Wc(this.components,E),R&&R.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ie(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Wc(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get($w,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ht(ks),ht(mo),ht(Hr),ht(Hm),ht(ry))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Wc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let y0=!0,vs=!1;function Xw(){return vs=!0,y0}function fy(){if(vs)throw new Error("Cannot enable prod mode after platform setup.");y0=!1}function v0(i){const s=U_(i);if(!s)throw Iu(i);return new Op(s)}function eD(i){const s=U_(i);if(!s)throw Iu(i);return s}function Iu(i){return new Error(`No module with ID ${i} loaded`)}let zc=(()=>{class i{}return i.__NG_ELEMENT_ID__=_0,i})();function _0(i){return function Kc(i,s,a){if(bi(i)&&!a){const u=Bt(i.index,s);return new Mh(u,u)}return 47&i.type?new Mh(s[16],s):null}(Fn(),Pe(),16==(16&i))}class tD extends zc{}class Bh extends tD{}class Dl{constructor(s,a){this.name=s,this.callback=a}}function Zc(i){return i.map(s=>s.nativeElement)}class Qp{constructor(s){this.nativeNode=s}get parent(){const s=this.nativeNode.parentNode;return s?new $h(s):null}get injector(){return qE(this.nativeNode)}get componentInstance(){const s=this.nativeNode;return s&&(Mv(s)||HE(s))}get context(){return Mv(this.nativeNode)||xv(this.nativeNode)}get listeners(){return gc(this.nativeNode).filter(s=>"dom"===s.type)}get references(){return function zE(i){const s=Br(i);return null===s?{}:(void 0===s.localRefs&&(s.localRefs=function eE(i,s){const a=i[1].data[s];if(a&&a.localNames){const u={};let c=a.index+1;for(let f=0;f<a.localNames.length;f+=2)u[a.localNames[f]]=i[c],c++;return u}return null}(s.lView,s.nodeIndex)),s.localRefs||{})}(this.nativeNode)}get providerTokens(){return function Rv(i){const s=Br(i);if(null===s)return[];const u=s.lView[1],c=u.data[s.nodeIndex],f=[],E=c.directiveEnd;for(let D=1048575&c.providerIndexes;D<E;D++){let M=u.data[D];Ov(M)&&(M=M.type),f.push(M)}return f}(this.nativeNode)}}class $h extends Qp{constructor(s){super(s)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const s=Br(this.nativeNode);return null!==s?s.lView[1].data[s.nodeIndex].value:this.nativeNode.nodeName}get properties(){const s=Br(this.nativeNode);if(null===s)return{};const a=s.lView,u=a[1].data,c=u[s.nodeIndex],f={};return function ib(i,s){if(i){let a=Object.getPrototypeOf(i);const u=Node.prototype;for(;null!==a&&a!==u;){const c=Object.getOwnPropertyDescriptors(a);for(let f in c)if(!f.startsWith("__")&&!f.startsWith("on")){const v=i[f];sb(v)&&(s[f]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,f),function ob(i,s,a,u){let c=s.propertyBindings;if(null!==c)for(let f=0;f<c.length;f++){const v=c[f],D=u[v].split("\ufffd"),M=D[0];if(D.length>1){let R=D[1];for(let j=1;j<D.length-1;j++)R+=se(a[v+j-1])+D[j+1];i[M]=R}else i[M]=a[v]}}(f,c,a,u),f}get attributes(){const s={},a=this.nativeElement;if(!a)return s;const u=Br(a);if(null===u)return{};const f=u.lView[1].data[u.nodeIndex].attrs,v=[];if(f){let D=0;for(;D<f.length;){const M=f[D];if("string"!=typeof M)break;s[M]=f[D+1],v.push(M.toLowerCase()),D+=2}}const E=a.attributes;for(let D=0;D<E.length;D++){const M=E[D],R=M.name.toLowerCase();-1===v.indexOf(R)&&(s[R]=M.value)}return s}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const s={},u=this.nativeElement.className;return("string"!=typeof u?u.baseVal.split(" "):u.split(" ")).forEach(f=>s[f]=!0),s}get childNodes(){const s=this.nativeNode.childNodes,a=[];for(let u=0;u<s.length;u++)a.push(Fa(s[u]));return a}get children(){const s=this.nativeElement;if(!s)return[];const a=s.children,u=[];for(let c=0;c<a.length;c++)u.push(Fa(a[c]));return u}query(s){return this.queryAll(s)[0]||null}queryAll(s){const a=[];return nD(this,s,a,!0),a}queryAllNodes(s){const a=[];return nD(this,s,a,!1),a}triggerEventHandler(s,a){const u=this.nativeNode,c=[];this.listeners.forEach(f=>{if(f.name===s){const v=f.callback;v.call(u,a),c.push(v)}}),"function"==typeof u.eventListeners&&u.eventListeners(s).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const v=f("__ngUnwrap__");return-1===c.indexOf(v)&&v.call(u,a)}})}}function sb(i){return"string"==typeof i||"boolean"==typeof i||"number"==typeof i||null===i}function nD(i,s,a,u){const c=Br(i.nativeNode);null!==c?Qc(c.lView[1].data[c.nodeIndex],c.lView,s,a,u,i.nativeNode):E0(i.nativeNode,s,a,u)}function Qc(i,s,a,u,c,f){const v=function ze(i,s){const a=null===i?-1:i.index;return-1!==a?b(s[a]):null}(i,s);if(11&i.type){if(py(v,a,u,c,f),bi(i)){const D=Bt(i.index,s);D&&D[1].firstChild&&Qc(D[1].firstChild,D,a,u,c,f)}else i.child&&Qc(i.child,s,a,u,c,f),v&&E0(v,a,u,c);const E=s[i.index];Or(E)&&Yp(E,a,u,c,f)}else if(4&i.type){const E=s[i.index];py(E[7],a,u,c,f),Yp(E,a,u,c,f)}else if(16&i.type){const E=s[16],M=E[6].projection[i.projection];if(Array.isArray(M))for(let R of M)py(R,a,u,c,f);else if(M){const R=E[3];Qc(R[1].data[M.index],R,a,u,c,f)}}else i.child&&Qc(i.child,s,a,u,c,f);if(f!==v){const E=4&i.flags?i.projectionNext:i.next;E&&Qc(E,s,a,u,c,f)}}function Yp(i,s,a,u,c){for(let f=10;f<i.length;f++){const v=i[f],E=v[1].firstChild;E&&Qc(E,v,s,a,u,c)}}function py(i,s,a,u,c){if(c!==i){const f=Fa(i);if(!f)return;(u&&f instanceof $h&&s(f)&&-1===a.indexOf(f)||!u&&s(f)&&-1===a.indexOf(f))&&a.push(f)}}function E0(i,s,a,u){const c=i.childNodes,f=c.length;for(let v=0;v<f;v++){const E=c[v],D=Fa(E);D&&((u&&D instanceof $h&&s(D)&&-1===a.indexOf(D)||!u&&s(D)&&-1===a.indexOf(D))&&a.push(D),E0(E,s,a,u))}}const wu="__ng_debug__";function Fa(i){return i instanceof Node?(i.hasOwnProperty(wu)||(i[wu]=i.nodeType==Node.ELEMENT_NODE?new $h(i):new Qp(i)),i[wu]):null}function rD(i){return null}class my{constructor(){}supports(s){return sl(s)}create(s){return new Hh(s)}}const I0=(i,s)=>s;class Hh{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||I0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,f=null;for(;a||u;){const v=!u||a&&a.currentIndex<vy(u,c,f)?a:u,E=vy(v,c,f),D=v.currentIndex;if(v===u)c--,u=u._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{f||(f=[]);const M=E-c,R=D-c;if(M!=R){for(let q=0;q<M;q++){const te=q<f.length?f[q]:f[q]=0,Ae=te+q;R<=Ae&&Ae<M&&(f[q]=te+1)}f[v.previousIndex]=R-M}}E!==D&&s(v,E,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!sl(s))throw new Ie(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,v,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],v=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,f,v,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,v,E),u=!0),a=a._next}else c=0,function ms(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[mc()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{v=this._trackByFn(c,E),null!==a&&Object.is(a.trackById,v)?(u&&(a=this._verifyReinsertion(a,E,v,c)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new yy(a,u),f,c),s}_verifyReinsertion(s,a,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new iD),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class yy{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class w0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class iD{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new w0,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vy(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class D0{constructor(){}supports(s){return s instanceof Map||Yf(s)}create(){return new lb}}class lb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Yf(s)))throw new Ie(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,v=c._next;return f&&(f._next=v),v&&(v._prev=f),c._next=null,c._prev=null,c}const u=new sD(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class sD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C0(){return new Jp([new my])}let Jp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||C0()),deps:[[i,new vr,new fs]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new Ie(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:C0}),i})();function b0(){return new T0([new D0])}let T0=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||b0()),deps:[[i,new vr,new fs]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new Ie(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:b0}),i})();const oD=[new D0],Gh=new Jp([new my]),qh=new T0(oD),_y=Eu(null,"core",[{provide:Do,useValue:"unknown"},{provide:g0,deps:[mo]},{provide:ly,deps:[]},{provide:El,deps:[]}]);let uD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ht(dy))},i.\u0275mod=ne({type:i}),i.\u0275inj=en({}),i})();const lD=!0;function cD(i){return Qn().compileDirectiveDeclaration(ys,`ng:///${i.type.name}/\u0275fac.js`,i)}function db(i){var s,a;Wm(i.type,i.decorators,null!==(s=i.ctorParameters)&&void 0!==s?s:null,null!==(a=i.propDecorators)&&void 0!==a?a:null)}function A0(i){return Qn().compileComponentDeclaration(ys,`ng:///${i.type.name}/\u0275cmp.js`,i)}function hb(i){return Qn(function S0(i){switch(i){case Tn.Directive:return"directive";case Tn.Component:return"component";case Tn.Injectable:return"injectable";case Tn.Pipe:return"pipe";case Tn.NgModule:return"NgModule"}}(i.target)).compileFactoryDeclaration(ys,`ng:///${i.type.name}/\u0275fac.js`,i)}function fb(i){return Qn().compileInjectableDeclaration(ys,`ng:///${i.type.name}/\u0275prov.js`,i)}function pb(i){return Qn().compileInjectorDeclaration(ys,`ng:///${i.type.name}/\u0275inj.js`,i)}function M0(i){return Qn().compileNgModuleDeclaration(ys,`ng:///${i.type.name}/\u0275mod.js`,i)}function Ei(i){return Qn().compilePipeDeclaration(ys,`ng:///${i.type.name}/\u0275pipe.js`,i)}},3942:(at,be,F)=>{"use strict";F.d(be,{Z:()=>Ie});var w=F(2090),g=F(4859),V=F(9681),ie=F(1877);class Y{constructor(se,Ce){this._delegate=se,this.firebase=Ce,(0,V._addComponent)(se,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(se,Ce=V._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(se);return!$e.isInitialized()&&"EXPLICIT"===(null===(He=$e.getComponent())||void 0===He?void 0:He.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Ce})}_removeServiceInstance(se,Ce=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(Ce)}_addComponent(se){(0,V._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,V._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ae(){const xe=function ce(xe){const se={},Ce={__esModule:!0,initializeApp:function Se(Qe,me={}){const X=V.initializeApp(Qe,me);if((0,w.r3)(se,X.name))return se[X.name];const de=new xe(X,Ce);return se[X.name]=de,de},app:$e,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Me(Qe){const me=Qe.name,X=me.replace("-compat","");if(V._registerComponent(Qe)&&"PUBLIC"===Qe.type){const de=(De=$e())=>{if("function"!=typeof De[X])throw le.create("invalid-app-argument",{appName:me});return De[X]()};void 0!==Qe.serviceProps&&(0,w.ZB)(de,Qe.serviceProps),Ce[X]=de,xe.prototype[X]=function(...De){return this._getService.bind(this,me).apply(this,Qe.multipleInstances?De:[])}}return"PUBLIC"===Qe.type?Ce[X]:null},removeApp:function He(Qe){delete se[Qe]},useAsService:function et(Qe,me){return"serverAuth"===me?null:me},modularAPIs:V}};function $e(Qe){if(!(0,w.r3)(se,Qe=Qe||V._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Qe});return se[Qe]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Te(){return Object.keys(se).map(Qe=>se[Qe])}}),$e.App=xe,Ce}(Y);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function se(Ce){(0,w.ZB)(xe,Ce)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),xe}(),H=new ie.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=G;!function he(xe){(0,V.registerVersion)("@firebase/app-compat","0.1.21",xe)}()},9681:(at,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Dr,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>li,_apps:()=>Et,_clearComponents:()=>$t,_components:()=>an,_getProvider:()=>wi,_registerComponent:()=>Xt,_removeServiceInstance:()=>en,deleteApp:()=>ns,getApp:()=>hr,getApps:()=>ts,initializeApp:()=>Di,onLog:()=>fr,registerVersion:()=>zr,setLogLevel:()=>Gn});var w=F(5861),g=F(4859),V=F(1877),ie=F(2090);class Y{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function oe(nt){const Oe=nt.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(it)){const _t=it.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(it=>it).join(" ")}}const le="@firebase/app",ae=new V.Yd("@firebase/app"),Sn="[DEFAULT]",ft={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,an=new Map;function ln(nt,Oe){try{nt.container.addComponent(Oe)}catch(it){ae.debug(`Component ${Oe.name} failed to register with FirebaseApp ${nt.name}`,it)}}function li(nt,Oe){nt.container.addOrOverwriteComponent(Oe)}function Xt(nt){const Oe=nt.name;if(an.has(Oe))return ae.debug(`There were multiple attempts to register component ${Oe}.`),!1;an.set(Oe,nt);for(const it of Et.values())ln(it,nt);return!0}function wi(nt,Oe){const it=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),nt.container.getProvider(Oe)}function en(nt,Oe,it=Sn){wi(nt,Oe).clearInstance(it)}function $t(){an.clear()}const Wr=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class es{constructor(Oe,it,_t){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const Dr="9.6.10";function Di(nt,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const it=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},Oe),_t=it.name;if("string"!=typeof _t||!_t)throw Wr.create("bad-app-name",{appName:String(_t)});const qt=Et.get(_t);if(qt){if((0,ie.vZ)(nt,qt.options)&&(0,ie.vZ)(it,qt.config))return qt;throw Wr.create("duplicate-app",{appName:_t})}const jt=new g.H0(_t);for(const $ of an.values())jt.addComponent($);const W=new es(nt,it,jt);return Et.set(_t,W),W}function hr(nt=Sn){const Oe=Et.get(nt);if(!Oe)throw Wr.create("no-app",{appName:nt});return Oe}function ts(){return Array.from(Et.values())}function ns(nt){return yt.apply(this,arguments)}function yt(){return(yt=(0,w.Z)(function*(nt){const Oe=nt.name;Et.has(Oe)&&(Et.delete(Oe),yield Promise.all(nt.container.getProviders().map(it=>it.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function zr(nt,Oe,it){var _t;let qt=null!==(_t=ft[nt])&&void 0!==_t?_t:nt;it&&(qt+=`-${it}`);const jt=qt.match(/\s|\//),W=Oe.match(/\s|\//);if(jt||W){const $=[`Unable to register library "${qt}" with version "${Oe}":`];return jt&&$.push(`library name "${qt}" contains illegal characters (whitespace or "/")`),jt&&W&&$.push("and"),W&&$.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void ae.warn($.join(" "))}Xt(new g.wA(`${qt}-version`,()=>({library:qt,version:Oe}),"VERSION"))}function fr(nt,Oe){if(null!==nt&&"function"!=typeof nt)throw Wr.create("invalid-log-argument");(0,V.Am)(nt,Oe)}function Gn(nt){(0,V.Ub)(nt)}const _n="firebase-heartbeat-store";let qn=null;function En(){return qn||(qn=(0,ie.X3)("firebase-heartbeat-database",1,(nt,Oe)=>{0===Oe&&nt.createObjectStore(_n)}).catch(nt=>{throw Wr.create("storage-open",{originalErrorMessage:nt.message})})),qn}function zt(){return(zt=(0,w.Z)(function*(nt){try{return(yield En()).transaction(_n).objectStore(_n).get(Wn(nt))}catch(Oe){throw Wr.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function dt(nt,Oe){return It.apply(this,arguments)}function It(){return(It=(0,w.Z)(function*(nt,Oe){try{const _t=(yield En()).transaction(_n,"readwrite");return yield _t.objectStore(_n).put(Oe,Wn(nt)),_t.complete}catch(it){throw Wr.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Wn(nt){return`${nt.name}!${nt.options.appId}`}class Ys{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new vt(it),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Oe=this;return(0,w.Z)(function*(){const _t=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qt=Cr();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==qt&&!Oe._heartbeatsCache.heartbeats.some(jt=>jt.date===qt))return Oe._heartbeatsCache.heartbeats.push({date:qt,agent:_t}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(jt=>{const W=new Date(jt.date).valueOf();return Date.now()-W<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,w.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const it=Cr(),{heartbeatsToSend:_t,unsentEntries:qt}=function br(nt,Oe=1024){const it=[];let _t=nt.slice();for(const qt of nt){const jt=it.find(W=>W.agent===qt.agent);if(jt){if(jt.dates.push(qt.date),Tr(it)>Oe){jt.dates.pop();break}}else if(it.push({agent:qt.agent,dates:[qt.date]}),Tr(it)>Oe){it.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:it,unsentEntries:_t}}(Oe._heartbeatsCache.heartbeats),jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:_t}));return Oe._heartbeatsCache.lastSentHeartbeatDate=it,qt.length>0?(Oe._heartbeatsCache.heartbeats=qt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),jt})()}}function Cr(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,w.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Zr(nt){return zt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var it=this;return(0,w.Z)(function*(){var _t;if(yield it._canUseIndexedDBPromise){const jt=yield it.read();return dt(it.app,{lastSentHeartbeatDate:null!==(_t=Oe.lastSentHeartbeatDate)&&void 0!==_t?_t:jt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var it=this;return(0,w.Z)(function*(){var _t;if(yield it._canUseIndexedDBPromise){const jt=yield it.read();return dt(it.app,{lastSentHeartbeatDate:null!==(_t=Oe.lastSentHeartbeatDate)&&void 0!==_t?_t:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Oe.heartbeats]})}})()}}function Tr(nt){return(0,ie.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Ut(nt){Xt(new g.wA("platform-logger",Oe=>new Y(Oe),"PRIVATE")),Xt(new g.wA("heartbeat",Oe=>new Ys(Oe),"PRIVATE")),zr(le,"0.7.20",nt),zr(le,"0.7.20","esm2017"),zr("fire-js","")}("")},4859:(at,be,F)=>{"use strict";F.d(be,{wA:()=>V,H0:()=>ce});var w=F(5861),g=F(2090);class V{constructor(G,H,J){this.name=G,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ie="[DEFAULT]";class Y{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const J=new g.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&J.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const J=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),We=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(he){if(We)return null;throw he}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function le(ae){return"EAGER"===ae.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const he=this.getOrInitializeService({instanceIdentifier:We});J.resolve(he)}catch(he){}}}}clearInstance(G=ie){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,w.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ie){return this.instances.has(G)}getOptions(G=ie){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[he,Ie]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(he)&&Ie.resolve(We);return We}onInit(G,H){var J;const We=this.normalizeInstanceIdentifier(H),he=null!==(J=this.onInitCallbacks.get(We))&&void 0!==J?J:new Set;he.add(G),this.onInitCallbacks.set(We,he);const Ie=this.instances.get(We);return Ie&&G(Ie,We),()=>{he.delete(G)}}invokeOnInitCallbacks(G,H){const J=this.onInitCallbacks.get(H);if(J)for(const We of J)try{We(G,H)}catch(he){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=G,ae===ie?void 0:ae),options:H}),this.instances.set(G,J),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch(We){}var ae;return J||null}normalizeInstanceIdentifier(G=ie){return this.component?this.component.multipleInstances?G:ie:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new Y(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(at,be,F)=>{"use strict";F.d(be,{in:()=>g,Yd:()=>le,Ub:()=>ce,Am:()=>ae});const w=[];var g=(()=>{return(G=g||(g={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",g;var G})();const V={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ie=g.INFO,Y={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},oe=(G,H,...J)=>{if(H<G.logLevel)return;const We=(new Date).toISOString(),he=Y[H];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[he](`[${We}]  ${G.name}:`,...J)};class le{constructor(H){this.name=H,this._logLevel=ie,this._logHandler=oe,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in g))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?V[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...H),this._logHandler(this,g.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...H),this._logHandler(this,g.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,g.INFO,...H),this._logHandler(this,g.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,g.WARN,...H),this._logHandler(this,g.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...H),this._logHandler(this,g.ERROR,...H)}}function ce(G){w.forEach(H=>{H.setLogLevel(G)})}function ae(G,H){for(const J of w){let We=null;H&&H.level&&(We=V[H.level]),J.userLogHandler=null===G?null:(he,Ie,...xe)=>{const se=xe.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(He){return null}}).filter(Ce=>Ce).join(" ");Ie>=(null!=We?We:he.logLevel)&&G({level:g[Ie].toLowerCase(),message:se,args:xe,type:he.name})}}}},5861:(at,be,F)=>{"use strict";function w(V,ie,Y,oe,le,ce,ae){try{var G=V[ce](ae),H=G.value}catch(J){return void Y(J)}G.done?ie(H):Promise.resolve(H).then(oe,le)}function g(V){return function(){var ie=this,Y=arguments;return new Promise(function(oe,le){var ce=V.apply(ie,Y);function ae(H){w(ce,oe,le,ae,G,"next",H)}function G(H){w(ce,oe,le,ae,G,"throw",H)}ae(void 0)})}}F.d(be,{Z:()=>g})}},at=>{at(at.s=4619)}]);